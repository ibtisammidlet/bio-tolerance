(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,31671,87840,14022,64718,11315,40856,64101,13557,83082],{478717:(e,t,n)=>{var r={"./2017-11-16.mp4":684795,"./2019-12-17.mp4":662325,"./channel-following.png":15176,"./discovery.jpg":788557,"./discriminator.mp4":22625,"./g250k-cl.mp4":603628,"./header.mp4":879334,"./hypesquad-hack-week/header.png":133650,"./hypesquad-hack-week/paladins-loot.png":631896,"./ko-new-year.jpg":931806,"./league-rp-cl.mp4":425058,"./polish-week.png":428915,"./special-template/desktop-cta.png":561323,"./special-template/desktop-cta.svg":949223,"./special-template/header-left.svg":412466,"./special-template/header-right.svg":226586,"./special-template/mobile-cta.svg":373135,"./special-template/update-badge.svg":361850,"./stickers-launch/2020_PMM_STICKERS_Mrkt_BlogHdr_2500x1000.png":15808,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Left_180x220.png":227227,
"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Right_180x220.png":999455,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_Changelog_658X220.png":678811,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_FooterCTA_238x220.png":236340,"./stickers-launch/2020_PMM_STICKERS_Mrkt_MobileHero_375x190.png":359546,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Mobile_FooterCTA_343x78.png":35448,"./store.jpg":404252};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}a.keys=function(){return Object.keys(r)};a.resolve=o;e.exports=a;a.id=478717},259477:(e,t,n)=>{"use strict";n(984752);n(303798);n(373265);n(572935);n(390312);n(970483);n(825724);n(124778);n(86298);n(408643);n(179401);n(962935);n(677520);n(735592);n(84402);n(304242);n(173101);n(674406);n(943819);n(336947);n(828339);n(523754);n(816962);n(330321);n(269285);n(790614);n(266079);n(507794);n(930409);n(255186);n(915574);n(800921)
;n(864062);n(523946);n(805799);n(359342);n(86031);n(146411);n(897191);n(258079);n(187360);n(217964);n(82572);n(19566);n(782270);n(612548);n(730451);n(698099);n(864061);n(979674);n(282619);n(421010);n(960441);n(737931);n(887328);n(748762);n(607209);n(423046);n(743237);n(27245);n(881454);n(908463);n(493897);n(778548);n(882832);n(484024);n(644263);n(752996);n(917515);n(513266);n(8549);n(776115);n(909243);n(687549);n(433385);n(956704);n(126208);n(330445);n(23535);n(202904);n(528429);n(250650);n(140868);n(517286);n(311492);n(737483);n(876874);n(680804);n(30098);n(832721);n(178504);n(958698);n(729748);n(226720);n(319111);n(361585);n(635014);n(847819);n(201292);n(144050);n(386716);n(950446);n(689389);n(662183);n(186798);n(788739);n(958281);n(220592);n(893160);n(191391);n(290629);n(205982);n(211136);n(790597);n(690445);n(121441);n(887609);n(397228);n(758602);n(359973);n(859024);n(946447);n(563621);n(257867);n(728429);n(189434);n(387692);n(535711);n(735653);n(905505);n(125150);n(417501)
;n(487372);n(106605);n(432310);n(693399);n(527501);n(81636)},588136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setHomeLink=function(e){a.default.dispatch({type:"APP_VIEW_SET_HOME_LINK",link:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},392654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetch:function(){r.default.get({url:o.Endpoints.OAUTH2_TOKENS,oldFormErrors:!0}).then((function(e){return a.default.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:e.body})}),(function(){return a.default.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:[]})}))},delete:function(e){var t=this;r.default.delete({url:o.Endpoints.OAUTH2_TOKEN(e),oldFormErrors:!0}).then((function(){t.fetch()}))}};t.default=u},360307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.setCertifiedDevices=function(e,t){a.default.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},241165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};var o={lockChangeLog:function(e){a.default.dispatch({type:"CHANGE_LOG_LOCK",key:e})},unlockChangeLog:function(e){a.default.dispatch({type:"CHANGE_LOG_UNLOCK",key:e})},showChangeLog:function(e){a.default.dispatch({type:"CHANGE_LOG_OPEN",query:e})},hideChangeLog:function(){a.default.dispatch({type:"CHANGE_LOG_CLOSE"})}};t.default=o},55701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hideEnablePublicGuildUpsellNotice=function(e){a.default.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e})};t.hideMaxMemberCountChannelNotice=function(e){a.default.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e})}
;t.hidePremiumGuildGracePeriodNotice=function(e){a.default.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},319076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dismiss=function(e){a.default.dispatch({type:"DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS",skuId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},988754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uninstallBranchPrompt=function(e,t,u){!function(e,t){var i=a.default.getGame(e);if(null==i){new r.default("DispatchUninstallActionCreators").log("Application not found for game "+e);return}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(78530).then(n.bind(n,478530));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return a(l({game:i,onConfirmUninstall:t},e))}))
;case 5:case"end":return e.stop()}}),e)}))))}(e,(function(){return(0,i.uninstallApplication)(e,t,u)}))};var r=u(n(791548)),a=u(n(288356)),o=n(194322),i=n(27555);function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},785460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortList=function(e,t){a.default.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})};t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({
type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})};t.updateLibraryFilter=function(e){a.default.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},229474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildAffinities=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.fetchGuildAffinities=function(){return r.default.get({url:o.Endpoints.GUILD_AFFINITIES,oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;a.default.dispatch({type:"LOAD_GUILD_AFFINITIES_SUCCESS",guildAffinities:t})}),(function(){a.default.dispatch({type:"LOAD_GUILD_AFFINITIES_FAILURE"})}))}},951864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(118915)),o=l(n(636602)),i=n(327269),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.HypeSquadHouses.HOUSE_1]=1,
r[u.HypeSquadHouses.HOUSE_2]=2,r[u.HypeSquadHouses.HOUSE_3]=3,r),d={joinHypeSquadOnline:function(e){return a.default.post({url:u.Endpoints.HYPESQUAD_ONLINE,body:{house_id:s[e.houseID]},oldFormErrors:!0}).then((function(){return o.default.dispatch({type:"HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS",houseID:e.houseID})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))},leaveHypeSquadOnline:function(){return a.default.delete({url:u.Endpoints.HYPESQUAD_ONLINE,oldFormErrors:!0}).then((function(){return o.default.dispatch({type:"HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS"})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))}};t.default=d},72690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};var o={move:function(e,t){a.default.dispatch({type:"INCOMING_CALL_MOVE",x:e,y:t})}};t.default=o},668471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.addInstallLocation=function(e){a.default.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.default.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})}))};t.fetchMetadata=function(e){for(var t,n={},o=0,u=function(){var i=t.value;if(null==i||"string"!=typeof i)return"continue";a.default.queryDirectory(i,(function(t,a){++o;null==t&&null!=a&&(n[i]=a);o===e.length&&r.default.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:n})}))},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){
return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=l()).done;)u()};t.removeInstallLocation=function(e){r.default.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})};t.updateInstallLocation=function(e,t){var n=t.label,a=t.isDefault;r.default.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:a})};var r=o(n(636602)),a=o(n(643868));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},511066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};var o={addKeybind:function(e){a.default.dispatch({type:"KEYBINDS_ADD_KEYBIND",keybind:e})},setKeybind:function(e){a.default.dispatch({type:"KEYBINDS_SET_KEYBIND",keybind:e})
},deleteKeybind:function(e){a.default.dispatch({type:"KEYBINDS_DELETE_KEYBIND",id:e})},enableAll:function(e){a.default.dispatch({type:"KEYBINDS_ENABLE_ALL_KEYBINDS",enable:e})}};t.default=o},671694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createTestModeLibraryApplications=function(e){return c.apply(this,arguments)};t.fetchLibrary=function(){return f.apply(this,arguments)};t.setActiveLaunchOptionId=function(e,t,n){a.default.dispatch({type:"LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE",applicationId:e,branchId:t,launchOptionId:n})};var r=l(n(118915)),a=l(n(636602)),o=l(n(329297)),i=n(204785),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}
i(void 0)}))}}function f(){return(f=d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,i.httpGetWithCountryCodeQuery)({url:u.Endpoints.LIBRARY,oldFormErrors:!0},!1);case 3:t=e.sent;a.default.dispatch({type:"LIBRARY_FETCH_SUCCESS",libraryApplications:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);a.default.dispatch({type:"LIBRARY_FETCH_FAIL",error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function c(){return(c=d(regeneratorRuntime.mark((function e(t){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.primarySkuId)){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return r.default.get({url:u.Endpoints.APPLICATION_BRANCH_LIST(t.id),oldFormErrors:!0}).then((function(e){return e.body}));case 5:i=e.sent;l=i.map((function(e){return o.default.createForTestMode({id:t.id,skuId:n,
branch:e})}));a.default.dispatch({type:"LIBRARY_APPLICATIONS_TEST_MODE_ENABLED",libraryApplications:l});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},297279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActivityStatistics=function(){return f.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(194198)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}var d=216e5;function f(){return(f=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<d)){e.next=3;break}return e.abrupt("return")
;case 3:e.prev=3;e.next=6;return r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS,oldFormErrors:!0});case 6:n=e.sent;a.default.dispatch({type:"USER_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:n.body});e.next=13;break;case 10:e.prev=10;e.t0=e.catch(3);return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}},24794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.connect=l;t.createLobby=function(e,t,n){return r.default.post({url:o.Endpoints.LOBBIES,body:u({application_id:t},n),retries:1,oldFormErrors:!0}).then((function(t){var n=t.body;return l(e,n.id,n.secret)}))};t.deleteLobby=function(e){return r.default.delete({url:o.Endpoints.LOBBY(e),body:{},retries:1,oldFormErrors:!0}).then(o.NOOP)};t.disconnect=function(e){a.default.dispatch({type:"LOBBY_DISCONNECT",lobbyId:e})};t.search=function(e){return r.default.post({url:o.Endpoints.LOBBY_SEARCH,body:e,oldFormErrors:!0}).then((function(e){return e.body
}))};t.send=function(e,t){return r.default.post({url:o.Endpoints.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(o.NOOP)};t.updateLobby=function(e,t){return r.default.patch({url:o.Endpoints.LOBBY(e),body:u({},t),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.updateLobbyMember=function(e,t,n){return r.default.patch({url:o.Endpoints.LOBBY_MEMBER(e,t),body:u({},n),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.voiceConnect=function(e){a.default.dispatch({type:"LOBBY_VOICE_CONNECT",lobbyId:e})};t.voiceDisconnect=function(e){a.default.dispatch({type:"LOBBY_VOICE_DISCONNECT",lobbyId:e})};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function l(e,t,n){return new Promise((function(r,o){a.default.dispatch({type:"LOBBY_CONNECT",socketId:e,
lobbyId:t,lobbySecret:n,resolve:r,reject:o})}))}},720409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=function(e){a.default.dispatch({type:"PICTURE_IN_PICTURE_CLOSE",id:e})};t.hide=function(e){a.default.dispatch({type:"PICTURE_IN_PICTURE_HIDE",id:e})};t.moveTo=function(e,t){a.default.dispatch({type:"PICTURE_IN_PICTURE_MOVE",id:e,position:t})};t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:"PICTURE_IN_PICTURE_OPEN",id:e,component:t,props:n})};t.show=function(e){a.default.dispatch({type:"PICTURE_IN_PICTURE_SHOW",id:e})};t.switchPIPFocus=function(e){a.default.dispatch({type:"PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW",id:e})};t.updateRect=function(e,t){a.default.dispatch({type:"PICTURE_IN_PICTURE_UPDATE_RECT",id:e,rect:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},597362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};var o={
clearRemoteDisconnectVoiceChannelId:function(){a.default.dispatch({type:"CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID"})}};t.default=o},221185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1,oldFormErrors:!0}).then((function(t){return a.default.dispatch({type:"LOAD_REGIONS",regions:t.body,guildId:e})}),(function(){return a.default.dispatch({type:"LOAD_REGIONS",regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t},oldFormErrors:!0})}};t.default=u},105988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t,n=o(Object.keys(e));!(t=n()).done;){var r=t.value;a.default.dispatch({type:"STREAMER_MODE_UPDATE",key:r,value:e[r]})}}};t.default=u},446637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.authorizeAndSetTestModeApplication=function(e,t){return _.apply(this,arguments)};t.reset=function(){r.default.dispatch({type:"DEVELOPER_TEST_MODE_RESET"})};t.resetError=function(){r.default.dispatch({type:"DEVELOPER_TEST_MODE_RESET_ERROR"})};var r=v(n(636602)),a=v(n(331119)),o=v(n(288356)),i=n(685677),u=v(n(608417)),l=v(n(234161)),s=p(n(671694)),d=p(n(723420)),f=n(770348);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e){
return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(){return(_=m(regeneratorRuntime.mark((function e(t,n){var c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.default.dispatch({applicationId:t,type:"DEVELOPER_TEST_MODE_AUTHORIZATION_START"});e.prev=1;e.next=4;return d.fetchSKUsForApplication(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:if(null!=(c=o.default.getGame(t))){e.next=14;break}e.t0=a.default;e.next=12;return l.default.fetchApplication(t);case 12:e.t1=e.sent;c=e.t0.createFromServer.call(e.t0,e.t1);case 14:if(!(p=(0,
i.hasFlag)(c.flags,f.ApplicationFlags.EMBEDDED))||null!=n&&u.default.URL_REGEX.test(n)){e.next=17;break}throw new Error("Invalid Origin URL for embedded application");case 17:p||s.createTestModeLibraryApplications(c);r.default.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS",applicationId:t,originURL:p?n:null});return e.abrupt("return",c);case 22:e.prev=22;e.t2=e.catch(1);r.default.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL",applicationId:t,error:e.t2.message});return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}},94047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(423046)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={setUserAchievement:function(e,t,n){var i=a.default.getId();return r.default.put({url:o.Endpoints.USER_ACHIEVEMENTS_FOR_USER(i,e,t),body:{percent_complete:n},oldFormErrors:!0})},
fetchForApplication:function(e){return r.default.get({url:o.Endpoints.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}};t.default=u},314022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchUserAffinities=function(e){void 0===e&&(e=!0);if(o.default.needsRefresh()){a.default.dispatch({type:"LOAD_USER_AFFINITIES"});return r.default.get({url:i.Endpoints.USER_AFFINITIES,retries:e?3:0,oldFormErrors:!0}).then((function(e){var t=e.body;a.default.dispatch({type:"LOAD_USER_AFFINITIES_SUCCESS",affinities:t})}),(function(){a.default.dispatch({type:"LOAD_USER_AFFINITIES_FAILURE"})}))}return Promise.resolve()};var r=u(n(118915)),a=u(n(636602)),o=u(n(538983)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},825185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.accountDetailsClose=function(){o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_CLOSE"})};t.accountDetailsInit=function(){
o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_INIT"})};t.clearErrors=function(){o.default.dispatch({type:"USER_SETTINGS_CLEAR_ERRORS"})};t.disableAccount=function(e,t){var n=t?c.default.Messages.DELETE_ACCOUNT:c.default.Messages.DISABLE_ACCOUNT,a=t?f.Endpoints.DELETE_ACCOUNT:f.Endpoints.DISABLE_ACCOUNT;return(0,s.default)((function(t){return r.default.post({url:a,body:m({password:e},t),oldFormErrors:!0})}),{modalProps:{title:n},checkEnabled:!1}).then((function(){o.default.dispatch({type:"LOGOUT"});(0,i.transitionTo)(f.Routes.DEFAULT_LOGGED_OUT)}))};t.getHarvestStatus=function(){return r.default.get({url:f.Endpoints.USER_HARVEST,oldFormErrors:!0})};t.requestHarvest=function(){return r.default.post({url:f.Endpoints.USER_HARVEST,oldFormErrors:!0})};t.resetAllPending=function(){o.default.dispatch({type:"USER_SETTINGS_RESET_ALL_PENDING"})};t.resetAndCloseUserProfileForm=function(){o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_RESET_AND_CLOSE_FORM"})}
;t.resetPendingAccountChanges=function(){o.default.dispatch({type:"USER_SETTINGS_RESET_PENDING_ACCOUNT_CHANGES"})};t.saveAccountChanges=function(e){var t=e.username,n=e.discriminator,r=e.email,i=e.emailToken,p=e.password,v=e.avatar,y=e.avatarDecoration,h=e.newPassword;o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT"});return(0,s.default)((function(e){var o=m({username:t,email:r,email_token:i,password:p,avatar:v,avatar_decoration:y,discriminator:n,new_password:h},e),u=a.default.get(f.DEVICE_TOKEN),l=(0,d.getDevicePushProvider)();if(null!=l&&null!=u){o.push_provider=l;o.push_token=u}var s=a.default.get(f.DEVICE_VOIP_TOKEN);if(null!=f.DEVICE_PUSH_VOIP_PROVIDER&&null!=s){o.push_voip_provider=f.DEVICE_PUSH_VOIP_PROVIDER;o.push_voip_token=s}return _(o)}),{checkEnabled:!1,modalProps:{title:c.default.Messages.TWO_FA_CHANGE_ACCOUNT},hooks:{onEarlyClose:function(){return o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:{}})}}}).then((function(e){var t=e.body
;u.default.track(f.AnalyticEvents.USER_AVATAR_UPDATED,{animated:(0,l.isAnimatedIconHash)(t.avatar)});o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS"});return e}),(function(e){o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:e.body});return e}))};t.saveAccountRequest=_;t.setDisableSubmit=function(e){o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT",disable:e})};t.setPendingAvatar=function(e){o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR",avatar:e})};t.setPendingAvatarDecoration=function(e){o.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION",avatarDecoration:e})};var r=p(n(118915)),a=p(n(972247)),o=p(n(636602)),i=n(139982),u=p(n(308920)),l=n(692711),s=p(n(40856)),d=n(864489),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e){return h.apply(this,arguments)}function h(){return(h=y(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.patch({url:f.Endpoints.ME,body:t,oldFormErrors:!0});case 2:n=e.sent;if((a=n.body).token){i=a.token;delete a.token;o.default.dispatch({type:"UPDATE_TOKEN",token:i,userId:a.id});null!=(null==t?void 0:t.password)&&null!=(null==t?void 0:t.new_password)&&o.default.dispatch({type:"PASSWORD_UPDATED",userId:a.id})}o.default.dispatch({type:"CURRENT_USER_UPDATE",user:a})
;return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},306902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.markView=function(e){a.default.dispatch({type:"VIEW_HISTORY_MARK_VIEW",key:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},184608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=g(n(294184)),i=g(n(441143)),u=g(n(237923)),l=g(n(314234)),s=g(n(956117)),d=g(n(279950)),f=n(354479),c=n(688388),p=n(626863),v=n(770348),y=n(697984),m=g(n(247001)),_=g(n(241618)),h=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return I.apply(this,arguments)}var T={canSend:!1,hint:null,success:null,error:null},C=(0,f.uid)(),A=C+"-decription",M=C+"-error";function N(e,t){switch(t.type){case"RESET":return T;case"SUCCESS":return I({},T,{success:t.text});case"HINT":return I({},T,{canSend:!0,hint:t.text});case"ERROR":return I({},e,{canSend:!0,error:t.text})}}function P(){var e,t=a.createRef(),n=a.createRef(),r=O(a.useReducer(N,T),2),f=r[0],g=r[1],E=f.canSend,b=f.hint,I=f.success,P=f.error;a.useEffect((function(){if(null!=I){(0,i.default)(null!=t.current,"Input is submitting when not mounted");t.current.value="";t.current.focus()}}),[I,t]);return S("form",{onSubmit:function(e){e.preventDefault();(0,i.default)(null!=t.current,"Input is submitted when not mounted");var n=t.current.value.trim(),r=(0,p.validateDiscordTag)(n);null==r?u.default.sendRequest(n,{location:"Add Friend"}).then((function(){return g({type:"SUCCESS",text:m.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return g({
type:"ERROR",text:(0,p.humanizeAbortCode)(e.body.code,n)})})):g({type:"ERROR",text:r})},autoComplete:"off"},void 0,S(c.FormText,{id:A,type:c.FormText.Types.DESCRIPTION},void 0,m.default.Messages.ADD_FRIEND_DESCRIPTION),S(l.default,{focusTarget:t,ringTarget:n,ringClassName:_.default.ring},void 0,a.createElement("div",{ref:n,className:(0,o.default)(_.default.addFriendInputWrapper,(e={},e[_.default.success]=I,e[_.default.error]=P,e))},S(d.default,{id:C,inputRef:t,className:_.default.addFriendInput,inputClassName:_.default.input,onKeyPress:function(e){var n=e.currentTarget.value;if(e.key!==y.KeyboardEventKey.Enter&&n.includes("#")){(0,i.default)(null!=t.current,"Input is handling keypress when not mounted");var r=n.indexOf("#"),a=t.current.selectionStart,o=e.key===y.KeyboardEventKey.Backspace||e.key===y.KeyboardEventKey.ArrowRight||e.key===y.KeyboardEventKey.ArrowLeft,u=e.which>=48&&e.which<=57;(null!=a&&a>r&&/^(.+?#\d{4})$/.test(n)&&!o||null!=a&&a>r&&!u&&!o)&&e.preventDefault()}},
onChange:function(e){if(e.length<=0)g({type:"RESET"});else{var t=O(e.split("#"),2)[1];g({type:"HINT",text:e+v.PLACEHOLDER_TAG.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:m.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":m.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":null!=P||void 0,"aria-describedby":null!=P?M:A}),null!=b&&S("div",{className:_.default.addFriendHint,"aria-hidden":!0},void 0,b),S(s.default,{size:s.default.Sizes.SMALL,disabled:!E,type:"submit"},void 0,m.default.Messages.ADD_FRIEND_BUTTON))),null!=P&&S(c.FormText,{role:"alert",id:M,type:c.FormText.Types.ERROR,className:h.default.marginTop8},void 0,P),null!=I&&S(c.FormText,{role:"status",type:c.FormText.Types.SUCCESS,className:h.default.marginTop8},void 0,I))}P.displayName="AddFriendInput"},593878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(479049)),o=v(n(131795)),i=v(n(536211)),u=v(n(680804)),l=v(n(919935)),s=v(n(290629)),d=v(n(931411)),f=n(864489),c=v(n(922629)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=new Set(["Blink","Gecko","WebKit"]),h=p.NOOP;if(f.isPlatformEmbedded)h=function(e){return c.default.setBadge(e)
};else if(_.has(o.default.layout)){var g=new a.default({animation:"none"});h=function(e){try{g.badge(-1===e?"•":e)}catch(e){}}}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null;return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidUpdate()};n.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;h(t);if(n&&null==this.cancelBounce)this.cancelBounce=c.default.bounceDock("critical");else if(!n&&null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.componentWillUnmount=function(){h(0);if(null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.render=function(){return null};return t}(r.PureComponent);E.displayName="AppBadge";var S=function(){return null}
;h!==p.NOOP&&(S=i.default.connectStores([u.default,d.default,s.default,l.default],(function(){var e=u.default.getTotalMentionCount(),t=s.default.getPendingCount(),n=u.default.hasAnyUnread(),r=l.default.getDisableUnreadBadge(),a=e+t;0===a&&n&&!r&&(a=-1);return{badge:a,hasIncomingCalls:d.default.hasIncomingCalls()}}))(E));var O=S;t.default=O},969940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=_(n(213192)),o=_(n(536211)),i=_(n(740207)),u=_(n(226800)),l=_(n(680804)),s=_(n(635014)),d=_(n(919935)),f=_(n(893160)),c=_(n(290629)),p=_(n(397228)),v=n(864489),y=_(n(922629)),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),S=(0,v.isOSX)()?null:E.DEFAULT,O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).getIcon=function(){var e=t.props,n=e.deafened,r=e.muted,a=e.speaking,o=e.connected,i=e.unread,u=S;if((0,v.isOSX)()&&!o)return u;if((0,v.isLinux)()||!o){
i&&(u=E.UNREAD);return u}return u=n?E.DEAFENED:r?E.MUTED:a?E.SPEAKING:E.CONNECTED};return t}var n=t.prototype;n.componentDidMount=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentDidUpdate=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentWillUnmount=function(){y.default.setSystemTrayIcon(S)};n.render=function(){return null};return t}(r.PureComponent);O.displayName="AppTray";var b=function(){return null};if(v.isPlatformEmbedded){y.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return i.default.toggleSelfMute()}));y.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return i.default.toggleSelfDeaf()}));y.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){u.default.open(m.UserSettingsSections.VOICE)}));b=o.default.connectStores([f.default,s.default,p.default,l.default,c.default,d.default],(function(){var e=l.default.getTotalMentionCount(),t=l.default.hasAnyUnread(),n=c.default.getPendingCount(),r=!d.default.getDisableUnreadBadge()&&!!(t||e+n>0)
;return{connected:f.default.isConnected(),speaking:p.default.isCurrentUserSpeaking(),muted:s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:r}}))(O)}var I=b;t.default=I},421651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e,t=(0,d.useStateFromStores)([U.default],(function(){return U.default.hasNotice()})),n=(0,d.useStateFromStores)([p.default],(function(){return p.default.darkSidebar?ne.ThemeTypes.DARK:void 0})),r=function(){var e=le(a.useState((function(){return window.location.pathname.startsWith(ne.Routes.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1];a.useEffect((function(){return L.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(ne.Routes.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),o=function(){var e=le(a.useState((function(){return window.location.pathname.startsWith(ne.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),2),t=e[0],n=e[1]
;a.useEffect((function(){return L.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(ne.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),y=function(){var e,t=(0,u.useLocation)();return!0===(null===(e=(0,i.matchPath)(t.pathname,ne.Routes.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),h=(0,f.isMessageRequestsEnabled)(),g=(0,d.useStateFromStores)([M.default],(function(){return M.default.getIsOpen()})),E=(0,u.useRouteMatch)([ne.Routes.CHANNEL(ne.ME,":channelId"),ne.Routes.CHANNEL(":guildId",":channelId?",":messageId?")]),S=(null==E||null===(e=E.params)||void 0===e?void 0:e.channelId)===re.StaticChannelRoute.GUILD_ONBOARDING,O=r||o||y||S,b=a.useCallback((function(){return A.default.openSidebar()}),[]);(0,m.useGatedExperimentTracking)();(0,m.useTrackTimingExperimentTracking)();return a.createElement(a.Fragment,null,fe("div",{className:oe.default.container},void 0,g&&fe(I.default,{className:oe.default.guilds,themeOverride:n
}),fe(_.default.Provider,{value:(null==E?void 0:E.params.guildId)===ne.ME||null==E?void 0:E.params.guildId},void 0,fe("div",{className:oe.default.base},void 0,s.isMobile?null:Be,fe("div",{className:oe.default.content},void 0,a.createElement(xe,{hasNotice:t,sidebarTheme:n,hideSidebar:O||!g}),fe(c.default.Provider,{value:b},void 0,fe(u.Switch,{},void 0,fe(v.default,{path:ne.Routes.ACTIVITY,disableTrack:!0},void 0,fe(u.Redirect,{to:ne.Routes.ME})),fe(v.default,{path:ne.Routes.APPLICATION_LIBRARY,render:Ie,impressionName:l.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),fe(v.default,{path:ne.Routes.APPLICATION_STORE,render:Ce,impressionName:l.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),h&&fe(v.default,{path:ne.Routes.MESSAGE_REQUESTS,render:De,disableTrack:!0}),fe(v.default,{path:ne.Routes.ME,exact:!0,render:Me,impressionName:l.ImpressionNames.FRIENDS,disableTrack:!0}),fe(v.default,{
path:[ne.Routes.CHANNEL(ne.ME,":channelId"),ne.Routes.CHANNEL(":guildId",":channelId?",":messageId?")],render:ge,impressionName:l.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),fe(v.default,{path:ne.Routes.GUILD_DISCOVERY,render:function(e){var t=e.location;return Ee(t.search)},impressionName:l.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),fe(v.default,{path:ne.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:Se,impressionName:l.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),fe(v.default,{path:ne.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:Oe,impressionName:l.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),fe(v.default,{path:ne.Routes.PREMIUM_MARKETING_SURFACE,render:Re,impressionName:l.ImpressionNames.PREMIUM_MARKETING_SURFACE,disableTrack:!0}),fe(v.default,{path:ne.Routes.FEATURE(":feature"),exact:!0,render:Le,disableTrack:!0
})))))),He))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ue(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=ie(n(294184)),i=n(505977),u=n(473727),l=n(47354),s=n(171236),d=n(536211),f=n(973400),c=ie(n(837086)),p=ie(n(235879)),v=ie(n(400225)),y=ie(n(825724)),m=n(472183),_=ie(n(252566)),h=ie(n(928205)),g=ie(n(545130)),E=ie(n(710483)),S=ie(n(64718)),O=ie(n(594807)),b=ie(n(14638)),I=ie(n(212635)),T=ie(n(529295)),C=ie(n(152892)),A=ie(n(152577)),M=ie(n(31427)),N=ie(n(220796)),P=ie(n(547403)),R=ie(n(917133)),w=ie(n(740258)),D=ie(n(136798)),L=ie(n(329697)),k=ie(n(644263)),j=ie(n(211136)),U=ie(n(296005)),G=ie(n(847015)),F=n(71246),x=n(518802),B=ie(n(721536)),H=ie(n(701391)),W=ie(n(41234)),V=ie(n(25202)),Y=ie(n(272356)),K=ie(n(284382)),z=ie(n(115370)),$=ie(n(63818)),q=ie(n(629195)),X=ie(n(869333)),Q=ie(n(605807)),Z=ie(n(57663)),J=ie(n(916205)),ee=ie(n(52505)),te=ie(n(883901)),ne=n(770348),re=n(173652),ae=ie(n(247001)),oe=ie(n(734733));function ie(e){return e&&e.__esModule?e:{default:e}}function ue(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(ue=function(e){return e?n:t})(e)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(){de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return de.apply(this,arguments)}function fe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ce=fe(B.default,{}),pe=function(e){var t=e.match,n=(0,d.useStateFromStores)([k.default,j.default],(function(){var e=j.default.getChannelId();return k.default.getChannel(e)})),r=t.params,a=r.guildId,o=r.channelId;if(null!=a&&null!=o&&(0,re.isStaticChannelRoute)(o))switch(o){
case re.StaticChannelRoute.ROLE_SUBSCRIPTIONS:return fe(O.default,{guildId:a});case re.StaticChannelRoute.MEMBER_APPLICATIONS:return fe(E.default,{guildId:a});case re.StaticChannelRoute.GUILD_HOME:return fe(h.default,{guildId:a});case re.StaticChannelRoute.CHANNEL_BROWSER:return fe(N.default,{guildId:a});case re.StaticChannelRoute.GUILD_ONBOARDING:return fe(S.default,{guildId:a});default:(0,F.assertNever)(o)}if((null==n?void 0:n.type)===ne.ChannelTypes.GUILD_STORE){var i=t.params.messageId;return fe(H.default,{channel:n,inputSkuId:i},n.id)}return ce};pe.displayName="ChannelRenderer";var ve=fe(X.default,{}),ye=fe(w.default,{}),me=fe(Y.default,{}),_e=a.memo((function(){var e=(0,D.default)(),t=e.guildId,n=e.channelId,r=(0,d.useStateFromStores)([j.default],(function(){return null!=n?n:j.default.getChannelId(t)}));return window.location.pathname.startsWith(ne.Routes.GUILD_DISCOVERY)?ve:window.location.pathname.startsWith(ne.Routes.PREMIUM_MARKETING_SURFACE)?ye:null!=t?fe(b.default,{
selectedChannelId:r,guildId:t},t):me}));function he(e){var t=(0,D.default)((function(e){return e.guildId}));return a.createElement(J.default,de({},e,{guildId:t}))}he.displayName="ConnectedActivityPanelGameCard";var ge=function(e){return a.createElement(pe,e)};ge.displayName="renderChannel";var Ee=function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return fe(q.default,{searchRoute:t})};Ee.displayName="renderGuildDiscovery";var Se=function(e){var t=e.match;return null!=t.params.guildId?fe(g.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},Oe=function(e){var t=e.match;return null!=t.params.guildId?fe(T.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},be=fe(z.default,{}),Ie=function(){return be};Ie.displayName="renderApplicationLibrary";var Te=fe($.default,{}),Ce=function(){return Te};Ce.displayName="renderLazyApplicationStore";var Ae=fe(P.default,{}),Me=function(){return Ae};Me.displayName="renderPeople"
;var Ne=fe(G.default,{}),Pe=fe(R.default,{}),Re=function(){return a.createElement(a.Fragment,null,Ne,Pe)},we=fe(C.default,{}),De=function(){return we};De.displayName="renderMessageRequestPage";var Le=function(e){switch(e.match.params.feature){case"addFriends":return fe(P.default,{initialSection:ne.FriendsSections.ADD_FRIEND});case"pendingFriends":return fe(P.default,{initialSection:ne.FriendsSections.PENDING});case"sessionManagement":return fe(u.Redirect,{to:ne.Routes.SETTINGS("sessions")});default:return fe(u.Redirect,{to:ne.Routes.ME})}};var ke=fe(_e,{}),je=fe(ee.default,{}),Ue=fe(te.default,{}),Ge=fe(Z.default,{}),Fe=fe(W.default,{});function xe(e){var t,n=e.hasNotice,r=e.sidebarTheme,a=e.hideSidebar,i=(0,d.useStateFromStores)([y.default],(function(){return y.default.isFullscreenInContext()}));return a?null:fe("div",{className:(0,o.default)(oe.default.sidebar,(0,x.getThemeClass)(r),(t={},t[oe.default.hasNotice]=n,t[oe.default.fullWidth]=s.isMobile,t[oe.default.hidden]=i,t))
},void 0,ke,fe("section",{className:oe.default.panels,"aria-label":ae.default.Messages.ACCOUNT_A11Y_LABEL},void 0,je,fe(K.default,{section:ne.AnalyticsSections.ACTIVITY_PANEL},void 0,fe(he,{className:oe.default.activityPanel})),fe(K.default,{section:ne.AnalyticsSections.RTC_CONNECTION_PANEL},void 0,Ue),fe(K.default,{section:ne.AnalyticsSections.ACCOUNT_PANEL},void 0,Ge)),Fe)}xe.displayName="ChannelSidebar";var Be=fe(V.default,{}),He=fe(Q.default,{})},818685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=V;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(536211),o=U(n(234161)),i=U(n(200738)),u=n(844784),l=U(n(504010)),s=n(939027),d=U(n(825724)),f=U(n(791548)),c=U(n(967523)),p=U(n(330321)),v=U(n(266079)),y=U(n(255186)),m=U(n(217964)),_=n(894826),h=U(n(644263)),g=U(n(288356)),E=U(n(23535)),S=U(n(876874)),O=U(n(30098)),b=U(n(635014)),I=U(n(689389)),T=U(n(893160)),C=U(n(834162)),A=U(n(211136)),M=U(n(790597)),N=U(n(690445)),P=U(n(563621)),R=U(n(728429)),w=U(n(311256)),D=U(n(106605)),L=U(n(308920)),k=n(71246),j=n(770348);function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function H(e,t){H=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return H(e,t)}var W=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;H(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isMessageRequestsInitialized=!1;return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,a=e.channelParentId,o=e.isTextInVoice,i=e.canSendMessage;if(n&&null!=t){(0,u.trackWithMetadata)(j.AnalyticEvents.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:a,can_send_message:i});o&&(0,u.trackWithMetadata)(j.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:r})}};n.componentDidUpdate=function(e){
var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,a=t.voiceChannelGuildId,i=t.voiceChannelType,c=t.voiceChannelBitrate,y=t.videoEnabled,E=t.isScreenSharing,S=t.runningGame,b=t.runningGamePid,I=t.selectedChannelId,A=t.selectedGuildId,N=t.channelParentId,R=t.connected,w=t.homeLink,D=t.friendsTabSection,U=t.isNSFWChannel,G=t.isMemberPending,F=t.hasPreviewEnabled,x=t.rtcConnectionId,H=t.postableChannelCount,W=t.isTextInVoice,V=t.canSendMessage,Y=t.numMessageRequests;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var K=C.default.getCurrentGame(),z=null!=K?K.name:"",$=m.default.getStageInstanceByChannel(e.voiceChannelId),q=p.default.getActiveEventByChannel(e.voiceChannelId);L.default.track(j.AnalyticEvents.LEAVE_VOICE_CHANNEL,B({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:z,duration:T.default.getDuration(),game_platform:this.props.gamePlatform,
game_id:this.props.gameId,media_session_id:e.mediaSessionId,stage_instance_id:null==$?void 0:$.id,guild_scheduled_event_id:null==q?void 0:q.id},(0,u.getVoiceStateMetadata)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),{},T.default.getVoiceStateStats(),{},d.default.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var X=C.default.getCurrentGame(),Q=null!=X?X.name:"";if(null!=r&&null!=n){var Z=m.default.getStageInstanceByChannel(n),J=p.default.getActiveEventByChannel(n);L.default.track(j.AnalyticEvents.JOIN_VOICE_CHANNEL,B({channel_id:n,channel_type:i,channel_bitrate:c,guild_id:a,rtc_connection_id:x,game_name:Q,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==Z?void 0:Z.id,guild_scheduled_event_id:null==J?void 0:J.id},(0,u.getCustomStatusMetadata)(a,n),{},(0,u.getVoiceStateMetadata)(a,n,y)))}}if(e.runningGame!==S&&null!=S&&!S.isLauncher){var ee=g.default.getGameByName(S.name)
;L.default.track(j.AnalyticEvents.LAUNCH_GAME,{game:S.name,game_id:null==ee?null:ee.id,verified:null!=ee,elevated:S.elevated,game_platform:j.ActivityGamePlatforms.DESKTOP,distributor:S.distributor});if(null!=S.name&&null!=b&&g.default.shouldReport(S.name)){var te=S.name,ne=b;o.default.identifyGame(ne,te).then((function(e){return o.default.reportUnverifiedGame(e)})).catch((function(e){return new f.default("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==y||e.isScreenSharing!==E)&&null!=n){var re="none",ae=[E?"screen":null,y?"camera":null].filter(k.isNotNullish),oe=null;if(E){re="screen";oe=(0,s.getDesktopSourceMetadata)()}else y&&(re="camera");L.default.track(j.AnalyticEvents.VIDEO_INPUT_TOGGLED,B({video_input_type:re,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:ae,preview_enabled:_.AlwaysPreviewVideo.getSetting()},oe,{},this.getGameMetadata(),{},(0,u.collectVoiceAnalyticsMetadata)(n)))}
if(R&&null!=A&&(A!==e.selectedGuildId||!e.connected||G&&!e.isMemberPending)){var ie,ue,le=B({},G?{is_pending:G,preview_enabled:F}:{},{postable_channels:H,premium_progress_bar_enabled:null!==(ie=null===(ue=O.default.getGuild(M.default.getGuildId()))||void 0===ue?void 0:ue.premiumProgressBarEnabled)&&void 0!==ie&&ie,viewing_all_channels:!P.default.isOptInEnabled(A),num_recent_channels:v.default.recentsChannelCount(A)});(0,u.trackWithMetadata)(j.AnalyticEvents.GUILD_VIEWED,le)}else if(!R||null!=A||w!==j.Routes.FRIENDS||e.connected&&D===e.friendsTabSection&&w===e.homeLink){if(R&&null==A&&w===j.Routes.MESSAGE_REQUESTS&&(!e.connected||w!==e.homeLink)&&!this.isMessageRequestsInitialized){this.isMessageRequestsInitialized=!0;L.default.track(j.AnalyticEvents.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:Y})}}else L.default.track(j.AnalyticEvents.FRIENDS_LIST_VIEWED,B({tab_opened:D},(0,l.default)()));if(R&&null!=I&&(!e.connected||I!==e.selectedChannelId||A!==e.selectedGuildId)){var se=(0,
u.collectThreadMetadata)(h.default.getChannel(I),!0);(0,u.trackWithMetadata)(j.AnalyticEvents.CHANNEL_OPENED,B({channel_is_nsfw:U,parent_id:N,can_send_message:V},se));W&&(0,u.trackWithMetadata)(j.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:U})}};n.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};n.render=function(){return null};return t}(r.PureComponent);W.displayName="AutoAnalytics";function V(){var e,t=F((0,a.useStateFromStoresArray)([A.default],(function(){return[A.default.getVoiceChannelId(),A.default.getChannelId()]}),[]),2),n=t[0],o=t[1],u=(0,a.useStateFromStores)([h.default],(function(){return h.default.getChannel(o)}),[o]),l=(0,a.useStateFromStores)([d.default],(function(){return null!=(null==u?void 0:u.id)&&d.default.getChatOpen(u.id)}),[u]),s=null==u?void 0:u.nsfw,f=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,p=(0,
a.useStateFromStores)([h.default],(function(){return h.default.getChannel(n)}),[n]),v=(0,a.useStateFromStores)([M.default],(function(){return M.default.getGuildId()}),[]),m=(0,a.useStateFromStores)([O.default],(function(){return O.default.getGuild(v)}),[v]),_=(0,a.useStateFromStores)([R.default],(function(){return R.default.getCurrentUser()}),[]),g=(0,a.useStateFromStores)([S.default],(function(){var e,t;return null!=_&&null!=v&&(null!==(e=null===(t=S.default.getMember(v,_.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)}),[_,v]),P=(0,a.useStateFromStores)([D.default],(function(){return D.default.getState().section}),[]),L=(0,a.useStateFromStores)([w.default],(function(){return w.default.getHomeLink()}),[]),k=(0,a.useStateFromStores)([E.default],(function(){return E.default.isConnected()}),[]),U=F((0,a.useStateFromStoresArray)([b.default],(function(){return[b.default.isVideoEnabled(),b.default.isScreenSharing()]}),[]),2),G=U[0],x=U[1],B=(0,
a.useStateFromStores)([T.default],(function(){return T.default.getChannelId()}),[]),H=(0,a.useStateFromStores)([N.default],(function(){return N.default.getPrimaryActivity()}),[]),V=(0,a.useStateFromStores)([C.default],(function(){return C.default.getCurrentGame()}),[]),Y=(0,a.useStateFromStores)([T.default],(function(){return T.default.getMediaSessionId()}),[]),K=(0,a.useStateFromStores)([T.default],(function(){return T.default.getRTCConnectionId()}),[]),z=(0,c.default)(v),$=(0,a.useStateFromStores)([I.default],(function(){return I.default.can(j.Permissions.SEND_MESSAGES,u)})),q=(0,a.useStateFromStores)([y.default],(function(){return y.default.getMessageRequestsCount()}),[]),X={selectedChannelId:o,channelParentId:f,isNSFWChannel:s,selectedGuildId:v,friendsTabSection:P,homeLink:L,connected:k,videoEnabled:G,isScreenSharing:x,voiceChannelId:null==p?void 0:p.id,voiceChannelIdJoined:B,voiceChannelGuildId:null==p?void 0:p.getGuildId(),voiceChannelType:null==p?void 0:p.type,
voiceChannelBitrate:null==p?void 0:p.bitrate,runningGame:V,runningGamePid:null!=V?V.pid:null,gamePlatform:(0,i.default)(H),gameName:null!=H?H.name:null,gameId:null!=H?H.application_id:null,gameExeName:null!=V?V.exeName:null,hasPreviewEnabled:null==m?void 0:m.features.has(j.GuildFeatures.PREVIEW_ENABLED),isMemberPending:g,mediaSessionId:Y,rtcConnectionId:K,postableChannelCount:z,isTextInVoice:l,canSendMessage:$,numMessageRequests:q};return r.createElement(W,X)}V.displayName="ConnectedAutoAnalytics"},721536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=we(n(667294)),o=Pe(n(294184)),i=Pe(n(441143)),u=n(370405),l=n(473727),s=n(536211),d=n(378158),f=Pe(n(864345)),c=n(854976),p=n(608286),v=Pe(n(825724)),y=Pe(n(803121)),m=Pe(n(678928)),_=Pe(n(580791)),h=n(573285),g=n(329117),E=Pe(n(63608)),S=Pe(n(324935)),O=Pe(n(57697)),b=Pe(n(689626)),I=Pe(n(141776)),T=Pe(n(540330)),C=Pe(n(542322)),A=Pe(n(818378)),M=Pe(n(764423)),N=Pe(n(463024)),P=n(451115),R=Pe(n(92332)),w=Pe(n(992634)),D=Pe(n(241813)),L=n(57449),k=Pe(n(930409)),j=n(139982),U=n(391869),G=Pe(n(225379)),F=n(637356),x=Pe(n(551619)),B=Pe(n(861370)),H=Pe(n(556250)),W=Pe(n(73942)),V=Pe(n(627900)),Y=Pe(n(252283)),K=n(887299),z=n(910992),$=n(518180),q=n(508079),X=Pe(n(131629)),Q=n(567186),Z=we(n(502546)),J=Pe(n(644263)),ee=n(687549),te=Pe(n(250650)),ne=Pe(n(137438)),re=Pe(n(30098)),ae=Pe(n(788739)),oe=Pe(n(205982)),ie=Pe(n(211136)),ue=Pe(n(728429)),le=Pe(n(387692)),se=Pe(n(956117)),de=Pe(n(80828)),fe=n(194322),ce=Pe(n(528175)),pe=n(71246),ve=n(518802),ye=Pe(n(914789)),me=we(n(174851)),_e=Pe(n(416274)),he=Pe(n(448702)),ge=Pe(n(43233)),Ee=Pe(n(200574)),Se=Pe(n(424670)),Oe=Pe(n(805918)),be=Pe(n(300399)),Ie=n(770348),Te=n(859089),Ce=n(460703),Ae=n(808961),Me=Pe(n(247001)),Ne=Pe(n(149563))
;function Pe(e){return e&&e.__esModule?e:{default:e}}function Re(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Re=function(e){return e?n:t})(e)}function we(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Re(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(){ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ke.apply(this,arguments)}function je(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ue(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){je(o,r,a,i,u,"next",e)}function u(e){je(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ge(e,t){Ge=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ge(e,t)}function Fe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var xe=Fe(de.default,{}),Be=(0,g.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(46422)]).then(n.bind(n,646422))},webpackId:646422,renderLoader:function(){return Fe("div",{className:Ne.default.loader},void 0,xe)},name:"ForumChannel"
}),He=new Set([Ie.ChannelTypes.GUILD_TEXT]),We=Fe(he.default,{}),Ve=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ge(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).state={topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1};t.handleTitleParentClick=function(){var e=t.props.parentChannel;null!=e&&(0,U.transitionToChannel)(e.id)};t._handleContextMenu=function(e,n){switch(n.type){case Ie.ChannelTypes.GUILD_VOICE:case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:case Ie.ChannelTypes.GUILD_FORUM:t.openChannelContextMenu(e,n);break;case Ie.ChannelTypes.ANNOUNCEMENT_THREAD:case Ie.ChannelTypes.PUBLIC_THREAD:case Ie.ChannelTypes.PRIVATE_THREAD:t.openThreadContextMenu(e,n);break;case Ie.ChannelTypes.DM:t.openDMContextMenu(e,n)}};t.handleContextMenu=function(e){(0,
i.default)(null!=t.props.channel,"Missing channel in Channel.handleContextMenu");t._handleContextMenu(e,t.props.channel)};t.handleParentContextMenu=function(e){(0,i.default)(null!=t.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");t._handleContextMenu(e,t.props.parentChannel)};t.handleThreadSidebarResize=function(e,n){t.setState({threadSidebarWidth:e,isThreadSidebarFloating:n})};t.openUserProfile=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.openUserProfile");(0,z.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,channelId:e.id,analyticsLocation:{section:Ie.AnalyticsSections.CHANNEL_HEADER}})};t.renderStreamQualityLiveIndicatorToolbarItem=function(){var e=t.props.selectedParticipant;return(null==e?void 0:e.type)!==Te.ParticipantTypes.STREAM?null:Fe(O.default,{size:ce.default.Sizes.LARGE,participant:e,showQuality:!0},"live-indicator")};t.renderHeaderToolbar=function(){
var e=t.props,n=e.channel,r=e.parentChannel,a=e.isLurking;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderToolbar");var o=[];if(n.isSystemDM())return o;switch(n.type){case Ie.ChannelTypes.GUILD_STAGE_VOICE:case Ie.ChannelTypes.GUILD_VOICE:return o;case Ie.ChannelTypes.DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Fe(R.default,{channel:n},"calls"));o.push(Fe(M.default,{channel:n},"pins"));o.push(Fe(w.default,{channel:n,tooltip:Me.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Ie.ChannelTypes.GROUP_DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Fe(R.default,{channel:n},"calls"));o.push(Fe(M.default,{channel:n},"pins"));if(!n.isManaged()){var u=Me.default.Messages.GROUP_DM_ADD_FRIENDS;o.push(Fe(w.default,{channel:n,tooltip:u},"invite"))}o.push(Fe(C.default,{channelId:n.id},"members"));break;case Ie.ChannelTypes.ANNOUNCEMENT_THREAD:case Ie.ChannelTypes.PRIVATE_THREAD:case Ie.ChannelTypes.PUBLIC_THREAD:
null!=r&&(r.isForumChannel()||o.push(Fe(H.default,{channel:r},"browser")));n.isArchivedThread()||o.push(Fe(W.default,{channel:n},"notifications"));o.push(Fe(M.default,{channel:n},"pins"));n.isArchivedThread()||o.push(Fe(C.default,{channelId:n.id},"members"));o.push(Fe(V.default,{channel:n},"threads-overflow"));break;case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:o.push(Fe(H.default,{channel:n},"browser"));a||o.push(Fe(A.default,{channel:n},"notifications"));o.push(Fe(M.default,{channel:n},"pins"));o.push(Fe(C.default,{channelId:n.id},"members"));break;case Ie.ChannelTypes.GUILD_FORUM:a||o.push(Fe(A.default,{channel:n},"notifications"));o.push(Fe(C.default,{channelId:n.id},"members"));break;case Ie.ChannelTypes.GUILD_DIRECTORY:o.push(Fe(C.default,{channelId:n.id},"members"))}return o};t.renderMobileToolbar=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.renderHeaderToolbar");var n=[];if(e.isSystemDM())return n;switch(e.type){
case Ie.ChannelTypes.GUILD_STAGE_VOICE:case Ie.ChannelTypes.GUILD_VOICE:case Ie.ChannelTypes.DM:break;case Ie.ChannelTypes.GROUP_DM:n.push(Fe(C.default,{channelId:e.id},"members"));break;case Ie.ChannelTypes.ANNOUNCEMENT_THREAD:case Ie.ChannelTypes.PRIVATE_THREAD:case Ie.ChannelTypes.PUBLIC_THREAD:e.isArchivedThread()||n.push(Fe(C.default,{channelId:e.id},"members"));break;case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:case Ie.ChannelTypes.GUILD_FORUM:case Ie.ChannelTypes.GUILD_DIRECTORY:n.push(Fe(C.default,{channelId:e.id},"members"))}return n};t.renderFollowButton=function(){var e=t.props,r=e.showFollowButton,o=e.channel;return r?Fe(se.default,{size:se.default.Sizes.MIN,color:se.default.Colors.PRIMARY,className:Ne.default.followButton,onClick:function(){return(0,fe.openModalLazy)(Ue(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(35753)]).then(n.bind(n,735753));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,ke({channel:o},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,Me.default.Messages.FOLLOW):null};t.renderHeaderBar=function(){var e=t.props,n=e.channel,r=e.channelName,a=e.parentChannel,u=e.guild,l=e.guildId,s=e.showCall,d=e.hasVideo,f=e.isMobile;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderBar");(0,i.default)(null!=r,"Should not be null if channel is not null.");var c=n.isDM()&&!n.isSystemDM()?t.openUserProfile:void 0,p=null!=(null==a?void 0:a.guild_id)&&null!=(null==a?void 0:a.id)?t.handleTitleParentClick:void 0;return Fe(N.default,{guildId:l,channelId:n.id,hideSearch:n.isDirectory(),toolbar:t.renderHeaderToolbar(),mobileToolbar:t.renderMobileToolbar(),className:(0,o.default)(Ne.default.title,d&&s?(0,ve.getThemeClass)(Ie.ThemeTypes.DARK):null),transparent:s,
"aria-label":Me.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},"header-"+n.id,(0,P.renderTitle)({channel:n,channelName:r,parentChannel:a,guild:u,hasVideo:d,isMobile:f,handleContextMenu:t.handleContextMenu,handleParentContextMenu:t.handleParentContextMenu,handleClick:c,handleParentClick:p,renderFollowButton:t.renderFollowButton}),Fe(P.HeaderGuildBreadcrumb,{channel:n,guild:u}),(0,P.renderTopic)(n,u))};return t}var r=t.prototype;r.componentDidMount=function(){(0,K.trackAppUIViewed)("guild_channel")};r.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1});this.openChannelModal()};r.openChannelContextMenu=function(e,t){var r=this.props.guild;(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,i.default)(null!=r,"Missing guild in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,Ue(regeneratorRuntime.mark((function e(){var o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(30941)]).then(n.bind(n,532318));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,ke({},e,{channel:t,guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openThreadContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,d.openContextMenuLazy)(e,Ue(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,ke({},e,{channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openDMContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openDMContextMenu");var r=ue.default.getUser(t.getRecipientId());(0,
i.default)(null!=r,"Missing user in Channel.openDMContextMenu");(0,d.openContextMenuLazy)(e,Ue(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,ke({},e,{user:r,channelSelected:!0,channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,r=e.nsfwAllowed,a=e.nsfwAgree;(0,i.default)(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!r||!a))return null;if(!n)return null;switch(t.type){case Ie.ChannelTypes.GUILD_STAGE_VOICE:return Fe(x.default,{channel:t},t.id);case Ie.ChannelTypes.GUILD_VOICE:case Ie.ChannelTypes.DM:case Ie.ChannelTypes.GROUP_DM:var o=this.props.height-200;return Fe(y.default,{channel:t,
renderExternalHeader:this.renderHeaderBar,maxHeight:o},"call-"+t.id);default:return null}};r.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,r=e.guild,a=e.nsfwAllowed,o=e.needSubscriptionToAccess;(0,i.default)(null!=t,"Missing channel in Channel.renderChat");if(o){(0,i.default)(null!=r,"premium channels must exist within a guild");return Fe(T.default,{channelId:t.id,guildId:r.id})}if(t.isNSFW()&&(!a||!n))return Fe(be.default,{guild:r});if(t.isGuildVocal())return null;if(t.isDirectory()){(0,i.default)(null!=r,"directory channels must exist within a guild");return Fe(E.default,{channel:t,guild:r})}if(t.type===Ie.ChannelTypes.GUILD_FORUM){(0,i.default)(null!=r,"forum channels must exist within a guild");return Fe(Be,{channel:t,guild:r},t.id)}var u=He.has(t.type)&&this.props.enableChatInputActivityButton?h.ChatInputTypes.NORMAL_WITH_ACTIVITY:h.ChatInputTypes.NORMAL;return Fe(ye.default,{channel:t,guild:r,chatInputType:u},null!=r?r.id:"home")};r.renderSidebar=function(){
var e=this.props,t=e.searchId,n=e.channel,r=e.parentChannel,a=e.guild,o=e.needSubscriptionToAccess,u=e.section;(0,i.default)(null!=n,"Missing channel in Channel.renderSidebar");if(o)return null;if(u===Ie.ChannelSections.MEMBERS)switch(n.type){case Ie.ChannelTypes.GROUP_DM:return Fe(Ee.default,{channel:n},"private-channel-recipients-"+n.id);case Ie.ChannelTypes.GUILD_DIRECTORY:case Ie.ChannelTypes.GUILD_FORUM:case Ie.ChannelTypes.GUILD_ANNOUNCEMENT:case Ie.ChannelTypes.GUILD_TEXT:return Fe(_e.default,{channel:n},"channel-members-"+n.id);case Ie.ChannelTypes.ANNOUNCEMENT_THREAD:if(null!=r)return Fe(_e.default,{channel:r},"channel-members-"+r.id);break;case Ie.ChannelTypes.PUBLIC_THREAD:case Ie.ChannelTypes.PRIVATE_THREAD:if(!n.isArchivedThread()&&null!=a)return Fe(Se.default,{channel:n,guild:a},"channel-members-"+n.id)}else if(u===Ie.ChannelSections.SEARCH&&null!=t)return Fe(G.default,{searchId:t});return null};r.openChannelModal=function(){
var e=this.props,t=e.channel,r=e.guildId,o=e.hasModalOpen,i=e.showWelcomeModal,u=e.isLurking,l=e.isUnavailable,s=e.showRealNameModal;if(null==t||null==r||l||o)return null;s&&(0,fe.openModalLazy)(Ue(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74302)]).then(n.bind(n,474302));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,ke({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return b.default.viewPrompt(Ce.GuildPrompts.REAL_NAME_PROMPT,r)},modalKey:"Guild Hub Real Name Modal"});i&&(0,fe.openModalLazy)(Ue(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,ke({},e,{
guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,q.welcomeScreenViewed)(r,u)},modalKey:"Guild Welcome Screen Modal"});return null};r.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,r=t.section,a=t.threadSidebarState,o=t.nsfwAgree,i=t.nsfwAllowed,u=t.width;if(r!==Ie.ChannelSections.SIDEBAR_CHAT||null==a)return null;if((null==n?void 0:n.isNSFW())&&(!i||!o))return null;switch(a.type){case Z.SidebarType.CREATE:if(null==n?void 0:n.isForumChannel())return null;e=Fe(B.default,{parentChannelId:a.parentChannelId,parentMessageId:a.parentMessageId,location:a.location});break;case Z.SidebarType.VIEW_THREAD:e=Fe((null==n?void 0:n.isForumChannel())?S.default:Y.default,{channelId:a.channelId});break;case Z.SidebarType.VIEW_CHANNEL:case Z.SidebarType.VIEW_PRIVATE_CHANNEL:return null;default:(0,pe.assertNever)(a)}var l=(null==n?void 0:n.type)===Ie.ChannelTypes.GUILD_FORUM?528:450,s=u-Ie.CHANNEL_SIDEBAR_WIDTH-l;return Fe(me.default,{
sidebarType:(null==n?void 0:n.type)===Ie.ChannelTypes.GUILD_FORUM?me.ChatSidebarType.PostSidebar:me.ChatSidebarType.ThreadSidebar,maxWidth:s,onWidthChange:this.handleThreadSidebarResize},void 0,e)};r.render=function(){var e,t,n=this.props,r=n.channel,i=n.channelName,l=n.showCall,s=n.isUnavailable,d=n.layout,f=n.section,c=n.textInVoiceEnabled,p=this.state,v=p.threadSidebarWidth,y=p.isThreadSidebarFloating;if(s)return We;if(null==r)return Fe(ge.default,{channelId:this.props.channelId});var m=f===Ie.ChannelSections.SIDEBAR_CHAT,h=!r.isForumChannel()&&(!r.isGuildVoice()||c);return a.createElement(a.Fragment,null,Fe(u.Helmet,{title:i}),Fe("div",{className:(0,o.default)(Ne.default.chat,(e={},e[Ne.default.threadSidebarOpen]=m,e[Ne.default.threadSidebarFloating]=m&&y,e))},void 0,h?Fe(Oe.default,{style:{right:m?v:void 0},className:Ne.default.uploadArea,channel:r,draftType:ee.DraftType.ChannelMessage}):null,l?null:this.renderHeaderBar(),this.renderCall(),Fe("div",{className:(0,
o.default)(Ne.default.content,(t={},t[Ne.default.noChat]=d===Ie.ChannelLayouts.NO_CHAT,t))},void 0,this.renderChat(),this.renderSidebar())),this.renderThreadSidebar(),Fe(_.default,{channel:r}))};return t}(a.PureComponent);Ve.displayName="Channel";var Ye=(0,f.default)(Ve),Ke=a.memo((function(){var e,t=De(a.useState(null),2),n=t[0],r=t[1],o=(0,s.useStateFromStores)([ie.default],(function(){return ie.default.getChannelId()})),i=(0,s.useStateFromStores)([ie.default],(function(){return ie.default.getVoiceChannelId()})),u=(0,s.useStateFromStores)([v.default],(function(){return null!=o&&v.default.getParticipants(o).length>0}),[o]),d=(0,s.useStateFromStores)([J.default],(function(){return J.default.getChannel(o)}),[o]),f=(0,s.useStateFromStores)([J.default],(function(){return J.default.getChannel(i)}),[i]),y=null==d?void 0:d.parent_id,_=(0,s.useStateFromStores)([J.default],(function(){return J.default.getChannel(y)}),[y]),h=(0,s.useStateFromStores)([re.default],(function(){
return re.default.getGuild(null==d?void 0:d.guild_id)}),[d]),g=(0,I.default)(null!==(e=null==d?void 0:d.id)&&void 0!==e?e:void 0).needSubscriptionToAccess,E=(0,$.useIsTextInVoiceEnabled)(null==d?void 0:d.guild_id),S=(null==d?void 0:d.isGuildVocal())||u,O=(0,l.useLocation)().welcomeModalChannelId,b=(0,s.useStateFromStores)([k.default],(function(){return null!=d&&k.default.isLurking(d.guild_id)}),[d]),T=(0,s.useStateFromStores)([X.default],(function(){return X.default.hasSeen(null==d?void 0:d.guild_id,b)}),[d,b]),C=(0,s.useStateFromStores)([v.default],(function(){return null!=o?v.default.getLayout(o):Ie.ChannelLayouts.NORMAL}),[o]),A=(0,s.useStateFromStores)([v.default],(function(){return null!=d?v.default.getSelectedParticipant(d.id):null})),M=(0,s.useStateFromStores)([ue.default],(function(){return ue.default.getCurrentUser()})),N=(0,D.default)(h),P=O===o&&null!=d&&d.getGuildId()===(null==h?void 0:h.id)&&(0,
Q.isGuildTextChannelType)(d.type)&&(null==h?void 0:h.hasFeature(Ie.GuildFeatures.WELCOME_SCREEN_ENABLED))&&(null==h?void 0:h.hasFeature(Ie.GuildFeatures.COMMUNITY)),R=(0,s.useStateFromStoresObject)([Z.default],(function(){return{section:Z.default.getSection(o),threadSidebarState:Z.default.getSidebarState(o)}})),w=R.section,U=R.threadSidebarState,G=(0,m.default)(d),x=null!=d&&i===d.id,B=null!=d&&d.isGuildStageVoice();a.useEffect((function(){var e,t=(0,j.getHistory)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===Ae.STAGE_INVITE_STATE_KEY){var n,a,o=(null!==(n=(0,L.tryParseChannelPath)(null==t||null===(a=t.location)||void 0===a?void 0:a.pathname))&&void 0!==n?n:{}).channelId;null!=o&&r(o)}}),[]);a.useEffect((function(){if(null!=n&&null!=d&&B&&d.id===n&&!x){(0,F.connectAndOpen)(d);r(null)}}),[n,B]);var H=(0,c.useChatInputActivityButton)({guildId:null==h?void 0:h.id}),W=(0,p.useNitroChatInputActivityButton)();return a.createElement(Ye,ke({
guildId:null==d?void 0:d.guild_id,channelId:o,channel:d,channelName:G,parentChannel:_,voiceChannel:f,layout:C,needSubscriptionToAccess:g,isLurking:b,hasModalOpen:(0,fe.hasAnyModalOpen)(),section:w,threadSidebarState:U,guild:h,searchId:(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentSearchId()})),showCall:!g&&S,nsfwAgree:(0,s.useStateFromStores)([ne.default],(function(){return ne.default.didAgree(null==d?void 0:d.guild_id)})),isMobile:(0,s.useStateFromStores)([ae.default],(function(){return(null==d?void 0:d.type)===Ie.ChannelTypes.DM&&ae.default.isMobileOnline(d.getRecipientId())}),[d]),isUnavailable:(0,s.useStateFromStores)([te.default],(function(){return null!=(null==d?void 0:d.guild_id)&&te.default.isUnavailable(d.guild_id)}),[d]),showRealNameModal:N,showWelcomeModal:!T&&P,showFollowButton:(null==d?void 0:d.type)===Ie.ChannelTypes.GUILD_ANNOUNCEMENT&&(null==h?void 0:h.hasFeature(Ie.GuildFeatures.NEWS))||!1},(0,
s.useStateFromStoresObject)([le.default],(function(){return{hasVideo:null!=d&&le.default.hasVideo(d.id)}}),[d]),{inCall:x,selectedParticipant:A,nsfwAllowed:!0===(null==M?void 0:M.nsfwAllowed),textInVoiceEnabled:E,enableChatInputActivityButton:H||W}))}));t.default=Ke},914789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Ne(n(667294)),o=Ae(n(441143)),i=n(171236),u=n(723360),l=Ae(n(795715)),s=n(536211),d=Ae(n(186705)),f=Ae(n(786345)),c=Ae(n(55189)),p=Ae(n(413546)),v=Ae(n(274710)),y=n(354575),m=Ae(n(235879)),_=Ae(n(844784)),h=Ne(n(536487)),g=n(24922),E=Ae(n(181257)),S=n(65621),O=Ae(n(462936)),b=Ae(n(758538)),I=n(573285),T=n(424527),C=Ae(n(668339)),A=Ae(n(440214)),M=Ae(n(271180)),N=n(78528),P=n(105149),R=n(250916),w=n(457676),D=n(514756),L=n(62017),k=n(305321),j=n(228431),U=Ae(n(614293)),G=Ae(n(803069)),F=n(943725),x=Ae(n(4590)),B=Ae(n(429654)),H=Ae(n(338016)),W=Ae(n(338591)),V=Ne(n(604966)),Y=n(886090),K=Ae(n(359342)),z=n(770755),$=Ae(n(527820)),q=Ae(n(759027)),X=Ae(n(423046)),Q=Ae(n(502546)),Z=Ne(n(687549)),J=Ae(n(409205)),ee=Ae(n(201292)),te=Ae(n(689389)),ne=Ae(n(211136)),re=Ae(n(680873)),ae=Ae(n(728429)),oe=n(644105),ie=Ae(n(160629)),ue=Ae(n(413542)),le=n(221656),se=n(194322),de=Ae(n(308920)),fe=n(993442),ce=n(956506),pe=n(871382),ve=n(245838),ye=n(247726),me=n(738326),_e=Ae(n(791555)),he=Ae(n(576967)),ge=Ae(n(756873)),Ee=Ae(n(786630)),Se=Ae(n(284382)),Oe=Ae(n(626341)),be=n(770348),Ie=Ae(n(247001)),Te=Ae(n(149563)),Ce=["isSidebar"]
;function Ae(e){return e&&e.__esModule?e:{default:e}}function Me(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Me=function(e){return e?n:t})(e)}function Ne(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Me(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function De(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,u,"next",e)}function u(e){De(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ke(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;je(e,t)}function je(e,t){je=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return je(e,t)}function Ue(){Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ue.apply(this,arguments)}function Ge(e){e.preventDefault()}var Fe=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function xe(e){var t=e.isSidebar,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(e,Ce);return t?a.createElement("section",Ue({},n,{role:"complementary"})):a.createElement("main",n)}var Be=function(e){ke(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isFirstChange=!0;t.state=Ue({},(0,T.createState)(Z.default.getDraft(t.props.channel.id,Z.DraftType.ChannelMessage)),{contentWarningProps:null});t.draftDidChange=function(e){void 0===e&&(e=t.props);var n=t.state.textValue,r=Z.default.getDraft(e.channel.id,Z.DraftType.ChannelMessage);n===r||""!==r&&""!==n||t.setState((0,T.createState)(r),(function(){if(n!==r){var e=t.props.onFocus;null==e||e()}}))};t.handleKeyDown=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.onKeyDown,o=n.channel,i=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,u=0!==t.state.textValue.length;switch(e.which){case be.KeyboardKeys.DELETE:case be.KeyboardKeys.BACKSPACE:t.handleIncrementCombo("",1);return;case be.KeyboardKeys.ARROW_UP:if(i)return;if(u)return
;e.preventDefault();if(r)re.default.getUploadCount(o.id,Z.DraftType.ChannelMessage)>0?ce.ComponentDispatch.dispatchToLastSubscribed(be.ComponentActions.FOCUS_ATTACHMENT_AREA):ce.ComponentDispatch.dispatchToLastSubscribed(be.ComponentActions.FOCUS_MESSAGES,{atEnd:!0});else{var s=t.props.channel,d=ee.default.getLastCommandMessage(s.id),f=ee.default.getLastEditableMessage(s.id);null!=d&&null!=f?l.default.compare(f.id,d.id)>0?t.handleEditLastMessage(f):t.handleRecallLastCommand(d):null!=d?t.handleRecallLastCommand(d):null!=f&&t.handleEditLastMessage(f)}return;case be.KeyboardKeys.ESCAPE:if(i)return;if(e.target!==e.currentTarget)return;e.preventDefault();if(r){(0,y.disableKeyboardMode)();return}if(re.default.getUploadCount(o.id,Z.DraftType.ChannelMessage)>0){p.default.clearAll(o.id,Z.DraftType.ChannelMessage);return}}null==a||a(e,u)};t.handleIncrementCombo=function(e,n){var r;if(t.props.poggermodeEnabled){
var a=t.props.channel.id,o=X.default.getId(),i=x.default.getUserCombo(o,a),u=(null!==(r=null==i?void 0:i.value)&&void 0!==r?r:0)+1;(0,F.updateCombo)({channelId:a,userId:o,value:null!=e?e.length:u,multiplier:n})}};t.handleTextareaChange=function(e,n,r){var a=t.props,o=a.keyboardModeEnabled,i=a.channel.id;d.default.changeDraft(i,n,Z.DraftType.ChannelMessage);var u=""!==n&&r!==t.state.richValue,l=u&&!Fe.test(n)&&!n.startsWith("/")&&(!t.isFirstChange||n!==t.state.textValue);t.isFirstChange=!1;l&&t.state.textValue.length<n.length&&t.handleIncrementCombo();l?c.default.startTyping(i):""===n&&c.default.stopTyping(i);u&&o&&(0,y.disableKeyboardMode)();t.setState({textValue:n,richValue:r})};t.handleSendMessage=function(){var e=Le(regeneratorRuntime.mark((function e(n){var r,a,o,i,u,l,s,d,c,y,m,_,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.value,a=n.uploads,o=n.stickers,i=n.command,u=n.commandOptionValues,l=n.isGif
;if(0!==(r=r.trim()).length||null!=o&&0!==o.length||null!=a&&0!==a.length){e.next=4;break}return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 4:s=t.props,d=s.guild,c=s.channel,y=s.pendingReply,m=s.chatInputType;_=!1;if(null==i){e.next=18;break}if(i.inputType!==S.ApplicationCommandInputType.BUILT_IN_INTEGRATION){e.next=10;break}ce.ComponentDispatch.dispatch(be.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 10:e.next=12;return(0,O.default)(i,null!=u?u:{},{guild:d,channel:c});case 12:h=e.sent;if(i.inputType!==S.ApplicationCommandInputType.BUILT_IN_TEXT){e.next=17;break}if(null!=h){r=null!=h.content&&""!==h.content?h.content:r;_=!0===h.tts}e.next=18;break;case 17:return e.abrupt("return",Promise.resolve({shouldClear:!0,shouldRefocus:!0}));case 18:return e.abrupt("return",(0,pe.applyChatRestrictions)({openWarningPopout:function(e){return t.setState({contentWarningProps:e})
},type:t.props.chatInputType,content:r,stickers:o,uploads:a,channel:c}).then((function(e){var n=e.valid,i=e.failureReason;if(!n){if(i===be.MessageRestrictionTypes.SLOWMODE_COOLDOWN){ce.ComponentDispatch.dispatch(be.ComponentActions.SHAKE_APP,{duration:200,intensity:2});ce.ComponentDispatch.dispatch(be.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var u=f.default.getSendMessageOptionsForReply(y),s=U.default.parse(c,r);s.tts=s.tts||_;if(l){f.default.sendMessage(c.id,s,void 0,u);(0,Y.deletePendingReply)(c.id);return{shouldClear:!1,shouldRefocus:!0}}if(null!=a&&a.length>0){var h=(0,me.getWebUploadFiles)(a);if((0,me.filesExceedUploadLimits)(h,null==d?void 0:d.id)){(0,ye.showUploadFileSizeExceededError)(c,h);return{shouldClear:!1,shouldRefocus:!1}}v.default.uploadFiles({channelId:c.id,uploads:a,draftType:Z.DraftType.ChannelMessage,parsedMessage:s,options:Ue({},u,{stickerIds:o})})
;p.default.clearAll(c.id,Z.DraftType.ChannelMessage)}else null!=o&&o.length>0?""!==r?f.default.sendMessage(c.id,s,void 0,Ue({},u,{stickerIds:o})):f.default.sendStickers(c.id,o,r,u,s.tts):f.default.sendMessage(c.id,s,void 0,u);t.setState((0,T.createEmptyState)());(0,Y.deletePendingReply)(c.id);(0,z.clearStickerPreview)(c.id,m.drafts.type);return{shouldClear:!0,shouldRefocus:!0}})));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderAttachButton=function(e){return we(A.default,{className:e,channel:t.props.channel,draftType:Z.DraftType.ChannelMessage,editorTextContent:t.state.textValue,setValue:function(e){return t.handleTextareaChange(null,e,(0,T.toRichValue)(e))}})};t.renderApplicationCommandIcon=function(e,n,r){return we(C.default,{className:r,command:e,section:n,channel:t.props.channel})};return t}var n=t.prototype;n.componentDidMount=function(){Z.default.addChangeListener(this.draftDidChange)};n.componentWillUnmount=function(){
Z.default.removeChangeListener(this.draftDidChange)};n.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue;if(e.channel.id===n.id){if(e.hasModalOpen&&!this.props.hasModalOpen){var a=Z.default.getDraft(n.id,Z.DraftType.ChannelMessage);a!==r&&this.setState((0,T.createState)(a))}t.textValue.length<be.MAX_MESSAGE_LENGTH&&r.length>=be.MAX_MESSAGE_LENGTH&&de.default.track(be.AnalyticEvents.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};n.handleEditLastMessage=function(e){var t=this.props.channel;f.default.startEditMessage(t.id,e.id,e.content);_.default.trackWithMetadata(be.AnalyticEvents.MESSAGE_EDIT_UP_ARROW)};n.handleRecallLastCommand=function(e){var t=this.props.channel,n=E.default.getCommandFromInteractionData(e.interactionData),r=E.default.getApplication(null==n?void 0:n.applicationId);if(null!=n){var a=null!=r&&null!=t.isPrivate()?{bot:null!=r.bot?new q.default(r.bot):void 0,id:r.id,icon:r.icon,name:r.name,
type:t.isPrivate()?S.ApplicationCommandSectionType.DM:S.ApplicationCommandSectionType.GUILD}:null,o=(0,g.getCommandInteractionInitialValues)(n,e.interactionData);h.setActiveCommand(t.id,n,a,S.ApplicationCommandTriggerLocations.RECALL,o)}};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.focused,i=t.onResize,u=t.onBlur,l=t.onFocus,s=t.highlighted,d=t.pendingReply,f=t.chatInputType,c=t.placeholder,p=t.accessibilityLabel,v=t.shakeIntensity,y=t.poggermodeEnabled,m=this.state.contentWarningProps,_=we(M.default,{textValue:this.state.textValue,richValue:this.state.richValue,focused:r,className:Te.default.channelTextArea,channel:n,placeholder:c,accessibilityLabel:p,pendingReply:d,type:f,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:i,onFocus:l,onBlur:u,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,promptToUpload:ye.promptToUpload,highlighted:s})
;return we(ie.default,{position:ie.default.Positions.TOP,onRequestClose:function(){var t;null==m||null===(t=m.onCancel)||void 0===t||t.call(m);e.setState({contentWarningProps:null})},shouldShow:null!=m,renderPopout:function(e){var t=e.closePopout;(0,o.default)(null!=m,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return a.createElement(Oe.default,Ue({onClose:t},m))}},void 0,(function(){return y?we(ue.default,{isShaking:v>0,intensity:v},void 0,_):_}))};return t}(a.PureComponent);Be.displayName="ChannelTextAreaForm";var He=we(V.default,{}),We=we(le.ChatLayerContainer,{}),Ve=function(e){ke(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).inputFormRef=a.createRef();t.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:t.props.channel.id};t.dispatchGroupRef=a.createRef();t.handleRequestFocus=function(e){e.channelId===t.props.channel.id&&t.setState({
textAreaFocused:!0})};t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null;switch(e.type){case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:case be.ChannelTypes.GUILD_FORUM:return Se.default.Pages.GUILD_CHANNEL;case be.ChannelTypes.GROUP_DM:case be.ChannelTypes.DM:return Se.default.Pages.DM_CHANNEL;default:return null}};t.handleInputFocus=function(e){var n;null===(n=t.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,ve.isFullScreen)()||(null!=(null==e?void 0:e.highlight)?t.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):t.setState({textAreaFocused:!0}))};t.handleInputBlur=function(){(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1,textAreaHighlighted:!1})};t.handleInputKeyDown=function(e,n){t.state.textAreaHighlighted&&t.setState({textAreaHighlighted:!1});n||t._handleMoveToPane(e)};t.handleKeyDown=function(e){var n
;(null===(n=t.inputFormRef.current)||void 0===n?void 0:n.contains(e.target))||t._handleMoveToPane(e)};t._handleMoveToPane=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.chatInputType,o=n.channel;if(r)switch(e.which){case be.KeyboardKeys.ARROW_LEFT:a===I.ChatInputTypes.SIDEBAR&&ce.ComponentDispatch.dispatch(be.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:ne.default.getChannelId()});return;case be.KeyboardKeys.ARROW_RIGHT:a===I.ChatInputTypes.NORMAL&&ce.ComponentDispatch.dispatch(be.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:Q.default.getCurrentSidebarChannelId(o.id)})}};t.handleOpenExpressionPicker=function(e){var n=e.activeView;(0,R.openExpressionPicker)(n,t.props.chatInputType)};t.handleChatInteract=function(){var e;null===(e=t.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()};t.renderMessageBanner=function(e){var t=e.channel,n=e.showSpamBanner,r=e.showQuarantinedUserBanner,a=e.isMessageRequest,o=e.guild,i=e.communicationDisabledUntil
;if(t.type===be.ChannelTypes.DM){if(n)return we(P.SenderSpammerBanner,{channel:t});if(r)return He;if(a)return we(j.MessageRequestDMBanner,{channelId:t.id})}return null!=i&&(0,w.isCommunicationDisabled)(i)&&null!=o&&!te.default.can(be.Permissions.ADMINISTRATOR,o)?we(L.CommunicationDisabledBanner,{guild:o,disabledUntil:i}):null};return t}t.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{textAreaFocused:null!=n&&(!i.isMobile&&te.default.can(be.Permissions.SEND_MESSAGES,n)),currentChannelId:n.id}:null};var n=t.prototype;n.componentDidMount=function(){ce.ComponentDispatch.subscribe(be.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};n.componentWillUnmount=function(){
ce.ComponentDispatch.unsubscribe(be.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.render=function(){var e,t,n=this.props,r=n.channel,o=n.guild,i=n.keyboardModeEnabled,l=n.hasModalOpen,s=n.pendingReply,d=n.chatInputType,f=n.placeholder,c=n.accessibilityLabel,p=n.showQuarantinedUserBanner,v=n.filterAfterTimestamp,y=n.showSpamBanner,m=n.isMessageRequest,_=n.communicationDisabledUntil,h=n.shakeIntensity,g=n.poggermodeEnabled,E=this.state,S=E.textAreaFocused,O=E.textAreaHighlighted,b=r.isPrivate()?he.default:ge.default,T=d===I.ChatInputTypes.SIDEBAR;t=T&&r.type===be.ChannelTypes.GUILD_VOICE?Ie.default.Messages.TEXT_IN_VOICE_A11Y_LABEL:u.ChannelTypesSets.THREADS.has(r.type)?Ie.default.Messages.THREAD_A11Y_LABEL:Ie.default.Messages.CHANNEL_A11Y_LABEL;return we(Se.default,{page:this.getAnalyticsPage()},"messages-"+r.id,we(le.ChatLayerProvider,{},void 0,a.createElement(fe.ComponentDispatchGroupProvider,{ref:this.dispatchGroupRef},we(fe.ComponentAction,{
event:be.ComponentActions.TEXTAREA_FOCUS,handler:this.handleInputFocus}),we(fe.ComponentAction,{event:be.ComponentActions.TEXTAREA_BLUR,handler:this.handleInputBlur}),we(fe.ComponentAction,{event:be.ComponentActions.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),we(xe,{isSidebar:T,className:Te.default.chatContent,"aria-label":t.format({channelName:r.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract},void 0,we(_e.default,{channel:r,guild:o,narrow:T}),we(G.default,{channel:r,filterAfterTimestamp:v,showingSpamBanner:y,showingQuarantineBanner:p}),null!==(e=this.renderMessageBanner({channel:r,showSpamBanner:y,showQuarantinedUserBanner:p,isMessageRequest:m,guild:o,communicationDisabledUntil:_}))&&void 0!==e?e:a.createElement("form",{ref:this.inputFormRef,onSubmit:Ge,className:Te.default.form},g&&we(H.default,{channelId:r.id}),we(b,{channel:r},void 0,we($.default,{tutorialId:"writing-messages",
position:oe.PopoutPositions.LEFT,offsetX:75},void 0,we(Be,{focused:S,highlighted:O,channel:r,guild:o,keyboardModeEnabled:i,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:l,pendingReply:s,chatInputType:d,placeholder:f,accessibilityLabel:c,shakeIntensity:h,poggermodeEnabled:g}))),we(Ee.default,{channel:r,poggermodeEnabled:g})),We))))};return t}(a.PureComponent);Ve.displayName="ChannelChat";var Ye=a.memo((function(e){var t=e.channel,n=e.guild,r=e.chatInputType,a=e.filterAfterTimestamp,o=(0,b.default)(t),i=o.placeholder,u=o.accessibilityLabel,l=(0,N.useDisplayDMSpamBanner)(t),d=(0,V.useShouldBlockDMInputForQuarantinedUser)(ae.default.getCurrentUser(),t),f=Pe((0,D.useCurrentUserCommunicationDisabled)(null==n?void 0:n.id),1)[0],c=(0,k.useIsMessageRequest)(t.id),p=(0,B.default)(),v=(0,W.default)(t.id);return we(Ve,{channel:t,isEditing:null!=(0,s.useStateFromStores)([J.default],(function(){return J.default.getEditingMessageId(t.id)})),
hasModalOpen:(0,se.useModalsStore)(se.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,s.useStateFromStores)([m.default],(function(){return m.default.keyboardModeEnabled})),pendingReply:(0,s.useStateFromStores)([K.default],(function(){return K.default.getPendingReply(t.id)})),chatInputType:r,placeholder:i,accessibilityLabel:u,filterAfterTimestamp:a,showSpamBanner:l,showQuarantinedUserBanner:d,communicationDisabledUntil:f,isMessageRequest:c,shakeIntensity:v,poggermodeEnabled:p})}));t.default=Ye},174851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MIN_CHAT_SIDEBAR_WIDTH=t.ChatSidebarType=void 0;t.default=function(e){var t,n,r=e.sidebarType,l=e.maxWidth,d=e.onWidthChange,c=e.children,p=e.floatingLayer,v=a.useRef(null),S=function(e){switch(e){case h.PostSidebar:return"postSidebarWidth";case h.ThreadSidebar:return"threadSidebarWidth";case h.CallChatSidebar:return"callChatSidebarWidth";case h.MessageRequestSidebar:return"messageRequestSidebarWidth"}
}(r),O=(N=a.useState(s.default[S]),P=2,function(e){if(Array.isArray(e))return e}(N)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(N,P)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(N,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=O[0],I=O[1],T=a.useCallback((function(e){var t;u.default.updatedUnsyncedSettings(((t={})[S]=e,t))}),[S]),C=l<=_,A=(0,
i.clamp)(b,_,l),M=C?A:A+g;var N,P;a.useEffect((function(){null==d||d(A,C)}),[A,d,C]);var R=a.createElement(a.Fragment,null,m("div",{className:(0,o.default)(f.default.chatTarget,(t={},t[f.default.floating]=C,t[f.default.notFloating]=!C,t)),style:{width:M}}),!C&&m(E,{maxWidth:l,resizableNode:v,onResize:I,onResizeEnd:T}),a.createElement("div",{ref:v,className:(0,o.default)(f.default.container,(n={},n[f.default.floating]=C,n)),style:{width:A}},c));if(C){return m(null!=p?p:a.Fragment,{},void 0,m("div",{className:f.default.chatLayerWrapper},void 0,R))}return a.createElement(a.Fragment,null,R)};var r,a=v(n(667294)),o=c(n(294184)),i=n(496486),u=c(n(929031)),l=v(n(33273)),s=c(n(174508)),d=n(8916),f=c(n(542709));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=450;t.MIN_CHAT_SIDEBAR_WIDTH=_;var h,g=(0,d.cssValueToNumber)(f.default.resizeHandleWidth);t.ChatSidebarType=h
;!function(e){e[e.PostSidebar=0]="PostSidebar";e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar";e[e.MessageRequestSidebar=3]="MessageRequestSidebar"}(h||(t.ChatSidebarType=h={}));function E(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxWidth;return m("div",{onMouseDown:(0,l.default)({minDimension:_,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:l.ResizeOrientation.HORIZONTAL_LEFT}),className:f.default.resizeHandle})}E.displayName="ResizeHandle"},416274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ue
;var r,a=V(n(667294)),o=H(n(294184)),i=H(n(496486)),u=V(n(798628)),l=n(171236),s=n(536211),d=H(n(389726)),f=n(378158),c=n(911574),p=H(n(55189)),v=H(n(235879)),y=H(n(843314)),m=H(n(844784)),_=n(832215),h=n(632123),g=n(75639),E=n(252404),S=H(n(527820)),O=H(n(711195)),b=H(n(326939)),I=V(n(778548)),T=H(n(30098)),C=H(n(663303)),A=H(n(946447)),M=H(n(728429)),N=H(n(160629)),P=H(n(325908)),R=H(n(827436)),w=H(n(521358)),D=n(956506),L=n(71246),k=H(n(922629)),j=V(n(810332)),U=n(770348),G=H(n(247001)),F=H(n(645320)),x=["colorString","colorRoleName","isOwner","nick","user","currentUser","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"],B=["ref","role"];function H(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e
};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function q(){q=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function X(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){X(o,r,a,i,u,"next",e)}function u(e){X(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}function J(e,t){J=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return J(e,t)}var ee=k.default.getEnableHardwareAcceleration(),te={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},ne=function(e){Z(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).renderUserContextMenu=function(e){(0,
f.openContextMenuLazy)(e,Q(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,q({},e,{user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleShiftClick=function(){var e=t.props,n=e.user,r=e.channel,a="@"+(C.default.hidePersonalInformation?n.username:n.tag),o="<@!"+n.id+">";D.ComponentDispatch.dispatchToLastSubscribed(U.ComponentActions.INSERT_TEXT,{plainText:a,rawText:o});p.default.startTyping(r.id)};t.openGuildSubscriptionModal=function(e){var n=t.props.guildId;if(null!=n){e.stopPropagation();(0,g.openGuildBoostingMarketingModal)({guildId:n,location:{section:U.AnalyticsSections.MEMBER_LIST,
object:U.AnalyticsObjects.BOOST_GEM_ICON}})}};t.renderUserPopout=function(e){return a.createElement(b.default,q({},e,{userId:t.props.user.id,guildId:t.props.guildId,channelId:t.props.channel.id}))};return t}var r=t.prototype;r.shouldComponentUpdate=function(e){return!(0,d.default)(this.props,e,["channelId"])};r.render=function(){var e=this,t=this.props,n=t.colorString,r=t.colorRoleName,o=t.isOwner,i=t.nick,u=t.user,s=t.currentUser,d=t.activities,f=t.applicationStream,c=t.status,p=t.channel,v=t.guildId,y=t.isTyping,m=t.isMobileOnline,_=t.premiumSince,h=$(t,x),g=null!=_?new Date(_):null;return z(N.default,{preload:function(){return(0,O.default)(u.id,u.getAvatarURL(v,80),{guildId:v})},renderPopout:this.renderUserPopout,position:l.isMobile?N.default.Positions.WINDOW_CENTER:N.default.Positions.LEFT,spacing:16,onShiftClick:this.handleShiftClick},void 0,(function(t,l){var _=l.isShown;return a.createElement(j.default,q({onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:ee,user:u,
currentUser:s,nick:i,status:c,activities:d,applicationStream:f,isOwner:o,premiumSince:g,colorString:n,colorRoleName:r,isTyping:y,channel:p,guildId:v,isMobile:m,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:_,itemProps:h},t))}))};return t}(a.Component);ne.displayName="ChannelMember";var re=a.memo((function(e){var t=e.channel,n=e.user,r=e.colorRoleId,o=e.index,i=(0,u.useListItem)(""+o),l=(0,s.useStateFromStores)([A.default],(function(){return A.default.isTyping(t.id,n.id)})),d=(0,s.useStateFromStores)([M.default],(function(){return M.default.getCurrentUser()})),f=(0,s.useStateFromStores)([T.default],(function(){var e,n;return null!=r?null===(e=T.default.getGuild(t.guild_id))||void 0===e||null===(n=e.getRole(r))||void 0===n?void 0:n.name:void 0}),[t,r]);return a.createElement(ne,q({},e,i,{isTyping:l,currentUser:d,colorRoleName:f}))})),ae=a.memo((function(e){var t=e.id,n=e.title,r=e.count,o=e.guildId,i=(0,E.useRoleIcon)({roleId:t,guildId:o,size:16})
;return t===U.StatusTypes.UNKNOWN?z("div",{className:F.default.membersGroup},void 0,z("div",{className:F.default.memberGroupsPlaceholder})):z(P.default,{className:F.default.membersGroup},void 0,z(y.default,{},void 0,G.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})),z("span",{"aria-hidden":!0},void 0,null!=i?a.createElement(R.default,q({className:F.default.roleIcon},i)):null,n," — ",r))}));function oe(e){var t=e.index,n=(0,u.useListItem)(""+t);return z(j.default,{itemProps:n})}oe.displayName="ChannelMemberPlaceholder";var ie=function(e){Z(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._list=null;t.setList=function(e){t._list=e;t.props.listRef.current=e};t.getRowHeight=function(){return t.props.canUseAvatarDecorations?44+j.AVATAR_DECORATION_PADDING:44};t.renderSection=function(e){var n=e.section,r=t.props,o=r.groups,i=r.channel,u=o[n];return 0===n?z(S.default,{
tutorialId:"whos-online",position:N.default.Positions.LEFT,inlineSpecs:te},"section-"+n,a.createElement(ae,q({},u,{guildId:i.guild_id}))):a.createElement(ae,q({},u,{key:"section-"+n,guildId:i.guild_id}))};t.getRowProps=function(e){var n=t.props,r=n.groups,a=n.rows,o=r[e.section];if(null==o)return null;var i=o.index;return null==i||"row"!==e.type?null:a[i+1+e.row]};t.renderRow=function(e){var n=e.section,r=e.row,a=e.rowIndex,o=t.props.channel,i=t.getRowProps(e);if(null!=i&&i.type===I.MemberListRowTypes.MEMBER&&"user"in i){var u=i.colorString,l=i.colorRoleId,s=i.user,d=i.status,f=i.isOwner,c=i.isMobileOnline,p=i.nick,v=i.activities,y=i.applicationStream,m=i.premiumSince;return z(re,{colorString:u,colorRoleId:l,user:s,status:d,isOwner:f,nick:p,activities:v,applicationStream:y,channel:o,guildId:o.guild_id,premiumSince:m,isMobileOnline:c,index:a},"member-"+i.user.id)}return z(oe,{index:a},"placeholder-"+n+":"+r)};t.handleScroll=function(){t.updateSubscription()}
;t.updateSubscription=i.default.debounce((function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,c.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}}),50);t.trackMemberListViewed=function(){var e;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){var n=null===(e=t._list)||void 0===e?void 0:e.getItems(),r=t.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var a=n.map((function(e){return t.getRowProps(e)})).slice(0,r+1).filter(L.isNotNullish);if(0!==a.length){var o=a.reduce((function(e,t){if(t.type!==I.MemberListRowTypes.MEMBER)return e;e.num_users_visible++;t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++;if(null!=t.activities&&t.activities.length>0){e.num_users_visible_with_activity++;t.activities.some((function(e){return e.type===U.ActivityTypes.PLAYING}))&&e.num_users_visible_with_game_activity++}return e}),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,
num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});t.lastReportedAnalyticsChannel=t.props.channel.id;m.default.trackWithMetadata(U.AnalyticEvents.MEMBER_LIST_VIEWED,q({},o))}}}};return t}var n=t.prototype;n.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length};n.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};n.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop,a=Math.floor(n/this.getRowHeight());return{height:n,rowHeight:this.getRowHeight(),rowsVisible:a,y:r}};n.render=function(){var e=this,t=this.props,n=t.groups,r=t.listId,i=t.channel;return z(h.FocusJumpSection,{},void 0,(function(t){return z("aside",{
className:(0,o.default)(F.default.membersWrap,F.default.hiddenMembers),"aria-label":G.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})},void 0,z(u.ListNavigatorContainer,{},void 0,(function(i){var u,s=i.ref,d=i.role,f=$(i,B);return a.createElement(w.default,q({key:r,innerRole:d,innerAriaLabel:G.default.Messages.MEMBERS,ref:function(t){var n;e._list=t;e.props.listRef.current=t;s.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:(0,o.default)(F.default.members,(u={},u[F.default.fullWidth]=l.isMobile,u)),paddingTop:0,sectionHeight:40,rowHeight:e.getRowHeight,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0},f,t))})))}))};return t}(a.Component);ie.displayName="ChannelMembers";function ue(e){var t=e.channel,n=e.className,r=(0,s.useStateFromStores)([v.default],(function(){return v.default.keyboardModeEnabled})),i=(0,
s.useStateFromStoresObject)([I.default],(function(){return I.default.getProps(t.guild_id,t.id)})),l=i.rows,d=i.groups,f=a.useRef(null),c=a.useCallback((function(e,t){var n=f.current;if(null!=n){var r=parseInt(t,10),a=Y(n.getSectionRowFromIndex(r),2),o=a[0],i=a[1],u=0===o&&0===i?44:0;n.scrollToIndex({section:o,row:i,padding:u,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),p=a.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),y=a.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),m=(0,u.default)({id:"members-"+t.id,setFocus:c,isEnabled:r,scrollToStart:p,scrollToEnd:y}),h=(0,
_.useGlobalHasAvatarDecorations)().canUseAvatarDecorations;return z("div",{className:(0,o.default)(F.default.container,n)},void 0,z(u.ListNavigatorProvider,{navigator:m},void 0,a.createElement(ie,q({},e,i,{groups:d,rows:l,listRef:f,canUseAvatarDecorations:h}))))}ue.displayName="ConnectedChannelMembers"},83887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=_(n(667294)),o=n(536211),i=y(n(56911)),u=y(n(882832)),l=y(n(191391)),s=y(n(728429)),d=y(n(265851)),f=_(n(80212)),c=y(n(836943)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=[];function E(e){var t=e.channel,r=e.onJump,y=(0,o.useStateFromStoresObject)([u.default],(function(){var e=u.default.getPinnedMessages(t.id),n=null!=e?e.messages:g;return{messages:n,loading:null==n||null!=e&&e.loading}})),m=y.messages,_=y.loading,E=(0,o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)})),S=(0,
o.useStateFromStores)([s.default],(function(){var e=s.default.getUser(t.getRecipientId());return null!=e?e.username:null}));a.useEffect((function(){E&&i.default.ackPins(t.id)}),[E,t.id]);return h(d.default,{"aria-label":v.default.Messages.PINNED_MESSAGES},void 0,h(f.default,{onFetch:function(){i.default.ackPins(t.id);i.default.fetchPins(t.id)},channel:t,messages:m,loading:_,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?i.default.unpinMessage(t,e.id):c.default.confirmUnpin(t,e))},onJump:r,getProTip:function(){return t.isPrivate()?t.type===p.ChannelTypes.DM?v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:S}):v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return h(f.Header,{title:v.default.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var r=v.default.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(r=v.default.Messages.NO_PINS_IN_DM)
;var a=e===p.ThemeTypes.LIGHT?n(937849):n(772144);return h(f.EmptyStateCenter,{msg:r,image:a},"emptystate")},listName:"pins"}))}E.displayName="ChannelPins"},701391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=m(n(536211)),u=m(n(709403)),l=m(n(864345)),s=n(887299),d=m(n(484024)),f=m(n(284382)),c=n(858267),p=m(n(390491)),v=n(770348),y=m(n(492036));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId
;return null!=e?u.default.fetchChannelStoreListing(r.id,e):null!=a?u.default.fetchChannelStoreListing(r.id,a):u.default.fetchChannelStoreListing(r.id)};t.renderApplicationListing=function(e){var n=e.location,r=t.props,a=r.channel,o=r.skuId,i=r.width;return h(p.default,{channel:a,inputSkuId:o,fetchStoreListing:t.fetchStoreListing,location:n,pageSize:(0,c.getPageSize)(i)})};return t}var n=t.prototype;n.componentDidMount=function(){this.fetchStoreListing();(0,s.trackAppUIViewed)("channel_store_listing")};n.render=function(){return null!=this.props.skuId?h(f.default,{page:v.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,h("div",{className:y.default.applicationStore},void 0,h(o.Route,{path:"*",render:this.renderApplicationListing}))):null};return t}(a.Component);E.displayName="ChannelStoreListing";var S=(0,l.default)(i.default.connectStores([d.default],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:d.default.getSkuIdForChannel(t.id)}}))(E));t.default=S},
448702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=_(n(213847)),u=_(n(844784)),l=_(n(463024)),s=n(645758),d=_(n(562796)),f=_(n(114655)),c=n(770348),p=_(n(247001)),v=_(n(361751)),y=_(n(192941)),m=_(n(232353));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=((r={})[c.ThemeTypes.DARK]=y.default,r[c.ThemeTypes.LIGHT]=m.default,r),S=g(o.Fragment,{}),O=g(l.default.Icon,{icon:d.default,"aria-hidden":!0}),b=function(){var e=(0,i.default)();o.useEffect((function(){u.default.trackWithMetadata(c.AnalyticEvents.GUILD_OUTAGE_VIEWED,{})}),[]);return g("div",{className:v.default.container},void 0,g(l.default,{toolbar:S},void 0,O,g(l.default.Title,{},void 0,p.default.Messages.GUILD_UNAVAILABLE_HEADER)),g("div",{className:v.default.content},void 0,g("img",{alt:"",className:v.default.splashImage,src:E[e]}),g(f.default,{className:v.default.splashHeader,size:f.default.Sizes.SIZE_24
},void 0,p.default.Messages.GUILD_UNAVAILABLE_TITLE),g(s.Text,{className:v.default.splashText,variant:"text-md/normal"},void 0,p.default.Messages.GUILD_UNAVAILABLE_BODY)))};b.displayName="ChannelUnavailable";var I=b;t.default=I},825469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=I(n(441143)),i=I(n(294398)),u=I(n(726485)),l=I(n(14096)),s=I(n(235879)),d=I(n(916239)),f=I(n(364172)),c=I(n(949898)),p=n(956506),v=I(n(593878)),y=I(n(969940)),m=I(n(421651)),_=I(n(818685)),h=I(n(323019)),g=I(n(396201)),E=I(n(229108)),S=I(n(742234)),O=n(770348),b=I(n(542729));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var A=C(m.default,{}),M=C(E.default,{}),N=C(v.default,{}),P=C(y.default,{}),R=C(i.default,{}),w=C(_.default,{}),D=C(f.default,{}),L=C(d.default,{}),k=C(h.default,{});function j(){var e=a.useRef(null),t=a.useCallback((function(t){var n=t.duration,r=t.intensity;if(!s.default.useReducedMotion&&c.default.isFocused()){var a=e.current;(0,o.default)(null!=a,"Shakeable is shaken when not mounted");a.shake(n,r)}}),[]);a.useEffect((function(){l.default.setLayout(u.default);l.default.enable();return function(){return l.default.disable()}}),[]);a.useEffect((function(){p.ComponentDispatch.subscribe(O.ComponentActions.SHAKE_APP,t);return function(){p.ComponentDispatch.unsubscribe(O.ComponentActions.SHAKE_APP,t)}}),[t]);return a.createElement(S.default,{ref:e,className:b.default.app},C(g.default,{className:b.default.layers},void 0,A,M),N,P,R,w,D,L,k)}j.displayName="Chat";var U=a.memo(j);t.default=U},678306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=A(n(74854)),l=A(n(536211)),s=A(n(972247)),d=A(n(761537)),f=A(n(235879)),c=A(n(749666)),p=A(n(805764)),v=A(n(796608)),y=A(n(23535)),m=A(n(758602)),_=A(n(151097)),h=A(n(934297)),g=A(n(637853)),E=A(n(962314)),S=n(864489),O=n(179379),b=A(n(922629)),I=n(770348),T=A(n(247001)),C=A(n(678114));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){
N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(t){var n,r;(n=e.call(this,t)||this).videoRef=null;n._noProblemsTimeout=null;n._problemsTimeout=null;n._connectedSound=n.createSound()
;n._loadingText=(r=[T.default.Messages.ACCESSIBILITY_LOADING_TIP_1,T.default.Messages.ACCESSIBILITY_LOADING_TIP_2,T.default.Messages.ACCESSIBILITY_LOADING_TIP_3,T.default.Messages.ACCESSIBILITY_LOADING_TIP_4,T.default.Messages.ACCESSIBILITY_LOADING_TIP_5,T.default.Messages.ACCESSIBILITY_LOADING_TIP_6.format({tabHook:function(e,t){return P(c.default,{shortcut:"tab",className:C.default.keybind},t)}}),T.default.Messages.ACCESSIBILITY_LOADING_TIP_7,T.default.Messages.ACCESSIBILITY_LOADING_TIP_8,T.default.Messages.ACCESSIBILITY_LOADING_TIP_9,T.default.Messages.ACCESSIBILITY_LOADING_TIP_10.format({F6Hook:function(e,t){return P(c.default,{shortcut:"f6",className:C.default.keybind},t)},tabHook:function(e,t){return P(c.default,{shortcut:"tab",className:C.default.keybind},t)}
}),T.default.Messages.LOADING_LINE_1,T.default.Messages.LOADING_LINE_2,T.default.Messages.LOADING_LINE_3,T.default.Messages.LOADING_LINE_4,T.default.Messages.LOADING_LINE_5,T.default.Messages.LOADING_LINE_6,T.default.Messages.LOADING_LINE_7,T.default.Messages.LOADING_LINE_8,T.default.Messages.LOADING_LINE_10,T.default.Messages.LOADING_LINE_11,T.default.Messages.LOADING_LINE_12,T.default.Messages.LOADING_LINE_13,T.default.Messages.LOADING_LINE_14,T.default.Messages.LOADING_LINE_15,T.default.Messages.LOADING_TIP_1,T.default.Messages.LOADING_TIP_2,T.default.Messages.LOADING_TIP_3,T.default.Messages.LOADING_TIP_4,T.default.Messages.LOADING_TIP_5,T.default.Messages.LOADING_TIP_6,T.default.Messages.LOADING_TIP_7,T.default.Messages.LOADING_TIP_8,T.default.Messages.LOADING_TIP_9,T.default.Messages.LOADING_TIP_10,T.default.Messages.LOADING_TIP_11,T.default.Messages.LOADING_TIP_12,T.default.Messages.LOADING_TIP_13,T.default.Messages.LOADING_TIP_14,T.default.Messages.LOADING_TIP_15,T.default.Messages.LOADING_TIP_16,T.default.Messages.LOADING_TIP_17,T.default.Messages.LOADING_TIP_18,T.default.Messages.LOADING_TIP_19,T.default.Messages.LOADING_TIP_20,T.default.Messages.LOADING_TIP_21,T.default.Messages.LOADING_TIP_22,T.default.Messages.LOADING_TIP_23,T.default.Messages.LOADING_TIP_24,T.default.Messages.LOADING_TIP_25,T.default.Messages.LOADING_TIP_26,T.default.Messages.LOADING_TIP_27.format({
asterisks:"**"}),T.default.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return P(c.default,{shortcut:"mod+k",className:C.default.keybind},t)}}),T.default.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return P(c.default,{shortcut:"alt+click",className:C.default.keybind},t)}}),T.default.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return P(c.default,{shortcut:"shift+esc",className:C.default.keybind},t)}}),T.default.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return P(c.default,{shortcut:"shift+alt+up",className:C.default.keybind},t)},downHook:function(e,t){return P(c.default,{shortcut:"down",className:C.default.keybind},t)}}),T.default.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return P(c.default,{shortcut:"mod+/",className:C.default.keybind},t)}}),T.default.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return P(c.default,{
shortcut:"shift+return",className:C.default.keybind},t)}}),T.default.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return P(c.default,{shortcut:"shift",className:C.default.keybind},t)}}),T.default.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return P(c.default,{shortcut:"up",className:C.default.keybind},t)}})])[i.default.random(r.length-1)];n.handleReady=function(){n.setState({ready:!0});if((0,S.isDesktop)()){b.default.send("UPDATED_QUOTES",["Hold Tight — Loading Discord"]);b.default.send("UPDATE_OPEN_ON_STARTUP")}};n.setVideoRef=function(e){n.videoRef=e};n.setProblemsTimeout=function(){null==n._problemsTimeout&&(n._problemsTimeout=setTimeout((function(){return n.setState({problems:!0})}),1e4))};n.clearProblemsTimeout=function(){clearTimeout(n._problemsTimeout);n._problemsTimeout=null};var a=t.connected;n.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new u.default.Value(a?0:1)};n._connectedSound.volume=1;return n}var n=t.prototype
;n.createSound=function(){var e=this.props.soundpack,t=(0,O.createSoundForPack)("discodo",e);t.volume=1;return t};n.componentDidMount=function(){this.setProblemsTimeout()};n.componentDidUpdate=function(e,t){var n=this,r=this.state,a=r.ready,o=r.hide,i=r.problems,l=r.opacity,f=this.props,c=f.connected,p=f.soundpack,v=f.reducedMotion,y=c&&a&&!o&&!i;e.soundpack!==p&&(this._connectedSound=this.createSound());if(e.connected!==c||y)if(c&&null!=this.videoRef){var m=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);s.default.get(I.DISCODO_STORAGE_KEY)&&this._connectedSound.play();v?this.setState({problems:!1,hide:c}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:c})}),m)}else this.setState({problems:!1,hide:c});else if(t.hide!==o){o?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});u.default.timing(l,{toValue:o?0:1,duration:200}).start((function(){
return n.setState({shouldRender:!o})}))}else t.problems!==i&&i&&d.default.checkIncidents()};n.componentWillUnmount=function(){this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};n.render=function(){if(this.state.shouldRender){var e,t=this._loadingText,n=null;if(null!=this.props.incident){t=this.props.incident.name;n=this.props.incident.incident_updates[0].body}return P(u.default.div,{className:C.default.container,style:{opacity:this.state.opacity}},void 0,P("div",{className:C.default.content},void 0,P(E.default,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?C.default.ready:""}),P("div",{className:C.default.text},void 0,null!=this.props.incident?null:P("div",{className:C.default.tipTitle},void 0,T.default.Messages.LOADING_DID_YOU_KNOW),P("div",{className:null!=this.props.incident?C.default.title:C.default.tip},void 0,t),P("div",{className:C.default.body},void 0,n))),P("div",{className:(0,
o.default)(C.default.problems,(e={},e[C.default.slideIn]=this.state.problems,e))},void 0,P("div",{className:C.default.problemsText},void 0,T.default.Messages.CONNECTING_PROBLEMS_CTA),P("div",{},void 0,P(_.default,{className:C.default.twitterLink,href:(0,p.default)(I.LocalizedLinks.TWITTER),target:"_blank"},void 0,P(g.default,{className:C.default.icon}),T.default.Messages.TWEET_US),P(_.default,{className:C.default.statusLink,href:I.Links.STATUS,target:"_blank"},void 0,P(h.default,{className:C.default.icon}),T.default.Messages.SERVER_STATUS))))}return null};return t}(a.PureComponent);R.displayName="ConnectingModal";var w=l.default.connectStores([y.default,m.default,v.default,f.default],(function(){return{isTryingToConnect:y.default.isTryingToConnect(),connected:y.default.isConnected(),incident:m.default.getIncident(),soundpack:v.default.getSoundpack(),reducedMotion:f.default.useReducedMotion}}))((function(e){
var t=e.isTryingToConnect,n=e.connected,r=e.incident,a=e.soundpack,o=e.reducedMotion;return t?P(R,{reducedMotion:o,soundpack:a,connected:n,incident:r}):null}));t.default=w},41234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(972247)),u=c(n(16941)),l=c(n(259530)),s=c(n(934297)),d=c(n(247001)),f=c(n(9007));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){
return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="isHideDevBanner",h=function(){var e,t=y((0,a.useState)("true"===(null===(e=i.default.get(_,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],r=t[1];if(n)return null;var c=function(){i.default.set(_,!0);r(!0)},p=function(){return v(u.default,{onClick:c,className:f.default.closeButton,"aria-label":d.default.Messages.DISMISS},void 0,v(l.default,{className:f.default.closeIcon}))};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return v("div",{className:(0,o.default)(f.default.devBanner,f.default.staging)
},void 0,v(s.default,{className:f.default.icon}),d.default.Messages.DEV_NOTICE_STAGING.format({buildNumber:"141021"}),v(p,{}))}return null};t.default=h},43233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=h(n(667294)),o=n(171236),i=n(536211),u=m(n(772145)),l=m(n(790597)),s=m(n(871778)),d=h(n(737705)),f=m(n(80828)),c=m(n(878556)),p=n(770348),v=m(n(247001)),y=m(n(591701));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(c.default,{},void 0,g(a.Fragment,{}));function S(e){var t=e.channelId;a.useEffect((function(){u.default.loadThread(t)}));var r,c=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildId()}))===p.FAVORITES,m=(0,i.useStateFromStores)([s.default],(function(){return s.default.theme}));r=c?g(d.EmptyStateText,{note:v.default.Messages.FAVORITES_EMPTY_BODY},void 0,v.default.Messages.FAVORITES_EMPTY_TITLE):null!=t?g(f.default,{
type:f.default.Type.SPINNING_CIRCLE}):g(d.EmptyStateText,{note:v.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,v.default.Messages.CHANNELS_UNAVAILABLE_TITLE);return g("div",{className:y.default.noChannel},void 0,o.isMobile&&E,g(d.default,{theme:m},void 0,g(d.EmptyStateImage,{darkSrc:n(c?128112:16697),lightSrc:n(c?876406:105045),width:272,height:222}),r))}S.displayName="EmptyChannel"},323019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=y(n(496486)),o=n(143544),i=n(248088),u=n(536211),l=y(n(297452)),s=y(n(796608)),d=y(n(919935)),f=y(n(663303)),c=y(n(931411)),p=n(179379),v=n(340038);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var h={transform:"scale(0.7)",opacity:0},g={transform:"scale(1)",opacity:1},E=function(){var e=(0,u.useStateFromStoresArray)([c.default],(function(){return c.default.getIncomingCalls()})),t=(0,u.useStateFromStores)([c.default],(function(){return c.default.hasIncomingCalls()})),n=(0,u.useStateFromStores)([d.default],(function(){return d.default.isSoundDisabled("call_ringing")})),y=(0,u.useStateFromStores)([f.default],(function(){
return f.default.disableSounds})),m=(0,u.useStateFromStores)([s.default],(function(){return s.default.getSoundpack()})),E=r.useRef(!1),S=(0,o.useStableMemo)((function(){if(m===v.Soundpacks.CLASSIC){var e=500===a.default.random(1,1e3)?"call_ringing_beat":"call_ringing";return(0,p.createSound)(e,"call_ringing")}return(0,p.createSoundForPack)("call_ringing",m)}),[m]);r.useEffect((function(){return function(){S.stop()}}),[S]);r.useEffect((function(){if(y||n){if(E.current){S.stop();E.current=!1}}else if(t&&!E.current){S.loop();E.current=!0}else if(!t&&E.current){S.stop();E.current=!1}}),[n,y,t,S]);return(0,i.useTransition)(e,{keys:function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:h,to:g},leave:h,config:{mass:1,tension:500,friction:18,clamp:!0}})((function(e,t){return r.createElement(l.default,_({},t,{animatedStyle:e}))}))};t.default=E},396201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Y
;var r,a,o=A(n(667294)),i=T(n(294184)),u=T(n(74854)),l=A(n(536211)),s=T(n(550024)),d=n(264720),f=n(246049),c=T(n(14096)),p=n(836233),v=T(n(235879)),y=n(329117),m=T(n(68625)),_=T(n(122913)),h=T(n(728526)),g=n(378444),E=n(956506),S=n(518802),O=n(770348),b=T(n(785535)),I=["mode","children","baseLayer"];function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=(0,y.makeLazy)({createPromise:function(){return n.e(54313).then(n.bind(n,64721))},webpackId:64721,name:"UserSettings"}),D=(0,y.makeLazy)({createPromise:function(){
return Promise.all([n.e(40532),n.e(97621)]).then(n.bind(n,437897))},webpackId:437897,name:"ChannelSettings"}),L=(0,y.makeLazy)({createPromise:function(){return n.e(69930).then(n.bind(n,774663))},webpackId:774663,name:"GuildIdentitySettingsView"}),k=M(w,{}),j=M(D,{}),U=M(m.default,{}),G=M(L,{}),F=((r={})[O.Layers.USER_SETTINGS]=function(){return k},r[O.Layers.CHANNEL_SETTINGS]=function(){return j},r[O.Layers.GUILD_SETTINGS]=function(){return U},r[O.Layers.GUILD_IDENTITY_SETTINGS]=function(){return G},r),x="SHOWN",B="HIDDEN",H={friction:10,tension:100},W=function(e){P(t,e);t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};function t(t){var n;(n=e.call(this,t)||this).containerRef=o.createRef();var r=1,a=1;if(t.mode===B){r=.93;a=0}n.state={animating:!1,scale:new u.default.Value(r),opacity:new u.default.Value(a),mode:t.mode};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode
;if(t!==n)return t===x&&n===B?this.animateIn():t===B&&n===x?this.animateUnder():void 0};n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))};n.animateIn=function(e){var t=this;l.default.Emitter.pause(500);var n=this.state,r=n.opacity,a=n.scale;u.default.parallel([u.default.spring(r,N({toValue:1},H)),u.default.spring(a,N({toValue:1},H))]).start((function(){return t.animateComplete(e)}))};n.animateOut=function(e){l.default.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_START);u.default.parallel([u.default.spring(n,N({toValue:0},H)),u.default.spring(r,N({toValue:1.1},H))]).start((function(){e();E.ComponentDispatch.dispatch(O.ComponentActions.LAYER_POP_COMPLETE)}))};n.animateUnder=function(){
var e=this;l.default.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;u.default.parallel([u.default.spring(n,N({toValue:0},H)),u.default.spring(r,N({toValue:.93},H))]).start((function(){return e.animateComplete()}))};n.animateComplete=function(e){this.setState({animating:!1},e)};n.render=function(){var e,t=this,n=this.state.animating,r=this.props,a=r.mode,l=r.children,s=r.baseLayer,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(r,I),f=n||a===B?this.getAnimatedStyle():null,c=o.createElement(u.default.div,N({ref:function(e){return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":a===B,className:(0,i.default)(b.default.layer,(e={},e[b.default.baseLayer]=s,e[b.default.animating]=n,e["stop-animations"]=a===B,e)),style:f},d),l);return s?c:M(h.default,{containerRef:this.containerRef},void 0,c)};n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,
transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};return t}(o.PureComponent);W.displayName="Layer";W.defaultProps={baseLayer:!1};W.contextType=p.AccessibilityPreferencesContext;var V=function(e){P(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===O.Layers.USER_SETTINGS){c.default.enable();c.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT)}E.ComponentDispatch.subscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.componentDidUpdate=function(e){var t=this.props,n=t.layers,r=t.hasFullScreenLayer,a=e.layers.length>0||e.hasFullScreenLayer,o=n.length>0||r;!a&&o||o&&n===e.layers&&n[0]===O.Layers.USER_SETTINGS?c.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT):a&&!o&&c.default.disableTemp()};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(O.ComponentActions.LAYER_POP_ESCAPE_KEY,d.popLayer)};n.renderLayers=function(){
var e=this,t=this.props,n=t.children,r=t.layers,a=t.hasFullScreenLayer,o=r.length,i=[];i.push(M(W,{mode:0!==o||a?B:x,baseLayer:!0},"layer-base",n));r.forEach((function(t,n){return i.push(e.renderComponent(t,n,o))}));return i};n.renderComponent=function(e,t,n){var r,a=t===n-1;r="string"==typeof e?F[e]():M(e,{});return M(W,{mode:a?x:B},"layer-"+t,r)};n.renderArtisanalHack=function(){return M("div",{className:(0,i.default)(b.default.bg,(0,S.getThemeClass)(this.props.sidebarTheme))})};n.render=function(){return o.createElement(o.Fragment,null,this.renderArtisanalHack(),M(s.default,{component:"div",className:(0,i.default)(b.default.layers,this.props.className)},void 0,this.renderLayers()))};return t}(o.PureComponent);V.displayName="Layers";function Y(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.darkSidebar}))?O.ThemeTypes.DARK:void 0,n=(0,l.useStateFromStores)([_.default],(function(){return _.default.getLayers()})),r=(0,g.useFullScreenLayerStore)((function(e){
return e.fullScreenLayers.length>0}));return o.createElement(V,N({},e,{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}Y.displayName="ConnectedLayers"},712283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"NotchBackground",{enumerable:!0,get:function(){return p.NotchBackground}});t.default=void 0;var r,a=b(n(667294)),o=S(n(496486)),i=S(n(536211)),u=n(601759),l=n(91817),s=S(n(740207)),d=S(n(635014)),f=S(n(893160)),c=S(n(956117)),p=b(n(358255)),v=S(n(730977)),y=S(n(37241)),m=b(n(662197)),_=S(n(308920)),h=n(770348),g=S(n(247001)),E=S(n(502258));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var C=-100,A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new l.Timeout;t._silenceTimeout=new l.Timeout;t._messageTimeout=new l.Timeout;t.state={volume:C,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};t.setupVoiceActivity=function(){d.default.getMediaEngine().on(u.MediaEngineEvent.VoiceActivity,t.handleVoiceActivity)};t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=C){t._silenceTimeout.isStarted()||t._silenceTimeout.start(2e3,(function(){t.setState({isDetectingInput:!1})}));t.setState({volume:C})}else{t._silenceTimeout.stop();t.setState({volume:e,isDetectingInput:!0})}};t.handleToggleMicTest=function(){t.state.isMicTesting?t._micTestStop():t._micTestStart()};return t}var n=t.prototype;n.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop()
;d.default.getMediaEngine().removeListener(u.MediaEngineEvent.VoiceActivity,this.handleVoiceActivity)};n._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,a=e.outputDeviceName,o=e.outputVolume,i=e.inputMode,u=e.vadAutoThreshold,l=e.vadThreshold,d=e.location,f=e.isDeafened,c=!1;if(t&&!f){s.default.toggleSelfDeaf();c=!0}s.default.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:c});_.default.track(h.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:a,output_device_volume:o,input_mode:i,input_sensitivity_is_automatic:u,input_sensitivity_threshold:Math.round(l),location:d})};n._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isVoiceConnected,o=r.isDeafened;if(n){a&&o&&t&&s.default.toggleSelfDeaf();s.default.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1})
;null!=this._micTestStartTime&&_.default.track(h.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};n.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,r=this.state,a=r.isMicTesting,o=r.isDetectingInput;return I(y.default,{className:E.default.micTestCaption,type:y.default.Types.DESCRIPTION},void 0,a?o?t:n:null)};n.render=function(){var e=this,t=this.props,n=t.isVoiceConnected,r=t.title,a=t.description,o=t.notchBackground,i=t.buttonTest,u=t.buttonStop,l=t.buttonClassName,s=t.buttonColor,d=t.isDeafened,f=this.state,_=f.isMicTesting,h=f.volume,S=n&&!_?g.default.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;_&&n&&!d&&this._micTestStop();return I("div",{className:E.default.container},void 0,I(m.default,{tag:m.Tags.H5,className:E.default.title},void 0,r),null!=a&&I(y.default,{type:y.default.Types.DESCRIPTION,className:E.default.description},void 0,a),I("div",{className:E.default.micTest},void 0,I(v.default,{
text:S},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return I(c.default,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:r,size:c.default.Sizes.SMALL,className:l,color:s},void 0,_?u:i)})),I(p.default,{progress:_?h+100:0,notchBackground:o}),this.renderCaption()))};return t}(a.PureComponent);A.displayName="MicTester";var M=i.default.connectStores([f.default,d.default],(function(){var e=d.default.getInputDeviceId(),t=d.default.getInputDevices(),n=o.default.find(t,(function(t){return t.id===e})),r=d.default.getOutputDeviceId(),a=d.default.getOutputDevices(),i=o.default.find(a,(function(e){return e.id===r})),u=d.default.getModeOptions();return{isVoiceConnected:f.default.isConnected(),inputVolume:d.default.getInputVolume(),outputVolume:d.default.getOutputVolume(),inputMode:d.default.getMode(),vadThreshold:u.threshold,isDeafened:d.default.isSelfDeaf(),vadAutoThreshold:u.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(A)
;t.default=M},25202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Ce
;var r,a=fe(n(667294)),o=se(n(730381)),i=n(473727),u=n(536211),l=se(n(190040)),s=se(n(939949)),d=fe(n(319076)),f=n(264720),c=se(n(445377)),p=se(n(597362)),v=se(n(136873)),y=se(n(761537)),m=fe(n(376543)),_=se(n(105988)),h=n(622349),g=fe(n(446637)),E=se(n(226800)),S=se(n(155502)),O=se(n(954140)),b=se(n(37039)),I=fe(n(583490)),T=n(802922),C=n(283894),A=se(n(796015)),M=se(n(678875)),N=n(191868),P=se(n(778885)),R=se(n(655205)),w=se(n(745108)),D=se(n(542402)),L=se(n(119152)),k=se(n(644263)),j=se(n(288356)),U=se(n(876874)),G=se(n(30098)),F=se(n(635014)),x=se(n(893160)),B=se(n(790597)),H=se(n(728429)),W=se(n(399561)),V=se(n(424099)),Y=fe(n(296005)),K=se(n(151097)),z=se(n(530250)),$=se(n(80828)),q=se(n(41024)),X=n(194322),Q=fe(n(177101)),Z=se(n(308920)),J=se(n(550270)),ee=n(42031),te=n(168558),ne=fe(n(215850)),re=n(259880),ae=n(770348),oe=n(480826),ie=n(376293),ue=se(n(247001)),le=se(n(202192));function se(e){return e&&e.__esModule?e:{default:e}}function de(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(de=function(e){return e?n:t})(e)}function fe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=de(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ce(){ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ce.apply(this,arguments)}function pe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){pe(o,r,a,i,u,"next",e)}function u(e){pe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ye(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var me=function(){return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){he();(0,re.open)()}}),ue.default.Messages.NOTICE_NO_INPUT_DETECTED,ye(Q.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ue.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};me.displayName="AudioIssueNoticeHelpdesk";var _e=function(){return ye(Q.default,{color:Q.NoticeColors.DANGER
},void 0,ye(Q.NoticeCloseButton,{onClick:function(){he();(0,re.open)()}}),ue.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,ye(Q.NoticeButton,{onClick:function(){(0,f.pushLayer)(ae.Layers.USER_SETTINGS);E.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ue.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};_e.displayName="AudioIssueNoticeMicTester";function he(e){c.default.dismiss(null!=e?{untilAtLeast:(0,o.default)(e)}:void 0)}var ge=ye(P.default,{}),Ee=ye(A.default,{}),Se=ye(D.default,{}),Oe=ye(me,{}),be=ye(_e,{}),Ie=ye(L.default,{}),Te=ye(a.memo((function(){var e,t,r,o,c,O,A=(0,u.useStateFromStores)([H.default],(function(){return H.default.getCurrentUser()})),P=(0,u.useStateFromStores)([B.default],(function(){return B.default.getGuildId()})),D=(0,u.useStateFromStores)([G.default],(function(){return G.default.getGuild(P)})),L=(0,u.useStateFromStores)([Y.default],(function(){return Y.default.getNotice()})),re=(0,u.useStateFromStores)([U.default],(function(){
var e,t;return null!=P&&null!=A&&(null!==(e=null===(t=U.default.getMember(P,A.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)})),se=(0,b.default)().analyticsLocations,de=null==L?void 0:L.type,fe=re&&(null==D?void 0:D.hasVerificationGate());a.useEffect((function(){null!=de&&function(e){Z.default.track(ae.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})}(de)}),[de]);a.useEffect((function(){if(null!=L&&L.type===ae.NoticeTypes.SURVEY&&null!=L.metadata){var e=L.metadata,t=C.ExperimentStore.getUserExperimentDescriptor(e.id);null!=t&&(0,C.trackExposureToExperiment)(e.id,t)}}),[L]);if(null==L)return null;if(ee.ProcessArgs.isDisallowPopupsSet())return null;var pe=Y.typeToDismissibleContent[L.type];if(null!=pe)return ye(T.DismissibleContentNotices,{dismissibleContent:pe,noticeType:L.type});switch(L.type){case ae.NoticeTypes.LURKING_GUILD:return ge;case ae.NoticeTypes.PENDING_MEMBER:return Ee;case ae.NoticeTypes.INVITED_TO_SPEAK:return Se;case ae.NoticeTypes.GENERIC:return ye(Q.default,{
color:Q.NoticeColors.DEFAULT},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.GENERIC}),L.message,null!=L.buttonText?ye(Q.PrimaryCTANoticeButton,{onClick:L.callback,noticeType:ae.NoticeTypes.GENERIC},void 0,L.buttonText):null);case ae.NoticeTypes.LAUNCH_GAME_FAILURE:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.LAUNCH_GAME_FAILURE}),L.message,null!=L.buttonText?ye(Q.PrimaryCTANoticeButton,{onClick:L.callback,noticeType:ae.NoticeTypes.LAUNCH_GAME_FAILURE},void 0,L.buttonText):null);case ae.NoticeTypes.VOICE_DISABLED:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{onClick:function(){p.default.clearRemoteDisconnectVoiceChannelId();he()},noticeType:ae.NoticeTypes.VOICE_DISABLED}),ue.default.Messages.NOTICE_CONNECTION_CONFLICT,ye(Q.PrimaryCTANoticeButton,{onClick:function(){var e=x.default.getRemoteDisconnectVoiceChannelId()
;if(null!=e){null!=k.default.getChannel(e)&&v.default.selectVoiceChannel(e)}},noticeType:ae.NoticeTypes.VOICE_DISABLED},void 0,ue.default.Messages.RECONNECT));case ae.NoticeTypes.SPOTIFY_AUTO_PAUSED:var me=S.default.get(ae.PlatformTypes.SPOTIFY);return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED}),ye("img",{alt:"",className:le.default.platformIcon,src:me.icon.whiteSVG}),ue.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,ye(Q.PrimaryCTANoticeButton,{onClick:function(){return E.default.open(ae.UserSettingsSections.VOICE)},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED},void 0,ue.default.Messages.VOICE_SETTINGS),ye(K.default,{className:le.default.textLinkSmall,href:J.default.getArticleURL(ae.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,ue.default.Messages.NOTICE_WHATS_THIS));case ae.NoticeTypes.UNCLAIMED_ACCOUNT:return ye(Q.default,{color:Q.NoticeColors.DEFAULT
},void 0,ue.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNCLAIMED_ACCOUNT,onClick:function(){return fe&&null!=P?(0,M.default)(P):I.openClaimAccountModal()}},void 0,ue.default.Messages.CLAIM_ACCOUNT));case ae.NoticeTypes.UNVERIFIED_ACCOUNT:return ye(Q.default,{color:Q.NoticeColors.DEFAULT},void 0,ue.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNVERIFIED_ACCOUNT,onClick:function(){s.default.verifyResend();l.default.show({title:ue.default.Messages.VERIFICATION_EMAIL_TITLE,body:ue.default.Messages.VERIFICATION_EMAIL_BODY.format({email:null==A?void 0:A.email}),secondaryConfirmText:ue.default.Messages.CHANGE_EMAIL,onConfirmSecondary:I.openClaimAccountModal})}},void 0,ue.default.Messages.RESEND));case ae.NoticeTypes.SCHEDULED_MAINTENANCE:return null==L.metadata?null:ye(Q.default,{color:Q.NoticeColors.DEFAULT},void 0,ye(Q.NoticeCloseButton,{onClick:function(){
return y.default.ackScheduledMaintenance()},noticeType:ae.NoticeTypes.SCHEDULED_MAINTENANCE}),ue.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(L.metadata),ye(Q.NoticeButtonAnchor,{href:ae.Links.STATUS+"/incidents/"+L.metadata.id},void 0,ue.default.Messages.LEARN_MORE));case ae.NoticeTypes.NO_INPUT_DETECTED:return F.default.supports(ie.Features.LOOPBACK)?be:Oe;case ae.NoticeTypes.HARDWARE_MUTE:if(null==L.metadata)return null;var _e=L.metadata,Te=_e.vendor,Ce=_e.model;return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ue.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:Te.name,modelName:Ce.name}),ye(Q.NoticeButtonAnchor,{href:Ce.url,target:"_blank",rel:"noreferrer noopener"},void 0,ue.default.Messages.SUPPORT));case ae.NoticeTypes.STREAMER_MODE:return ye(Q.default,{color:Q.NoticeColors.STREAMER_MODE},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.STREAMER_MODE
}),ue.default.Messages.NOTICE_STREAMER_MODE_TEXT,ye(Q.PrimaryCTANoticeButton,{onClick:function(){return _.default.setEnabled(!1)},noticeType:ae.NoticeTypes.STREAMER_MODE},void 0,ue.default.Messages.DISABLE));case ae.NoticeTypes.H264_DISABLED:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){he()}}),ue.default.Messages.NOTICE_H264_DISABLED_SETTINGS,ye(Q.NoticeButton,{onClick:function(){(0,f.pushLayer)(ae.Layers.USER_SETTINGS);E.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ue.default.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==L.metadata)return null;var Ae=L.metadata,Me=Ae.skuId,Ne=Ae.applicationId,Pe=W.default.get(Me),Re=j.default.getGame(Ne);if(null==Pe||null==Re)return null;var we={page:ae.AnalyticsPages.IN_APP};return ye(Q.default,{color:Q.NoticeColors.PREMIUM_TIER_1},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return d.dismiss(Pe.id)},
noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:Re.name,skuName:Pe.name}),ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,te.openIAPPurchaseModal)({applicationId:Re.id,skuId:Pe.id,openPremiumPaymentModal:function(){(0,R.default)({initialPlanId:null,subscriptionTier:ae.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:se,analyticsObject:we})},analyticsLocations:se,analyticsLocation:we,context:__OVERLAY__?ae.AppContext.OVERLAY:ae.AppContext.APP}).then((function(){return d.dismiss(Pe.id)}))}},void 0,ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==L.metadata)return null;var De=L.metadata,Le=De.skuId,ke=De.applicationId,je=W.default.get(Le),Ue=j.default.getGame(ke)
;return null==je||null==Ue?null:ye(Q.default,{color:Q.NoticeColors.PREMIUM_TIER_1},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:Ue.name,skuName:je.name}),ye(Q.NoticeButton,{},void 0,ye(i.Link,{onClick:function(){return he()},to:{pathname:ae.Routes.APPLICATION_STORE_LISTING_SKU(je.id),state:{scrollRestoration:!1}}},void 0,ue.default.Messages.LEARN_MORE)));case ae.NoticeTypes.SURVEY:var Ge=L.metadata;if(null==Ge)return null;var Fe=Ge.key,xe=Ge.prompt,Be=Ge.cta,He=Ge.url;return ye(Q.default,{color:Q.NoticeColors.CUSTOM},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){(0,h.surveyHide)(Fe,!0)}}),xe,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){window.open(He,"_blank");(0,h.surveyHide)(Fe,!1)}
},void 0,Be));case ae.NoticeTypes.CORRUPT_INSTALLATION:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ue.default.Messages.NOTICE_CORRUPT_INSTALLATION,ye(Q.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,ue.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER}),ue.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,X.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){
return a.createElement(r,ce({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ue.default.Messages.DOWNLOAD));case ae.NoticeTypes.DISPATCH_ERROR:if(null==L.metadata)return null;var We=L.metadata.error;return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.DISPATCH_ERROR}),null==We?void 0:We.displayMessage,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DISPATCH_ERROR,onClick:function(){return(0,X.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(91965)]).then(n.bind(n,191965));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ue.default.Messages.LEARN_MORE));case ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:
if(null==L.metadata)return null;var Ve=L.metadata,Ye=Ve.progress,Ke=Ve.total,ze=Ve.name;return ye(Q.default,{color:Q.NoticeColors.DEFAULT},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return he()},noticeType:ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS}),ye(z.default,{justify:z.default.Justify.CENTER},void 0,null!=ze?ue.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+ze,progress:""+Ye,total:""+Ke}):ue.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+Ye,total:""+Ke}),ye($.default,{type:$.default.Type.PULSING_ELLIPSIS,className:le.default.ellipsis})));case ae.NoticeTypes.APPLICATION_TEST_MODE:return null==L.metadata?null:null!=V.default.testModeEmbeddedApplicationId?ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(z.default,{justify:z.default.Justify.CENTER,align:z.default.Align.CENTER},void 0,ye("div",{},void 0,ue.default.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({
applicationName:L.metadata.applicationName})),ye(Q.NoticeCloseButton,{onClick:g.reset,noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE}))):ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(z.default,{justify:z.default.Justify.CENTER,align:z.default.Align.CENTER},void 0,ye("div",{},void 0,ue.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:L.metadata.applicationName})),ye(ne.default,{dropdownSize:ne.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:le.default.testModeSKUSelector,color:ne.TestModeSKUButtonEnums.Colors.WHITE,look:ne.TestModeSKUButtonEnums.Looks.OUTLINED,size:ne.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return m.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:ae.AnalyticsSections.NOTIFICATION_BAR,object:ae.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:L.metadata.applicationId},void 0,ue.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),ye(Q.NoticeCloseButton,{onClick:g.reset,
noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE})));case ae.NoticeTypes.OUTBOUND_PROMOTION:return ye(Q.default,{color:Q.NoticeColors.PREMIUM_TIER_2},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){w.default.dismissOutboundPromotionNotice()}}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.OUTBOUND_PROMOTION_NOTICE,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){Z.default.track(ae.AnalyticEvents.OUTBOUND_PROMOTION_NOTICE_CLICKED);E.default.open(ae.UserSettingsSections.INVENTORY);w.default.dismissOutboundPromotionNotice()}},void 0,ue.default.Messages.TAKE_ME_THERE));case ae.NoticeTypes.VIEWING_ROLES:return Ie;case ae.NoticeTypes.PREMIUM_UNCANCEL:return ye(Q.default,{color:(null===(e=L.metadata)||void 0===e?void 0:e.premiumType)===ae.PremiumTypes.TIER_1?Q.NoticeColors.PREMIUM_TIER_1:Q.NoticeColors.PREMIUM_TIER_2},void 0,ye(Q.NoticeCloseButton,{
noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ye(q.default,{className:le.default.premiumIcon}),(null===(t=L.metadata)||void 0===t?void 0:t.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}):ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}),ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,X.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2395),n.e(25306),n.e(82269)]).then(n.bind(n,782287));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){var t;return a.createElement(r,ce({},e,{daysLeft:L.metadata.daysLeft,premiumType:null===(t=L.metadata)||void 0===t?void 0:t.premiumType,analyticsSource:"Nag Bar",premiumSubscription:L.metadata.premiumSubscription}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,(null===(r=L.metadata)||void 0===r?void 0:r.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,ye(Q.PrimaryCTANoticeButton,{
noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)
;E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_MISSING_PAYMENT:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(null===(o=L.metadata)||void 0===o?void 0:o.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}):ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}),ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t
;he(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,(null===(c=L.metadata)||void 0===c?void 0:c.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.BACK_TO_PREVIOUS_SCREEN:return ye(N.BackToPreviousScreenNotice,{buttonText:null!==(O=L.buttonText)&&void 0!==O?O:ue.default.Messages.GO_BACK,onGoBack:L.callback,onDismiss:function(){return he()},showCloseButton:!0});case ae.NoticeTypes.QUARANTINED:return ye(Q.default,{color:Q.NoticeColors.CUSTOM,className:le.default.quarantineNotice},void 0,ue.default.Messages.QUARANTINE_MODE_NOTICE,ye(K.default,{href:J.default.getArticleURL(ae.HelpdeskArticles.QUARANTINE),target:"_blank",className:le.default.quarantineLearnMoreLink
},void 0,ue.default.Messages.LEARN_MORE),ye(Q.NoticeButtonAnchor,{href:oe.QUARANTINE_APPEAL_LINK,target:"_blank"},void 0,ue.default.Messages.APPEAL_QUARANTINE));default:return null}})),{});function Ce(){return ye((0,b.default)(O.default.NOTICE).AnalyticsLocationProvider,{},void 0,Te)}Ce.displayName="NoticeWrapper"},229108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=h(n(667294)),i=m(n(536211)),u=h(n(720409)),l=m(n(321405)),s=m(n(902305)),d=m(n(603218)),f=m(n(218843)),c=m(n(871778)),p=m(n(949898)),v=m(n(365561)),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=((r={})[y.PictureInPictureComponents.VIDEO]=d.default,r[y.PictureInPictureComponents.EMBED_IFRAME]=l.default,r),O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowMove=function(e,t){u.moveTo(e,t)};return t}t.prototype.render=function(){var e=this.props,t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,a=e.maxY,o=e.theme,i=e.dockedRect,u=e.appContext;return g(v.default,{pictureInPictureComponents:S,selectedPIPWindow:t,pipWindows:n,maxX:r,maxY:a,dockedRect:i,theme:o,onWindowMove:this.handleWindowMove,appContext:u})};return t}(o.PureComponent);O.displayName="PictureInPictureContainer";var b=i.default.connectStores([f.default,s.default,p.default,c.default],(function(e){var t=e.showInPopoutWindow,n=void 0!==t&&t,r=s.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT),a=p.default.windowSize();if(r){var o=s.default.getWindow(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT);a=null==o?a:{width:o.innerWidth,height:o.innerHeight}}var i=f.default.pipWindows,u=r&&!n?null:f.default.pipWindow;return{selectedPIPWindow:u,pipWindows:i,
maxX:a.width,maxY:a.height,theme:c.default.theme,dockedRect:null!=u?f.default.getDockedRect(u.id):null,appContext:n?y.AppContext.POPOUT:void 0}}))(O);t.default=b},200574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(171236),i=n(536211),u=n(378158),l=A(n(55189)),s=A(n(711195)),d=A(n(326939)),f=A(n(788739)),c=A(n(290629)),p=A(n(663303)),v=A(n(946447)),y=A(n(728429)),m=A(n(870461)),_=A(n(160629)),h=A(n(325908)),g=A(n(582945)),E=n(956506),S=n(951530),O=A(n(922629)),b=A(n(810332)),I=n(770348),T=A(n(247001)),C=A(n(645320));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
;var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}
function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}var k=O.default.getEnableHardwareAcceleration();function j(e){var t=e.user,r=e.channel,m=(0,i.useStateFromStoresObject)([c.default,y.default,f.default],(function(){return c.default.isFriend(t.id)||t===y.default.getCurrentUser()?{status:f.default.getStatus(t.id),activities:f.default.getActivities(t.id)}:{}})),h=m.status,g=m.activities,S=(0,i.useStateFromStores)([v.default],(function(){return null!=v.default.getTypingUsers(r.id)[t.id]})),O=(0,i.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()})),C=(0,i.useStateFromStores)([f.default],(function(){return f.default.isMobileOnline(t.id)})),A=(0,i.useStateFromStores)([c.default],(function(){
return c.default.getNickname(t.id)})),M=function(e){(0,u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,w({},e,{user:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};return R(_.default,{preload:function(){return(0,s.default)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return a.createElement(d.default,w({},e,{userId:t.id,channelId:r.id}))},position:o.isMobile?_.default.Positions.WINDOW_CENTER:_.default.Positions.LEFT,spacing:16,onShiftClick:function(){var e="@"+(p.default.hidePersonalInformation?t.username:t.tag),n="<@!"+t.id+">";E.ComponentDispatch.dispatchToLastSubscribed(I.ComponentActions.INSERT_TEXT,{plainText:e,rawText:n});l.default.startTyping(r.id)}
},void 0,(function(e){return a.createElement(b.default,w({key:t.id,user:t,currentUser:O,isOwner:t.id===r.ownerId,ownerTooltipText:T.default.Messages.GROUP_OWNER,shouldAnimateStatus:k,isTyping:S,status:h,activities:g,channel:r,onContextMenu:M,isMobile:C,nick:A},e))}))}j.displayName="PrivateChannelRecipient";function U(e){var t=e.channel,n=y.default.getCurrentUser(),r=null==n?void 0:n.isStaff(),o=(0,i.useStateFromStoresArray)([y.default],(function(){return(0,S.getRecipients)(t.recipients,y.default)}),[t.recipients]);a.useEffect((function(){if(r)for(var e,t=N(o);!(e=t()).done;){var n=e.value;(0,s.default)(n.id,n.getAvatarURL(void 0,80),{dispatchWait:!0})}}),[r,o]);var u=r&&o.every((function(e){return e.isStaff()}));return R("div",{className:C.default.membersWrap},void 0,R(g.default,{className:C.default.members,fade:!0},void 0,R(h.default,{className:C.default.membersGroup},void 0,T.default.Messages.MEMBERS+"—"+o.length+" ",u?R(m.default,{className:C.default.decorator,
type:m.default.Types.STAFF_ONLY_DM}):null),o.map((function(e){return R(j,{user:e,channel:t},e.id)}))))}U.displayName="PrivateChannelRecipients"},272356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ve;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=Z(n(294184)),i=Z(n(193747)),u=n(798628),l=n(536211),s=n(923387),d=n(973400),f=Z(n(305081)),c=n(344014),p=n(660065),v=n(372926),y=n(933601),m=n(746521),_=n(152960),h=Z(n(809105)),g=n(467428),E=Z(n(260786)),S=Z(n(922147)),O=n(835282),b=Z(n(136798)),I=Z(n(527820)),T=n(894826),C=Z(n(191839)),A=Z(n(290629)),M=Z(n(871778)),N=Z(n(728429)),P=Z(n(146771)),R=Z(n(840771)),w=Z(n(399561)),D=Z(n(311256)),L=n(644105),k=Z(n(262134)),j=Z(n(161669)),U=Z(n(41024)),G=Z(n(652047)),F=n(598671),x=n(838583),B=n(820134),H=n(517880),W=Z(n(51079)),V=Z(n(983551)),Y=n(770348),K=Z(n(247001)),z=Z(n(177790)),$=["selected"],q=["selected","hideGameUpdateProgressIndicator"],X=["selected","route","locationState"],Q=["selected","messageRequestsCount"];function Z(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(){ne=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ne.apply(this,arguments)}function re(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ae(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var oe=function(e){var t=e.selected,n=ae(e,$),r=(0,u.useListItem)("friends"),o=(0,l.useStateFromStores)([A.default],(function(){return A.default.getPendingCount()}));return a.createElement(H.LinkButton,ne({selected:t,route:Y.Routes.FRIENDS,icon:G.default,
text:K.default.Messages.FRIENDS},n,r),o>0?re(F.NumberBadge,{count:o}):null)};oe.displayName="FriendsButton";var ie=function(e){var t,n=e.selected,r=e.hideGameUpdateProgressIndicator,i=ae(e,q),l=(0,u.useListItem)("library");return a.createElement(H.LinkButton,ne({selected:n,route:Y.Routes.APPLICATION_LIBRARY,icon:k.default,text:K.default.Messages.LIBRARY},i,l),re(V.default,{className:(0,o.default)(z.default.downloadProgressCircle,(t={},t[z.default.hideGameUpdateProgressIndicator]=r,t))}))};ie.displayName="LibraryButton";var ue=re(E.default,{}),le=re(h.default,{}),se=function(e){var t,n,r=e.selected,o=e.route,i=e.locationState,d=ae(e,X),c=(0,l.useStateFromStores)([N.default],(function(){return N.default.getCurrentUser()})),h=(0,l.useStateFromStores)([P.default],(function(){return P.default.getPremiumTypeSubscription()})),E=(0,v.useShouldShowPremiumTier0Badge)(),O=(0,u.useListItem)("nitro"),b=(0,_.usePremiumTrialOffer)(),I=(0,
y.useIsPromoEnabled)(p.LocalizedPricingPromoEntryPoint.Badge)&&null==b,T=(0,m.useBogoPromotionForPremiumTab)().shouldShowUpsells;if(!(r||null!=b||null!=c&&Date.now()-c.createdAt.getTime()>7776e6||(0,x.hasPremiumSubscriptionToDisplay)(c,h)||E))return null;if(E){n=re(f.default,{contentTypes:[s.DismissibleContent.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE]},void 0,(function(e){if(e.visibleContent===s.DismissibleContent.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE)return re("div",{className:z.default.premiumTier0Badge},void 0,ue)}));t=z.default.premiumTier0BadgeLinkButton}else if(null!=b)n=re(S.default,{trialOffer:b,isTabSelected:r});else if(I){n=re(g.LocalizedPricingBadgeIcon,{entryPoint:g.BadgeEntryPoint.PrivateMessages});r||(t=z.default.localizedPricingBadge)}else T&&(n=le);return a.createElement(H.LinkButton,ne({selected:r,route:o,icon:U.default,text:K.default.Messages.PREMIUM,locationState:i},d,O,{className:t}),n)};se.displayName="NitroButton";var de=function(e){
var t=e.selected,n=e.messageRequestsCount,r=ae(e,Q),o=(0,u.useListItem)("messageRequests");return a.createElement(H.LinkButton,ne({selected:t,route:Y.Routes.MESSAGE_REQUESTS,icon:j.default,text:K.default.Messages.MESSAGE_REQUESTS},r,o),re(F.NumberBadge,{count:n}))};de.displayName="MessageRequestButton";var fe=function(){return(0,O.show)("DM_SEARCH")};function ce(e){switch(e){case Y.Routes.APPLICATION_LIBRARY:return Y.AnalyticsPages.LIBRARY;case Y.Routes.FRIENDS:return Y.AnalyticsPages.FRIENDS_LIST}return e.startsWith(Y.Routes.APPLICATION_STORE)?e===Y.Routes.APPLICATION_STORE?Y.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(Y.Routes.APPLICATION_STORE)?Y.AnalyticsPages.STORE_DIRECTORY_BROWSE:Y.AnalyticsPages.STORE_LISTING:Y.AnalyticsPages.DM_CHANNEL}var pe=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,r=e.homeLink,o=e.storeLink,u=e.premiumTabSelected,l=ee((0,b.default)((function(e){return[e.channelId,e.path]}),i.default),2),s=l[0],f=l[1],p=(0,
d.useIsMessageRequestsEnabled)(),v=(0,c.useMessageRequestsCount)();return re("nav",{className:z.default.privateChannels,"aria-label":K.default.Messages.PRIVATE_CHANNELS_A11Y_LABEL},void 0,re(I.default,{tutorialId:"direct-messages",position:L.PopoutPositions.RIGHT,offsetX:-52},void 0,re("div",{className:z.default.searchBar},void 0,re("button",{type:"button",className:z.default.searchBarComponent,onClick:fe},void 0,K.default.Messages.DM_SEARCH_PLACEHOLDER))),a.createElement(W.default,ne({},e,{version:f,selectedChannelId:s,showDMHeader:!0}),re(oe,{selected:null!=f?f===Y.Routes.FRIENDS:r===Y.Routes.FRIENDS},"friends"),n&&t?re(ie,{selected:null==f?null!=r&&r.startsWith(Y.Routes.APPLICATION_LIBRARY):f.startsWith(Y.Routes.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:r===Y.Routes.APPLICATION_LIBRARY},"library"):null,re(se,{selected:null==f?u:f.startsWith(Y.Routes.APPLICATION_STORE),route:null==o||location.pathname.startsWith(Y.Routes.APPLICATION_STORE)?Y.Routes.APPLICATION_STORE:o,
locationState:{analyticsSource:{page:ce(r),section:Y.AnalyticsSections.NAVIGATION,object:Y.AnalyticsObjects.NAVIGATION_LINK}}},"premium"),p&&v>0?re(de,{messageRequestsCount:v,selected:null==f?null!=r&&r.startsWith(Y.Routes.MESSAGE_REQUESTS):f===Y.Routes.MESSAGE_REQUESTS},"message-requests"):null))};pe.displayName="PrivateChannels";function ve(){var e=(0,l.useStateFromStores)([D.default],(function(){return D.default.getHomeLink()})),t=(0,l.useStateFromStores)([w.default],(function(){if(e===Y.Routes.APPLICATION_STORE)return!0;var t=(0,B.getSKUIdFromURL)(e);if(null!=t){var n,r;return null!==(n=null===(r=w.default.get(t))||void 0===r?void 0:r.premium)&&void 0!==n&&n}return!1}),[e]),n=!T.DisableGamesTab.useSetting(),r=(0,l.useStateFromStoresObject)([M.default],(function(){return{theme:M.default.theme}})).theme,a=(0,l.useStateFromStores)([C.default],(function(){return C.default.hasLibraryApplication()})),o=(0,l.useStateFromStores)([R.default],(function(){return R.default.getCurrentPath()}))
;return re(pe,{theme:r,showLibrary:n,hasLibraryApplication:a,storeLink:o,homeLink:e,premiumTabSelected:t})}ve.displayName="PrivateChannelsConnected"},989418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(536211)),u=v(n(221185)),l=v(n(534930)),s=v(n(530250)),d=n(160629),f=v(n(358696)),c=v(n(247001)),p=v(n(949391));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(y=function(e){return e?n:t})(e)}function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g={position:d.Positions.BOTTOM,autoInvert:!1},E=function(e){var t=e.region,n=e.className;return h("div",{className:void 0===n?p.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};E.displayName="RegionName";var S=function(e){m(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){
var e=this.props,t=e.region,n=e.selected;return h(s.default,{align:s.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,h(E,{region:t,className:p.default.regionSelectName}),n?h("i",{className:p.default.check}):null)};return t}(a.PureComponent);S.displayName="RegionItem";var O=function(e){m(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return h(S,{region:e.value,selected:t},e.value.id)};t.getSelectedRegion=function(){var e,n=t.props,r=n.regions,a=n.call;return a.regionUpdated&&null!=r&&null!=a.region?null!==(e=r.find((function(e){return e.id===a.region})))&&void 0!==e?e:{name:a.region,id:a.region}:{id:"automatic",name:c.default.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};t.handleChangeVoiceRegion=function(e){var n=e.value,r=t.props.call.channelId;u.default.changeCallRegion(r,n.id)};return t}var n=t.prototype;n.componentDidMount=function(){
null==this.props.regions&&u.default.fetchRegions(null)};n.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},r=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return h(f.default,{label:c.default.Messages.REGION,options:r,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutClassName:p.default.regionSelectPopout})};return t}(a.PureComponent);O.displayName="QuickRegionSelect";var b=i.default.connectStores([l.default],(function(){return{regions:l.default.getRegions(null)}}))(O);t.default=b},686923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=M(n(667294)),o=C(n(294184)),i=n(536211),u=C(n(257175)),l=C(n(133464)),s=M(n(145122)),d=C(n(958474)),f=C(n(241505)),c=n(678620),p=n(894826),v=C(n(423086)),y=C(n(956117)),m=C(n(730977)),_=C(n(930600)),h=C(n(12713)),g=n(194322),E=n(660590),S=C(n(308920)),O=n(873838),b=n(770348),I=C(n(247001)),T=C(n(830332));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value
}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){var t=e.status,n=e.description,r=e.focused;return w("div",{className:T.default.statusItem
},void 0,w(E.Status,{status:t,className:T.default.icon,size:10,color:r?"currentColor":void 0}),w("div",{className:T.default.status},void 0,(0,O.humanizeStatus)(t)),null!=n&&w("div",{className:T.default.description},void 0,n))}D.displayName="StatusMenuItem";function L(e){var t=e.customStatus,n=function(e){e.stopPropagation();p.CustomStatusSetting.updateSetting(void 0)};return null!=t?w("div",{"aria-label":I.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,w(l.default,{className:null!=t.emoji?T.default.customStatusWithEmoji:T.default.customStatusItem,activity:t,emojiClassName:T.default.customEmoji,textClassName:T.default.customText,placeholderText:I.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,w(m.default,{text:I.default.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS},void 0,(function(e){return a.createElement(y.default,R({},e,{className:T.default.clearStatusButton,onClick:n,look:y.default.Looks.BLANK,size:y.default.Sizes.NONE,tabIndex:-1,
"aria-hidden":!0}),w(_.default,{className:T.default.clearStatusIcon}))})))):w("div",{className:(0,o.default)(T.default.statusItem,T.default.customStatusContentIcon),"aria-label":I.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS},void 0,w("div",{className:T.default.customEmojiPlaceholder}),w("div",{className:T.default.status},void 0,I.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS))}function k(e){var t=e.focused;return w("div",{className:(0,o.default)(T.default.statusItem,T.default.statusItemNoPadding,T.default.customStatusContentIcon,T.default.switchAccountsItem),"aria-label":I.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE},void 0,w(h.default,{width:18,height:18,className:T.default.switchAccountsIcon,color:t?b.Colors.WHITE:"currentColor"}),w("div",{className:T.default.status},void 0,I.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE))}k.displayName="SwitchAccountsMenuItem";var j=w(s.MenuSeparator,{}),U=w(s.MenuSeparator,{}),G=w(s.MenuSeparator,{}),F=function(e){
var t=e.customStatus,r=e.onClose,o=e.analyticsContext,i=e.onSelect,u=(0,c.useMultiAccountMenuItems)();a.useEffect((function(){S.default.track(b.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:o.location})}),[]);var l=function(e){(0,d.default)(e,void 0,{location:o.location})},p=w(L,{customStatus:t});return w(s.default,{navId:"status-picker",style:s.MenuStyle.FIXED,"aria-label":I.default.Messages.SET_STATUS,onClose:r,onSelect:i},void 0,w(s.MenuItem,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.ONLINE,focused:t})},action:function(){return l(E.StatusTypes.ONLINE)}}),j,w(s.MenuItem,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.IDLE,focused:t})},action:function(){return l(E.StatusTypes.IDLE)}}),w(s.MenuItem,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.DND,
description:I.default.Messages.STATUS_DND_HELP,focused:t})},action:function(){return l(E.StatusTypes.DND)}}),w(s.MenuItem,{id:"invisible",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.INVISIBLE,description:I.default.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return l(E.StatusTypes.INVISIBLE)}}),U,w(s.MenuItem,{id:"custom-status",keepItemStyles:!0,render:function(){return p},action:function(){(0,g.openModalLazy)(P(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{sourceAnalyticsContext:o}))}));case 5:case"end":return e.stop()}}),e)}))))}}),G,w(s.MenuItem,{id:"switch-account",action:f.default,label:function(e){return w(k,{focused:e.isFocused})}},"switch-account",u))}
;F.displayName="StatusPickerPopout";var x=(0,u.default)((function(e){var t=(0,i.useStateFromStores)([v.default],(function(){return v.default.getCustomStatusActivity()})),n=p.StatusSetting.useSetting();return a.createElement(F,R({},e,{customStatus:t,status:n}))}));t.default=x},424670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie;var r,a=z(n(667294)),o=Y(n(294184)),i=Y(n(496486)),u=z(n(798628)),l=n(171236),s=n(536211),d=n(378158),f=Y(n(55189)),c=Y(n(235879)),p=n(832215),v=n(632123),y=n(75639),m=n(252404),_=n(84902),h=Y(n(698099)),g=Y(n(711195)),E=Y(n(326939)),S=Y(n(607209)),O=Y(n(876874)),b=Y(n(30098)),I=Y(n(788739)),T=Y(n(690445)),C=Y(n(663303)),A=Y(n(946447)),M=Y(n(728429)),N=n(772575),P=Y(n(160629)),R=n(645758),w=Y(n(571830)),D=Y(n(999720)),L=Y(n(547282)),k=Y(n(325908)),j=Y(n(827436)),U=Y(n(521358)),G=n(956506),F=Y(n(922629)),x=z(n(810332)),B=n(770348),H=Y(n(247001)),W=Y(n(645320)),V=Y(n(160957));function Y(e){return e&&e.__esModule?e:{default:e}
}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var ee=F.default.getEnableHardwareAcceleration();function te(e){var t=e.channel,r=e.sectionId,o=e.userId,i=(0,s.useStateFromStores)([A.default],(function(){return A.default.isTyping(t.id,o)})),c=(0,s.useStateFromStores)([O.default],(function(){return O.default.getMember(t.guild_id,o)})),p=(0,s.useStateFromStores)([b.default],(function(){var e,n
;return null!=(null==c?void 0:c.colorRoleId)?null===(e=b.default.getGuild(t.guild_id))||void 0===e||null===(n=e.getRole(c.colorRoleId))||void 0===n?void 0:n.name:void 0}),[t.guild_id,c]),v=(0,s.useStateFromStores)([M.default],(function(){return M.default.getUser(o)})),m=(0,s.useStateFromStores)([M.default],(function(){return M.default.getCurrentUser()})),_=(null==v?void 0:v.id)===(null==m?void 0:m.id),N=(0,s.useStateFromStores)([I.default,T.default],(function(){return _?T.default.getStatus():I.default.getStatus(o,t.guild_id)})),R=(0,s.useStateFromStores)([I.default],(function(){return I.default.isMobileOnline(o)})),w=(0,s.useStateFromStores)([I.default,T.default],(function(){return _?T.default.getActivities():I.default.getActivities(o,t.guild_id)})),D=(0,s.useStateFromStores)([S.default],(function(){return S.default.getStreamForUser(o)})),L=(0,u.useListItem)(o),k=(0,s.useStateFromStores)([h.default],(function(){return h.default.canUserViewChannel(t.id,r,o)
})),j=a.useCallback((function(e){null!=v&&(0,d.openContextMenuLazy)(e,J(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(50690),n.e(46537)]).then(n.bind(n,863893));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Q({},e,{user:v,guildId:t.guild_id,channelId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))}),[v,t]),U=a.useCallback((function(){if(null!=v){var e="@"+(C.default.hidePersonalInformation?v.username:v.tag),n="<@!"+v.id+">";G.ComponentDispatch.dispatchToLastSubscribed(B.ComponentActions.INSERT_TEXT,{plainText:e,rawText:n});f.default.startTyping(t.id)}}),[v,t]),F=a.useCallback((function(e){e.stopPropagation();(0,y.openGuildBoostingMarketingModal)({guildId:t.guild_id,location:{section:B.AnalyticsSections.THREAD_MEMBER_LIST,object:B.AnalyticsObjects.BOOST_GEM_ICON}})}),[t.guild_id])
;if(null==v)return null;var W=null==c?void 0:c.premiumSince;return X(P.default,{preload:function(){return(0,g.default)(v.id,v.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(E.default,Q({},e,{userId:v.id,guildId:t.guild_id,channelId:t.id}))},position:l.isMobile?P.default.Positions.WINDOW_CENTER:P.default.Positions.LEFT,spacing:16,onShiftClick:U},void 0,(function(e,n){var r=n.isShown;return a.createElement(x.default,Q({onContextMenu:j,shouldAnimateStatus:ee,user:v,currentUser:m,nick:null==c?void 0:c.nick,status:N,activities:w,colorString:null==c?void 0:c.colorString,colorRoleName:p,isTyping:i,channel:t,guildId:t.guild_id,isMobile:R,selected:r,applicationStream:D,premiumSince:null==W?null:new Date(W),onClickPremiumGuildIcon:F,itemProps:L,lostPermissionTooltipText:k?void 0:H.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS},e))}))}te.displayName="ThreadMember";var ne=X(D.default,{width:12,height:12});var re=a.memo(te),ae=a.memo((function(e){
var t=e.id,n=e.label,r=e.count,o=e.guildId,i=(0,m.useRoleIcon)({roleId:t,guildId:o,size:16});return t===B.StatusTypes.UNKNOWN?X("div",{className:W.default.membersGroup},void 0,X("div",{className:W.default.memberGroupsPlaceholder})):X(k.default,{className:W.default.membersGroup,"aria-label":H.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})},void 0,null!=i?a.createElement(j.default,Q({className:W.default.roleIcon},i)):null,X("span",{"aria-hidden":!0},void 0,n," — ",r))})),oe=a.memo((function(e){return e.channel.type===B.ChannelTypes.PRIVATE_THREAD?a.createElement(a.Fragment,null,X("div",{className:V.default.divider}),X(R.Text,{variant:"text-xs/normal",color:"header-secondary",className:V.default.private},void 0,ne," ",H.default.Messages.THREAD_BROWSER_PRIVATE),X(R.Text,{variant:"text-sm/normal",color:"header-secondary",className:V.default.instructions},void 0,H.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS)):null}));function ie(e){
var t=e.channel,n=e.guild,r="members-"+t.id,l=(0,_.useThreadMemberListSections)(t.id,n),d=l.filter((function(e){return e.userIds.length>0})).reverse()[0],f=(0,p.useGlobalHasAvatarDecorations)().canUseAvatarDecorations?44+x.AVATAR_DECORATION_PADDING:44,y=function(e,t){var n=(0,s.useStateFromStores)([c.default],(function(){return c.default.keyboardModeEnabled})),r=a.useRef(null),o=a.useCallback((function(e,n){var a=r.current;if(null!=a){var o=parseInt(n,10),i=$(a.getSectionRowFromIndex(o),2),u=i[0],l=i[1],s=0===u&&0===l?t:0;a.scrollToIndex({section:u,row:l,padding:s,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[t]),i=a.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),l=a.useCallback((function(){return new Promise((function(e){
var t=r.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]);return{navigator:(0,u.default)({id:e,setFocus:o,isEnabled:n,scrollToStart:i,scrollToEnd:l}),listRef:r}}(r,f),m=y.navigator,h=y.listRef;if(0===l.length||l.every((function(e){return 0===e.userIds.length})))return X(le,{channel:t});var g=i.default.omit(m.containerProps,["ref"]),E=X(oe,{channel:t},"footer");return X(u.ListNavigatorProvider,{navigator:m},void 0,X(v.FocusJumpSection,{},void 0,(function(e){return X("div",{className:(0,o.default)(W.default.membersWrap,W.default.hiddenMembers)},void 0,a.createElement(U.default,Q({key:r,ref:h,className:W.default.members,paddingTop:0,sectionHeight:40,renderSection:function(e){var t=e.section,r=l[t];return X(ae,{id:r.id,label:r.label,count:r.userIds.length,guildId:n.id},r.id)},rowHeight:f,renderRow:function(e){var n=e.section,r=e.row,a=l[n],o=a.userIds,i=a.id;return X(re,{channel:t,sectionId:i,
userId:o[r]},o[r])},footerHeight:function(e){return l[e]===d&&t.type===B.ChannelTypes.PRIVATE_THREAD?80:0},renderFooter:function(e){return l[e.section]===d?E:null},innerAriaLabel:H.default.Messages.MEMBERS,innerTag:"ul",sections:l.map((function(e){return e.userIds.length})),fade:!0},g,e)))})))}ie.displayName="ThreadMembers";var ue=X(L.default,{width:32,height:32});function le(e){var t=e.channel;return X("div",{className:(0,o.default)(W.default.membersWrap,W.default.hiddenMembers,W.default.members,V.default.emptyState)},void 0,X(R.Text,{className:V.default.emptyStateHeader,variant:"text-xs/normal",color:"interactive-normal"},void 0,H.default.Messages.MEMBERS),X("div",{className:V.default.emptyStateIconContainer},void 0,X("div",{className:V.default.emptyStateIcon},void 0,ue),X(w.default,{className:V.default.emptyStateStars})),X(N.Heading,{variant:"heading-md/medium",level:3
},void 0,t.isForumPost()?H.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:H.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER),X(R.Text,{className:V.default.emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary"},void 0,H.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT))}le.displayName="EmptyState"},998872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Ot(n(667294)),o=n(517563),i=n(505977),u=n(473727),l=Et(n(536211)),s=Et(n(939949)),d=Et(n(241165)),f=n(988754),c=Et(n(415275)),p=Et(n(737863)),v=Et(n(136873)),y=Ot(n(446637)),m=Et(n(226800)),_=Et(n(235879)),h=Et(n(178235)),g=Et(n(206566)),E=Et(n(967160)),S=Et(n(697749)),O=Et(n(765304)),b=Et(n(676817)),I=n(621287),T=Et(n(190065)),C=Et(n(694450)),A=Et(n(316309)),M=Et(n(235398)),N=Et(n(121791)),P=Et(n(175344)),R=Et(n(200092)),w=Et(n(730034)),D=Et(n(480519)),L=Et(n(697786)),k=Et(n(475859)),j=Et(n(719192)),U=Et(n(638534)),G=Et(n(979701)),F=Et(n(175881)),x=Et(n(344368)),B=Et(n(735592)),H=Et(n(829392)),W=Et(n(519386)),V=Et(n(782950)),Y=Et(n(100223)),K=Et(n(873113)),z=Et(n(1110)),$=Et(n(660204)),q=Et(n(701593)),X=n(452453),Q=Et(n(789620)),Z=Et(n(218813)),J=Et(n(936747)),ee=Et(n(419523)),te=Et(n(476115)),ne=Et(n(316200)),re=Et(n(401638)),ae=Et(n(171627)),oe=Et(n(152577)),ie=Et(n(31427)),ue=Et(n(486030)),le=n(520310),se=Et(n(900996)),de=Et(n(456247)),fe=Et(n(516869)),ce=Et(n(524439)),pe=Et(n(332405)),ve=Et(n(885159)),ye=Et(n(554147)),me=Et(n(982401)),_e=Et(n(496357)),he=Et(n(487017)),ge=Et(n(110210)),Ee=Et(n(231765)),Se=Et(n(632578)),Oe=Et(n(216920)),be=Et(n(764517)),Ie=Et(n(348612)),Te=Et(n(329697)),Ce=n(923604),Ae=n(139982),Me=Et(n(804135)),Ne=Et(n(478910)),Pe=Et(n(394444)),Re=Et(n(954500)),we=Et(n(342716)),De=Et(n(525339)),Le=Et(n(772145)),ke=Et(n(965484)),je=Et(n(340877)),Ue=n(910992),Ge=Et(n(418968)),Fe=Et(n(77670)),xe=Et(n(409501)),Be=Et(n(594506)),He=Et(n(859566)),We=Et(n(300433)),Ve=Et(n(474628)),Ye=Et(n(555325)),Ke=Et(n(350539)),ze=Et(n(423046)),$e=Et(n(908463)),qe=Et(n(644263)),Xe=Et(n(544196)),Qe=Et(n(23535)),Ze=Et(n(30098)),Je=Et(n(122913)),et=Et(n(191839)),tt=Et(n(211136)),nt=Et(n(790597)),rt=Et(n(52694)),at=Et(n(474261)),ot=Et(n(424099)),it=Et(n(797512)),ut=Et(n(96978)),lt=Et(n(944537)),st=Et(n(432310)),dt=Et(n(853068)),ft=n(194322),ct=n(864489),pt=Et(n(922629)),vt=Ot(n(409873)),yt=Et(n(825469)),mt=Et(n(678306)),_t=n(770348),ht=n(173652),gt=n(754949)
;n(259477);n(203855);n(730655);n(101820);n(913955);n(438312);n(455286);n(433512);n(937035);n(399561);n(625424);n(358091);n(359973);n(587840);n(516818);n(816624);n(350957);n(243336);n(491462);n(42398);n(847583);function Et(e){return e&&e.__esModule?e:{default:e}}function St(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(St=function(e){return e?n:t})(e)}function Ot(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=St(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=It(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function It(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function At(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ct(o,r,a,i,u,"next",e)}function u(e){
Ct(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Mt(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Nt(e,t)}function Nt(e,t){Nt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Nt(e,t)}function Pt(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();Me.default.loadServer();if(ct.isPlatformEmbedded){pt.default.on("USER_SETTINGS_OPEN",(function(){Je.default.getLayers().includes(_t.Layers.USER_SETTINGS)||m.default.open(_t.UserSettingsSections.ACCOUNT)}));pt.default.on("LAUNCH_APPLICATION",(function(e,t){var n=et.default.getActiveLibraryApplication(t)
;vt.playApplication(t,n,{analyticsParams:{location:{page:_t.AnalyticsPages.DIRECT,object:_t.AnalyticsObjects.WEB_URL}}})}))}function Rt(e){var t=e.match,n=e.location,r=(0,o.parse)(n.search).friend_token,a=t.params.id;p.default.call((function(){return(0,Ue.openUserProfileModal)({userId:a,guildId:_t.ME,friendToken:r,analyticsLocation:{section:_t.AnalyticsSections.DIRECT_ROUTE_ACCESS}})}));return Pt(u.Redirect,{to:Xe.default.defaultRoute})}Rt.displayName="renderUserProfileRedirector";function wt(e){var t=e.match.params,n=t.guildId,r=t.guildEventId;p.default.call((function(){(0,X.openGuildEventDetails)({eventId:r})}));return Pt(u.Redirect,{to:_t.Routes.CHANNEL(n)})}wt.displayName="renderGuildEventRedirector";function Dt(e){var t,n,r=e.match,a=/-/g,o=null===(t=r.params.section)||void 0===t?void 0:t.toUpperCase().replace(a,"_"),i=null===(n=r.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(a,"_"),l=(0,We.default)({}).filter((function(e){var t
;return!1===(null===(t=e.predicate)||void 0===t?void 0:t.call(e))})).map((function(e){return e.section}));!_t.UserSettingsSections.hasOwnProperty(o)||!["SESSIONS"].includes(o)&&l.includes(_t.UserSettingsSections[o])||null!=i&&""!==i&&(!_t.UserSettingsSections.hasOwnProperty(i)||l.includes(_t.UserSettingsSections[i]))||p.default.call((function(){return m.default.open(_t.UserSettingsSections[o],i)}));return Pt(u.Redirect,{to:Xe.default.defaultRoute})}Dt.displayName="renderUserSettingsRedirector";function Lt(){p.default.call((function(){return m.default.open(_t.UserSettingsSections.INVENTORY)}));return Pt(u.Redirect,{to:Xe.default.defaultRoute})}Lt.displayName="renderGiftInventoryRedirector";function kt(e){var t=e.match.params.date,n=$e.default.changeLog,r=(0,o.parse)(location.search);if(null!=t&&null!=n){if(new Date(t)>new Date(n.date)){var a=r.utm_campaign_current,i=r.utm_content_current,l=r.utm_medium_current,s=r.utm_source_current,f=r.utm_term_current,c=(0,o.stringify)({
utm_campaign_current:a,utm_content_current:i,utm_medium_current:l,utm_source_current:s,utm_term_current:f});window.location=_t.Routes.CHANGELOGS()+"?"+c}}p.default.call((function(){return d.default.showChangeLog(r)}));return Pt(u.Redirect,{to:Xe.default.defaultRoute})}kt.displayName="renderChangeLogRedirector";function jt(){p.default.call((function(){return R.default.openCreateGuildModal({location:"External link"})}));return Pt(u.Redirect,{to:Xe.default.defaultRoute})}jt.displayName="createGuildModalRedirector";function Ut(e){var t=e.match.params,n=t.guildId,r=t.channelId;(0,le.setNewUser)(gt.NewUserTypes.MARKETING_UNCLAIMED);var a=_t.Routes.CHANNEL(n,r);return Pt(u.Redirect,{to:a})}Ut.displayName="renderWelcomeRedirector";var Gt=l.default.connectStores([Qe.default,Xe.default,ze.default],(function(){return{isConnected:Qe.default.isConnected(),defaultRoute:Xe.default.defaultRoute,defaultRouteFallback:Xe.default.fallbackRoute,token:ze.default.getToken()}}))(function(e){Mt(t,e)
;function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,r=e.token,a=e.defaultRouteFallback;if(null==r)return Pt(u.Redirect,{to:_t.Routes.DEFAULT_LOGGED_OUT});if(t){var o=qt(n);return null==o||(o.params.guildId===_t.ME||null!=Ze.default.getGuild(o.params.guildId))&&null!=qe.default.getChannel(o.params.channelId)?Pt(u.Redirect,{to:n}):Pt(u.Redirect,{to:a})}return null};return t}(a.Component));function Ft(e){var t=e.match.params,n=t.gameId,r=t.action;st.default.whenInitialized((function(){et.default.whenInitialized((function(){switch(r){case"launch":var e=et.default.getActiveLibraryApplication(n);if(null==e)return;vt.playApplication(e.id,e,{analyticsParams:{location:{page:_t.AnalyticsPages.DIRECT,object:_t.AnalyticsObjects.WEB_URL}}});break;case"test-mode":ot.default.whenInitialized((function(){return y.authorizeAndSetTestModeApplication(n)}));break;case"uninstall":var t=et.default.getActiveLibraryApplication(n)
;if(null==t)return;(0,f.uninstallBranchPrompt)(t.id,t.branchId,_t.AnalyticsLocations.URI_SCHEME)}}))}));return Pt(u.Redirect,{to:_t.Routes.APPLICATION_LIBRARY})}Ft.displayName="gameLibraryActionRedirector";var xt,Bt=(0,I.makeAuthenticated)(yt.default,null,{passProps:!1}),Ht=(0,I.makeAuthenticated)((function(e){var t=e.match.params.applicationId;p.default.call(At(regeneratorRuntime.mark((function e(){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,377278));case 2:r=e.sent;a=r.ApplicationDirectoryUserExperiment;if(!(o=a.getCurrentConfig({})).canViewProfile){e.next=11;break}e.next=8;return Promise.resolve().then(n.bind(n,968299));case 8:i=e.sent;(0,i.openApplicationDirectoryModal)(void 0,t,!o.enabled);case 11:case"end":return e.stop()}}),e)}))));return Pt(u.Redirect,{to:Xe.default.defaultRoute})})),Wt=[_t.Routes.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){
if(Array.isArray(e))return Tt(e)}(xt=ht.StaticChannelRoutes.map((function(e){return _t.Routes.CHANNEL(":guildId",e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(xt)||It(xt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function Vt(e){var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,i=void 0===o?null:o;return{guildId:null!=n?n:_t.ME,channelId:a,messageId:i}}var Yt=Pt(Gt,{}),Kt=[{path:[_t.Routes.APP],render:function(){return Yt},isSessionRequired:!0},{path:[_t.Routes.USERS(":id")],render:Rt},{path:[_t.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:Ft},{path:[_t.Routes.GUILD_CREATE],render:jt},{path:[_t.Routes.CHANGELOGS(":date?")],render:kt,isSessionRequired:!0},{path:[_t.Routes.SETTINGS(":section",":subsection?")],render:Dt,isSessionRequired:!0},{
path:[_t.Routes.APPLICATION_LIBRARY_INVENTORY],render:Lt,isSessionRequired:!0},{path:[_t.Routes.WELCOME(":guildId?",":channelId?")],render:Ut,isSessionRequired:!0},{path:[_t.Routes.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:wt,isSessionRequired:!0},{path:[_t.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),_t.Routes.ACTIVITY,_t.Routes.APPLICATION_LIBRARY,_t.Routes.APPLICATION_STORE,_t.Routes.MESSAGE_REQUESTS,_t.Routes.GUILD_DISCOVERY,_t.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),_t.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),_t.Routes.GUILD_BOOSTING_MARKETING(":guildId"),_t.Routes.FEATURE(":feature"),_t.Routes.PREMIUM_MARKETING_SURFACE],render:Bt,isSessionRequired:!0,isChatRoute:!0},{path:[_t.Routes.APPLICATION_DIRECTORY(":applicationId?")],render:Ht,isSessionRequired:!0}];function zt(e){if(!Qe.default.isConnected()&&!Qe.default.isTryingToConnect()){var t=ze.default.getToken();if(null!=t){var n=function(e){
for(var t,n=bt(Kt);!(t=n()).done;){var r=t.value,a=r.path;if(r.isSessionRequired){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}(e);null!=n&&s.default.startSession(t)}}}function $t(e){var t=qt(e);if(null!=t){var n=Vt(t),r=n.guildId,a=n.channelId,o=n.messageId,u=(0,Ce.isValidGuildId)(r),l=(0,Ce.isValidChannelId)(a),s=nt.default.getGuildId(),d=s!==r;u&&d&&c.default.selectGuild(r);if(u&&l){var f=tt.default.getChannelId(s)!==a;(d||f||null!=o)&&v.default.selectChannel({guildId:r,channelId:a,messageId:o});var p=ie.default.getIsOpen(),y=f&&p,m=!d&&!f;if(a===ht.StaticChannelRoute.ROLE_SUBSCRIPTIONS)oe.default.closeSidebar();else if(d&&p){var _=null==s&&r===_t.ME,h=e===_t.Routes.GUILD_DISCOVERY;_||h?oe.default.closeSidebar():oe.default.openSidebar()}else(y||m)&&oe.default.closeSidebar()}else(function(e){return Wt.some((function(t){var n;return!0===(null===(n=(0,i.matchPath)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,Ae.replaceWith)(Xe.default.fallbackRoute)}}
function qt(e){for(var t,n=bt(Kt);!(t=n()).done;){var r=t.value,a=r.path;if(r.isChatRoute){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}var Xt=Pt(u.Redirect,{exact:!0,from:"/channels",to:"/"}),Qt=Pt(u.Redirect,{to:"/"}),Zt=Pt(mt.default,{}),Jt=function(e){Mt(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=function(){};t.rewriterUnlisten=function(){};return t}var r=t.prototype;r.componentDidMount=function(){pt.default.setZoomFactor(_.default.zoom);Me.default.init();C.default.initialize();A.default.initialize();N.default.initialize();M.default.initialize();L.default.initialize();ye.default.initialize();B.default.initialize();x.default.initialize();Ke.default.initialize();H.default.initialize();Ee.default.initialize();ee.default.initialize();ue.default.initialize();h.default.init();Ie.default.init();Ne.default.init();V.default.init();at.default.init()
;W.default.init();ae.default.init();se.default.initialize();b.default.initialize();k.default.initialize();U.default.initialize();j.default.initialize();Pe.default.initialize();Oe.default.initialize();Ye.default.initialize();O.default.initialize();Ve.default.initialize();ve.default.initialize();S.default.initialize();Y.default.init();Q.default.init();lt.default.init();dt.default.init();ne.default.initialize();E.default.initialize();ke.default.init();je.default.init();ut.default.init();it.default.init();Fe.default.init();Be.default.init();q.default.initialize();we.default.initialize();De.default.initialize();K.default.initialize();Ge.default.initialize();ge.default.initialize();me.default.initialize();_e.default.initialize();He.default.init();D.default.initialize();xe.default.init();J.default.init();g.default.initialize();z.default.initialize();$.default.initialize();P.default.initialize();Re.default.initialize();rt.default.init();T.default.initialize();ce.default.initialize()
;fe.default.initialize();pe.default.initialize();de.default.initialize();G.default.initialize();Z.default.init({hasModalOpen:ft.hasAnyModalOpen,openModal:function(){return(0,ft.openModalLazy)(At(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}});w.default.init();te.default.initialize();be.default.initialize();he.default.initialize();Se.default.initialize();re.default.initialize();(0,F.default)();this.rewriterUnlisten=Te.default.addRouteRewriter(this.ensureChannelMatchesGuild);this.historyUnlisten=Te.default.addRouteChangeListener(this.handleHistoryChange)};r.componentWillUnmount=function(){B.default.terminate();Ke.default.terminate();Ee.default.terminate();ye.default.terminate();ue.default.terminate()
;C.default.terminate();A.default.terminate();N.default.terminate();M.default.terminate();L.default.terminate();ne.default.terminate();O.default.terminate();Ve.default.terminate();S.default.terminate();Pe.default.terminate();Oe.default.terminate();ve.default.terminate();Ge.default.terminate();E.default.terminate();q.default.terminate();ge.default.terminate();_e.default.terminate();D.default.terminate();J.default.terminate();te.default.terminate();g.default.terminate();be.default.terminate();z.default.terminate();$.default.terminate();P.default.terminate();Re.default.terminate();T.default.terminate();ce.default.terminate();fe.default.terminate();pe.default.terminate();k.default.terminate();de.default.terminate();he.default.terminate();Se.default.terminate();re.default.terminate();G.default.terminate();this.historyUnlisten();this.rewriterUnlisten()};r.handleHistoryChange=function(e){var t=e.pathname;zt(t);$t(t)};r.ensureChannelMatchesGuild=function(e){
if(!Qe.default.isConnected())return null;var t=e.pathname,n=qt(t);if(null==n)return null;var r=Vt(n),a=r.guildId,o=r.channelId,i=(0,Ce.isValidGuildId)(a)&&a!==_t.ME&&a!==_t.FAVORITES;if(null!=o&&(0,Ce.isValidChannelId)(o)&&!(0,ht.isStaticChannelRoute)(o)&&i){var u=qe.default.getChannel(o);if(null==u)Le.default.loadThread(o).then((function(){return function(e){var t=e.channelId,n=e.guildId,r=e.pathname;Qe.default.isConnected()&&(0,Ae.getHistory)().location.pathname===r&&(null==qe.default.getChannel(t)?(0,Ae.replaceWith)(_t.Routes.CHANNEL(n)):(0,Ae.replaceWith)(r))}({channelId:o,guildId:a,pathname:t})}));else if(u.guild_id!==a)return{path:_t.Routes.CHANNEL(a),state:e.state}}return null};r.render=function(){return Pt(a.Fragment,{},void 0,Pt(u.Switch,{},void 0,Xt,Kt.map((function(e){var t=e.path,n=e.render;return Pt(u.Route,{path:t,render:n},t[0])})),Qt),Zt)};return t}(a.PureComponent);Jt.displayName="ViewsWithMainInterface";var en=Jt;t.default=en},747490:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.RefundReason=t.PremiumRefundDisqualificationReason=t.AdyenResultCodes=void 0;var r,a,o,i=(r=n(213192))&&r.__esModule?r:{default:r};t.RefundReason=a;!function(e){e[e.OTHER=0]="OTHER";e[e.GIFTING_REFUND=1]="GIFTING_REFUND";e[e.BUYERS_REMORSE=2]="BUYERS_REMORSE";e[e.WRONG_PURCHASE=3]="WRONG_PURCHASE";e[e.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL";e[e.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN";e[e.USER_CONFUSION=6]="USER_CONFUSION";e[e.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS";e[e.DONT_NEED=8]="DONT_NEED"}(a||(t.RefundReason=a={}));t.PremiumRefundDisqualificationReason=o;!function(e){e[e.OTHER=0]="OTHER";e[e.ALREADY_REFUNDED=1]="ALREADY_REFUNDED";e[e.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE";e[e.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE";e[e.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED";e[e.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM"
;e[e.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD"}(o||(t.PremiumRefundDisqualificationReason=o={}));var u=Object.freeze((0,i.default)({Authorised:null,Error:null}));t.AdyenResultCodes=u},225585:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CurrencyWrapper=d;t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(815992),o=n(967965),i=n(284719);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.currencies,n=e.onChange,r=e.selectedCurrency,a=e.className;if(t.length<2)return null;var u=t.map((function(e,t){return{key:t,value:e,label:e.toUpperCase()+" - "+(0,i.getCurrencyFullName)(e)}}));return l(o.SingleSelect,{value:r,options:u,onChange:function(e){null!=e&&n(e)},className:a})};s.displayName="CurrencyDropdown";function d(e){var t=e.currencies,n=e.className,r=e.children,o=a.MultiCurrencyExperiment.getCurrentConfig({}).enabled;return t.length<2||!o?null:l("div",{className:n},void 0,r)}d.displayName="CurrencyWrapper";var f=s;t.default=f},
187232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),u=n(354479),l=n(858627),s=p(n(191471)),d=p(n(919888)),f=p(n(247001)),c=p(n(720999));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.EXPIRATION_DATE="expirationDate"}(o||(o={}));var h=[{fields:[((r={})[o.EXPIRATION_DATE]={name:o.EXPIRATION_DATE,id:(0,u.uid)(),title:function(){return f.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return f.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return c.default.width50},renderInput:function(e){return i.createElement(s.default,e)}},r)[o.EXPIRATION_DATE]]}];function g(e){var t=e.onCardInfoChange,n=e.className,r=e.expirationDate,a=e.error,o=m(i.useState(!1),2),u=o[0],s=o[1],c=m(i.useState(null),2),p=c[0],v=c[1],_=m(i.useState(r),2),g=_[0],E=_[1];i.useEffect((function(){t({expirationDate:g
},null===p)}),[g,t,p]);return y(d.default,{className:n,form:h,values:{expirationDate:g},errors:null!=p?{expirationDate:p}:{},formError:a,onFieldChange:function(e){u||""===e||s(!0);u&&""===e||!(0,l.validateExpiry)(e)?v(f.default.Messages.CREDIT_CARD_ERROR_EXPIRATION):v(null);E(e)}})}g.displayName="EditExpirationDateForm";var E=g;t.default=E},591235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=C(n(294184)),i=C(n(536211)),u=C(n(636602)),l=n(832635),s=n(713293),d=C(n(697952)),f=C(n(956117)),c=C(n(558402)),p=C(n(789446)),v=C(n(530250)),y=C(n(682473)),m=n(645758),_=C(n(730977)),h=n(688388),g=n(71246),E=C(n(301429)),S=C(n(187232)),O=C(n(288006)),b=n(770348),I=C(n(247001)),T=C(n(215913));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}var D="isDefault",L=M(h.FormDivider,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}(t,e);function t(t){var n,r,a,o,i,u,l,d;(d=e.call(this,t)||this).handleSubmit=function(e){e.preventDefault();e.stopPropagation();if(0===Object.values(d.state.dirtyFields).filter(g.isNotNullish).length)d.props.onCancel();else{var t=d.state,n=t.billingAddress,r=t.isDefault,a=t.expiresMonth,o=t.expiresYear;d.props.onSubmit(d.props.paymentSource.id,{billingAddress:n,expiresMonth:a,expiresYear:o,isDefault:r})}};d.handleCancel=function(){d.props.onCancel()};d.handleDelete=function(){var e=d.props;(0,e.onDelete)(e.paymentSource.id)};d.handleAddressUpdate=function(e,t,n){d.setState({billingAddress:e,billingAddressValid:t,
dirtyFields:R({},d.state.dirtyFields,{billingAddress:n})})};d.handleExpirationDateUpdate=function(e,t){var n=e.expirationDate;d.setState({expirationValid:t});if(null!=n&&""!==n){var r=N(n.split("/"),2),a=r[0],o=r[1];d.handleFieldChange(Number(a),"expiresMonth");d.handleFieldChange(Number(""+(new Date).getFullYear().toString().slice(0,2)+o),"expiresYear")}};d.handleFieldChange=function(e,t){var n,r;null!=t&&d.setState(((r={})[t]=e,r.dirtyFields=R({},d.state.dirtyFields,((n={})[t]=!0,n)),r))};var f=t.paymentSource,c=t.isDefault,p=f.billingAddress;d.state={billingAddress:{name:null!==(n=p.name)&&void 0!==n?n:"",line1:null!==(r=p.line1)&&void 0!==r?r:"",line2:null!==(a=p.line2)&&void 0!==a?a:"",country:null!==(o=p.country)&&void 0!==o?o:"",state:null!==(i=p.state)&&void 0!==i?i:"",city:null!==(u=p.city)&&void 0!==u?u:"",postalCode:null!==(l=p.postalCode)&&void 0!==l?l:""},expiresMonth:f instanceof s.CreditCardSourceRecord?f.expiresMonth:void 0,
expiresYear:f instanceof s.CreditCardSourceRecord?f.expiresYear:void 0,billingAddressValid:!1,isDefault:c,expirationValid:!0,dirtyFields:{}};return d}var n=t.prototype;n.componentWillUnmount=function(){u.default.wait((function(){(0,l.clearUpdatePaymentSourceError)();(0,l.clearRemovePaymentSourceError)()}))};n.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?M(y.default,{className:T.default.formError},void 0,n.message):null:M(y.default,{className:T.default.formError},void 0,t.message)};n.renderBillingAddressSection=function(){var e,t=this.state.billingAddress,n=this.props,r=n.updateError,o=n.paymentSource;if(o.type===b.PaymentSourceTypes.CARD)e="US"===o.country?E.default.Layouts.SETTINGS_US:E.default.Layouts.SETTINGS_INTL;else e=E.default.Layouts.SETTINGS_INTL_NO_NAME;return M("div",{className:T.default.addressSection},void 0,M(m.Text,{className:T.default.sectionHeader,variant:"text-sm/normal"
},void 0,I.default.Messages.BILLING_ADDRESS),a.createElement(E.default,R({},t,{mode:E.default.Modes.EDIT,layout:e,onBillingAddressChange:this.handleAddressUpdate,error:r})))};n.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear;if(null==t||null==n)return null;var r=t.toString().padStart(2,"0")+"/"+n.toString().padStart(2,"0").slice(-2);return M("div",{className:T.default.addressSection},void 0,M(m.Text,{className:T.default.sectionHeader,variant:"text-sm/normal"},void 0,I.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION),M(S.default,{expirationDate:r,onCardInfoChange:this.handleExpirationDateUpdate,error:this.props.updateError}))};n.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,r=e.isForSubscription,o=this.state,i=o.billingAddressValid,u=o.expirationValid;return M(v.default,{justify:v.default.Justify.BETWEEN,className:T.default.formActions},void 0,M("div",{className:T.default.disabledTooltipWrapper
},void 0,r?M(_.default,{text:I.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,(function(e){return a.createElement("div",R({"aria-hidden":!0,className:T.default.disabledTooltipTarget},e))})):null,M(f.default,{type:"button",disabled:r||t,submitting:n,onClick:this.handleDelete,look:f.default.Looks.OUTLINED,color:f.default.Colors.RED},void 0,I.default.Messages.PAYMENT_SOURCE_DELETE)),M(v.default,{grow:0},void 0,M(f.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY},void 0,I.default.Messages.CANCEL),M(f.default,{submitting:t,disabled:!i||n||!u,type:"submit",color:f.default.Colors.GREEN},void 0,I.default.Messages.SAVE)))};n.render=function(){var e=this,t=this.props,n=t.paymentSource,r=t.isDefault,a=t.locale,i=t.className,u=t.isForSubscription,l=this.state.isDefault,d=n instanceof s.PaypalSourceRecord;return M(c.default,{editable:!0,className:(0,o.default)(T.default.card,i)},void 0,M("form",{
onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),M("div",{className:T.default.paymentSection},void 0,M(O.default,{paymentSource:n,isDefault:r,isForSubscription:u,locale:a}),n.invalid?M("div",{className:T.default.errorSubText},void 0,I.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,M("div",{className:T.default.subText},void 0,d?I.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:b.PAYPAL_URL}):I.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD)),this.renderCardExpirationSection(),this.renderBillingAddressSection(),M(p.default,{name:D,value:l,onChange:function(t,n){return e.handleFieldChange(n,D)},type:p.default.Types.INVERTED,className:T.default.defaultSection},void 0,M(m.Text,{className:T.default.defaultCheckboxLabel,variant:"text-sm/normal"},void 0,I.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),L,this.renderActions()))};return t}(a.PureComponent);k.displayName="EditPaymentSourceForm";k.defaultProps={onDelete:function(){},onSubmit:function(){},
onCancel:function(){}};var j=i.default.connectStores([d.default],(function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}}))(k);t.default=j},191471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(279950))&&r.__esModule?r:{default:r},i=n(581894);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=/[^0-9]/g,f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0;t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e;null!=n&&n(e)};t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,u=t._inputRef;if(e!==a&&null!=u&&null!=a){var l=(0,i.formatExpiration)(e),s=u.selectionStart;l===a&&l.length<=3&&a.includes("/")&&!e.includes("/")?l=l.replace(d,""):l===a&&e.includes("/")&&!a.includes("/")&&(l+="/");l.length>e.length&&(s+=l.length-e.length);t.selectionStart=s;null!=o&&o(l,n)}};return t}var n=t.prototype
;n.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};n.render=function(){return a.createElement(o.default,l({},this.props,{inputMode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))};return t}(a.PureComponent);f.displayName="ExpirationDateTextField";var c=f;t.default=c},288006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(294184)),i=n(713293),u=v(n(530250)),l=n(772575),s=v(n(708100)),d=n(537683),f=n(8916),c=v(n(247001)),p=v(n(515388));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}
var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getLabel=function(e){return e instanceof i.CreditCardSourceRecord?c.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,f.upperCaseFirstChar)(e.brand),last_4:e.last4
}):e instanceof i.PaypalSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof i.SofortSourceRecord?c.default.Messages.PAYMENT_SOURCE_SOFORT:e instanceof i.GiropaySourceRecord?c.default.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof i.Przelewy24SourceRecord?c.default.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof i.PaysafeSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof i.GcashSourceRecord?c.default.Messages.PAYMENT_SOURCE_GCASH:e instanceof i.GrabPayMySourceRecord?c.default.Messages.PAYMENT_SOURCE_GRABPAY:e instanceof i.MomoWalletSourceRecord?c.default.Messages.PAYMENT_SOURCE_MOMO_WALLET:c.default.Messages.PAYMENT_SOURCE_UNKNOWN};n.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return m(l.Heading,{className:(0,o.default)(p.default.description,n),variant:"heading-deprecated-14/medium",level:3},void 0,this.getLabel(t))};n.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r=null
;t instanceof i.CreditCardSourceRecord?r=c.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):(t instanceof i.PaypalSourceRecord||t instanceof i.SofortSourceRecord||t instanceof i.Przelewy24SourceRecord)&&(r=t.email);return r};n.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,r=e.showSubtext,a=e.isForSubscription,o=this.renderSubText();return m(u.default,{},void 0,m(s.default,{type:this.typeString}),m(u.default,{direction:u.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,m(u.default,{align:u.default.Align.CENTER},void 0,this.renderDescription(),t?m("div",{className:p.default.defaultIndicator},void 0,c.default.Messages.DEFAULT):null,a?m("div",{className:p.default.premiumIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_SUBSCRIPTION):null,n.invalid?m("div",{className:p.default.invalidIndicator
},void 0,c.default.Messages.PAYMENT_SOURCE_INVALID):null),r&&null!=o?m("div",{className:p.default.subText},void 0,o):null))};!function(e,t,n){t&&_(e.prototype,t);n&&_(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof i.PaypalSourceRecord?s.default.Types.PAYPAL:e instanceof i.SofortSourceRecord?s.default.Types.SOFORT:e instanceof i.CreditCardSourceRecord?s.default.getType(e.brand):e instanceof i.GiropaySourceRecord?s.default.Types.GIROPAY:e instanceof i.Przelewy24SourceRecord?s.default.Types.PRZELEWY24:e instanceof i.PaysafeSourceRecord?s.default.Types.PAYSAFECARD:e instanceof i.GcashSourceRecord?s.default.Types.GCASH:e instanceof i.GrabPayMySourceRecord?s.default.Types.GRABPAY:e instanceof i.MomoWalletSourceRecord?s.default.Types.MOMO_WALLET:s.default.Types.UNKNOWN}}]);return t}(a.PureComponent);t.default=g;g.displayName="PaymentDescription";g.defaultProps={isForSubscription:!1,isDefault:!1,
showSubtext:!1}},109043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=B;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=N(n(294184)),i=N(n(441143)),u=n(798628),l=n(536211),s=N(n(636602)),d=n(832635),f=n(297279),c=n(856259),p=N(n(133589)),v=N(n(490931)),y=N(n(909584)),m=N(n(146771)),_=N(n(558402)),h=N(n(530250)),g=N(n(477797)),E=N(n(235742)),S=n(838583),O=N(n(186673)),b=n(770348),I=n(478036),T=N(n(247001)),C=N(n(582995)),A=N(n(89073)),M=["ref"];function N(e){return e&&e.__esModule?e:{default:e}}function P(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var U=10;function G(e){var t=e.payments,n=e.locale,r=e.compactMode,i=e.numPages,l=a.useRef(null),s=k(a.useState(0),2),f=s[0],c=s[1],v=k(a.useState(null),2),y=v[0],m=v[1],_=t.slice(f*U,(f+1)*U);a.useEffect((function(){var e;null===(e=l.current)||void 0===e||e.scrollTo({to:0})}),[f]);var h=a.useCallback((function(e){c(e);var n=t[t.length-1].id;if(e===i-1&&y!==n){(0,d.fetchPayments)(U,n);m(n)}}),[t,i,y]),S=(0,p.default)("billing-history",l);return L(u.ListNavigatorProvider,{navigator:S},void 0,L(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,M);return a.createElement(g.default,D({className:(0,o.default)(C.default.verticalFit,C.default.paginator),currentPageIndex:f,onChangePage:h,numPages:i,ref:t},u),a.createElement(E.default,{className:C.default.bottomDivider,ref:l},_.map((function(e,t){return L(O.default,{className:(0,
o.default)(C.default.paymentRow,C.default.bottomDivider),payment:e,locale:n,compactMode:r},t)}))))})))}G.displayName="PaymentHistoryPage";var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).scrollerRef=a.createRef();return t}var n=t.prototype;n.componentDidMount=function(){s.default.wait((function(){(0,f.fetchActivityStatistics)();(0,d.fetchPayments)(20)}))};n.renderPremiumExternalSubscription=function(e){(0,i.default)(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription");return L(_.default,{className:C.default.externalRow},void 0,L("div",{className:C.default.externalRowHeader},void 0,T.default.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:I.PaymentGatewayToFriendlyName[e.paymentGateway]})),L("div",{className:C.default.externalRowBody
},void 0,T.default.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:I.PaymentGatewayToFriendlyName[e.paymentGateway],billingHistoryLink:(0,S.getExternalSubscriptionMethodUrl)(e.paymentGateway,"BILLING_HISTORY")})))};n.render=function(){var e=this.props,t=e.compactMode,n=e.payments,r=e.subscription,a=e.locale,i=null!=r&&r.isPurchasedExternally;return 0!==n.length||i?L("div",{className:C.default.verticalFit},void 0,null!=r&&i?this.renderPremiumExternalSubscription(r):null,n.length>0?L("div",{className:(0,o.default)(C.default.paymentPane,C.default.verticalFit)},void 0,t?null:L("div",{className:(0,o.default)(C.default.paymentRow,C.default.bottomDivider)},void 0,L(h.default,{className:C.default.paymentRowHeader},void 0,L("div",{className:A.default.date},void 0,T.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),L("div",{className:C.default.paymentRowHeaderDescription},void 0,T.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),L("div",{className:A.default.amount
},void 0,T.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),L(G,{compactMode:t,locale:a,payments:n,numPages:this.numPages})):null):null};!function(e,t,n){t&&R(e.prototype,t);n&&R(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/U),1)}}]);return t}(a.PureComponent);F.displayName="PaymentHistory";F.defaultProps={compactMode:!1};function x(e){var t,n=e.skuId,r=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==r||Object.values(b.PremiumSubscriptionSKUs).includes(n)||(0,S.isPremiumSubscriptionPlan)(r))}function B(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.getPayments()})),n=(0,l.useStateFromStores)([m.default],(function(){return m.default.getPremiumTypeSubscription()})),r=a.useMemo((function(){return new Set(t.filter(x).map((function(e){var t=e.subscription;return null==t?void 0:t.items[0].planId})))
}),[t]),o=a.useMemo((function(){return new Set(t.filter(x).map((function(e){return e.skuId})))}),[t]),i=(0,l.useStateFromStoresArray)([y.default],(function(){return y.default.getPlanIdsForSkus(Array.from(o))})),u=a.useCallback((function(){return i.length===r.size}),[i,r]);a.useEffect((function(){u()||s.default.wait((function(){o.forEach((function(e){return(0,c.fetchSubscriptionPlansForSKU)(e)}))}))}),[u,o]);return a.createElement(F,D({},e,{payments:u()?t:[],subscription:n}))}B.displayName="ConnectedPaymentHistory"},186673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=V(n(667294)),o=H(n(294184)),i=H(n(441143)),u=H(n(213192)),l=H(n(730381)),s=n(798628),d=H(n(536211)),f=n(851757),c=H(n(427498)),p=n(713293),v=H(n(288356)),y=H(n(748826)),m=H(n(909584)),_=H(n(194198)),h=H(n(151097)),g=H(n(956117)),E=H(n(16941)),S=H(n(530250)),O=H(n(562475)),b=H(n(708100)),I=H(n(730977)),T=H(n(69405)),C=H(n(992193)),A=H(n(259530)),M=H(n(447522)),N=H(n(41024)),P=n(194322),R=n(35033),w=n(685677),D=V(n(838583)),L=n(243277),k=H(n(288006)),j=n(895426),U=n(747490),G=n(770348),F=n(478036),x=H(n(247001)),B=H(n(89073));function H(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(){Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Y.apply(this,arguments)}function K(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,u,"next",e)}function u(e){K(o,r,a,i,u,"throw",e)}i(void 0)}))}}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}
function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Q=function(e){return"https://"+G.SUPPORT_DOMAIN+"/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},Z=(0,u.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null,PAYMENT_GATEWAY:null,SKU_STICKER_PACK:null,SUBSCRIPTION_TYPE:null});function J(e){switch(e){case U.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM:return x.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case U.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM_GUILD:
return x.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case U.PremiumRefundDisqualificationReason.ENTITLEMENT_ALREADY_CONSUMED:return x.default.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return x.default.Messages.BILLING_REFUND_GENERIC_REASON}}var ee=[G.PaymentStatusTypes.FAILED,G.PaymentStatusTypes.REVERSED,G.PaymentStatusTypes.CANCELED],te=[F.PaymentGateways.APPLE],ne=function(e){var t=e.description,n=e.cost;return X("li",{className:B.default.paymentDetail},void 0,X(S.default,{justify:S.default.Justify.BETWEEN},void 0,X("div",{},void 0,t),X("div",{},void 0,n)))};ne.displayName="PaymentDetail";var re=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;q(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1};t.refundRules=[{rule:Z.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0
;var e=t.timePlayed;return null==e||e.asMilliseconds()<l.default.duration(2,"hours").asMilliseconds()}},{rule:Z.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;if(t.isSkuPreorder)return!0;var n=e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift?5:14;return t.daysSincePurchase<=n}},{rule:Z.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==G.SKUTypes.CONSUMABLE}},{rule:Z.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:Z.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!ee.includes(e.status)}},{rule:Z.PAYMENT_GATEWAY,canRefund:function(){var e=t.props.payment;return null==e.paymentGateway||!te.includes(e.paymentGateway)}},{rule:Z.SKU_STICKER_PACK,canRefund:function(){var e=t.props.payment;return null==e.sku||!(0,w.hasFlag)(e.sku.flags,G.SKUFlags.STICKER_PACK)}},{rule:Z.SUBSCRIPTION_TYPE,canRefund:function(){var e
;return(null===(e=t.props.payment.subscription)||void 0===e?void 0:e.type)!==G.SubscriptionTypes.GUILD}}];t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})};return t}var r=t.prototype;r.validateRefundRules=function(){return this.refundRules.filter((function(e){return!(0,e.canRefund)()})).map((function(e){return e.rule}))};r.renderStatus=function(){switch(this.props.payment.status){case G.PaymentStatusTypes.PENDING:return X("span",{className:B.default.statusTagGrey},void 0,x.default.Messages.BILLING_TAG_PENDING);case G.PaymentStatusTypes.FAILED:return X("span",{className:B.default.statusTagRed},void 0,x.default.Messages.BILLING_TAG_FAILED);case G.PaymentStatusTypes.REFUNDED:return X("span",{className:B.default.statusTagGreen},void 0,x.default.Messages.BILLING_TAG_REFUNDED);case G.PaymentStatusTypes.REVERSED:return X("span",{className:B.default.statusTagRed},void 0,x.default.Messages.BILLING_TAG_REVERSED);case G.PaymentStatusTypes.CANCELED:return X("span",{
className:B.default.statusTagRed},void 0,x.default.Messages.BILLING_TAG_CANCELED);default:return null}};r.renderPrice=function(){var e=this.props.payment;return X("span",{className:B.default.price},void 0,(0,L.formatPrice)(e.amount,e.currency))};r.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,r=t.taxInclusive,i=t.tax,u=t.amount,l=t.currency;return X("div",{className:(0,o.default)(B.default.paymentText,B.default.paymentBreakdown)},void 0,null!=t.paymentSource?X(k.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:B.default.paymentText}):null,X("ul",{},void 0,!r&&i>0?X(a.Fragment,{},void 0,X(ne,{description:t.description,cost:(0,L.formatPrice)(u-i,l)}),X(ne,{description:x.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,L.formatPrice)(i,l)})):null,X(ne,{description:x.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,L.formatPrice)(u,l)})))};r.renderInvoiceDownload=function(){var e=this.props.payment
;return null==e.downloadableInvoice||""===e.downloadableInvoice?null:X("div",{className:B.default.downloadInvoice},void 0,X(h.default,{href:e.downloadableInvoice},void 0,x.default.Messages.BILLING_DOWNLOAD_INVOICE),null!=e.downloadableRefundInvoices?e.downloadableRefundInvoices.map((function(e,t){return X(h.default,{className:B.default.downloadRefundInvoice,href:e},t,x.default.Messages.BILLING_DOWNLOAD_REFUND_INVOICE)})):null)};r.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,r=this.validateRefundRules();if(r.includes(Z.PAYMENT_GATEWAY)||r.includes(Z.PAYMENT_STATUS)||r.includes(Z.ALREADY_REFUNDED)||r.includes(Z.SKU_STICKER_PACK)||r.includes(Z.SUBSCRIPTION_TYPE))return null;var o,i=0===r.length,u=Q(t),l=this.isPremium?5:14;o=r.includes(Z.SKU_TYPE)?x.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:u}):i?n.isPreorder&&this.isSkuPreorder?x.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:u
}):n.isPremiumSubscription||n.isPremiumGuildSubscription?x.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:l,supportURL:u}):n.isGift?x.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:l,supportURL:u}):x.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:l,playtimeLimit:2,supportURL:u}):n.isGift?x.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:l}):n.isPremiumSubscription||n.isPremiumGuildSubscription?x.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:l}):x.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:l,playtimeLimit:2});this.isPremium&&(0,j.userInRefundExperiment)()&&(o=null);return X(a.Fragment,{},void 0,X("h2",{className:B.default.paymentHeader},void 0,x.default.Messages.BILLING_REFUND_HEADER),X("div",{className:B.default.paymentText},void 0,X("div",{},void 0,o),this.renderRefundActions(r)))};r.renderRefundCriteria=function(e,t,n,r){return X("div",{
className:B.default.refundCriteria},r,X("h3",{className:B.default.refundSubHeader},void 0,e),X("div",{className:B.default.refundIconContainer},void 0,X(t,{className:B.default.refundCriteriaIcon}),null!=n&&X("div",{},void 0,n)))};r.renderRefundActions=function(e){var t,r,o=this.props,i=o.locale,u=o.payment;if(this.isSkuPreorder||e.includes(Z.SKU_TYPE))return null;var l=e.includes(Z.PURCHASE_DATE)?A.default:C.default,s=e.includes(Z.TIME_PLAYED)||(null===(t=u.premiumRefundDisqualificationReasons)||void 0===t?void 0:t.includes(U.PremiumRefundDisqualificationReason.PAST_REFUNDABLE_DATE))?A.default:C.default;if(!this.isPremium||!(0,j.userInRefundExperiment)())return X("div",{className:B.default.refundActions},void 0,X("div",{className:B.default.refundRules},void 0,this.renderRefundCriteria(u.isPreorder?x.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:x.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,l,x.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({
daysSincePurchase:this.daysSincePurchase})),u.isSubscription||u.isGift?null:this.renderRefundCriteria(x.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER,s,null!=this.timePlayed?this.timePlayed.humanize():x.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)),X(h.default,{href:Q(i)},void 0,x.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM));var d=(null!==(r=u.premiumRefundDisqualificationReasons)&&void 0!==r?r:[U.PremiumRefundDisqualificationReason.OTHER])[0],f=null!=d||0!==e.length||u.isPurchasedExternally;return X("div",{className:B.default.refundActions},void 0,X(I.default,{shouldShow:f,text:J(d)},void 0,(function(e){return a.createElement(g.default,Y({},e,{color:g.default.Colors.PRIMARY,disabled:f,onClick:function(){return(0,P.openModalLazy)(z(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(13501)]).then(n.bind(n,713501));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,Y({payment:u,reportProblemUrl:Q(i)},e))}));case 5:case"end":return e.stop()}}),e)}))))}}),x.default.Messages.BILLING_REFUND_BUTTON_TEXT)})),X(h.default,{href:Q(i)},void 0,x.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))};r.renderDescription=function(){var e,t,n=this.props,r=n.compactMode,o=n.payment,u=n.application,s=n.stickerPack,d=this.state.expanded,p=o.sku,v=o.subscription,y=null!=o.paymentSource&&G.PREPAID_PAYMENT_SOURCES.has(o.paymentSource.type);if(null!=v&&0!==v.items.length){var _=[],h=null;if(v.type===G.SubscriptionTypes.PREMIUM)v.items.forEach((function(e){var t=e.planId,n=e.quantity;if((0,D.isPremiumSubscriptionPlan)(t)){_.push(D.default.getDisplayName(t,!1,y));h=G.SubscriptionPlanInfo[t].skuId}else{_.push((n>1?n+"x ":"")+D.default.getDisplayName(t,!1,y));null==h&&(h=G.SubscriptionPlanInfo[t].skuId)}}));else if(v.type===G.SubscriptionTypes.GUILD){var g=m.default.get(v.items[0].planId);(0,
i.default)(null!=g,"Guild subscription plan should already have been loaded");var E=g.interval===G.SubscriptionIntervalTypes.YEAR?x.default.Messages.YEARLY_GUILD_SUBSCRIPTION:x.default.Messages.MONTHLY_GUILD_SUBSCRIPTION;_.push(E.format({planName:g.name}));h=g.skuId}t=_.join(", ");e=X(O.default,{className:B.default.descriptionIcon,game:u,size:O.default.Sizes.XSMALL,skuId:h})}else if(null!=p){t=o.isPreorder?x.default.Messages.PREORDER_SKU_NAME.format({name:p.name}):p.name;if(null!=s){var S=(0,f.getStickerPackPreviewSticker)(s);e=X(c.default,{disableAnimation:!d,isInteracting:d,sticker:S,className:B.default.descriptionIcon,size:24})}else e=X(O.default,{className:B.default.descriptionIcon,game:u,size:O.default.Sizes.XSMALL,skuId:p.id})}else{e=X(N.default,{className:B.default.descriptionIcon});t=o.description}var b=X("div",{className:B.default.date},void 0,(0,R.dateFormat)((0,l.default)(o.createdAt),"MM/DD/YYYY")),T=o.isGift?X(I.default,{
text:x.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,(function(e){return a.createElement(M.default,Y({className:B.default.giftIcon},e))})):null;return r?X("div",{className:B.default.description},void 0,e,X("div",{},void 0,t,b),T):X(a.Fragment,{},void 0,b,X("div",{className:B.default.description},void 0,e,X("div",{},void 0,t),T))};r.renderExpandedSection=function(){return X(E.default,{onClick:function(e){return e.stopPropagation()}},void 0,X("div",{className:B.default.expandedInfo},void 0,X("h2",{className:B.default.paymentHeader},void 0,x.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderInvoiceDownload(),this.renderRefundDetails()))};r.render=function(){var e=this,t=this.props,n=t.payment,r=t.className,i=t.compactMode,u=this.state.expanded;return X(s.ListNavigatorItem,{id:n.id},void 0,(function(t){var n;return a.createElement(E.default,Y({onClick:e.handleExpandInfo,className:(0,
o.default)(u?B.default.payment:B.default.hoverablePayment,r,(n={},n[B.default.compact]=i,n)),focusProps:{offset:4}},t),X(S.default,{className:B.default.summaryInfo,align:S.default.Align.CENTER},void 0,e.renderDescription(),X("div",{className:B.default.amount},void 0,e.renderStatus(),e.renderPrice()),X(T.default,{className:B.default.expand,direction:u?T.default.Directions.UP:T.default.Directions.DOWN})),u?e.renderExpandedSection():null)}))};!function(e,t,n){t&&$(e.prototype,t);n&&$(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?l.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,l.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment
;return null!=e.sku&&e.sku.isPreorder()}},{key:"isPremium",get:function(){var e=this.props.payment;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof p.PaypalSourceRecord?b.default.Types.PAYPAL:e instanceof p.CreditCardSourceRecord?b.default.getType(e.brand):b.default.Types.UNKNOWN}}]);return t}(a.PureComponent);re.displayName="PaymentHistoryRow";re.defaultProps={compactMode:!1};var ae=d.default.connectStores([_.default,v.default,y.default],(function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===G.SKUTypes.DURABLE_PRIMARY?t.sku.applicationId:null;return{applicationStatistics:null!=n?_.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?v.default.getGame(n):null,stickerPack:null,paymentSources:y.default.paymentSources}}))(re);t.default=ae},565093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=I(n(667294)),o=O(n(496486)),i=O(n(795715)),u=I(n(832635)),l=n(653906),s=O(n(956117)),d=O(n(530250)),f=n(645758),c=O(n(730977)),p=O(n(588417)),v=O(n(662197)),y=O(n(675044)),m=n(194322),_=n(298104),h=O(n(591235)),g=O(n(288006)),E=O(n(247001)),S=O(n(450794));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}function P(e,t){P=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return P(e,t)}var R=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleEditClick=function(){t.props.onEditClick(t.props.paymentSource.id)};return t}t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,r=e.isEditing,a=e.index,o=e.hideDivider,i=e.isForSubscription,u=e.locale,l=e.removing,f=e.submitting,c=e.onSubmit,v=e.onCancel,y=e.onDelete;return r?M(h.default,{paymentSource:t,isDefault:n,removing:l,submitting:f,locale:u,isForSubscription:i,onSubmit:c,onCancel:v,onDelete:y}):M("div",{className:S.default.paymentSourceItem},void 0,a>0&&!o?M(p.default,{className:S.default.sourceDivider}):null,M(d.default,{align:d.default.Align.CENTER,justify:d.default.Justify.BETWEEN,className:S.default.paymentSourceRow},void 0,M(g.default,{paymentSource:t,isDefault:n,isForSubscription:i,locale:u,showSubtext:!0}),r?null:M(s.default,{
color:s.default.Colors.PRIMARY,onClick:this.handleEditClick,size:s.default.Sizes.SMALL},void 0,E.default.Messages.EDIT)))};return t}(a.PureComponent);R.displayName="PaymentSourceItem";R.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var w=function(e){N(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={editingPayment:null};t.handleEditClick=function(e){t.setState({editingPayment:e})};t.handleCancel=function(){t.setState({editingPayment:null})};t.handleDelete=function(){var e=A(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return u.deletePaymentSource(n);case 3:t.setState({editingPayment:null});e.next=8;break;case 6:e.prev=6;e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();t.handleSubmit=function(){
var e=A(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=9;break}e.prev=1;e.next=4;return u.updatePaymentSource(n,r);case 4:t.setState({editingPayment:null});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.handlePaymentSourceAdded=function(){var e=A(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,_.fetchSubscriptionPlansOnNewPaymentSource)(t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleAddPaymentMethod=function(){(0,m.openModalLazy)(A(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(78833),n.e(46277),n.e(93316),n.e(85190),n.e(72024)]).then(n.bind(n,58838));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,T({},e,{onAddPaymentSource:t.handlePaymentSourceAdded}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){(0,l.clearError)()}})};return t}var r=t.prototype;r.renderFooter=function(){var e=this.props.paymentSources;return M(d.default,{justify:d.default.Justify.END,className:S.default.footer},void 0,0===Object.keys(e).length?M(d.default.Child,{},void 0,M(f.Text,{variant:"text-sm/normal"},void 0,E.default.Messages.BILLING_NO_PAYMENT_METHOD),M("div",{className:S.default.subText},void 0,E.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,M(s.default,{onClick:this.handleAddPaymentMethod},void 0,E.default.Messages.BILLING_ADD_PAYMENT_METHOD))};r.render=function(){
var e=this,t=this.props,n=t.defaultPaymentSourceId,r=t.paymentSources,u=t.locale,l=t.removing,s=t.submitting,f=t.premiumSubscriptionPaymentSourceId,m=o.default.values(r).sort((function(e,t){return e.id===n?-1:t.id===n?1:i.default.compare(e.id,t.id)})),_=this.state.editingPayment,h=m.findIndex((function(e){return e.id===_})),g=m.map((function(t,r){return M(R,{locale:u,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===f,hideDivider:h===r-1,onSubmit:e.handleSubmit,index:r,submitting:s,removing:l,isEditing:_===t.id,onEditClick:e.handleEditClick},t.id)}));return M("div",{},void 0,M(v.default,{tag:v.default.Tags.H1},void 0,M(d.default,{align:d.default.Align.CENTER},void 0,M(c.default,{position:c.default.Positions.LEFT,text:E.default.Messages.BILLING_SECURE_TOOLTIP},void 0,(function(e){return a.createElement(y.default,T({className:S.default.lockIcon},e))})),E.default.Messages.BILLING_PAYMENT_SOURCES)),g,h!==m.length-1?M(p.default,{
className:S.default.sourceDivider}):null,this.renderFooter())};return t}(a.PureComponent);w.displayName="PaymentMethods";var D=w;t.default=D},895426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.userInRefundExperiment=function(){var e=r.getCurrentConfig({}).enabled;r.trackExposure({});return e};var r=(0,n(373505).createExperiment)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]})},61689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){
var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(770348);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,d,f=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(s||(s={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(d||(d={}));function c(e,t,n,r,a){var o=e.top,i=e.bottom,u=e.left,l=e.right;if(null==o&&null==i){o=0;i=n-a}else null==o&&null!=i?o=n-(i+a):null!=o&&(i=n-(o+a));if(null==u&&null==l){u=0;l=t-r}else null==u&&null!=l?u=t-(l+r):null==l&&null!=u&&(l=t-(u+r));if(null==o||null==i||null==u||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:u,bottom:i,right:l}}
function p(e){return[null==e.bottom?d.TOP:d.BOTTOM,null==e.right?d.LEFT:d.RIGHT]}function v(e){var t=e,n=t.top,r=t.left,a=t.bottom,o=t.right;0===n||n<=a?a=null:n=null;0===r||r<=o?o=null:r=null;return{top:n,left:r,bottom:a,right:o}}function y(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(a<0){n+=a;a=0}if(n<0){a+=n;n=0}return{top:t,left:n,bottom:r,right:a}}function m(e){return null!=e?e+"px":"auto"}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef();n._dragStart={x:0,y:0};n.handleMouseDown=function(e){var t=n.position,r=t.top,o=t.left,i=t.bottom,u=t.right,l=n.props,s=l.dragAnywhere,d=l.selector,f=l.maxX,p=l.maxY,v=e.target,y=n.draggableRef.current;if(null!=y&&e.button===a.MouseButtons.PRIMARY&&(s||null!=v&&null!=d&&""!==d&&null!=v.closest(d))){var m=function(e){var t=e.top;return{x:e.left,y:t}}(c({top:r,left:o,bottom:i,
right:u},f,p,y.clientWidth,y.clientHeight)),_=m.x,h=m.y;n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-_;n._offsetY=e.clientY-h;window.addEventListener("mousemove",n.handleMouseMove);window.addEventListener("mouseup",n.handleMouseUp)}};n.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,r=e.clientY,a=n.draggableRef.current,o=n.props,i=o.maxX,u=o.maxY,l=o.flipVertical,d=o.flipHorizontal,m=o.onDragStart,_=o.onDrag,h=o.onFlip,g=o.snapOrientation,E=n.state,S=E.dragging,O=E.dragging,b=E.verticalOrientation,I=E.horizontalOrientation,T=!1;if(!(null==a||!S&&(C=n._dragStart,A={x:t,y:r},M=C.x,N=C.y,P=A.x,R=A.y,Math.pow(M-P,2)+Math.pow(N-R,2))<f)){var C,A,M,N,P,R;S=!0;var w=a.clientWidth,D=a.clientHeight,L=y(c({top:r-n._offsetY,left:t-n._offsetX},i,u,w,D));if(g){var k=p(L=v(L));b=k[0];I=k[1]}else L={top:L.top,left:L.left};if(d===s.OFFSET&&I!==n.state.horizontalOrientation){n._offsetX=w-n._offsetX;T=!0}if(l===s.OFFSET&&b!==n.state.verticalOrientation){
n._offsetY=D-n._offsetY;T=!0}n.setDOMPositions(L);O||null==m||m(L,a);null==_||_(L,a);T&&(null==h||h([b,I]));n.setState({dragging:S,verticalOrientation:b,horizontalOrientation:I,atTopEdge:0===L.top})}};n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove);window.removeEventListener("mouseup",n.handleMouseUp);n.state.dragging&&n.setState({dragging:!1},(function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)}))};n._checkBoundsRAF=null;n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF);n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)};n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,i=o.maxX,u=o.maxY,l=o.onRelocated,s=o.snapOrientation,d=n.state,f=d.verticalOrientation,m=d.horizontalOrientation
;if(null!=a){var _,h=a.clientHeight,g=c(t,i,u,a.clientWidth,h);g=y(g);if(s){var E=p(_=v(g));f=E[0];m=E[1]}else _={top:g.top,left:g.left,right:null,bottom:null};if(t.left!==_.left||t.right!==_.right||t.top!==_.top||t.bottom!==_.bottom){null==l||l(_,a);n.setDOMPositions(_);var S=0===_.top;f===r.verticalOrientation&&m===r.horizontalOrientation&&S===r.atTopEdge||n.setState({verticalOrientation:f,horizontalOrientation:m,atTopEdge:S})}}};var o=i(p(t.initialPosition),2),u=o[0],l=o[1];n.position=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;null==n&&null==a&&(n=0);null!=n&&null!=a&&(a=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:a}}(t.initialPosition);n.state={dragging:!1,verticalOrientation:u,horizontalOrientation:l,atTopEdge:0===n.position.top};return n}var n=t.prototype;n.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};n.componentDidUpdate=function(e,t){
var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,i=this.props,u=i.maxX,l=i.maxY,s=i.onRelocated,d=i.snapOrientation;(e.maxX!==u||e.maxY!==l||e.onRelocated!==s||e.snapOrientation!==d||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()};n.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};n.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a};if(null!=o){o.style.top=m(t);o.style.bottom=m(r);o.style.left=m(n);o.style.right=m(a)}};n.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,i=a.verticalOrientation,u=a.horizontalOrientation,l=a.atTopEdge,s=this.position,f=s.top,c=s.left,p=s.right,v={pointerEvents:o?"none":"auto",position:"absolute",top:f,left:c,bottom:s.bottom,right:p}
;return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:v},r.cloneElement(r.Children.only(t),{flipped:u===d.RIGHT,verticalFlipped:i===d.BOTTOM,checkBounds:this.checkBounds,atTopEdge:l}))};return t}(r.PureComponent);t.default=_;_.displayName="Draggable";_.FlipTypes=s;_.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:s.DISABLED,flipHorizontal:s.DISABLED,dragAnywhere:!1}},781771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.features;return a.createElement(a.Fragment,null,t.map((function(e,t){var n;return f(i.default,{align:i.default.Align.CENTER,className:(0,o.default)(l.default.marginTop20,u.default.feature,(n={},n[u.default.featureBorder]=0!==t,n))},t,null!=e.icon?f("div",{className:(0,o.default)(u.default.icon,e.icon)}):null,f("div",{},void 0,null!=e.title?f("div",{className:(0,o.default)(l.default.marginBottom8,u.default.title)},void 0,e.title):null,f("div",{
className:u.default.description},void 0,e.description)))})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(530250)),u=s(n(756108)),l=s(n(380203));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},498811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(178598),i=(r=n(387316))&&r.__esModule?r:{default:r},u=n(864489);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleFileDownload=function(e){e.preventDefault();var n=t.getFileContents(),r=t.props,a=r.fileName,o=r.onDownload;u.isPlatformEmbedded?t.downloadNative(n,a):t.downloadHtml5(n,a);null==o||o()};return t}var n=t.prototype;n.getFileContents=function(){var e=this.props.fileContents;"function"==typeof e&&(e=e());return e};n.downloadNative=function(e,t){i.default.fileManager.saveWithDialog(e,t)};n.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,o.saveAs)(n,t)};n.render=function(){var e=this.props.children,t=a.Children.only(e);return a.cloneElement(t,{onClick:this.handleFileDownload})};return t}(a.Component);t.default=d
;d.displayName="FileDownloader"},372936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(667294)),o=f(n(427537)),i=f(n(191224)),u=p(n(445308)),l=n(864489),s=f(n(922629)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){
u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=l.isPlatformEmbedded&&null!=s.default.getDiscordUtils().inputCaptureRegisterElement,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(t){var n
;(n=e.call(this,t)||this)._mounted=!1;n.recordStart=function(){if(l.isPlatformEmbedded&&!E){n.gs=new i.default;n.gs.on("change",n.handleGSChange)}n.setState({mode:u.RecordModes.RECORDING})};n.recordEnd=function(){n.cleanUp();n.setState({mode:u.RecordModes.DEFAULT})};n.toggleRecordMode=function(){n.state.mode===u.RecordModes.DEFAULT?n.recordStart():n.recordEnd()};n.handleComboKeys=function(e,t,r){r.preventDefault();if("keydown"===r.type){var a=t.map((function(e){return[d.KeyboardDeviceTypes.KEYBOARD_KEY,(0,o.default)(e),d.KeyboardEnvs.BROWSER]})),i=r.keyCode;null==a.find((function(e){var t=m(e,2)[1];return i===t}))&&a.push([d.KeyboardDeviceTypes.KEYBOARD_KEY,i,d.KeyboardEnvs.BROWSER]);n.handleComboChange(a)}};n.handleGSChange=function(e){if(!1!==n._mounted){var t=y(e.combo);n.handleComboChange(t)}};n.handleNativeChange=function(e){e.length>0&&n.handleComboChange(e);n.recordEnd()};var r=t.defaultValue;n.state={codes:r,mode:u.RecordModes.DEFAULT};return n}var n=t.prototype
;n.componentDidMount=function(){this._mounted=!0};n.componentWillUnmount=function(){this._mounted=!1;this.cleanUp()};n.componentDidUpdate=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({codes:this.props.defaultValue})};n.cleanUp=function(){if(l.isPlatformEmbedded&&null!=this.gs){this.gs.destroy();this.gs=null}};n.handleComboChange=function(e){var t=this.state.mode,n=this.props.onChange;if(t===u.RecordModes.RECORDING){null!=n&&n(e);this.setState({codes:e})}};n.render=function(){var e,t,n=this.state,r=n.codes,a=n.mode,o=this.props.disabled;if(E){t=s.default.getDiscordUtils().inputCaptureRegisterElement;e=this.handleNativeChange}else l.isPlatformEmbedded||(e=this.handleComboKeys);return v(u.default,{disabled:o,value:r,mode:a,onClick:this.toggleRecordMode,onChange:e,registerNativeRecorder:t,disableOnClickWhileRecording:E})};return t}(a.PureComponent);S.displayName="KeybindRecorder";var O=S;t.default=O},756511:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(974661)),u=n(770348),l=s(n(211906));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID,r=e.videoClassName;return f(i.default,{aspectRatio:16/9,className:(0,o.default)(t,l.default.videoWrapper)},void 0,f("iframe",{className:(0,o.default)(r,l.default.video),src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://"+u.PRIMARY_DOMAIN,allowFullScreen:!0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"}))};return t}(a.Component);t.default=p
;p.displayName="PromoVideo"},358696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(16941)),i=l(n(160629)),u=d(n(519390));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return f.apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){var n=e.closePopout,r=t.props,a=r.options,o=r.value,i=r.renderOption,l=r.popoutClassName,s=r.scroller;return c(u.QuickSelectPopout,{scroller:Boolean(s),className:l,options:a,
value:o,renderOption:i,onChange:function(e){t.handleChange(e);n()}})};t.handleChange=function(e){var n=t.props.onChange;null==n||n(e)};return t}t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutProps,d=c(u.default,{label:t,value:n,renderValue:r});return a.createElement(i.default,f({},s,{renderPopout:this.renderPopout}),(function(e,t){var n=t.isShown;return a.createElement(o.default,f({},e,{className:l,"aria-haspopup":"listbox","aria-expanded":n}),d)}))};return t}(a.PureComponent);v.displayName="QuickSelectWrapper";var y=v;t.default=y},742234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(441143)),o=u(n(496486)),i=["children"];function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).ref=r.createRef();n._animate=function(){var e=function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n).animProps;if(!n.state.shaking||e.progress>e.duration||null==n.ref.current)n._animationComplete();else{var t=Date.now();e.progress+=t-e.last;e.last=t;if(e.frameCount%2!=0){var r=e.lastDirection*e.intensity,i=o.default.random(-e.intensity,e.intensity,!0),u=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,u);e.lastDirection*=-1;(0,a.default)(null!=n.ref.current,"Shakeable style set when not mounted");n.ref.current.style.transform="translate3d("+r+"px,"+i+"px,0px)"}e.frameCount+=1;n._animationFrame=requestAnimationFrame(n._animate)}};n._animationCleanup=function(){null!=n.ref.current&&(n.ref.current.style.transform="");cancelAnimationFrame(n._animationFrame)};n.state={shaking:!1};return n}var n=t.prototype;n.getDefaultAnimProps=function(e,t){return{duration:null!=e?e:300,progress:0,last:Date.now(),intensity:null!=t?t:5,lastDirection:-1,frameCount:0}}
;n.componentWillUnmount=function(){this._animationCleanup()};n.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t);this.state.shaking||this.setState({shaking:!0},this._animate)};n.stop=function(){this.state.shaking&&this.setState({shaking:!1})};n._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)};n.render=function(){var e=this.props,t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,i);return r.createElement("div",s({},n,{ref:this.ref}),t)};return t}(r.Component);f.displayName="Shakeable";var c=f;t.default=c},887140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=S(n(667294)),o=g(n(294184)),i=n(536211),u=g(n(636602)),l=S(n(785460)),s=g(n(122913)),d=g(n(191013)),f=g(n(37679)),c=g(n(665759)),p=n(194322),v=n(310170),y=S(n(409873)),m=n(770348),_=g(n(247001)),h=g(n(517628));function g(e){
return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null;t.state={focused:!1};t.setRef=function(e){t.searchBarRef=e};t.handleKeyDown=function(e){var n,r=t.props,a=r.activeRowKey,o=r.hasModalOpen,i=r.applicationViewItems,u=b(t).searchBarRef;if(!(o||e.ctrlKey||e.altKey||e.metaKey||null==u)){var l=null===(n=(0,v.eventOwnerDocument)(e))||void 0===n?void 0:n.activeElement;if(l===u.inputRef.current||!(0,v.isInputLikeElement)(l))switch(e.which){case m.KeyboardKeys.ESCAPE:
e.target!==u.inputRef.current?t.reset():null!=u.inputRef.current&&u.blur();break;case m.KeyboardKeys.ENTER:if(null!=a){e.preventDefault();var s=i.find((function(e){return e.key===a}));if(null==s)return;var d=s.libraryApplication;y.performDefaultLibraryApplicationAction(d,{analyticsParams:{source:m.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:m.AnalyticsPages.LIBRARY,section:m.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:m.AnalyticsObjects.BUTTON_CTA}}})}break;case m.KeyboardKeys.ARROW_DOWN:case m.KeyboardKeys.ARROW_UP:e.preventDefault();e.stopPropagation();t.updateActiveRow(e.which===m.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=u.inputRef.current&&e.target!==u.inputRef.current&&u.focus()}}};return t}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)};n.componentWillUnmount=function(){u.default.wait((function(){return l.updateActiveRowKey(null)}));document.removeEventListener("keydown",this.handleKeyDown)}
;n.reset=function(){l.updateActiveRowKey(null);l.updateLibraryFilter("")};n.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};n.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex((function(e){return e.key===r})),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var i=n[o];l.updateActiveRowKey(null!=i?i.key:null,!0)};n.render=function(){var e,t=this,n=this.props.filterQuery,r=this.state.focused;return O("div",{className:(0,o.default)((e={},e[h.default.libraryFilter]=!0,e[h.default.focused]=r,e))},void 0,a.createElement(c.default,{className:h.default.searchBar,ref:this.setRef,onChange:l.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:_.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))};return t}(a.Component);T.displayName="ApplicationLibraryFilter"
;function C(){var e=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()})),t=(0,p.useModalsStore)(p.hasAnyModalOpenSelector);return O(T,{activeRowKey:(0,i.useStateFromStores)([f.default],(function(){return f.default.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,i.useStateFromStores)([d.default],(function(){return d.default.applicationFilterQuery})),applicationViewItems:(0,i.useStateFromStores)([d.default],(function(){return d.default.sortedFilteredLibraryApplicationViewItems}))})}C.displayName="ApplicationLibraryFilterConnected"},870380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(463024)),i=n(139982),u=v(n(186465)),l=v(n(262134)),s=n(308920),d=n(539331),f=n(770348),c=v(n(247001)),p=v(n(541302));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var h=(0,d.isSupportedPlatform)()||!1,g=m(o.default.Icon,{icon:l.default,"aria-hidden":!0}),E=m(o.default.Divider,{});function S(e){var t=e.currentRoute,n=e.renderToolbar,r=a.useContext(s.AnalyticsContext);var l=h||t===f.Routes.APPLICATION_LIBRARY_SETTINGS;return m(o.default,{className:p.default.libraryHeader,toolbar:null==n?void 0:n()},void 0,g,m(o.default.Title,{},void 0,c.default.Messages.LIBRARY),E,m(u.default,{type:u.default.Types.TOP_PILL,selectedItem:t,onItemSelect:function(e){e!==t&&(0,i.transitionTo)(e,{state:{analyticsSource:_({},r.location,{section:f.AnalyticsSections.TABS,object:f.AnalyticsObjects.NAVIGATION_LINK})}})}},void 0,m(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY},void 0,c.default.Messages.APPLICATION_LIBRARY_MY_GAMES),l?m(u.default.Item,{id:f.Routes.APPLICATION_LIBRARY_SETTINGS},void 0,c.default.Messages.SETTINGS):null))}
S.displayName="ApplicationLibraryHeader";var O=a.memo(S);t.default=O},115370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(370405),i=n(473727),u=v(n(284382)),l=v(n(400225)),s=n(887299),d=v(n(539903)),f=v(n(364527)),c=n(770348),p=v(n(854686));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=m(f.default,{}),h=m(d.default,{});function g(){return m(i.Switch,{},void 0,m(l.default,{path:c.Routes.APPLICATION_LIBRARY_SETTINGS,exact:!0},void 0,m(u.default,{page:c.AnalyticsPages.LIBRARY_SETTINGS,root:!0},void 0,_)),m(l.default,{path:c.Routes.APPLICATION_LIBRARY},void 0,m(u.default,{page:c.AnalyticsPages.LIBRARY,root:!0},void 0,h)))}g.displayName="ApplicationLibrarySwitch";var E=m(o.Helmet,{title:"Discord"}),S=m(g,{});function O(){a.useEffect((function(){(0,s.trackAppUIViewed)("application_library")}),[]);return m("div",{className:p.default.container},void 0,E,S)}
O.displayName="ApplicationLibraryPage";var b=a.memo(O);t.default=b},949294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=m(n(536211)),u=n(91817),l=m(n(223367)),s=m(n(730977)),d=m(n(955310)),f=m(n(989983)),c=m(n(635114)),p=m(n(809898)),v=n(770348),y=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var S=new Set([v.CloudSyncStateTypes.PUSHING,v.CloudSyncStateTypes.PULLING]),O=Object.freeze(((r={})[v.CloudSyncStateTypes.DONE]=d.default,r[v.CloudSyncStateTypes.PLANNING]=d.default,r[v.CloudSyncStateTypes.PREPARING]=d.default,r[v.CloudSyncStateTypes.PUSHING]=p.default,
r[v.CloudSyncStateTypes.PULLING]=c.default,r[v.CloudSyncStateTypes.CONFLICT]=d.default,r[v.CloudSyncStateTypes.ERROR]=d.default,r)),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new u.Timeout;return t}var n=t.prototype;n.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};n.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==v.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};n.componentWillUnmount=function(){this._doneTimer.stop()};n.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};n.getIsRecentlySynced=function(){
var e=this.props.cloudSyncState;if(null!=e&&e.type===v.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};n.getStop=function(e,t){if(t)return 1;if(e.type===v.CloudSyncStateTypes.PUSHING||e.type===v.CloudSyncStateTypes.PULLING){return e.progress/e.total}return 0};n.getTooltip=function(e,t){switch(e.type){case v.CloudSyncStateTypes.DONE:return t?y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.CONFLICT:case v.CloudSyncStateTypes.ERROR:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.PLANNING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case v.CloudSyncStateTypes.PREPARING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case v.CloudSyncStateTypes.PUSHING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case v.CloudSyncStateTypes.PULLING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:
return null}};n.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,a=null==t?{type:v.CloudSyncStateTypes.DONE}:t,i=this.getIsRecentlySynced(),u={};(S.has(a.type)||i)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,i)});var l=i?f.default:O[a.type];return h(s.default,{text:this.getTooltip(a,i)},void 0,(function(e){return o.createElement(l,g({className:r},u,e))}))};return t}(o.PureComponent);b.displayName="CloudSyncIcon";var I=i.default.connectStores([l.default],(function(e){var t=e.libraryApplication;return{cloudSyncState:l.default.getState(t.id,t.branchId)}}))(b);t.default=I},328715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=C(n(536211)),i=n(668471),u=C(n(979285)),l=C(n(956117)),s=C(n(558402)),d=C(n(789446)),f=C(n(895108)),c=C(n(530250)),p=n(772575),v=C(n(618993)),y=n(645758),m=C(n(279950)),_=n(688388),h=C(n(502197)),g=n(194322),E=n(771855),S=n(864489),O=C(n(922629)),b=C(n(247001)),I=C(n(591523)),T=C(n(380203));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=function(e){P(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={label:void 0,isDefault:null};t.handleStartEditing=function(){var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n);t.setState({label:r,isDefault:a})};t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null);t.setState({
label:void 0,isDefault:null})};t.handleRemoveLocation=function(){(0,g.openModal)((function(e){return a.createElement(h.default,M({},e,{header:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:b.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing();(0,i.removeInstallLocation)(t.props.path)}}),N(y.Text,{variant:"text-md/normal"},void 0,b.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))}))};t.handleSaveChanges=function(){(0,i.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault});t.handleStopEditing()};t.handleLabelChange=function(e){t.setState({label:e})};t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})};return t}var n=t.prototype;n.renderDiskUsageCircle=function(){var e=this.props.metadata
;return null!=e&&null!=e.availableKB&&null!=e.totalKB?N(f.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,i=n.isDefault,s=n.metadata;if(null!=s){e=null!=s.availableKB?(0,E.formatSize)(s.availableKB,{useKibibytes:!0}):null;t=null!=s.totalKB?(0,E.formatSize)(s.totalKB,{useKibibytes:!0}):null}return N(c.default,{className:I.default.installationPath,align:c.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),N(c.default,{direction:c.default.Direction.VERTICAL,className:I.default.descriptionWrapper},void 0,N(c.default,{align:c.default.Align.CENTER},void 0,N(p.Heading,{className:I.default.rowTitle,variant:"heading-md/medium",level:3},void 0,null!=a?a:u.default.getLabelFromPath(r)),i?N("span",{className:I.default.defaultIndicator},void 0,b.default.Messages.DEFAULT):null),null!=s&&null!=e&&null!=t?N(v.default,{className:I.default.rowBody,
hoverText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):N(y.Text,{className:I.default.rowBody,variant:"text-xs/normal"},void 0,r)),N(l.default,{size:l.default.Sizes.SMALL,disabled:null!=o,color:l.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,b.default.Messages.EDIT))};n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return N(s.default,{editable:!0,className:I.default.installationPathEditing},void 0,N(c.default,{},void 0,this.renderDiskUsageCircle(),N(c.default.Child,{},void 0,N(_.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,N(m.default,{value:a,placeholder:u.default.getLabelFromPath(t),onChange:this.handleLabelChange})),N(_.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:T.default.marginTop20},void 0,N(m.default,{disabled:!0,value:t})),N(d.default,{
type:d.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:I.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),N(_.FormDivider,{className:I.default.separator}),N(c.default,{},void 0,N(l.default,{disabled:n||this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.RED,look:l.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),N(c.default,{justify:c.default.Justify.END},void 0,N(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleStopEditing},void 0,b.default.Messages.CANCEL),N(l.default,{disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,b.default.Messages.SAVE))))))}
;n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return t}(a.PureComponent);w.displayName="PathItem";var D=function(e){P(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null};t.handleAddInstallationLocation=function(){O.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,i.addInstallLocation)(e[0])}))};t.handleToggleEditing=function(e){t.setState({editingPath:e})};return t}var n=t.prototype;n.componentDidMount=function(){(0,i.fetchMetadata)(this.props.installationPaths.map((function(e){return e.path})))};n.render=function(){var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath;return N(_.FormSection,{className:I.default.wrapper,
title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map((function(t){var n=t.path,i=t.label;return N(w,{path:n,label:i,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:u.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),N("div",{className:I.default.buttonRowWrapper},void 0,N(l.default,{disabled:!S.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:l.default.Sizes.SMALL},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))};return t}(a.PureComponent);D.displayName="GameInstallLocations";var L=o.default.connectStores([u.default],(function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata,defaultInstallationPath:u.default.defaultInstallationPath}}))(D);t.default=L},539903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=S(n(667294)),o=g(n(294184)),i=g(n(636602)),u=S(n(588136)),l=n(881100),s=n(297279),d=g(n(284382)),f=n(235742),c=n(656710),p=g(n(887140)),v=g(n(870380)),y=g(n(845905)),m=g(n(351345)),_=n(770348),h=g(n(993846));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var I=O(p.default,{}),T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef();t._scrollToPadding=0;t.state={includeUpdatesInScroller:!1};t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})};t.scrollToRow=function(e,n){var r=t._scrollerRef.current;if(null!=r){e.focus();r.scrollIntoViewRect({start:n,end:n});t._scrollToOnMount=null}else{t._scrollToOnMount=e
;t._scrollToPadding=n}};return t}var n=t.prototype;n.componentDidMount=function(){u.setHomeLink(_.Routes.APPLICATION_LIBRARY);(0,c.deepLinkRouteIfLanded)(_.RPCDeepLinks.LIBRARY);i.default.wait((function(){return(0,l.fetchBranches)()}));(0,s.fetchActivityStatistics)();null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};n.renderToolbar=function(){return I};n.render=function(){var e=this.state.includeUpdatesInScroller,t=O("div",{},void 0,O(d.default,{section:_.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,O(m.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return O(a.Fragment,{},void 0,O(v.default,{currentRoute:_.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,a.createElement(f.AdvancedScrollerAuto,{className:(0,o.default)(h.default.container,h.default.scroller),ref:this._scrollerRef},e?t:null,O(d.default,{
section:_.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,O(y.default,{stickyHeader:!e,scrollToRow:this.scrollToRow}))))};return t}(a.PureComponent);t.default=T;T.displayName="GameLibrary"},364527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=T(n(667294)),o=n(536211),i=T(n(252247)),u=n(894826),l=b(n(191013)),s=b(n(16941)),d=b(n(530250)),f=b(n(567668)),c=n(688388),p=b(n(259530)),v=n(582945),y=b(n(308920)),m=T(n(685677)),_=n(539331),h=b(n(870380)),g=b(n(328715)),E=n(770348),S=b(n(247001)),O=b(n(218522));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){
var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map((function(e){var t=e.libraryApplication.getDistributor();return M("div",{className:O.default.hiddenLibraryApplication},e.key,M(d.default,{direction:d.default.Direction.VERTICAL,className:O.default.hiddenLibraryApplicationContent},void 0,M("div",{className:O.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?M("div",{className:O.default.applicationSubText},void 0,E.DistributorNames[t]):null),M(s.default,{className:O.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,M(p.default,{className:O.default.restoreIcon})))}));return M(c.FormSection,{className:O.default.hiddenLibraryApplications},void 0,M(c.FormTitle,{className:O.default.hiddenLibraryApplicationsTitle},void 0,S.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}N.displayName="HiddenLibraryApplications";var P=M(g.default,{}),R=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){var n=m.toggleFlag(e.getFlags(),E.LibraryApplicationFlags.HIDDEN);i.updateFlags(e.id,e.branchId,n);t.trackRestoreApplication(e,m.hasFlag(n,E.LibraryApplicationFlags.HIDDEN))};return t}var n=t.prototype;n.handleToggleShortcutDesktop=function(e){u.InstallShortcutDesktop.updateSetting(e)};n.handleToggleShortcutStartMenu=function(e){u.InstallShortcutStartMenu.updateSetting(e)};n.trackRestoreApplication=function(e,t){y.default.track(E.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,C({hidden_enabled:t},e.getAnalyticsData()))};n.renderBody=function(){var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,r=e.installShortcutStartMenu;return M("div",{className:O.default.body},void 0,(0,
_.isSupportedPlatform)()?M(a.Fragment,{},void 0,M(f.default,{value:n,onChange:this.handleToggleShortcutDesktop,note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),M(f.default,{value:r,onChange:this.handleToggleShortcutStartMenu,note:S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,S.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),P):null,M(N,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t}))};n.render=function(){return a.createElement(a.Fragment,null,M(h.default,{currentRoute:E.Routes.APPLICATION_LIBRARY_SETTINGS}),M(v.ScrollerAuto,{className:O.default.scroller},void 0,this.renderBody()))};return t}(a.PureComponent);R.displayName="GameLibrarySettings";function w(){var e={installShortcutDesktop:u.InstallShortcutDesktop.useSetting(),installShortcutStartMenu:u.InstallShortcutStartMenu.useSetting(),hiddenLibraryApplicationViewItems:(0,
o.useStateFromStores)([l.default],(function(){return l.default.hiddenLibraryApplicationViewItems}))};return a.createElement(R,e)}w.displayName="ConnectedGameLibrarySettings"},845905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Q;var r,a,o=j(n(667294)),i=L(n(294184)),u=n(473727),l=n(536211),s=n(91817),d=L(n(636602)),f=n(378158),c=j(n(785460)),p=L(n(25952)),v=L(n(758269)),y=L(n(191013)),m=L(n(37679)),_=L(n(956117)),h=L(n(530250)),g=L(n(562475)),E=L(n(73393)),S=L(n(425991)),O=L(n(730977)),b=L(n(420303)),I=L(n(41024)),T=L(n(330998)),C=j(n(308920)),A=n(811076),M=n(8916),N=L(n(949294)),P=n(770348),R=L(n(247001)),w=L(n(312935)),D=["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"];function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function H(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}var V=(0,M.cssValueToNumber)(w.default.rowMinHeight),Y=(0,M.cssValueToNumber)(w.default.linkedToGlowDuration),K=Object.freeze(((r={})[P.GameTableListKeys.PLATFORM]="Platform",r[P.GameTableListKeys.LAST_PLAYED]="Last Played",r[P.GameTableListKeys.NAME]="Name",r));var z=function(e){var t=e.flag,n=e.icon,r=e.item,a=e.tooltip,u=r.libraryApplication.hasFlag(t);return H(O.default,{text:a},void 0,(function(e){var t;return o.createElement(n,W({className:(0,i.default)(w.default.settingIcon,(t={},t[w.default.hidden]=!u,t))},e))}))};z.displayName="FlagIcon";var $=[{key:P.GameTableListKeys.NAME,renderHeader:function(){
return R.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:w.default.nameCell,bodyCellClassName:w.default.nameBodyCell,render:function(e){return H(h.default,{align:h.default.Align.CENTER},void 0,H(g.default,{game:e.application,size:g.default.Sizes.SMALL,className:w.default.gameIcon}),H("div",{className:w.default.nameCellInfo},void 0,H("div",{className:w.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(P.LibraryApplicationFlags.PREMIUM)?H(O.default,{text:R.default.Messages.PREMIUM_GAME},void 0,(function(e){return o.createElement(I.default,W({className:w.default.nitroIcon},e))})):null))}},{key:P.GameTableListKeys.PLATFORM,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:w.default.platformCell,bodyCellClassName:w.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return H(h.default,{align:h.default.Align.CENTER
},void 0,null!=t?P.DistributorNames[t]:R.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:P.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:w.default.lastPlayedCell,bodyCellClassName:w.default.textCell,render:function(e){var t,n;n=e.isRunning?R.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?R.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?H(E.default,{end:e.lastPlayed,location:E.default.Locations.GAME_LIBRARY_LAST_PLAYED}):R.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return H(h.default,{align:h.default.Align.CENTER,className:(0,i.default)((t={},t[w.default.lastPlayedCellNew]=e.isNew,t))},void 0,n)}},{key:P.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:w.default.actionsCell,render:function(e,t,n){var r;if(null==t)throw new Error("No cell props defined.");var a,u,l=e.key===t.activeRowKey;return H(o.Fragment,{},void 0,H("div",{
className:w.default.settingIcons},void 0,H(z,{flag:P.LibraryApplicationFlags.PRIVATE,item:e,icon:b.default,tooltip:R.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),H(z,{flag:P.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,icon:T.default,tooltip:R.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),H(N.default,{className:(0,i.default)(w.default.settingIcon,(r={},r[w.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),(0,A.isUserEntitledToLibraryApplication)(e.libraryApplication)?H(v.default,{analyticsListSort:(a=t.sortKey,u=t.sortDirection,K[a]+" "+(u===P.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:P.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:l?_.default.Colors.GREEN:_.default.Colors.PRIMARY,isPlayShiny:l&&e.defaultAction===P.LibraryApplicationActions.PLAY,size:w.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){
return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):H(p.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:l?_.default.Colors.GREEN:_.default.Colors.PRIMARY,customDisabledColor:_.default.Colors.PRIMARY,size:w.default.actionButtonSize}))}}],q=function(e){var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,u=e.onMouseEnter,l=e.onMouseLeave,s=e.onContextMenu,d=e.setRef,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,D),c=n.key===r,p=n.key===a;return o.createElement("div",{className:(0,i.default)((t={},t[w.default.rowWrapperActive]=c&&!p,t[w.default.rowWrapperGlow]=p,t[w.default.rowWrapper]=!c&&!p,t[w.default.rowWrapperDim]=!c&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(e){return d(e,n.key)})),
onMouseEnter:function(){return u(n)},onMouseLeave:l,onContextMenu:function(e){return s(e,n)}},o.createElement("div",f))};q.displayName="Row";var X=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this)._didUnmount=!1;t._rowRefs={};t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null};t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})};t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})};t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(e.key)};t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(null)};t.setRowRef=function(e,n){t._rowRefs[n]=e};t.handleApplicationContextMenu=function(e,r){t.setActiveRowKey(r)
;var a=t.props.analyticsContext;(0,f.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return o.createElement(i,W({},e,{applicationId:r.libraryApplication.id,branchId:r.libraryApplication.branchId,analyticsContext:a}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:t.clearActiveRowKey})};return t}var r=t.prototype;r.componentDidMount=function(){if(this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}};r.componentWillUnmount=function(){this._didUnmount=!0};r.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){
d.default.wait(f.closeContextMenu);this.props.scrollToRow(n,V)}}};r.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],V);(new s.Timeout).start(Y,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};r.trackViewed=function(){for(var e,t={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},n=this.props,r=n.analyticsContext,a=U(n.applicationViewItems);!(e=a()).done;){switch(e.value.libraryApplication.getDistributor()){case P.Distributors.DISCORD:t.num_applications_discord++;break;case P.Distributors.STEAM:t.num_applications_steam++;break;case P.Distributors.BATTLENET:t.num_applications_battlenet++;break;case P.Distributors.TWITCH:t.num_applications_twitch++;break
;case P.Distributors.UPLAY:t.num_applications_uplay++;break;case P.Distributors.ORIGIN:t.num_applications_origin++;break;case P.Distributors.GOG:t.num_applications_gog++;break;case P.Distributors.EPIC:t.num_applications_epic++}t.num_applications_total++}C.default.track(P.AnalyticEvents.LIBRARY_VIEWED,W({},t,{load_id:r.loadId}))};r.handleSort=function(e,t){c.sortList(e,t)};r.renderImportHelp=function(){var e,t=this.props,n=t.applicationViewItems,r=t.filterQuery,a=n.length>0;if(a)return null;e=""!==r?R.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:r}):R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return H("div",{className:a?w.default.emptyStateSmall:w.default.emptyStateLarge},void 0,H("div",{className:w.default.emptyWumpus}),H(h.default,{grow:0,shrink:a?1:0,direction:h.default.Direction.VERTICAL},void 0,H("div",{className:w.default.emptyStateText},void 0,H("h5",{className:w.default.emptyStateHeader
},void 0,R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),H("div",{className:w.default.emptyStateDescription},void 0,e))))};r.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,i=e.stickyHeader,u=this.state,l=u.overflowMenuRowKey,s=u.highlightedApplicationKey;return H(o.Fragment,{},void 0,r.length>0?H(S.default,{columns:$,data:r,sortData:!1,rowComponent:q,className:w.default.table,headerClassName:i?w.default.stickyHeader:w.default.header,headerCellClassName:w.default.headerCell,sortedHeaderCellClassName:w.default.headerCellSorted,bodyCellClassName:w.default.bodyCell,rowClassName:w.default.row,sortKey:t,sortDirection:n,stickyHeader:i,rowProps:{activeRowKey:null!=l?l:a,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=l?l:a,
onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())};return t}(o.PureComponent);X.displayName="GameList";X.defaultProps={stickyHeader:!1};function Q(e){var t=o.useContext(C.AnalyticsContext),n=(0,u.useLocation)(),r=(0,l.useStateFromStoresObject)([y.default],(function(){return{applicationViewItems:y.default.sortedFilteredLibraryApplicationViewItems,filterQuery:y.default.applicationFilterQuery,fetched:y.default.hasFetchedApplications}})),a=r.applicationViewItems,i=r.filterQuery,s=r.fetched,d=(0,l.useStateFromStoresObject)([m.default],(function(){return{sortKey:m.default.sortKey,sortDirection:m.default.sortDirection,activeRowKey:m.default.activeRowKey,isNavigatingByKeyboard:m.default.isNavigatingByKeyboard}})),f=d.sortKey,c=d.sortDirection,p=d.activeRowKey,v=d.isNavigatingByKeyboard;return o.createElement(X,W({},e,{analyticsContext:t,
location:n,applicationViewItems:a,filterQuery:i,fetched:s,sortKey:f,sortDirection:c,activeRowKey:p,isNavigatingByKeyboard:v}))}Q.displayName="ConnectedGameList"},46059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(530250)),u=f(n(409236)),l=f(n(872705)),s=f(n(247001)),d=f(n(997050));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}
function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e){return e>1e3?s.default.Messages.FILE_RATE_MB.format({size:Math.round(e/1e3)}):s.default.Messages.FILE_RATE_KB.format({size:Math.round(e)})}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){
var a=t.props,l=a.title,s=a.className,f=a.color,c=a.animate,v=a.gradientStopColor;return p("div",{className:(0,o.default)(d.default.monitor,s)},void 0,p(i.default,{align:i.default.Align.CENTER},void 0,p(i.default,{className:d.default.text,direction:i.default.Direction.VERTICAL},void 0,p("div",{className:d.default.title},void 0,l),p("div",{className:d.default.rate},void 0,y(e[e.length-1]/n*1e3))),p("div",{className:d.default.overflowContainer},void 0,p(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.default.sparkChart,updateInterval:n,color:f,gradientStopColor:v,numUpdatesToShow:r,animate:c,pixelWidth:600,pixelHeight:48,lineWidth:4}))))};return t}t.prototype.render=function(){return p(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)};return t}(a.PureComponent);m.displayName="GameUpdateActivityMonitor";var _=m;t.default=_},351345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o,i,u,l=Y(n(667294)),s=W(n(294184)),d=W(n(496486)),f=W(n(536211)),c=W(n(636602)),p=Y(n(378158)),v=Y(n(27555)),y=W(n(758269)),m=W(n(257175)),_=W(n(864345)),h=W(n(288356)),g=W(n(191839)),E=W(n(871778)),S=W(n(432310)),O=W(n(693399)),b=W(n(949898)),I=W(n(956117)),T=W(n(530250)),C=W(n(562475)),A=n(73393),M=W(n(791931)),N=W(n(961664)),P=W(n(425991)),R=W(n(730977)),w=W(n(495526)),D=W(n(259530)),L=W(n(339759)),k=W(n(118138)),j=n(771855),U=Y(n(811076)),G=W(n(872705)),F=W(n(46059)),x=n(770348),B=W(n(247001)),H=W(n(118343));function W(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;X(e,t)}function X(e,t){X=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return X(e,t)}function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t,n,r){u||(u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3
;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:u,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return ee("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};te.displayName="Row";var ne=[x.Colors.LINK,"var(--interactive-normal)"],re=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return ee(R.default,{text:t},void 0,(function(e){var a=e.onMouseEnter,o=e.onMouseLeave;return ee(I.default,{"aria-label":t,className:H.default.actionButton,innerClassName:H.default.actionButtonContents,color:I.default.Colors.PRIMARY,size:I.default.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:o},void 0,ee(r,{className:H.default.actionIcon}))}))};re.displayName="ActionButton";function ae(e,t){switch(t){
case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case x.DispatchApplicationStages.PLANNING:case x.DispatchApplicationStages.FINALIZING:case x.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,j.formatSize)(e,{useKibibytes:!0})}}var oe=((i={})[x.LocalDispatchApplicationStates.INSTALLING]=((r={})[A.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[A.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),
i[x.LocalDispatchApplicationStates.UPDATING]=((a={})[A.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[A.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),i[x.LocalDispatchApplicationStates.REPAIRING]=((o={})[A.TimeUnits.NONE]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[A.TimeUnits.SECONDS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({
percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.MINUTES]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.HOURS]=function(e,t,n,r){return B.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i);function ie(e,t,n,r,a){var o=null!=e?e/60:null,i=oe[t],u=null!=i?Object.keys(i):[],l=(0,A.getTimeAndUnit)(o,u),s=l.unit,d=l.time;if(null!=i&&null!=s){var f=i[s];return null!=f?f(n,r,a,d):null}return null}function ue(e){var t=e.type,n=e.stage,r=e.percent,a=e.progress,o=e.total,i=e.secondsRemaining,u=ae(o,n),l=ae(a,n);switch(n){case x.DispatchApplicationStages.QUEUED:return 0===a?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.PLANNING:
return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:r});case x.DispatchApplicationStages.ALLOCATING_DISK:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:r});case x.DispatchApplicationStages.PATCHING:return ie(i,t,r,l,u);case x.DispatchApplicationStages.FINALIZING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:r});case x.DispatchApplicationStages.PAUSING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.VERIFYING:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.REPAIRING:
return t===x.LocalDispatchApplicationStates.REPAIRING?ie(i,t,r,l,u):B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:r,progress:l,total:u})}throw new Error("Invalid Dispatch stage")}var le="name",se="progress",de="actions",fe=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,i=r.total,u=r.type,l=r.readerProgress;if(null==o||null==i||null==a)return null;var s=U.calculateProgressPercentage(o,i),d=U.calculateProgressPercentage(null!=l?l:0,i),f=e[e.length-1]/n*1e3,c=i-o,p=0!==f?Math.max(1,c/f):null,v=ue({type:u,stage:a,percent:Math.floor(s),progress:o,total:i,secondsRemaining:p});return t.renderStackedProgress({percents:[s,d],message:v})};return t}var n=t.prototype;n.renderBody=function(e){
var t=e.percent,n=e.foregroundColor,r=e.foregroundGradientColor,a=e.message;return ee(T.default,{direction:T.default.Direction.VERTICAL},void 0,ee(M.default,{percent:t,size:M.default.Sizes.SMALL,foregroundColor:n,foregroundGradientColor:r,animate:this.isFocused}),ee("div",{className:H.default.progressCellText},void 0,null!=a?a:""))};n.renderStackedProgress=function(e){var t=e.percents,n=e.message;return ee(T.default,{direction:T.default.Direction.VERTICAL},void 0,ee(N.default,{percents:t,size:M.default.Sizes.SMALL,foregroundColors:ne,animate:this.isFocused}),ee("div",{className:H.default.progressCellText},void 0,null!=n?n:""))};n.renderFinished=function(){var e=this.props.item;return this.renderBody({message:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return v.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:100})};n.renderQueued=function(){
var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,i=r.total,u=r.stage;if(null!=o&&null!=i){var l=ae(i,u),s=ae(o,u);t=U.calculateProgressPercentage(o,i);var d=Math.floor(t);e=u===x.DispatchApplicationStages.PAUSING?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:s,total:l}):B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:s,total:l})}}if(null==t||null==e){t=0;e=B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:a===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,message:e})};n.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null
;var o=U.calculateProgressPercentage(r,a),i=Math.floor(o),u=0===r&&1===a?B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:B.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,j.formatSize)(r),total:(0,j.formatSize)(a)});return this.renderBody({message:u,foregroundColor:n===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:o})};n.renderProgressPatching=function(){return ee(G.default,{getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)};n.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,a=e.type;if(null==t||null==n||null==r)return null;var o=U.calculateProgressPercentage(n,t),i=Math.floor(o);return this.renderBody({percent:o,message:ue({type:a,stage:r,percent:i,progress:n,total:t}),foregroundColor:x.Colors.LINK})};n.renderProgress=function(){
var e=this.props.item.state;switch(null!=e?e.stage:null){case x.DispatchApplicationStages.PATCHING:case x.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};n.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==x.LocalDispatchApplicationStates.UPDATING&&t.state.type!==x.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==x.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&$(e.prototype,t);n&&$(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return t}(l.PureComponent);fe.displayName="ProgressCell";var ce=function(){return ee(re,{icon:k.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){
return v.resume()}})};ce.displayName="ResumeButton";var pe=function(){return ee(re,{icon:L.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return v.pause()}})};pe.displayName="PauseButton";var ve=function(e){var t=e.item;return ee(re,{icon:w.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return v.moveUp(t.applicationId,t.branchId)}})};ve.displayName="MoveUpButton";var ye=function(e){var t=e.item;return ee(re,{icon:D.default,tooltip:B.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return v.cancel(t.applicationId,t.branchId)}})};ye.displayName="CancelButton";var me=ee(ce,{}),_e=[{key:le,cellClassName:H.default.nameCell,render:function(e){return ee(T.default,{align:T.default.Align.CENTER},void 0,ee(C.default,{game:e.application,className:H.default.gameIcon,size:C.default.Sizes.SMALL}),ee("div",{className:H.default.nameCellText},void 0,e.application.name))}},{key:se,
cellClassName:H.default.progressCell,headerCellClassName:H.default.progressCellHeader,bodyCellClassName:H.default.progressCellBody,render:function(e,t){return ee(fe,{item:e,cellProps:t})}},{key:de,cellClassName:H.default.actionsCell,render:function(e,t){var n,r;if(e.finished)n=null!=e.libraryApplication?ee(y.default,{libraryApplication:e.libraryApplication,size:I.default.Sizes.SMALL,className:H.default.gameActionButton,source:x.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==x.LocalDispatchApplicationStates.UP_TO_DATE){n=e.index>0?ee(ve,{item:e}):null!=t&&t.paused?me:ee(pe,{item:e});r=ee(ye,{item:e})}}else r=ee(ye,{item:e});return ee(T.default,{justify:T.default.Justify.END},void 0,n,r)}}],he=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1;t.isTallerThanHalfViewport=!1;t.throttledUpdateHeight=d.default.throttle((function(){
if(!t.isUnmounted){var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;if(t.isTallerThanHalfViewport!==a){t.isTallerThanHalfViewport=a;r(a)}}}),1e3);return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)};r.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};r.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&c.default.wait((function(){v.removeFinished(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};r.render=function(){var e=this.props,t=e.applications,r=e.paused,a=e.isFocused,o=e.theme,i=e.analyticsContext;return 0===t.length?null:ee("div",{className:H.default.gameUpdates},void 0,ee("div",{className:H.default.headerRow},void 0,ee(F.default,{className:(0,s.default)(H.default.headerCell,H.default.networkProgress),
title:B.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesDownloaded,color:x.Colors.STATUS_GREEN_600,animate:a}),ee(F.default,{className:(0,s.default)(H.default.headerCell,H.default.diskProgress),title:B.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:S.default.getHistoricalTotalBytesWritten,color:x.Colors.LINK,animate:a})),ee(P.default,{hasHeader:!1,columns:_e,data:t,className:H.default.table,rowClassName:H.default.row,rowComponent:te,cellProps:{paused:r,isFocused:a,theme:o},rowProps:{onContextMenu:function(e,t){return function(e,t,r){p.openContextMenuLazy(e,J(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return l.createElement(o,Q({},e,{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:r}))
}));case 5:case"end":return e.stop()}}),e)}))))}(e,t,i)}},bodyCellClassName:H.default.cell}))};return t}(l.PureComponent);he.displayName="GameUpdates";function ge(e,t,n,r){return e.reduce((function(e,a,o){var i=a.applicationId,u=a.branchId,l=n.getGame(i),s=r.getState(i,u);null!=l&&e.push({key:i+":"+u,applicationId:i,branchId:u,state:s,application:l,libraryApplication:g.default.getLibraryApplication(i,u),finished:t,index:o});return e}),[])}var Ee=(0,_.default)(f.default.connectStores([O.default,E.default,b.default,h.default,S.default],(function(){var e=ge(O.default.activeItems,!1,h.default,S.default),t=ge(O.default.finishedItems,!0,h.default,S.default);return{applications:[].concat(K(e),K(t)),paused:O.default.paused,isFocused:b.default.isFocused(),theme:E.default.theme}}))((0,m.default)(he)));t.default=Ee},215850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TestModeSKUButtonEnums=void 0
;var r,a=m(n(667294)),o=v(n(536211)),i=m(n(378158)),u=v(n(713257)),l=m(n(145122)),s=v(n(288356)),d=v(n(399561)),f=n(204785),c=v(n(247001)),p=["skus","children","applicationId","primarySKU","onSKUSelect"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E={DropdownSizes:u.default.DropdownSizes,Sizes:u.default.Sizes,Colors:u.default.Colors,Looks:u.default.Looks};t.TestModeSKUButtonEnums=E;var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(){
var e=t.props,n=e.skus,r=e.onSKUSelect,a=e.onMenuSelect;return h(l.default,{onSelect:a,navId:"test-skus","aria-label":c.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.closeContextMenu},void 0,n.map((function(e){return h(l.MenuItem,{id:""+e.id,label:e.name,action:function(){null==r||r(e)}})})))};t.handleContextMenu=function(e){e.stopPropagation();i.openContextMenu(e,t.renderContextMenu)};t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;null!=r&&(null==n||n(r))};return t}t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p));return a.createElement(u.default,_({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},r),n)};return t}(a.PureComponent);S.displayName="TestModeSKUButton"
;var O=o.default.connectStores([d.default,s.default],(function(e){var t,n=e.applicationId,r=(0,f.getPrimarySKUForApplication)(n,s.default,d.default);return{skus:(null!==(t=d.default.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(S);t.default=O},629195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=le
;var r,a=Q(n(667294)),o=q(n(294184)),i=q(n(496486)),u=q(n(817673)),l=n(370405),s=q(n(74854)),d=n(171236),f=Q(n(536211)),c=q(n(636602)),p=n(598319),v=n(297279),y=n(306902),m=n(328092),_=n(364060),h=n(298756),g=q(n(545721)),E=q(n(734696)),S=Q(n(473124)),O=n(473250),b=q(n(768535)),I=n(376153),T=q(n(39365)),C=n(139982),A=n(887299),M=q(n(8549)),N=Q(n(199846)),P=q(n(30098)),R=q(n(871778)),w=q(n(728429)),D=q(n(194198)),L=q(n(956117)),k=n(772575),j=q(n(80828)),U=n(645758),G=q(n(878556)),F=n(235742),x=Q(n(465537)),B=q(n(651386)),H=n(263996),W=n(770348),V=n(227445),Y=q(n(247001)),K=q(n(599884)),z=q(n(80210)),$=q(n(333993));function q(e){return e&&e.__esModule?e:{default:e}}function X(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(X=function(e){return e?n:t})(e)}function Q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=X(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function J(){J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return J.apply(this,arguments)}function ee(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,u,"next",e)}function u(e){ee(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ne(e,t){ne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ne(e,t)}var re=Z(j.default,{}),ae=Z(l.Helmet,{title:"Discord"}),oe=Z(G.default,{},void 0,Z(a.Fragment,{})),ie=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ne(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scroller=a.createRef();t._guildIdsSeen=new Set;t.loadId=(0,_.makeAnalyticsID)();t.state={animatedValue:new s.default.Value(0),loadingGuildId:null};t.scrollToTop=function(){null!=t._scroller.current&&t._scroller.current.scrollTo({to:0})};t.handleScroll=function(){
var e,n,r=t.state.animatedValue,a=null!==(e=null===(n=t._scroller.current)||void 0===n?void 0:n.getScrollerState().scrollTop)&&void 0!==e?e:0;r.setValue(Math.min(1,a/200))};t.handleViewGuild=function(){var e=te(regeneratorRuntime.mark((function e(n,r,a,o){var i,u,l,s,d,f,c,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.props.currentCategoryId;s=t.state.loadingGuildId;if(n!==s){e.next=4;break}return e.abrupt("return");case 4:d=null!==(i=null===(u=t._scroller.current)||void 0===u?void 0:u.getScrollerState().scrollTop)&&void 0!==i?i:0;f=(0,C.getHistory)(),c=f.location;(0,C.replaceWith)(J({},c,{state:d}));t.setState({loadingGuildId:n});p=l!==V.DISCOVERY_ALL_CATEGORIES_ID?l:null;e.prev=9;e.next=12;return x.viewGuild({loadId:null!=o?o:t.loadId,guildId:n,index:r,analyticsContext:a,categoryId:p});case 12:e.next=17;break;case 14:e.prev=14;e.t0=e.catch(9);t.setState({loadingGuildId:null});case 17:case"end":return e.stop()}}),e,null,[[9,14]])})))
;return function(t,n,r,a){return e.apply(this,arguments)}}();t.handleGuildCardSeen=function(e){t._guildIdsSeen.add(e)};t.handleTagSearch=function(e,n,r){var a=t.props,o=a.currentCategoryId,i=a.defaultLanguage;if(null!=o){(0,p.getSearchResultsCount)(e);(0,p.doAlgoliaSearch)(e,{categoryId:o,preferredLocale:i.code,offset:0,length:S.MAX_GUILDS_PER_PAGE,filters:{approximate_member_count:x.MINIMUM_MEMBER_COUNT},tag:!0});x.trackTagSearchStarted(t.loadId,o,r,n);t.scrollToTop()}};return t}var n=t.prototype;n.componentDidMount=function(){var e,t,n=this.props,r=n.isFetching,a=n.guilds,o=a.gamesYouPlay,i=a.featured,l=n.searchRoute,s=n.currentCategoryId,d=n.currentHomepageCategoryId,f=n.mostRecentQuery,m=n.usingGameRecommendations,_=n.fetchingRecommendations;(0,v.fetchActivityStatistics)();(0,h.maybeFetchGuildDiscoveryCategories)();null==N.default.getSearchIndex()&&(0,p.createAlgoliaIndex)();c.default.wait((function(){(0,y.markView)(W.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}))
;var g=s===V.DISCOVERY_ALL_CATEGORIES_ID;g&&!_&&(0,O.fetchGuildRecommendations)({personalization_disabled:!m});r||0!==f.length||g||x.trackDiscoveryViewed({loadId:this.loadId,gamesYouPlayGuilds:o.guilds,allGuilds:i.guilds,categoryId:d});if(null!=l){var E=u.default.parse(l),S=E.query,b=E.offset,I=E.limit,T=E.preferredLocale,M=E.categoryId;(0,p.doAlgoliaSearch)(S,{categoryId:parseInt(M,10),preferredLocale:T,offset:parseInt(b,10),filters:{approximate_member_count:x.MINIMUM_MEMBER_COUNT},length:parseInt(I,10)})}else null!=d&&d!==V.DISCOVERY_ALL_CATEGORIES_ID&&c.default.wait((function(){return(0,p.selectCategory)(d)}));var P=null!==(e=null===(t=(0,C.getHistory)().location.state)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0;if(P>0){var R;null===(R=this._scroller.current)||void 0===R||R.scrollTo({to:P})}(0,A.trackAppUIViewed)("guild_discovery")};n.componentDidUpdate=function(e){
var t=this.props,n=t.guilds,r=n.gamesYouPlay,a=n.featured,o=t.isFetching,i=t.mostRecentQuery,u=t.currentHomepageCategoryId,l=t.currentCategoryId,s=t.usingGameRecommendations,d=t.fetchingRecommendations,f=t.recommendationsGuilds,c=t.recommendationsLoadId;e.currentCategoryId===l||l!==V.DISCOVERY_ALL_CATEGORIES_ID||d||(0,O.fetchGuildRecommendations)({personalization_disabled:!s});var v=l===V.DISCOVERY_ALL_CATEGORIES_ID;!e.isFetching||o||v||x.trackDiscoveryViewed({loadId:this.loadId,gamesYouPlayGuilds:r.guilds,allGuilds:a.guilds,categoryId:u});if(e.currentCategoryId!==l){var y;null===(y=this._scroller.current)||void 0===y||y.scrollTo({to:0})}if(null!=c&&null!=f){e.fetchingRecommendations&&!d&&l===V.DISCOVERY_ALL_CATEGORIES_ID&&x.trackDiscoveryViewed({loadId:c,gamesYouPlayGuilds:f,allGuilds:[],categoryId:V.DISCOVERY_ALL_CATEGORIES_ID,recommendationsSource:V.RecommendationSources.SERVER_RECOMMENDATIONS});e.currentCategoryId!==l&&(l===V.DISCOVERY_ALL_CATEGORIES_ID?x.trackDiscoveryViewed({
loadId:c,gamesYouPlayGuilds:f,allGuilds:[],categoryId:V.DISCOVERY_ALL_CATEGORIES_ID,recommendationsSource:V.RecommendationSources.SERVER_RECOMMENDATIONS}):x.trackDiscoveryExited(c,this.getOrderedGuildIdsSeen(f.map((function(e){return e.id}))),V.RecommendationSources.SERVER_RECOMMENDATIONS))}e.mostRecentQuery.length>0&&i.length<1&&u!==l&&(0,p.selectCategory)(u)};n.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===V.DISCOVERY_ALL_CATEGORIES_ID?null!=r&&null!=n&&x.trackDiscoveryExited(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):x.trackDiscoveryExited(this.loadId,Array.from(this._guildIdsSeen))};n.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};n.renderGamesYouPlay=function(){
var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,r=e.theme,a=e.userGuilds,o=Object.keys(a),i=t[W.GuildDiscoverySections.GAMES_YOU_PLAY];i.guilds=i.guilds.filter((function(e){return!o.includes(e.id)}));var u=this.state.loadingGuildId;return n?Z(E.default,{loadId:this.loadId,title:Y.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:i,loadingGuildId:u,analyticsContext:x.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:p.fetchGamesYouPlayGuilds,theme:r}):null};n.renderSearchBar=function(){var e,t,n=this.props,r=n.mostRecentQuery,a=n.guilds.search,o=n.defaultLanguage,i=n.isFetchingSearch,u=n.currentCategoryId,l=n.categories,s=n.currentCategoryName;m.DiscoveryTagsExperiment.trackExposure({})
;var d=m.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?u===V.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:s}):u===V.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:s}),f=null!==(e=null===(t=a[r])||void 0===t?void 0:t[u])&&void 0!==e?e:N.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(B.default,{loadId:this.loadId,searchResults:f,mostRecentQuery:r,isFetchingSearch:i,defaultLanguage:o,placeholder:d,currentCategoryId:u,categories:l})};n.renderSearchResults=function(){
var e,t,n=this,r=this.props,a=r.mostRecentQuery,o=r.guilds.search,i=r.availableLanguages,u=r.defaultLanguage,l=r.isFetchingSearch,s=r.theme,d=r.currentCategoryId,f=r.currentCategoryName,c=this.state.loadingGuildId,p=d===V.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:f}),v=null!==(e=null===(t=o[a])||void 0===t?void 0:t[d])&&void 0!==e?e:N.EMPTY_DISCOVERABLE_GUILDS_SECTION;return Z(S.default,{loadId:this.loadId,availableLanguages:i,defaultLanguage:u,placeholder:p,isFetchingSearch:l,searchResults:v,mostRecentQuery:a,loadingGuildId:c,currentCategoryId:d,currentCategoryName:f,scroller:this._scroller.current,theme:s,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,x.AnalyticsContexts.SEARCH)}})};n.renderRecommendedGuildsSection=function(){
var e,t,n=this,r=this.props,a=r.theme,o=r.usingGameRecommendations,i=r.recommendationsGuilds,u=r.recommendationsLoadId;if(null==u||null==i)return re;var l={guilds:i,total:i.length,offset:0,limit:i.length,loading:!1,isFirstLoad:!1},s=null!==(e=null===(t=w.default.getCurrentUser())||void 0===t?void 0:t.username)&&void 0!==e?e:Y.default.Messages.FRIENDS_COLUMN_NAME;return Z(E.default,{loadId:u,title:o?Y.default.Messages.GUILD_DISCOVERY_RECOMMENDATIONS_TITLE.format({username:s}):Y.default.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:l,analyticsContext:x.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){},loadingGuildId:null,theme:a,onTagClick:function(e,t){return n.handleTagSearch(e,t,x.AnalyticsContexts.RECOMMENDED)},showMoreCards:!0})};n.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,r=t.theme,a=t.currentCategoryId,o=this.state.loadingGuildId;return Z(E.default,{
loadId:this.loadId,title:Y.default.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[a],loadingGuildId:o,analyticsContext:x.AnalyticsContexts.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,p.fetchPopularGuildsForCategory)(a)},currentCategoryId:a,theme:r,onTagClick:function(t,n){return e.handleTagSearch(t,n,x.AnalyticsContexts.POPULAR)}})};n.render=function(){var e,t,n,r,u=this,l=this.props,s=l.currentCategoryName,f=l.mostRecentQuery,c=l.currentCategoryId,p=l.guilds,v=f.length>0;m.DiscoveryTagsExperiment.trackExposure({});var y=m.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,_=c===V.DISCOVERY_ALL_CATEGORIES_ID?null===(e=p[W.GuildDiscoverySections.FEATURED])||void 0===e?void 0:e.guilds:null===(t=p[c])||void 0===t?void 0:t.guilds;return c===V.DISCORD_HUB_ID?Z(T.default,{loadId:this.loadId}):Z("div",{className:K.default.pageWrapper},void 0,ae,Z("div",{className:(0,
o.default)(K.default.dragRegion,K.default.pageHeaderDrag,(n={},n[K.default.searchPageDrag]=v,n))}),d.isMobile&&oe,a.createElement(F.AdvancedScrollerAuto,{className:K.default.scroller,ref:this._scroller,onScroll:this.handleScroll},Z("div",{className:(0,o.default)(K.default.viewWrapper,(r={},r[K.default.searchPage]=v,r))},void 0,v?this.renderSearchResults():a.createElement(a.Fragment,null,Z("div",{className:K.default.searchHeader},void 0,Z("img",{alt:"",className:K.default.headerImage,src:$.default}),Z("div",{className:K.default.headerContentWrapper},void 0,Z("div",{className:K.default.headerContent},void 0,Z(k.Heading,{variant:"heading-xl/medium",className:K.default.searchTitle,level:3},void 0,c===V.DISCOVERY_ALL_CATEGORIES_ID?Y.default.Messages.GUILD_DISCOVERY_HOME_TITLE:Y.default.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:s})),Z(U.Text,{variant:"text-md/normal",className:K.default.searchSubtitle
},void 0,c===V.DISCOVERY_ALL_CATEGORIES_ID&&Y.default.Messages.GUILD_DISCOVERY_HOME_SUBTITLE),this.renderSearchBar(),y&&Z(H.DiscoveryTags,{hideOverflow:!0,section:x.AnalyticsContexts.HEADER,className:K.default.headerTagContainer,discoveryTagStyle:H.DiscoveryTagStyle.LIGHT,onTagClick:function(e){return u.handleTagSearch(e,void 0,x.AnalyticsContexts.HEADER)},tags:i.default.chain(_).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})))),Z("div",{className:K.default.featuredBody},void 0,c===V.DISCOVERY_ALL_CATEGORIES_ID?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()),Z("div",{className:K.default.footer},void 0,Z("img",{alt:"",src:z.default,className:K.default.footerImage}),Z(k.Heading,{variant:"heading-md/medium",level:3},void 0,Y.default.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE),Z(L.default,{look:L.default.Looks.LINK,color:L.default.Colors.LINK,size:L.default.Sizes.MIN,onClick:this.scrollToTop
},void 0,Y.default.Messages.GUILD_DISCOVERY_FOOTER_BODY))))))};return t}(a.PureComponent);ie.displayName="GuildDiscovery";var ue=f.default.connectStores([R.default,D.default,M.default,N.default,g.default,P.default],(function(){var e,t=V.LANGUAGE_OPTIONS,n=R.default.locale,r=null!==(e=i.default.find(t,{code:n}))&&void 0!==e?e:t[0],a=D.default.applicationStatistics,o=Object.keys(a),u=M.default.hasConsented(W.Consents.PERSONALIZATION)&&o.length>0,l=N.default.getCurrentCategoryId(),s=N.default.getCurrentHomepageCategoryId();return{isFetching:N.default.isFetching(),isFetchingSearch:N.default.isFetchingSearch(),guilds:N.default.getDiscoverableGuilds(),mostRecentQuery:N.default.getMostRecentQuery(),currentCategoryId:l,currentHomepageCategoryId:s,currentCategoryName:g.default.getCategoryName(l),categories:g.default.getDiscoveryCategories(),userGuilds:P.default.getGuilds(),theme:R.default.theme,mightHaveGamesYouPlay:u,availableLanguages:t,defaultLanguage:r}}))(ie);function le(e){var t=(0,
I.useEligibleForGameRecommendations)(),n=(0,f.useStateFromStoresObject)([b.default],(function(){return{recommendedGuilds:b.default.getRecommendedGuilds(),loadId:b.default.getLoadId(),fetching:b.default.isFetching()}})),r=n.fetching,o=n.loadId,i=n.recommendedGuilds;return a.createElement(ue,J({},e,{fetchingRecommendations:r,usingGameRecommendations:t,recommendationsGuilds:i,recommendationsLoadId:o}))}le.displayName="GuildDiscoveryComponent"},869333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;_(n(667294));var r,a=n(536211),o=n(598319),i=_(n(545721)),u=y(n(332743)),l=n(841354),s=y(n(666895)),d=y(n(152577)),f=y(n(199846)),c=y(n(582945)),p=n(227445),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E=function(e){
switch(e){case 1:return p.CategoryIcons.Activity;case 2:return p.CategoryIcons.Music;case 3:return p.CategoryIcons.Television;case 5:return p.CategoryIcons.Science;case 6:return p.CategoryIcons.Education;default:return p.CategoryIcons.Discover}},S=function(){var e=(0,a.useStateFromStoresObject)([f.default],(function(){return{currentCategoryId:f.default.getCurrentCategoryId(),isViewingSearchResults:f.default.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getDiscoveryCategories()}),[],i.areDiscoveryCategoriesEqual),p=null==r?void 0:r.map((function(e){return g({},e,{icon:E(e.categoryId)})})),y=function(e){(0,o.selectCategory)(e,!0);d.default.closeSidebar();n&&(0,o.clearSearch)()};return h(c.default,{},void 0,h(l.DiscoverySidebarHeader,{text:v.default.Messages.DISCOVER}),h(u.default,{categories:p,handleCategorySelect:y,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),h(s.default,{
handleCategorySelect:y,currentCategoryId:t,shouldDisplaySelectedCategory:!n}))};S.displayName="GuildDiscoveryCategorySidebar";var O=S;t.default=O},815428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(817673)),i=n(139982),u=l(n(668281));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handlePageChange=function(e){var t=n.props.onPageChange;n.setState({currentPage:e});null!=t&&t(e)};var r=(0,i.getHistory)().location.search,a=(null!=r&&r.length>0&&r.startsWith("?")?o.default.parse(r):{}).offset,u=null!=a?Math.floor(parseInt(a,10)/t.pageSize)+1:1;n.state={currentPage:u};return n}var n=t.prototype
;n.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})};n.render=function(){var e=this.props,t=e.totalCount,n=e.pageSize,r=e.maxVisiblePages,a=e.children,o=this.state.currentPage;return a({controller:d(u.default,{totalCount:t,pageSize:n,currentPage:o,maxVisiblePages:r,onPageChange:this.handlePageChange})})};return t}(a.PureComponent);c.displayName="GuildDiscoveryPaginator";var p=c;t.default=p},651386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=C(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=C(n(598319)),s=n(466492),d=n(364060),f=C(n(545721)),c=I(n(199846)),p=I(n(16941)),v=I(n(535813)),y=n(645758),m=n(967965),_=n(308920),h=n(956506),g=C(n(465537)),E=n(770348),S=n(227445),O=I(n(247001)),b=I(n(478483));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){
return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=i.default.throttle(g.trackSearchResultsViewed,1e3,{leading:!1,trailing:!0}),D=function(e){var t,n=e.isSelected,r=e.onCategoryChange,a=e.categoryId,i=e.name,u=e.count;return R(p.default,{onClick:function(){return r(a)},className:(0,o.default)(b.default.categoryPill,(t={},t[b.default.selected]=n,t))},void 0,R(y.Text,{className:b.default.categoryLabel,variant:"text-sm/normal"},void 0,null!=u?i+" ("+u+")":i))};D.displayName="Category";var L=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._searchRef=a.createRef();n.canSearch=function(e){return e.trim().length>=2&&!(0,s.searchQueryContainsBannedWord)(e)};n.doSearch=function(e,t,r,a){
var o,i=n.props,u=i.defaultLanguage,s=i.currentCategoryId,f=n.state,c=f.query,p=f.selectedLanguage;a&&l.getSearchResultsCount(c);n.setState({searchId:(0,d.makeAnalyticsID)(),queryHasChanged:!1,isSearching:!0});l.doAlgoliaSearch(c,{categoryId:null==r?s:r,preferredLocale:null!==(o=null==p?void 0:p.code)&&void 0!==o?o:u.code,offset:e,length:t,filters:{approximate_member_count:g.MINIMUM_MEMBER_COUNT}})};n.handleSearchBlurred=function(e){var t=n.props.onSearchBlur;n.setState({inputFocused:!1});null==t||t()};n.handleSearchKeyPress=function(e){var t=n.state,r=t.query,a=t.queryHasChanged,o=n.props,i=o.loadId,u=o.currentCategoryId,l=u!==S.DISCOVERY_ALL_CATEGORIES_ID?u:null;if(n.canSearch(r)&&a&&e.charCode===E.KeyboardKeys.ENTER){g.trackSearchStarted(i,l);n.doSearch(0,12,void 0,!0)}else 0===r.length&&e.charCode===E.KeyboardKeys.ENTER&&n.setState({isSearching:!1})};n.handleQueryChanged=function(e){n.setState({query:e,queryHasChanged:!0})};n.handleQueryCleared=function(){n.setState({query:"",
queryHasChanged:!0,isSearching:!1})};n.handleLanguageChange=function(e){var t=n.props,r=t.mostRecentQuery,a=t.availableLanguages,o=null==a?void 0:a.find((function(t){return t.name===e}));n.setState({selectedLanguage:o},(function(){n.canSearch(r)&&n.doSearch(0,12)}))};n.handleCategoryChange=function(e){var t=n.props.mostRecentQuery;l.selectCategory(e);n.canSearch(t)&&n.doSearch(0,12,e)};n.handleFocus=function(){var e=n.props.onSearchFocus;n.setState({inputFocused:!0});null==e||e()};n.focusInput=function(){var e;null===(e=n._searchRef.current)||void 0===e||e.focus()};n.state={searchId:(0,d.makeAnalyticsID)(),query:t.isSearchPage?t.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:t.defaultLanguage,inputFocused:!1,isHandlingTagSearch:t.isTagSearch||!1};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,a=this.state,o=a.searchId,i=a.query,u=a.isHandlingTagSearch,s=this.context
;null==c.default.getSearchIndex()&&l.createAlgoliaIndex();h.ComponentDispatch.subscribe(E.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);h.ComponentDispatch.subscribe(E.ComponentActions.TEXTAREA_FOCUS,this.focusInput);if(i.length>0){var d=r!==S.DISCOVERY_ALL_CATEGORIES_ID?r:null;w({loadId:t,searchId:o,query:i,guildResults:n.guilds,analyticsContext:s,categoryId:d,isTagSearch:u})}};n.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,a=n.isFetchingSearch,o=n.searchResults,i=n.currentCategoryId,u=n.mostRecentQuery,l=this.state,s=l.isSearching,f=l.searchId,c=l.query,p=l.isHandlingTagSearch,v=this.context,y=e.isFetchingSearch&&!a,m=i!==S.DISCOVERY_ALL_CATEGORIES_ID?i:null;if((s||p)&&y){w({loadId:r,searchId:f,query:c,guildResults:o.guilds,analyticsContext:v,categoryId:m,isTagSearch:p});this.setState({isHandlingTagSearch:!1})}!t.isSearching&&s&&g.trackSearchStarted(r,m,v);e.mostRecentQuery!==u&&this.setState({query:u,searchId:(0,d.makeAnalyticsID)(),isHandlingTagSearch:!0
})};n.componentWillUnmount=function(){h.ComponentDispatch.unsubscribe(E.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);h.ComponentDispatch.unsubscribe(E.ComponentActions.TEXTAREA_FOCUS,this.focusInput)};n.renderSearchOptions=function(){var e,t=this.props.availableLanguages,n=this.state.selectedLanguage;if(null==t)return null;var r=t.map((function(e){var t=e.name;return{label:t,value:t}}));return R(m.SingleSelect,{className:b.default.languageSelector,options:r,value:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",onChange:this.handleLanguageChange,maxVisibleItems:6})};n.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,r=t.countsByCategory;return R("div",{className:b.default.categories},void 0,null==r?void 0:r.map((function(t){var r=M(t,2),a=r[0],o=r[1];return R(D,{categoryId:a,name:a===S.DISCOVERY_ALL_CATEGORIES_ID?O.default.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:f.default.getCategoryName(a),onCategoryChange:e.handleCategoryChange,
isSelected:n===a,count:o},a)})))};n.render=function(){var e,t=this.state,n=t.query,r=t.inputFocused,i=this.props,u=i.placeholder,l=i.isSearchPage;return a.createElement(a.Fragment,null,R("div",{className:(0,o.default)(b.default.container,(e={},e[b.default.searchPage]=l,e))},void 0,R("div",{className:b.default.search},void 0,a.createElement(v.default,{ref:this._searchRef,searchTerm:n,className:l?void 0:b.default.searchBox,inputClassName:l?void 0:b.default.searchBoxInput,closeIconClassName:l?void 0:b.default.closeIcon,searchIconClassName:l?void 0:b.default.searchIcon,label:O.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:u,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!l,cta:r&&null!=n&&n.length>1?O.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),l?this.renderSearchOptions():null),l?this.renderCategories():null)};return t}(a.PureComponent)
;L.displayName="GuildDiscoverySearchBarComponent";L.contextType=_.AnalyticsContext;function k(e){var t=(0,u.useStateFromStores)([f.default],(function(){return f.default.getDiscoveryCategories()}),[],f.areDiscoveryCategoriesEqual),n=(0,u.useStateFromStores)([c.default],(function(){return c.default.getTopCategoryCounts(e.mostRecentQuery)}));return a.createElement(L,A({},e,{categories:t,countsByCategory:n}))}k.displayName="GuildDiscoverySearchBar"},263996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTags=t.DiscoveryTagStyle=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(673997)),u=p(n(16941)),l=p(n(265851)),s=p(n(160629)),d=p(n(308920)),f=n(770348),c=p(n(983294));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}var g=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],E=function(e){var t,n=e.text,r=e.onClick,a=e.className,i=e.hide;return h("li",{className:(0,o.default)(c.default.tag,a,(t={},t[c.default.hide]=i,t))},void 0,h(u.default,{className:c.default.tagText,onClick:function(e){e.stopPropagation();e.preventDefault();r(e)}},void 0,n))};E.displayName="DiscoveryTag";var S=function(e){var t=e.tags,n=e.onTagClick,r=e.guildId,o=e.section;a.useEffect((function(){d.default.track(f.AnalyticEvents.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:r,location:{page:f.AnalyticsPages.GUILD_DISCOVERY,section:o}})}),[r,o]);return h(l.default,{className:c.default.overflowTagsPopout},void 0,h("ul",{},void 0,t.map((function(e){return h(E,{onClick:function(){return n(e)},className:c.default.tagAlt,text:e},e)}))))};S.displayName="DiscoveryTagsPopout";var O=function(e){
var t=e.className,n=e.count;return h(s.default,{renderPopout:function(){return a.createElement(S,e)},position:s.default.Positions.RIGHT,align:s.default.Align.TOP,closeOnScroll:!0},void 0,(function(e){return a.createElement(E,_({className:t},e,{text:"+"+n}))}))};O.displayName="DiscoveryTagsOverflowButton";var b={DEFAULT:c.default.tagDefault,LIGHT:c.default.tagLight,ALT:c.default.tagAlt};t.DiscoveryTagStyle=b;var I=function(e){var t,n=e.tags,r=e.onTagClick,u=e.className,l=e.discoveryTagStyle,s=void 0===l?b.DEFAULT:l,d=e.hideOverflow,f=void 0!==d&&d,p=e.guildId,v=e.section,m=(0,i.default)(),_=m.ref,S=m.width,I=y(a.useState(null),2),T=I[0],C=I[1],A=n.filter((function(e){return!g.includes(e.toLowerCase())}));a.useLayoutEffect((function(){if(null!=_.current&&null!=S&&0!==S){for(var e=0,t=0,n=S-40-4,r=0;r<A.length;r++){t+=_.current.children[r].clientWidth+4;if(r===A.length-1?t>n+40:t>n)break;e++}C((function(t){return e<=A.length?e:t}))}}),[S,_,A]);return a.createElement("ul",{ref:_,
className:(0,o.default)(c.default.tagContainer,u,(t={},t[c.default.invisible]=null==T,t))},A.map((function(e,t){return h(E,{className:s,onClick:function(){return r(e)},hide:null!=T&&t>=T,text:e},e)})),!f&&null!=T&&T<A.length&&h(O,{className:s,onTagClick:r,tags:A.slice(T),count:A.length-T,guildId:p,section:v}))};t.DiscoveryTags=I;I.displayName="DiscoveryTags"},55027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=d(n(667294)),i=n(248088),u=d(n(648831)),l=(r=n(599884))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(){var e=p(regeneratorRuntime.mark((function e(n){var r,a,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props,a=r.guilds,o=r.analyticsContext,i=r.onViewGuild;u=a.findIndex((function(e){return e.id===n}));e.next=4;return i(n,u,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderGuild=function(e,n){var r=t.props,a=r.theme,o=r.onTagClick;return f(u.default,{guild:e,theme:a,onView:t.handleViewGuild,onTagClick:o},n)};return t}var n=t.prototype;n.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push(f(u.DiscoverSearchResultPlaceholder,{},n));return t};n.render=function(){
var e=this,t=this.props,n=t.guilds,r=t.loading;return f(i.Spring,{from:{opacity:r?0:1},to:{opacity:1},delay:100},void 0,(function(t){return f(i.animated.div,{className:l.default.guildList,style:t},void 0,r||null==n?e.renderPlaceholders():n.map(e.renderGuild))}))};return t}(o.PureComponent);y.displayName="GuildList";y.defaultProps={loadingPlaceholderCount:12};var m=y;t.default=m},810139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=d(n(781771)),i=d(n(756511)),u=n(772575),l=d(n(247001)),s=d(n(439324));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c("div",{
className:s.default.features},void 0,c(i.default,{className:s.default.video,videoID:"SWzB1mx2o5k"}),c(u.Heading,{className:s.default.perksHeading,variant:"heading-deprecated-14/medium",level:3},void 0,l.default.Messages.HYPESQUAD_PERKS_HEADING),c(o.default,{features:[{icon:s.default.perkNewsletter,title:l.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:l.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:s.default.perkBadge,title:l.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:l.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:s.default.perkChallenges,title:l.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:l.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))};return t}(a.Component);v.displayName="HypeSquadPerks";var y=v;t.default=y},508875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=g(n(294184)),s=g(n(956117)),d=g(n(16941)),f=g(n(530250)),c=n(772575),p=n(645758),v=n(194322),y=n(35570),m=n(770348),_=g(n(247001)),h=g(n(403080));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){
for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=((r={})[m.HypeSquadHouses.HOUSE_1]=h.default.membershipDialogHouse1,r[m.HypeSquadHouses.HOUSE_2]=h.default.membershipDialogHouse2,r[m.HypeSquadHouses.HOUSE_3]=h.default.membershipDialogHouse3,r),C=((a={})[m.HypeSquadHouses.HOUSE_1]=h.default.houseLogoHouse1,a[m.HypeSquadHouses.HOUSE_2]=h.default.houseLogoHouse2,a[m.HypeSquadHouses.HOUSE_3]=h.default.houseLogoHouse3,
a),A=((o={})[m.HypeSquadHouses.HOUSE_1]=n(903049),o[m.HypeSquadHouses.HOUSE_2]=n(188374),o[m.HypeSquadHouses.HOUSE_3]=n(789621),o),M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).handleJoinHypeSquadClick=function(){(0,v.openModalLazy)(b(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(86396)]).then(n.bind(n,186396));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return u.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))};return t}t.prototype.render=function(){var e,t,n=this.props,r=n.houseMembership,a=n.isClaimed,o=n.isVerified;if(!a||!o)return null;if(null!=r){var i=_.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,
y.getHouseNameFromHouseID)(r)});return S("div",{className:(0,l.default)(h.default.membershipDialog,T[r])},void 0,S("div",{className:h.default.membershipDialogContent},void 0,S(f.default,{},void 0,S(f.default.Child,{grow:1,shrink:1},void 0,S(p.Text,{className:h.default.membershipDialogHeading,variant:"text-xs/normal"},void 0,_.default.Messages.HYPESQUAD_YOUR_HOUSE),S(c.Heading,{className:h.default.membershipDialogHouseName,variant:"heading-deprecated-14/medium",level:3},void 0,i),S(p.Text,{className:h.default.membershipDialogHouseDescription,variant:"text-md/normal"},void 0,(e=r,((t={})[m.HypeSquadHouses.HOUSE_1]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1,t[m.HypeSquadHouses.HOUSE_2]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2,t[m.HypeSquadHouses.HOUSE_3]=_.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3,t)[e]))),S(f.default.Child,{className:h.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,S("img",{className:(0,l.default)(h.default.houseLogo,C[r]),src:A[r],alt:i
}))),S(p.Text,{className:h.default.membershipDialogSwitchHouses,variant:"text-md/normal"},void 0,_.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,S(d.default,{className:h.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,_.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return S("div",{className:h.default.joinCTAWrapper},void 0,S(f.default,{className:h.default.joinCTA,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER,direction:f.default.Direction.HORIZONTAL},void 0,S(f.default.Child,{grow:0,shrink:0},void 0,S(p.Text,{variant:"text-sm/normal"},void 0,_.default.Messages.HYPESQUAD_READY_TO_REP)),S(f.default.Child,{grow:0,shrink:0},void 0,S(s.default,{onClick:this.handleJoinHypeSquadClick},void 0,_.default.Messages.HYPESQUAD_JOIN))),S(p.Text,{className:h.default.newsletterWarning,variant:"text-sm/normal"},void 0,_.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))};return t}(u.Component);t.default=M
;M.displayName="JoinHypeSquadCTA"},677837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(951864)),i=d(n(956117)),u=n(645758),l=d(n(247001)),s=d(n(498863));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={isRequestPending:!1,hasError:!1};t.handleLeaveHypeSquadError=function(){t.setState({hasError:!0})};t.handleLeaveHypeSquadClick=function(){t.setState({isRequestPending:!0},(function(){o.default.leaveHypeSquadOnline().then((function(){t.setState({isRequestPending:!1})})).catch((function(){t.setState({hasError:!0,isRequestPending:!1})}))}))};return t}var n=t.prototype
;n.renderErrorMessage=function(){return this.state.hasError?c("div",{className:s.default.error},void 0,l.default.Messages.HYPESQUAD_LEAVE_ERROR):null};n.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?c("div",{className:s.default.leaveActionWrapper},void 0,this.renderErrorMessage(),c(u.Text,{variant:"text-sm/normal"},void 0,l.default.Messages.HYPESQUAD_LEAVE_PROMPT,c(i.default,{className:s.default.leaveButton,color:i.default.Colors.LINK,look:i.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:i.default.Sizes.NONE,submitting:e},void 0,l.default.Messages.HYPESQUAD_LEAVE_ACTION))):null};return t}(a.PureComponent);t.default=v;v.displayName="UserSettingsHypeSquad"},605807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=n(536211),i=p(n(241165)),u=y(n(908463)),l=p(n(308920)),s=p(n(571028)),d=p(n(221597)),f=p(n(913093)),c=n(770348);function p(e){return e&&e.__esModule?e:{
default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).maxScrolledPercentage=0;t.mountedAt=0;t.handleScroll=function(e){var n=e.getScrollerState(),r=n.offsetHeight,a=n.scrollHeight,o=n.scrollTop/(a-r);t.maxScrolledPercentage=Math.min(Math.max(t.maxScrolledPercentage,o),1)};t.track=function(e,n,r){void 0===n&&(n={});void 0===r&&(r=!1);var a=t.props.changeLog,o=a.id,i=a.date,u=_({change_log_id:(null!=o&&""!==o?o:i)+":"+a.revision},n);r||(u=_({seconds_open:Math.round((Date.now()-t.mountedAt)/1e3),
max_scrolled_percentage:100*parseInt(t.maxScrolledPercentage.toPrecision(4),10)},u));l.default.track(e,u)};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.changeLog,n=e.changeLogSource;if(null==t)return this.close();this.mountedAt=Date.now();this.maxScrolledPercentage=0;this.joinEligibleExperiment();this.track(c.AnalyticEvents.CHANGE_LOG_OPENED,_({},n),!0)};n.joinEligibleExperiment=function(){var e=this.props.changeLog;null!=e.experiment_names&&s.default.trackExposureToFirstEligibleUserExperiment(e.experiment_names)};n.close=function(){i.default.hideChangeLog()};n.componentWillUnmount=function(){this.track(c.AnalyticEvents.CHANGE_LOG_CLOSED)};n.render=function(){return this.props.changeLog.template===u.ChangeLogTemplate.SPECIAL?a.createElement(d.default,_({},this.props,{onScroll:this.handleScroll,track:this.track})):a.createElement(f.default,_({},this.props,{onScroll:this.handleScroll,track:this.track}))};return t}(a.PureComponent)
;g.displayName="ChangeLog";var E=function(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{changeLog:u.default.changeLog,changeLogSource:u.default.changeLogSource,isOpen:u.default.isOpen()}})),t=e.changeLog,n=e.changeLogSource,r=e.isOpen;return null!=t&&r?m(g,{changeLog:t,changeLogSource:n}):null};E.displayName="ConnectedChangeLog";var S=a.memo(E);t.default=S},221597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=M(n(667294)),o=C(n(294184)),i=C(n(730381)),u=n(91817),l=C(n(241165)),s=C(n(268389)),d=n(844867),f=C(n(908463)),c=C(n(151097)),p=M(n(956117)),v=n(374693),y=n(645758),m=n(354479),_=C(n(114655)),h=C(n(865725)),g=C(n(308920)),E=C(n(899984)),S=C(n(550270)),O=C(n(178710)),b=n(770348),I=C(n(247001)),T=C(n(866881));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}
var R=s.default.reactParserFor(E.default.getSpecialRules(T.default)),w={},D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,m.uid)();t.state={bodyWidth:451,copied:!1};t._unsetCopiedState=new u.DelayedCall(1e3,(function(){return t.setState({copied:!1})}));t.trackLinkClick=function(e){t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.scrollerRef=a.createRef();t.handleResize=function(){var e,n,r=null!==(e=null===(n=t._bodyNode)||void 0===n?void 0:n.offsetWidth)&&void 0!==e?e:t.state.bodyWidth;"number"!=typeof r||Number.isNaN(r)||t.setState({bodyWidth:r})};t.setSpecialBodyRef=function(e){t._bodyNode=e;t.handleResize()};t.handleScroll=function(){var e=t.scrollerRef.current;if(null!=e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)}};return t}
var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!0)};r.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!0);this._unsetCopiedState.cancel()};r.close=function(){l.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=this.state.bodyWidth,a=r*(9/16),i=t.youtube_video_id,u=t.video,l=t.image;if(null!=i&&""!==i)return N(v.EmbedVideo,{className:(0,o.default)(T.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){
e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return N(h.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:T.default.video,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){var f=l.startsWith("https://")?l:n(478717)("./"+l);return N("img",{className:T.default.image,alt:"",src:f,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return N(O.default,{className:(0,o.default)(T.default.container),modalLabeledById:this.headerId,onClose:this.close,onScroll:this.handleScroll,scrollerRef:this.scrollerRef},void 0,N("div",{className:T.default.header,id:this.headerId,tabIndex:0},void 0,N("div",{className:T.default.headerContent},void 0,N(_.default,{size:_.default.Sizes.SIZE_32,className:T.default.headerText},void 0,I.default.Messages.CHANGELOG_STICKERS_HEADER),N(y.Text,{variant:"text-md/normal",
className:T.default.dateText},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date}))),N("div",{className:T.default.headerGraphic})),a.createElement("div",{className:T.default.body,ref:this.setSpecialBodyRef},this.renderVideo(),R(e.body,!1,{changeLog:this,interpolations:w,onLinkClick:this.trackLinkClick})),N("div",{className:T.default.footer},void 0,N(y.Text,{variant:"text-lg/normal",className:T.default.inviteCTAHeader},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_TITLE),N(y.Text,{variant:"text-md/normal",className:T.default.inviteCTABody},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_BODY.format()),N(c.default,{className:(0,o.default)((0,p.getButtonStyle)({size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN}),T.default.ctaAnchor),href:S.default.getArticleURL(b.HelpdeskArticles.STICKERS),onClick:function(){var e,t;g.default.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{
change_log_id:(null===(e=f.default.changeLog)||void 0===e?void 0:e.date)+":"+(null===(t=f.default.changeLog)||void 0===t?void 0:t.revision),cta_type:"stickers_cta"})}},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA)))};return t}(a.PureComponent);t.default=D;D.displayName="ChangelogSpecialTemplate"},913093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=C(n(294184)),i=C(n(730381)),u=C(n(241165)),l=C(n(805764)),s=C(n(268389)),d=n(844867),f=C(n(151097)),c=n(374693),p=C(n(530250)),v=n(772575),y=n(645758),m=n(354479),_=C(n(877622)),h=C(n(170331)),g=C(n(637853)),E=C(n(865725)),S=C(n(899984)),O=C(n(138158)),b=n(770348),I=C(n(247001)),T=C(n(634427));function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return N(e,t)}var P=s.default.reactParserFor(S.default.getDefaultRules(T.default)),R={},w=M(g.default,{}),D=M(_.default,{}),L=M(h.default,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,m.uid)();t.handleScroll=function(e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)};t.trackLinkClick=function(e){t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.renderHeader=function(){var e=t.props.changeLog;return M(p.default.Child,{grow:1,shrink:1},void 0,M(v.Heading,{variant:"heading-lg/medium",level:2},void 0,I.default.Messages.WHATS_NEW),M(y.Text,{variant:"text-xs/normal",className:T.default.date},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date})))};return t}
var r=t.prototype;r.close=function(){u.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderFooter=function(){return M("div",{className:T.default.footer},void 0,M(f.default,{"aria-label":I.default.Messages.TWITTER,className:T.default.socialLink,href:(0,l.default)(b.LocalizedLinks.TWITTER),target:"blank"},void 0,w),M(f.default,{"aria-label":I.default.Messages.FACEBOOK,className:T.default.socialLink,href:b.SOCIAL_LINKS.FACEBOOK_URL,target:"blank"},void 0,D),M(f.default,{"aria-label":I.default.Messages.INSTAGRAM,className:T.default.socialLink,href:b.SOCIAL_LINKS.INSTAGRAM_URL,target:"blank"},void 0,L),M(y.Text,{variant:"text-xs/normal"},void 0,I.default.Messages.FOLLOW_US_FOR_MORE_UPDATES))};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=451,a=254,i=t.youtube_video_id,u=t.video,l=t.image;if(null!=i&&""!==i)return M(c.EmbedVideo,{className:(0,o.default)(T.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{
url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:d.renderVideoComponent,renderImageComponent:d.renderImageComponent,renderLinkComponent:d.renderMaskedLinkComponent,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return M(E.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:T.default.video,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){var f=l.startsWith("https://")?l:n(478717)("./"+l);return M("img",{className:T.default.image,alt:"",src:f,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return M(O.default,{className:T.default.container,onClose:this.close,renderHeader:this.renderHeader,
renderFooter:this.renderFooter,onScroll:this.handleScroll},void 0,M("div",{tabIndex:0,role:"region","aria-label":I.default.Messages.CHANGELOG_CONTENT_LABEL},void 0,this.renderVideo(),P(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})))};return t}(a.PureComponent);k.displayName="ChangelogStandardTemplate";var j=k;t.default=j},410671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=h(n(294184)),i=h(n(151097)),u=h(n(956117)),l=h(n(558402)),s=h(n(16941)),d=n(772575),f=n(645758),c=h(n(279950)),p=n(354479),v=h(n(510596)),y=n(3400),m=h(n(247001)),_=h(n(949095));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var O=E("br",{}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,p.uid)();t.state={code:"",errorMessage:"",retrySuccess:!1};t.setRef=function(e){t._input=e};t.getLabelText=function(){var e;return null!==(e=t.props.label)&&void 0!==e?e:t.props.disallowBackupCodes?m.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:m.default.Messages.TWO_FA_ENTER_TOKEN_LABEL};t.getSupportedCodeTypes=function(){return t.props.disallowBackupCodes?m.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:m.default.Messages.TWO_FA_AUTH_CODE};t.getPlaceholder=function(){var e;return t.props.forceNoPlaceholder?null:null!==(e=t.props.placeholder)&&void 0!==e?e:t.getSupportedCodeTypes()};t.errorPresent=function(){return null!=t.props.error&&""!==t.props.error||null!=t.state.errorMessage&&""!==t.state.errorMessage};t.handleRetry=function(){var e=t.props.onRetry;null==e||e().then((function(){
return t.setState({retrySuccess:!0})}))};t.handleSubmit=function(e){e.preventDefault();var n=t.props,r=n.handleSubmit,a=n.onError;r(t.state.code).catch((function(e){if(null!=e.body){null==a||a(e.body);e.body.message&&t.setState({errorMessage:e.body.message})}}))};t.handleCancel=function(){var e=t.props,n=e.onClose,r=e.handleEarlyClose;n();null==r||r()};t.handleCodeChange=function(e){t.setState({code:e})};return t}t.prototype.render=function(){var e,t=this.props,n=t.title,r=t.actionText,p=t.children,h=t.error,g=t.isLoading,S=t.maxLength,b=t.transitionState,I=t.helpMessage,T=t.retryPrompt,C=t.retrySuccessMessage,A=this.state,M=A.code,N=A.errorMessage,P=A.retrySuccess,R=a.Children.count(p)>0?E(l.default,{type:l.default.Types.WARNING,className:_.default.card},void 0,E(f.Text,{variant:"text-md/normal"},void 0,p)):null,w=null!=T?E(f.Text,{className:(0,o.default)(_.default.submitText,_.default.spacing),variant:"text-sm/normal"},void 0,O,E(s.default,{className:(0,
o.default)(_.default.spacing,_.default.link),onClick:this.handleRetry},void 0,E(i.default,{},void 0,T))):null,D=P?E(l.default,{type:l.default.Types.SUCCESS,className:_.default.card},void 0,E(f.Text,{variant:"text-md/normal"},void 0,C)):null;return E(y.ModalRoot,{transitionState:b,"aria-labelledby":this.headerId},void 0,E("form",{onSubmit:this.handleSubmit},void 0,E(y.ModalHeader,{separator:!1,id:this.headerId},void 0,E(d.Heading,{variant:"heading-lg/medium",level:2},void 0,n)),E(y.ModalContent,{},void 0,null!=I?E(f.Text,{color:"text-normal",variant:"text-md/normal",className:_.default.spacing},void 0,I):null,R,D,E(v.default,{title:this.getLabelText(),className:_.default.spacing},void 0,E(c.default,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:null!==(e=this.getPlaceholder())&&void 0!==e?e:void 0,maxLength:null!=S?S:10,value:M,autoComplete:"one-time-code",autoFocus:!0}),this.errorPresent()?E(f.Text,{color:"text-danger",variant:"text-xs/normal",
className:_.default.error},void 0,null!=h?h:N):null,w)),E(y.ModalFooter,{},void 0,E(u.default,{type:"submit",disabled:g},void 0,null!=r?r:m.default.Messages.CONFIRM),E(u.default,{onClick:this.handleCancel,disabled:g,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY},void 0,m.default.Messages.CANCEL))))};return t}(a.PureComponent);b.displayName="MFAConfirm";b.defaultProps={btnClass:"",isLoading:!1,disallowBackupCodes:!1,error:null,forceNoPlaceholder:!1};var I=b;t.default=I},178710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(16941)),u=p(n(259530)),l=p(n(114655)),s=y(n(3400)),d=p(n(247001)),f=p(n(853930)),c=["onClose"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=_(u.default,{width:24,height:24}),E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.selectable,n=e.className,r=e.modalLabeledById,u=e.onClose,p=e.children,v=e.onScroll,y=e.scrollerRef;return _(s.default,{onCloseRequest:u,renderModal:function(e){var h,E=e.onClose,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return a.createElement(s.ModalRoot,m({className:f.default.modal},S,{"aria-labelledby":r}),_(s.ModalContent,{className:(0,o.default)(n,f.default.content,{selectable:t}),scrollerRef:y,onScroll:v},void 0,p),_(i.default,{className:f.default.closeButton,onClick:function(){null!=u&&u();E()
}},void 0,g),_("div",{className:f.default.updateBadge},void 0,_(l.default,{size:(h=d.default.Messages.UPDATE_BADGE_HEADER,h.length>12?l.default.Sizes.SIZE_10:h.length>10?l.default.Sizes.SIZE_12:h.length>8?l.default.Sizes.SIZE_14:l.default.Sizes.SIZE_16),className:f.default.updateBadgeText},void 0,d.default.Messages.UPDATE_BADGE_HEADER)))}})};return t}(a.PureComponent);E.displayName="SpecialMarkdownModal";E.defaultProps={selectable:!1};var S=E;t.default=S},57663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Le
;var r,a=Te(n(667294)),o=be(n(294184)),i=n(536211),u=n(923387),l=be(n(972247)),s=n(91817),d=n(378158),f=be(n(226800)),c=be(n(686923)),p=be(n(284382)),v=be(n(6887)),y=be(n(77146)),m=n(224179),_=be(n(915502)),h=be(n(945926)),g=be(n(330493)),E=be(n(590087)),S=be(n(56200)),O=be(n(133464)),b=be(n(305081)),I=n(169749),T=be(n(204953)),C=be(n(245275)),A=be(n(265328)),M=be(n(904577)),N=be(n(394614)),P=be(n(907567)),R=be(n(719637)),w=be(n(962119)),D=be(n(711195)),L=n(894826),k=be(n(105847)),j=be(n(423405)),U=be(n(644263)),G=be(n(513266)),F=be(n(122913)),x=be(n(635014)),B=be(n(893160)),H=be(n(690445)),W=be(n(397228)),V=be(n(663303)),Y=be(n(728429)),K=be(n(146771)),z=be(n(16941)),$=be(n(530250)),q=be(n(618993)),X=be(n(160629)),Q=be(n(413542)),Z=n(645758),J=Te(n(730977)),ee=be(n(738133)),te=be(n(228315)),ne=be(n(634230)),re=be(n(878338)),ae=be(n(324582)),oe=be(n(347114)),ie=be(n(855480)),ue=be(n(287317)),le=n(194322),se=be(n(139574)),de=be(n(902060)),fe=be(n(683898)),ce=Te(n(628551)),pe=be(n(308920)),ve=n(856384),ye=n(42031),me=be(n(922629)),_e=be(n(1483)),he=n(770348),ge=n(198622),Ee=be(n(247001)),Se=be(n(129609)),Oe=["onClick","onMouseEnter"]
;function be(e){return e&&e.__esModule?e:{default:e}}function Ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ie=function(e){return e?n:t})(e)}function Te(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ce(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ae(){Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ae.apply(this,arguments)}function Me(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Me(o,r,a,i,u,"next",e)}function u(e){Me(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Re(e,t){Re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Re(e,t)}var we=me.default.getEnableHardwareAcceleration()?ce.AnimatedAvatar:ce.default;var De=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Re(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).copiedTimeout=new s.Timeout;t.copiedDecayTimeout=new s.Timeout;t.speakingWhileMutedTooltipTimeout=new s.Timeout;t.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};t.handleToggleSelfMute=function(){var e=t.props,n=e.serverMute,r=e.suppress;(0,E.default)(n,r)};t.handleToggleSelfDeaf=function(){var e=t.props.serverDeaf;(0,g.default)(e)};t.handleOpenAccountSettings=function(){t.handleOpenSettings()};t.handleOpenSettings=function(e){void 0===e&&(e=he.UserSettingsSections.ACCOUNT);f.default.open(e)};t.handleOpenSettingsContextMenu=function(e){var r=t.props.currentUser;null!=r&&(0,d.openContextMenuLazy)(e,Ne(regeneratorRuntime.mark((function e(){var o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(64084)]).then(n.bind(n,964084));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Ae({},e,{user:r,premiumSubscription:t.props.premiumSubscription,webBuildOverride:t.props.webBuildOverride}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleClearPoggermodeEducationTooltip=function(){};t.handleInputAudioContextMenu=function(e){(0,d.openContextMenuLazy)(e,Ne(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=Ce(r,{onClose:d.closeContextMenu,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleOutputAudioContextMenu=function(e){(0,
d.openContextMenuLazy)(e,Ne(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=Ce(r,{onClose:d.closeContextMenu,renderOutputDevices:!0,renderOutputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleMouseEnter=function(){t.setState({hovered:!0})};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleMouseEnterMute=function(){t.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()};t.handleMouseLeaveMute=function(){t.setState({hoveringOnMute:!1})};t.handleCopyTag=function(){var e=t.props.currentUser,n=t.state,r=n.shouldShowNametagTooltip,a=n.copiedStreak;if(null!=e){(0,ve.copy)(e.tag);pe.default.track(he.AnalyticEvents.TEXT_COPIED,{type:"User Tag"});var o={shouldShowCopiedFeedback:!0,
shouldShowNametagTooltip:!0};r||(o.copiedStreak=a+1);t.setState(o,(function(){t.copiedTimeout.start(1e3,(function(){return t.setState({shouldShowNametagTooltip:!1})}));t.copiedDecayTimeout.start(2e3,(function(){return t.setState({copiedStreak:0})}))}))}};t.handleOccludedChanged=function(){t.props.occluded&&t.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};t.handleSpeakingWhileMutedChanged=function(){var e=t.props,n=e.selfMute,r=e.serverMute,a=e.suppress,o=e.speakingWhileMuted,i=e.occluded,u=t.state.hoveringOnMute;if(o)u||!n||r||a||i||t.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){t.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return t.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{t.setState({shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()}};t.renderStatusPickerPopout=function(e){var n=e.closePopout;if(t.props.showRichProfilePopup){var r;return Ce(P.default,{
userId:null===(r=t.props.currentUser)||void 0===r?void 0:r.id,user:t.props.currentUser,onClose:function(){t.handleMouseLeave();null==n||n()}})}return Ce(c.default,{onClose:function(){t.handleMouseLeave();null==n||n()}})};return t}var r=t.prototype;r.componentDidUpdate=function(e){var t=e.speakingWhileMuted,n=e.occluded,r=this.props,a=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();a!==t&&this.handleSpeakingWhileMutedChanged()};r.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};r.renderCopiedSuccess=function(){
var e=this.state.copiedStreak,t=[Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,Ee.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return Ce(Q.default,{isShaking:this.isCopiedStreakGodlike},void 0,t[n])};r.renderNameTag=function(){var e=this.props,t=e.customStatusActivity,n=e.hidePrivateData,r=e.currentUser,o=this.state.hovered;if(null==r)return null;var i=n?null:"#"+r.discriminator,u=null!=t?Ce(q.default,{hoverText:i,forceHover:o},void 0,Ce(O.default,{activity:t,
emojiClassName:Se.default.emoji,className:Se.default.customStatus})):i;return a.createElement(a.Fragment,null,Ce(Z.Text,{className:Se.default.usernameContainer,variant:"text-sm/normal"},void 0,Ce(fe.default,{},void 0,r.username)),null!=u?Ce(de.default,{className:Se.default.discriminator},void 0,u):null)};r.renderCopiableNameTag=function(){var e=this,t=this.props.currentUser,n=this.state,r=n.shouldShowNametagTooltip,i=n.shouldShowCopiedFeedback;if(null==t)return null;var u=null,l=J.TooltipColors.PRIMARY;if(ve.SUPPORTS_COPY){u=Ee.default.Messages.ACCOUNT_CLICK_TO_COPY;if(i){u=this.renderCopiedSuccess();l=this.isCopiedStreakGodlike?J.TooltipColors.RED:J.TooltipColors.GREEN}}return Ce(J.default,{text:u,forceOpen:r,"aria-label":!!ve.SUPPORTS_COPY&&Ee.default.Messages.ACCOUNT_CLICK_TO_COPY,color:l,delay:500,onAnimationRest:function(t,n){i&&!r&&n.phase===he.SpringTransitionPhases.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})}},void 0,(function(t){
var n,r=t.onClick,u=t.onMouseEnter,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,Oe);return a.createElement(z.default,Ae({},l,{onMouseEnter:function(){if(i){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},u)}else null==u||u()},onClick:function(){null==r||r();e.handleCopyTag()},className:(0,o.default)(Se.default.nameTag,(n={},n[Se.default.canCopy]=ve.SUPPORTS_COPY,n))}),e.renderNameTag())}))};r.renderAvatarWithPopout=function(){var e=this,t=this.props,n=t.speaking,r=t.streaming,i=t.currentUser,u=t.status,l=t.showTagAsButton,s=t.showTaglessAccountPanel;return null==i?null:Ce(p.default,{object:he.AnalyticsObjects.AVATAR},void 0,Ce(X.default,{renderPopout:this.renderStatusPickerPopout,position:X.default.Positions.BOTTOM,align:X.default.Align.LEFT,animation:X.default.Animation.FADE,spacing:14,fixed:!0,preload:function(){return(0,D.default)(i.id,null==i?void 0:i.getAvatarURL(null,80))}
},void 0,(function(t,d){var f,c;return a.createElement(z.default,Ae({},t,{"aria-label":Ee.default.Messages.SET_STATUS,className:(0,o.default)(Se.default.avatarWrapper,(f={},f[Se.default.withTagAsButton]=l,f[Se.default.withTagless]=s,f))}),Ce(we,{size:ce.Sizes.SIZE_32,src:i.getAvatarURL(void 0,32,!1),"aria-label":i.username,status:r?he.StatusTypes.STREAMING:u,isSpeaking:n,className:Se.default.avatar}),l||s?Ce("div",{className:(0,o.default)(Se.default.nameTag,(c={},c[Se.default.canCopy]=ve.SUPPORTS_COPY,c))},void 0,s?Ce(se.default,{tooltipText:null,icon:d.isShown?ee.default:te.default,role:"switch","aria-label":Ee.default.Messages.SET_STATUS}):e.renderNameTag()):null)})))};r.renderSettingsGear=function(){var e=this.props.webBuildOverride;return Ce(se.default,{tooltipText:null!=e?Ee.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:e.id}):Ee.default.Messages.USER_SETTINGS,onClick:this.handleOpenAccountSettings,onContextMenu:this.handleOpenSettingsContextMenu,
innerClassName:null!=e?Se.default.buildOverrideButton:null,icon:ne.default},void 0,null!=e?Ce(oe.default,{width:9,height:9,className:Se.default.hasBuildOverride,"aria-hidden":!0}):null)};r.renderNameZone=function(){var e=this,t=this.props,n=t.currentUser,r=t.dismissibleContents,o=this.props,i=o.showTagAsButton,l=o.showTaglessAccountPanel;return null==n?null:a.createElement(a.Fragment,null,Ce(b.default,{contentTypes:r.avatar},void 0,(function(t){var n=t.visibleContent,r=t.markAsDismissed,a=Ce(R.default,{markAsDismissed:r});return n===u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP?Ce(X.default,{position:X.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return e.renderAvatarWithPopout()})):e.renderAvatarWithPopout()})),i||l?null:this.renderCopiableNameTag())};r.render=function(){
var e,t,n=this,r=this.props,a=r.currentUser,i=r.selfDeaf,l=r.selfMute,s=r.awaitingRemote,d=r.serverMute,f=r.serverDeaf,c=r.suppress,p=r.dismissibleContents,v=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==a)return null;var y=l||c||d,m=i||f;return Ce("div",{className:Se.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,this.renderNameZone(),Ce($.default,{grow:0},void 0,Ce(se.default,{tooltipText:v?Ee.default.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,h.default)(l,d,c,s),tooltipColor:v?J.TooltipColors.GREEN:void 0,tooltipForceOpen:v||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,icon:y?ue.default:ie.default,iconForeground:y?Se.default.strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:(0,o.default)((e={},e[Se.default.redIcon]=d||c,e)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":Ee.default.Messages.MUTE,"aria-checked":y,disabled:s}),Ce(se.default,{
tooltipText:(0,_.default)(i,f,s),icon:i?ae.default:re.default,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:(0,o.default)((t={},t[Se.default.redIcon]=f,t)),iconForeground:m?Se.default.strikethrough:null,role:"switch","aria-label":Ee.default.Messages.DEAFEN,"aria-checked":m,disabled:s}),Ce(b.default,{contentTypes:p.settings},void 0,(function(e){var t=e.visibleContent,r=e.markAsDismissed,a=Ce(_e.default,{markAsDismissed:r}),o=Ce(T.default,{markAsDismissed:r}),i=Ce(C.default,{markAsDismissed:r});switch(t){case u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return Ce(X.default,{position:X.default.Positions.TOP,align:X.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return n.renderSettingsGear()}));case u.DismissibleContent.POGGERMODE_BIRTHDAY_EDUCATION_TOOLTIP:return Ce(X.default,{position:X.default.Positions.TOP,align:X.default.Align.CENTER,shouldShow:!0,renderPopout:function(){
return Ce(A.default,{className:Se.default.poggermodeFeatureEducation,header:Ee.default.Messages.POGGERMODE_TOOLTIP_TITLE,body:Ee.default.Messages.POGGERMODE_TOOLTIP_DESCRIPTION,tryItText:Ee.default.Messages.POGGERMODE_TOOLTIP_TRY_IT,artClassName:Se.default.poggermodeFeatureEducationArt,onTryFeature:function(){return n.handleOpenSettings(he.UserSettingsSections.POGGERMODE)},closePopout:r,analyticsName:"Poggermode"})}},void 0,(function(){return n.renderSettingsGear()}));case u.DismissibleContent.DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP:return Ce(X.default,{position:X.default.Positions.TOP,align:X.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return o}},void 0,(function(){return n.renderSettingsGear()}));case u.DismissibleContent.DROPS_QUEST_COMPLETION_TOOLTIP:return Ce(X.default,{position:X.default.Positions.TOP,align:X.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return i}},void 0,(function(){return n.renderSettingsGear()}));default:return n.renderSettingsGear()}
}))))};!function(e,t,n){t&&Pe(e.prototype,t);n&&Pe(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return t}(a.PureComponent);De.displayName="Account";function Le(){var e=(0,i.useStateFromStores)([Y.default],(function(){return Y.default.getCurrentUser()})),t=null==e?void 0:e.id,n=L.CustomStatusSetting.useSetting(),r=a.useMemo((function(){return null!=n?(0,S.default)(n):null}),[n]),o=(0,i.useStateFromStoresObject)([H.default],(function(){return{streaming:null!=H.default.findActivity((function(e){return e.type===he.ActivityTypes.STREAMING})),status:H.default.getStatus()}})),s=o.streaming,d=o.status,f=(0,i.useStateFromStores)([W.default],(function(){return null!=t&&W.default.isSpeaking(t)}),[t]),c=(0,i.useStateFromStores)([V.default],(function(){return V.default.hidePersonalInformation})),p=(0,i.useStateFromStores)([B.default,U.default],(function(){var e=B.default.getChannelId()
;return null!=e?U.default.getChannel(e):null})),_=(0,j.default)(p),h=_.mute,g=_.selfMute,E=_.suppress,O=(0,k.default)(p),b=O.selfDeaf,T=O.deaf,C=(0,i.useStateFromStores)([y.default],(function(){var e;return(0,m.probablyHasBuildOverride)()?null===(e=y.default.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),A=(0,i.useStateFromStores)([K.default],(function(){return K.default.getPremiumTypeSubscription()})),P=(0,i.useStateFromStores)([x.default],(function(){return x.default.getEverSpeakingWhileMuted()})),R=(0,i.useStateFromStores)([G.default],(function(){return null!=G.default.getAccount(null,he.PlatformTypes.PLAYSTATION)})),D=(0,i.useStateFromStores)([F.default],(function(){return F.default.hasLayers()})),z=(0,le.useModalsStore)(le.hasAnyModalOpenSelector)||D||ye.ProcessArgs.isDisallowPopupsSet();a.useEffect((function(){N.default.trackExposure({})}));var $=(0,i.useStateFromStores)([M.default],(function(){return null!=M.default.getAwaitingRemoteSessionType()
})),q=N.default.useExperiment({}),X=q.isPopupEnabled,Q=q.isJoinedTagButtonEnabled,Z=q.isTaglessAccountPanelEnabled,J=(0,I.useDropsExperiment)().isEligibleForDropsExperiment,ee=v.default.useExperiment({}).coachMarkEnabled,te=w.default.useExperiment({}).showFeatureEducation,ne={avatar:[],settings:[]};z||null!=l.default.get(ge.MULTIACCOUNT_TOOLTIP_SEEN_KEY)||ne.avatar.push(u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP);z||!ee||R||ne.settings.push(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION);!z&&te&&ne.settings.push(u.DismissibleContent.POGGERMODE_BIRTHDAY_EDUCATION_TOOLTIP);if(!z&&J){ne.settings.push(u.DismissibleContent.DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP);!1}return Ce(De,{currentUser:e,customStatusActivity:r,dismissibleContents:ne,hidePrivateData:c,occluded:z,premiumSubscription:A,selfDeaf:b,selfMute:g,serverDeaf:T,serverMute:h,showRichProfilePopup:X,showTagAsButton:Q,showTaglessAccountPanel:Z,speaking:f,speakingWhileMuted:P,status:d,streaming:s,suppress:E,
webBuildOverride:C,awaitingRemote:$})}Le.displayName="AccountConnected"},1483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(155502)),i=p(n(754416)),u=p(n(956117)),l=n(645758),s=p(n(308920)),d=n(770348),f=p(n(247001)),c=p(n(573438));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){e();s.default.track(d.AnalyticEvents.UPSELL_CLICKED,{type:"account_connect_playstation_tooltip",action:"dismiss"})}function _(e){var t=e.markAsDismissed;a.useEffect((function(){s.default.track(d.AnalyticEvents.UPSELL_VIEWED,{type:"account_connect_playstation_tooltip"})}),[]);a.useEffect((function(){function e(e){e.keyCode===d.KeyboardKeys.ESCAPE&&m(t)}window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);var n=a.useCallback((function(){(0,i.default)(d.PlatformTypes.PLAYSTATION,"Playstation Upsell");m(t)}),[t])
;return y("div",{className:c.default.container},void 0,y("div",{className:c.default.image}),y(l.Text,{className:c.default.title,variant:"text-sm/normal"},void 0,f.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:o.default.get(d.PlatformTypes.PLAYSTATION).name})),y(l.Text,{variant:"text-sm/normal",className:c.default.subTitle},void 0,f.default.Messages.PLAYSTATION_CONNECT_DESCRIPTION),y(u.default,{look:u.default.Looks.INVERTED,fullWidth:!0,onClick:n},void 0,f.default.Messages.CONNECT),y(u.default,{color:u.default.Colors.WHITE,look:u.default.Looks.LINK,fullWidth:!0,onClick:function(){return m(t)}},void 0,f.default.Messages.NO_THANKS),y("div",{className:c.default.pointer}))}_.displayName="AccountConnectPlayStationTooltip"},52505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(496486)),i=h(n(536211)),u=n(378158),l=h(n(913914)),s=h(n(922340)),d=h(n(146411)),f=h(n(326939)),c=h(n(330445)),p=h(n(290629)),v=h(n(728429)),y=h(n(251689)),m=n(71246),_=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(o))||this).handleUserContextMenu=function(e,t){(0,u.openContextMenuLazy)(e,b(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};t.renderOverflowPopout=function(){var e=t.props.party;return E(l.default,{party:e,header:_.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})})};return t}var r=t.prototype;r.hasParty=function(e){return e.length>1};r.handleStopListening=function(){(0,s.default)()};r.renderUserPopout=function(e,t){return a.createElement(f.default,S({},e,{userId:t.id}))};r.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)&&null!=t?E(y.default,{currentUser:t,
host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return t}(a.PureComponent);T.displayName="ListeningAlong";var C=i.default.connectStores([d.default,v.default,p.default,c.default],(function(){var e,t,n=d.default.getSyncingWith(),r=d.default.getActivity(),a=v.default.getCurrentUser(),i=[];if(null!=n){e=v.default.getUser(n.userId);t=n.partyId}else if(null!=r&&null!=r.party&&null!=r.party.id){e=a;t=r.party.id}if(null!=t){var u;i=(0,o.default)(Array.from(null!==(u=c.default.getParty(t))&&void 0!==u?u:[])).map((function(e){return v.default.getUser(e)})).filter(m.isNotNullish).orderBy([function(t){return null==e||e.id===t.id},function(e){return p.default.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:a,host:e,party:i}}))(T);t.default=C},883901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=We(n(667294)),o=Be(n(294184)),i=Be(n(441143)),u=n(473727),l=n(536211),s=Be(n(740207)),d=n(378158),f=Be(n(505437)),c=We(n(712283)),p=Be(n(367734)),v=Be(n(257175)),y=n(556470),m=n(433383),_=n(678164),h=n(746920),g=We(n(303798)),E=n(186096),S=Be(n(198016)),O=n(245546),b=Be(n(151120)),I=Be(n(954140)),T=Be(n(37039)),C=Be(n(932018)),A=n(678928),M=Be(n(314234)),N=Be(n(970007)),P=Be(n(157836)),R=Be(n(379310)),w=Be(n(908921)),D=We(n(278352)),L=Be(n(652566)),k=n(139982),j=Be(n(915188)),U=Be(n(610929)),G=n(205809),F=Be(n(131020)),x=Be(n(897191)),B=n(921867),H=n(894826),W=Be(n(373115)),V=Be(n(431388)),Y=Be(n(770404)),K=We(n(336940)),z=Be(n(493051)),$=Be(n(152803)),q=Be(n(310261)),X=Be(n(30269)),Q=n(645675),Z=Be(n(686305)),J=Be(n(607209)),ee=Be(n(644263)),te=Be(n(30098)),ne=Be(n(122913)),re=Be(n(635014)),ae=Be(n(689389)),oe=Be(n(893160)),ie=Be(n(290629)),ue=Be(n(728429)),le=Be(n(387692)),se=Be(n(487372)),de=Be(n(151097)),fe=Be(n(956117)),ce=Be(n(530250)),pe=n(728526),ve=n(772575),ye=Be(n(160629)),me=Be(n(567668)),_e=n(645758),he=Be(n(730977)),ge=We(n(662197)),Ee=Be(n(79027)),Se=Be(n(26285)),Oe=Be(n(400217)),be=Be(n(250003)),Ie=Be(n(952117)),Te=Be(n(139574)),Ce=Be(n(902060)),Ae=Be(n(308920)),Me=Be(n(550270)),Ne=n(873838),Pe=Be(n(547636)),Re=Be(n(529025)),we=n(770348),De=n(439142),Le=Be(n(247001)),ke=Be(n(444013)),je=Be(n(380203)),Ue=["unavailable","active","label","iconComponent"],Ge=["onClick"],Fe=["onClick"],xe=["channelId"]
;function Be(e){return e&&e.__esModule?e:{default:e}}function He(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(He=function(e){return e?n:t})(e)}function We(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=He(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ve(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ve(o,r,a,i,u,"next",e)}function u(e){Ve(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ke(e,t){
Ke=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ke(e,t)}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(){qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return qe.apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Qe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ze(e){var t=e.currentTarget;Ae.default.track(we.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,
location:{section:we.AnalyticsSections.NOISE_CANCELLATION_POPOUT}})}function Je(){var e=a.useRef(null);(0,pe.useFocusLock)(e);a.useEffect((function(){return Ae.default.track(we.AnalyticEvents.OPEN_POPOUT,{type:we.AnalyticsSections.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,l.useStateFromStores)([re.default],(function(){return re.default.getNoiseCancellation()}));return a.createElement("div",{ref:e,className:ke.default.noiseCancellationPopout},Qe(me.default,{hideBorder:!0,className:je.default.marginBottom4,value:t,onChange:function(){return s.default.setNoiseCancellation(!t,{section:we.AnalyticsSections.NOISE_CANCELLATION_POPOUT})},note:Le.default.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION},void 0,Le.default.Messages.NOISE_CANCELLATION_POPOUT_HEADER),Qe(c.default,{title:Le.default.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:c.NotchBackground.BLACK,buttonTest:Le.default.Messages.NOISE_CANCELLATION_POPOUT_TEST,
buttonStop:Le.default.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:ke.default.micTestButton,buttonColor:fe.default.Colors.PRIMARY,location:{section:we.AnalyticsSections.NOISE_CANCELLATION_POPOUT}}),Qe(ge.default,{tag:ge.Tags.H5,className:(0,o.default)(je.default.marginBottom8,je.default.marginTop20)},void 0,Le.default.Messages.NOISE_CANCELLATION_POPOUT_FOOTER),Qe(ce.default,{justify:ce.default.Justify.BETWEEN,className:ke.default.footer},void 0,Qe(de.default,{href:we.MarketingURLs.KRISP,onClick:function(e){return Ze(e)}},void 0,Qe("div",{className:ke.default.krispLogo})),Qe(de.default,{href:Me.default.getArticleURL(we.HelpdeskArticles.NOISE_SUPPRESSION),className:ke.default.krispLink,onClick:function(e){return Ze(e)}},void 0,Le.default.Messages.LEARN_MORE)))}Je.displayName="NoiseCancellationPopout";function et(e){var t,n=e.channel,r=(0,W.default)(),i=(0,Y.default)(n),u=n.getGuildId(),d=(0,S.default)(u),f=(0,l.useStateFromStoresObject)([g.default],(function(){
return null!=g.default.getSelfEmbeddedActivityForChannel(n.id)})),c=j.default.useExperiment({guildId:null!=u?u:""}).allowSoundboard,p=(0,V.default)(n),v=p.reachedLimit,y=p.limit,_=a.useCallback((function(){(0,z.default)()}),[]),h=(0,m.useAppContext)(),E=a.useCallback((function(e){if(re.default.isVideoEnabled()!==e){var t=function(){var t;s.default.setVideoEnabled(e);e&&(0,k.transitionTo)(we.Routes.CHANNEL(null!==(t=n.getGuildId())&&void 0!==t?t:we.ME,n.id))};e?(0,X.default)(t,h):t()}}),[n,h]),O=f||d||c,b=Qe(Ee.default,{className:(0,o.default)(ke.default.buttonIcon,(t={},t[ke.default.withText]=!O,t))});return a.createElement(Q.VideoButtonWrapper,qe({onChange:E,onCameraUnavailable:_,hasPermission:i,channelLimit:y,channelLimitReached:v},r),(function(e){var t=e.unavailable,n=e.active,r=e.label,i=(e.iconComponent,Xe(e,Ue));return Qe(ye.default,{renderPopout:function(e){var t=e.closePopout;return Qe(C.default,{onClose:t})},position:ye.default.Positions.TOP,align:ye.default.Align.CENTER,
animation:ye.default.Animation.FADE},void 0,(function(e,u){var l=u.isShown,s=e.onClick,d=Xe(e,Ge);return Qe(he.default,{text:r},void 0,(function(e){var r;return a.createElement(fe.default,qe({},i,e,d,{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);l&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:fe.default.Sizes.SMALL,className:(0,o.default)(ke.default.button,ke.default.buttonColor,(r={},r[ke.default.buttonActive]=n,r[ke.default.fauxDisabled]=t,r[ke.default.disabled]=i.disabled,r)),innerClassName:ke.default.buttonContents,wrapperClassName:ke.default.button,fullWidth:!0}),O?b:Qe(ce.default,{align:ce.default.Align.CENTER},void 0,b,Le.default.Messages.VIDEO))}))}))}))}et.displayName="ConnectedVideoButton";var tt=Qe(O.FreeActivityIndicatorDot,{top:-1,right:-1});function nt(e){var t=e.channel,n=(0,m.useAppContext)(),r=(0,T.default)().analyticsLocations,i=n===we.AppContext.POPOUT,u=t.getGuildId(),s=(0,
S.default)(u)&&null!=u;(0,_.useActivitiesRolloutExperiments)(u);var d=(0,l.useStateFromStores)([ae.default],(function(){return ae.default.can(we.Permissions.USE_EMBEDDED_ACTIVITIES,t)}),[t]),f=ze((0,l.useStateFromStores)([g.default],(function(){return null!=t.id&&""!==t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES})),1)[0],c=(0,l.useStateFromStoresObject)([g.default],(function(){return{userInActivity:null!=g.default.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,p=(0,y.useAnalyticsContext)();a.useEffect((function(){null!=u&&(0,h.fetchShelf)(u)}),[u]);var v=(0,E.useFreeActivityIndicator)({guildId:u}).shouldShowFreeIndicator,O=!d,I=d?Le.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:Le.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS;return s?Qe(he.default,{text:I},void 0,(function(e){var n;return a.createElement(fe.default,qe({},e,{fullWidth:!0,size:fe.default.Sizes.SMALL,onClick:function(){var n;(0,b.default)({channel:t,
guildId:t.guild_id,locationObject:p.location,openInPopout:i,analyticsLocations:r});null===(n=e.onClick)||void 0===n||n.call(e)},disabled:O,className:(0,o.default)(ke.default.button,ke.default.buttonColor,(n={},n[ke.default.buttonActive]=c||null!=f,n[ke.default.disabled]=O,n)),innerClassName:ke.default.buttonContents,wrapperClassName:ke.default.button}),v?tt:null,Qe(be.default,{className:ke.default.buttonIcon}))})):null}nt.displayName="ConnectedActivityButton";function rt(e){var t,n,r=e.channel,i=e.canGoLive,u=(0,l.useStateFromStores)([ue.default],(function(){return ue.default.getCurrentUser()})),s=(0,l.useStateFromStoresArray)([J.default],(function(){return J.default.getAllActiveStreams()})),d=(0,Y.default)(r),f=r.getGuildId(),c=(0,S.default)(f),p=(0,l.useStateFromStoresObject)([g.default],(function(){return null!=g.default.getSelfEmbeddedActivityForChannel(r.id)})),v=j.default.useExperiment({guildId:null!=f?f:""}).allowSoundboard,y=a.useCallback((function(){(0,
q.default)(f,r.id,we.AnalyticsSections.ACTIVITY_PANEL)}),[f,r.id]),m=s.find((function(e){return e.ownerId===(null==u?void 0:u.id)})),_=(0,K.useOtherStreams)(r,u,s);n=null==m?i?y:$.default:function(){return(0,w.default)(m)};var h=null!=m||_.length>0,E=d?Le.default.Messages.SHARE_YOUR_SCREEN:Le.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,O=!d,b=p||c||v,I=Qe(Ie.default,{className:(0,o.default)(ke.default.buttonIcon,(t={},t[ke.default.withText]=!b,t))});return Qe(ye.default,{renderPopout:function(e){var t=e.closePopout;return Qe(K.default,{channel:r,currentUser:u,activeStreams:s,onClose:t,handleGoLive:i?y:$.default})},position:ye.default.Positions.TOP,align:ye.default.Align.CENTER,animation:ye.default.Animation.FADE},void 0,(function(e){var t=e.onClick,r=Xe(e,Fe);return Qe(he.default,{text:E},void 0,(function(e){var i;return a.createElement(fe.default,qe({},e,{size:fe.default.Sizes.SMALL,onClick:function(r){var a;h?t(r):n()
;null===(a=e.onClick)||void 0===a||a.call(e)},disabled:O,className:(0,o.default)(ke.default.button,ke.default.buttonColor,(i={},i[ke.default.buttonActive]=null!=m,i[ke.default.disabled]=O,i))},h?r:null,{innerClassName:ke.default.buttonContents,wrapperClassName:ke.default.button}),b?I:Qe(ce.default,{align:ce.default.Align.CENTER},void 0,I,Le.default.Messages.GO_LIVE_SHARE_SCREEN))}))}))}rt.displayName="ConnectedStreamButton";var at=Qe(Je,{}),ot=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ke(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).canScreenshare=function(){var e=t.props,n=e.channel;return e.canGoLive&&null!=n&&null!=n.getGuildId()};t.handleNoiseCancellationClicked=function(){var e=t.props.noiseCancellationActive;s.default.setNoiseCancellation(!e,{section:we.AnalyticsSections.NOISE_CANCELLATION_POPOUT})};t.handleGoLive=function(){
var e=t.props,n=e.guild,r=e.channel,a=null!=r?r.getGuildId():null!=n?n.id:null;null!=a&&(0,q.default)(a,r.id,we.AnalyticsLocations.VOICE_PANEL)};t.handleChannelLinkClick=function(e){var n,r=t.props,a=r.guild,o=r.channel;(0,i.default)(null!=o,"Channel is null during navigation click");e.stopPropagation();f.default.channelListScrollTo(null!==(n=null==a?void 0:a.id)&&void 0!==n?n:we.ME,o.id)};t.handleChannelLinkContextMenu=function(e){var r=t.props.channel;(0,d.openContextMenuLazy)(e,Ye(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7771).then(n.bind(n,7771));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,qe({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleCloseVoicePanelIntroduction=function(){D.hideHotspot(De.HotspotLocations.VOICE_PANEL_INTRODUCTION)};t.renderVoicePanelIntroduction=function(){return Qe("div",{
className:(0,o.default)(ke.default.voicePanelIntroductionWrapper,"theme-light")},void 0,Qe(ve.Heading,{className:ke.default.voicePanelIntroductionHeader,variant:"heading-md/medium",level:3},void 0,Le.default.Messages.VOICE_PANEL_INTRODUCTION_HEADER),Qe(_e.Text,{className:ke.default.voicePanelIntroductionText,variant:"text-sm/normal"},void 0,Le.default.Messages.VOICE_PANEL_INTRODUCTION_TEXT),Qe(fe.default,{className:ke.default.voicePanelIntroductionButton,color:fe.default.Colors.BRAND,onClick:t.handleCloseVoicePanelIntroduction},void 0,Le.default.Messages.VOICE_PANEL_INTRODUCTION_CLOSE))};return t}var r=t.prototype;r.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,r=e.rtcConnectionQuality,a=e.rtcConnectionState,o=e.rtcConnectionLastPing,i=e.hasVideo;if(null==t)return null;var l,s=(0,A.computeChannelName)(t,ue.default,ie.default,!0);if(null!=n){l=we.Routes.CHANNEL(n.id,t.id);s=s+" / "+n.name}else l=we.Routes.CHANNEL(we.ME,t.id);return Qe(p.default,{
statusTextClassName:ke.default.statusWithPopout,quality:r,state:a,lastPing:o,hasVideo:i},void 0,Qe(M.default,{},void 0,Qe(u.Link,{to:l,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu},void 0,Qe(Ce.default,{className:ke.default.channel},void 0,s))))};r.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError;return!e.hasLayers&&n?Qe(he.default,{text:Le.default.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:ke.default.noiseCancellationTooltip,forceOpen:!0},void 0,(function(e){var t=e["aria-label"];return Qe(Te.default,{"aria-label":t,tooltipText:null,disabled:!0,icon:Oe.default})})):Qe(ye.default,{position:ye.default.Positions.TOP,align:ye.default.Align.CENTER,renderPopout:function(){return at}},"krisp-popout",(function(e,n){var r=n.isShown;return a.createElement(Te.default,qe({},e,{tooltipClassName:ke.default.noiseCancellationTooltip,
tooltipText:r?null:Le.default.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?Se.default:Oe.default}))}))};r.renderVoiceStates=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.showVoiceStates;return null!=t&&r&&0!==n.length?Qe(Re.default,{voiceStates:n,channel:t,className:ke.default.voiceUsers}):null};r.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,r=e.canUseSoundboard,a=e.remoteVoiceState;return null==t||t.type===we.ChannelTypes.GUILD_STAGE_VOICE||null!=a?null:Qe("div",{className:ke.default.actionButtons},void 0,Qe(et,{channel:t}),Qe(rt,{channel:t,canGoLive:n}),Qe(nt,{channel:t}),r&&(0,U.default)(t)?Qe(F.default,{className:(0,o.default)(ke.default.button,ke.default.buttonColor),iconClassName:ke.default.buttonIcon,channel:t}):null)};r.render=function(){var e=this,t=this.props,n=t.channel,r=t.noiseCancellationSupported,a=t.shouldShowVoicePanelIntroduction;if(null==n)return null;var o=Qe(Pe.default,{channel:n});return Qe(ye.default,{
renderPopout:this.renderVoicePanelIntroduction,position:ye.default.Positions.TOP,align:ye.default.Align.CENTER,animation:ye.default.Animation.TRANSLATE,shouldShow:a},void 0,(function(){return Qe("div",{className:ke.default.container},void 0,Qe(ce.default,{className:ke.default.connection,align:ce.default.Align.CENTER},void 0,Qe("div",{className:ke.default.inner},void 0,e.renderConnectionStatus()),Qe(ce.default,{grow:0,shrink:0},void 0,r?e.renderNoiseCancellation():null,o)),e.renderVoiceStates(),e.renderChannelButtons())}))};return t}(a.PureComponent);ot.displayName="RTCConnection";function it(e){var t=(0,N.default)(),n=(0,l.useStateFromStores)([ue.default],(function(){return ue.default.getCurrentUser()})),r=(0,l.useStateFromStoresObject)([oe.default],(function(){return null!=t?{channelId:t.channelId,rtcConnectionQuality:we.RTCConnectionQuality.FINE,rtcConnectionState:we.RTCConnectionStates.RTC_CONNECTED,rtcConnectionLastPing:0,rtcConnectionConnected:!0}:{
channelId:oe.default.getChannelId(),rtcConnectionQuality:oe.default.getQuality(),rtcConnectionState:oe.default.getState(),rtcConnectionLastPing:oe.default.getLastPing(),rtcConnectionConnected:oe.default.isConnected()}})),o=r.channelId,i=Xe(r,xe),u=(0,l.useStateFromStores)([ee.default],(function(){return ee.default.getChannel(o)}),[o]),s=null==u?void 0:u.getGuildId(),d=(0,l.useStateFromStores)([te.default],(function(){return te.default.getGuild(s)}),[s]),f=(0,l.useStateFromStoresObject)([re.default],(function(){return{noiseCancellationSupported:re.default.isNoiseCancellationSupported(),noiseCancellationActive:re.default.getNoiseCancellation(),noiseCancellationError:re.default.isNoiseCancellationError(),canGoLive:(0,R.default)(re.default)}})),c=(0,l.useStateFromStores)([re.default,L.default],(function(){return L.default.hasHotspot(De.HotspotLocations.VOICE_PANEL_INTRODUCTION)&&(0,Ne.isNewUser)(n)&&!re.default.isInteractionRequired()&&!(null==u?void 0:u.isGuildStageVoice())})),p=(0,
l.useStateFromStores)([le.default],(function(){return null!=o&&le.default.hasVideo(o)}),[o]),v=(0,l.useStateFromStores)([J.default],(function(){return null!=n?J.default.getActiveStreamForUser(n.id):null}),[n]),y=(0,l.useStateFromStores)([ne.default],(function(){return ne.default.hasLayers()})),m=(0,l.useStateFromStores)([Z.default],(function(){return Z.default.isViewingRoles(s)})),_=(0,l.useStateFromStores)([ae.default],(function(){return m&&!ae.default.can(we.Permissions.VIEW_CHANNEL,u)}),[m,u]),h=H.RtcPanelShowVoiceStates.useSetting(),g=ze((0,l.useStateFromStoresArray)([se.default,x.default],(function(){return(null==u?void 0:u.isGuildStageVoice())?[x.default.getMutableParticipants(u.id,B.StageChannelParticipantNamedIndex.SPEAKER),x.default.getParticipantsVersion(u.id),null]:[null,null,null!=u?se.default.getVoiceStatesForChannel(u):null]}),[u]),3),E=g[0],S=g[1],O=g[2],b=a.useMemo((function(){var e,t;return null!==(e=null!==(t=null==E?void 0:E.map((function(e){return{user:e.user,
nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:O)&&void 0!==e?e:[]}),[E,S,O]),C=ze(a.useState(!1),2),A=C[0],M=C[1];a.useEffect((function(){(m||_)&&M(!1)}),[m,_,M]);var w=j.default.useExperiment({guildId:null!=s?s:""},{autoTrackExposure:!0}).allowSoundboard,D=(0,G.useIsSoundboardSupported)();return Qe((0,T.default)(I.default.RTC_PANEL).AnalyticsLocationProvider,{},void 0,Qe("div",{className:ke.default.wrapper},void 0,null!=t?Qe(P.default,{voiceState:t}):null,a.createElement(ot,qe({},e,f,i,{remoteVoiceState:t,guild:d,channel:u,hasVideo:p,selfStream:v,hasLayers:y,voiceStates:b,showVoiceStates:h,shouldShowVoicePanelIntroduction:c,canUseSoundboard:w&&D})),!A&&m&&null!=s?Qe("div",{className:ke.default.viewAsRolesWarning},void 0,Qe(_e.Text,{variant:"text-sm/normal",className:ke.default.viewAsRolesWarningText},void 0,_?Le.default.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:Le.default.Messages.VIEW_AS_ROLES_VOICE_WARNING),Qe(fe.default,{className:ke.default.viewAsRolesWarningButton,
size:fe.default.Sizes.MIN,onClick:function(){M(!0)}},void 0,Le.default.Messages.DISMISS)):null))}it.displayName="ConnectedRTCConnection";var ut=(0,v.default)(it);t.default=ut},547636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.channel.isGuildStageVoice()?a.createElement(_,e):a.createElement(h,e)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(136873)),i=n(695475),u=n(452453),l=v(n(435903)),s=n(559133),d=v(n(913687)),f=v(n(331546)),c=v(n(139574)),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}
function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channel;return m(c.default,{tooltipText:p.default.Messages.AUDIENCE_DISCONNECT,onClick:function(){(0,d.default)(t)?(0,s.openEndStageModal)(t):o.default.disconnect()},icon:f.default})}_.displayName="DisconnectStageButton";function h(e){var t=e.channel,n=(0,i.useWarnLastEligibleHost)({channelId:t.id,shouldDisconnectCall:!0});return m(c.default,{tooltipText:p.default.Messages.DISCONNECT_SELF,onClick:function(){n()||((0,
l.default)(t)?(0,u.openEndEventModal)(t):o.default.disconnect())},icon:f.default})}h.displayName="DisconnectVoiceButton"},529025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=A(n(667294)),o=T(n(294184)),i=n(536211),u=n(378158),l=T(n(100205)),s=T(n(711195)),d=T(n(326939)),f=T(n(423046)),c=T(n(397228)),p=A(n(219849)),v=T(n(16941)),y=T(n(160629)),m=T(n(730977)),_=T(n(324582)),h=T(n(287317)),g=T(n(155393)),E=T(n(485308)),S=T(n(582945)),O=n(378542),b=T(n(247001)),I=T(n(270711));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}var k={offset:2},j={serverDeaf:{icon:_.default,colorize:!0,getStatus:function(){return b.default.Messages.SERVER_DEAFENED}},serverMute:{icon:h.default,colorize:!0,getStatus:function(){return b.default.Messages.SERVER_MUTED}},deaf:{icon:_.default,colorize:!1,getStatus:function(){return b.default.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:h.default,colorize:!1,getStatus:function(){return b.default.Messages.VOICE_CHANNEL_MUTED}}};function U(e){var t,r,f=e.channel,p=e.user,_=e.nick,h=e.mute,g=e.deaf,E=e.serverMute,S=e.serverDeaf,T=(0,i.useStateFromStores)([c.default],(function(){return c.default.isSpeaking(p.id)||c.default.isSoundSharing(p.id)
}),[p.id]),C=null!==(t=f.getGuildId())&&void 0!==t?t:void 0,A=p.getAvatarURL(f.guild_id,24),M=null!=_?_:p.username,N=null!==(r=S?j.serverDeaf:g?j.deaf:E?j.serverMute:h?j.mute:void 0)&&void 0!==r?r:{},P=N.icon,D=N.colorize,U=N.getStatus,G=null!=U?b.default.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:M,status:U()}):M;function F(e){null!=C?(0,u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,w({},e,{user:p,guildId:C,channelId:f.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)})))):(0,u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(81823),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,w({},e,{user:p,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))}return R(y.default,{preload:function(){return(0,s.default)(p.id,p.getAvatarURL(C,80),{guildId:C})},position:y.default.Positions.TOP,renderPopout:function(e){return a.createElement(d.default,w({userId:p.id,guildId:C,channelId:f.id},e))}},void 0,(function(e){return R(m.default,{text:G},void 0,(function(t){var n,r;return a.createElement(v.default,w({},t,e,{className:I.default.avatarContainer,onContextMenu:F,focusProps:k}),R(l.default,{shakeLocation:O.ShakeLocation.VOICE_USER,isShaking:T},void 0,R("div",{className:(0,o.default)(I.default.avatar,(n={},n[I.default.speaking]=T,n)),style:{backgroundImage:"url("+A+")"}},void 0,null!=P?R(P,{className:(0,o.default)(I.default.avatarIconOverlay,(r={},r[I.default.avatarIconRed]=D,r)),width:16,
height:16,foreground:I.default.avatarIconRed}):null)))}))}))}U.displayName="User";function G(e,t){for(var n,r=[],a=function(){var e=n.value;if(e.user.id===t)return"continue";if(r.some((function(t){return t.user.id===e.user.id})))return"continue";if(r.length>=7)return{v:[r,!0]};r.push(e)},o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=o()).done;){var i=a();if("continue"!==i&&"object"==typeof i)return i.v}return[r,!1]}function F(e){var t=e.voiceStates,n=e.channel,r=e.className,u=M(a.useState(!1),2),l=u[0],s=u[1],d=l?E.default:g.default,c=R(p.default,{className:I.default.expandButton,
onClick:function(){return s(!l)},color:p.CircleIconButtonColors.PRIMARY,size:p.CircleIconButtonSizes.SIZE_24,tooltip:l?b.default.Messages.VOICE_PANEL_HIDE_EXTRAS:b.default.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:R(d,{width:16,height:16}),focusProps:k}),v=(0,i.useStateFromStores)([f.default],(function(){return f.default.getId()}),[]),y=M(G(t,v),2),m=y[0],_=y[1],h=_&&l?t:m;return h.length<=0?null:R(S.default,{className:(0,o.default)(I.default.scroller,r),fade:!0},void 0,R("div",{className:I.default.voiceUsers,role:"group","aria-label":b.default.Messages.VOICE_PANEL_USERS_A11Y_LABEL},void 0,h.map((function(e){var t=e.user,r=e.nick,a=e.voiceState;return t.id!==v?R(U,{channel:n,user:t,nick:r,mute:a.isVoiceMuted(),deaf:a.isVoiceDeafened(),video:a.selfVideo,serverMute:a.mute,serverDeaf:a.deaf},t.id):null})),_?c:null))}F.displayName="RTCConnectionVoiceUsers"},913914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(378158),i=f(n(252149)),u=f(n(530250)),l=f(n(628551)),s=f(n(582945)),d=f(n(827955));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.handleContextMenu=function(e,t){(0,
o.openContextMenuLazy)(e,m(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderUser=function(e){var t=this;return null==e?null:p(u.default,{className:d.default.user,align:u.default.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)}},e.id,p(l.default,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.default.Sizes.SIZE_24,className:d.default.avatar}),p(i.default,{user:e,className:d.default.tag,usernameClass:d.default.username,discriminatorClass:d.default.discriminator}))};r.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map((function(t){return e.renderUser(t)}));return p("div",{className:d.default.userList
},void 0,p("div",{className:d.default.header},void 0,r),p(s.default,{className:d.default.content,fade:!0},void 0,a))};return t}(a.PureComponent);h.displayName="UserListPopout";var g=h;t.default=g},805918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=S(n(572935)),u=n(678928),l=n(687549),s=S(n(137438)),d=S(n(178504)),f=S(n(122913)),c=S(n(689389)),p=S(n(290629)),v=S(n(728429)),y=n(956506),m=n(247726),_=S(n(40049)),h=n(997988),g=n(770348),E=S(n(247001));function S(e){
return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.className,n=e.style,r=e.channel,S=e.draftType,O=I(a.useState(!0),2),T=O[0],C=O[1],A=(0,o.useStateFromStores)([f.default],(function(){return f.default.hasLayers()})),M=(0,o.useStateFromStores)([c.default],(function(){return null!=r&&c.default.can(g.Permissions.ATTACH_FILES,r)}),[r]),N=null!=(0,o.useStateFromStores)([i.default],(function(){return i.default.getActiveCommand(r.id)
})),P=r.getGuildId(),R=S===l.DraftType.FirstThreadMessage,w=(0,o.useStateFromStores)([v.default],(function(){var e;return!0==!(null===(e=v.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)})),D=(0,o.useStateFromStores)([s.default],(function(){return s.default.didAgree(P)}))&&!w,L=a.useMemo((function(){return!A&&(r.isPrivate()&&!r.isManaged()||null!=P&&(!r.isNSFW()||D)&&M&&d.default.canChatInGuild(P))}),[M,D,r,P,A]),k=R?E.default.Messages.UPLOAD_TO_NEW_THREAD:T?E.default.Messages.UPLOAD_TO.format({destination:(0,u.computeChannelName)(r,v.default,p.default,!0)}):E.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return N||!L?null:b(_.default,{className:t,style:n,title:k,description:R?E.default.Messages.UPLOAD_AREA_NEW_THREAD_HELP:E.default.Messages.UPLOAD_AREA_HELP,icons:h.DEFAULT_FILE_UPLOAD_ICONS,onDrop:function(e){if(N)return!1;if(L&&null!=r){(0,m.promptToUpload)(e,r,S,{requireConfirm:T,showLargeMessageDialog:!1})
;y.ComponentDispatch.dispatch(g.ComponentActions.TEXTAREA_FOCUS)}},onDragClear:function(){return C(!0)},onDragOver:function(e){if(N)return!1;R||e.shiftKey!==T||C(!e.shiftKey)}})}C.displayName="ChannelUploadArea";var A=C;t.default=A},997988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileUploadType=t.FileUploadIconClassNames=t.EMOJI_FILE_UPLOAD_ICONS=t.DEFAULT_FILE_UPLOAD_ICONS=void 0;var r,a,o,i=(r=n(334276))&&r.__esModule?r:{default:r};t.FileUploadType=o;!function(e){e[e.IMAGE=0]="IMAGE";e[e.DOCUMENT=1]="DOCUMENT";e[e.CODE=2]="CODE"}(o||(t.FileUploadType=o={}));var u=((a={})[o.IMAGE]=i.default.image,a[o.DOCUMENT]=i.default.document,a[o.CODE]=i.default.code,a);t.FileUploadIconClassNames=u;var l=[o.DOCUMENT,o.IMAGE,o.CODE];t.DEFAULT_FILE_UPLOAD_ICONS=l;var s=[o.IMAGE,o.IMAGE,o.IMAGE];t.EMOJI_FILE_UPLOAD_ICONS=s},225626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(294184)),o=n(997988),i=u(n(334276));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.icons,n=e.className;return s("div",{className:(0,a.default)(i.default.icons,n)},void 0,s("div",{className:i.default.wrapOne},void 0,s("div",{className:(0,a.default)(i.default.icon,i.default.one,o.FileUploadIconClassNames[t[0]])})),s("div",{className:i.default.wrapThree},void 0,s("div",{className:(0,a.default)(i.default.icon,i.default.three,o.FileUploadIconClassNames[t[2]])})),s("div",{className:i.default.wrapTwo},void 0,s("div",{className:(0,a.default)(i.default.icon,i.default.two,o.FileUploadIconClassNames[t[1]])})))}d.displayName="UploadAreaIcons";var f=d;t.default=f},164101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPLOAD_ERROR_MODAL_KEY=void 0;t.default=_;t.openUploadError=function(e){(0,s.openModal)((function(t){return a.createElement(_,y({},t,e))}),{modalKey:h})};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(68692)),u=n(354479),l=n(3400),s=n(194322),d=p(n(225626)),f=n(997988),c=p(n(334276));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.title,n=e.help,r=e.showPremiumUpsell,a=e.transitionState,s=e.icons,p=e.onClose,v=(0,u.useUID)(),y=null!=s?s:f.DEFAULT_FILE_UPLOAD_ICONS;return r?m(i.default,{transitionState:a,onClose:p}):m(l.ModalRoot,{size:l.ModalSize.DYNAMIC,"aria-labelledby":v,transitionState:a},void 0,m("div",{className:(0,o.default)(c.default.uploadDropModal,c.default.error)},void 0,m("div",{className:c.default.inner},void 0,m(d.default,{icons:y}),m("div",{id:v,className:c.default.title},void 0,t),m("div",{className:c.default.instructions},void 0,n))))}_.displayName="UploadError"
;var h="UPLOAD_ERROR_MODAL_KEY";t.UPLOAD_ERROR_MODAL_KEY=h},285209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(441143)),i=n(536211),u=v(n(939949)),l=n(825185),s=n(914905),d=v(n(816624)),f=v(n(728429)),c=v(n(784241)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.useStateFromStores)([d.default],(function(){return d.default.getErrors()})),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.getFormState()})),y=(0,i.useStateFromStores)([f.default],(function(){var e=f.default.getCurrentUser();(0,o.default)(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),h=null!=y.email,g=_(a.useState(!0),2),E=g[0],S=g[1],O=v===p.FormStates.SUBMITTING;function b(e){var t,n;return null!==(t=null==r||null===(n=r[e])||void 0===n?void 0:n[0])&&void 0!==t?t:""}
var I=b("email"),T=b("password");return m(c.default,{transitionState:t,email:y.email,emailError:I,passwordError:T,submitting:O,canResend:E&&!O&&h&&0===I.length&&0===T.length,onChangeEmailClick:function(){S(!1)},onVerify:function(e,t){(0,l.saveAccountChanges)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,s.showInvalidUsernameToast)()}));S(!0)},onResend:function(){u.default.verifyResend()},onClose:n})};g.displayName="EmailVerificationModal";var E=g;t.default=E},403607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=t.EMAIL_VERIFICATION_MODAL_KEY=void 0;t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),i=n(536211),u=N(n(118915)),l=N(n(939949)),s=n(264720),d=n(825185),f=N(n(88509)),c=N(n(145371)),p=N(n(14096)),v=N(n(185948)),y=n(947472),m=N(n(257867)),_=N(n(871778)),h=N(n(728429)),g=n(645758),E=N(n(288800)),S=N(n(749033)),O=N(n(502197)),b=n(194322),I=N(n(285209)),T=N(n(54725)),C=n(770348),A=n(52656),M=N(n(247001));function N(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k="Email Verification";t.EMAIL_VERIFICATION_MODAL_KEY=k;var j="PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY";t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=j;function U(){var e=(0,i.useStateFromStoresObject)([h.default,m.default,_.default],(function(){return{user:h.default.getUser(),action:m.default.getAction(),theme:_.default.theme}})),t=e.user,n=e.action,r=e.theme,N=null!=t&&null!=t.phone,P=C.VerificationTypes.CAPTCHA
;n===C.UserRequiredActions.REQUIRE_VERIFIED_EMAIL&&N?P=C.VerificationTypes.EMAIL:n===C.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?P=C.VerificationTypes.EMAIL_OR_PHONE:n===C.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(P=C.VerificationTypes.PHONE);var L=D(a.useState(0),2),U=L[0],G=L[1],F=(0,c.default)(P);(0,v.default)({type:o.ImpressionTypes.MODAL,name:o.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:P}},{},[P]);var x=function(){(0,d.accountDetailsInit)();(0,b.openModal)((function(e){return a.createElement(I.default,e)}),{modalKey:k,Layer:S.default})};a.useEffect((function(){p.default.disable();return function(){p.default.enable()}}),[]);a.useEffect((function(){F===C.VerificationTypes.PHONE&&P===C.VerificationTypes.EMAIL&&(0,b.openModal)((function(e){return a.createElement(f.default,w({},e,{title:M.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:M.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,
confirmText:M.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:j,Layer:S.default,onCloseCallback:x})}),[P,F]);return R(E.default,{type:P,captchaKey:U,onCaptchaVerify:function(e){u.default.post({url:C.Endpoints.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(s.popLayer,(function(){G((function(e){return e+1}))}))},theme:r,onClick:function(e){e===C.VerificationTypes.EMAIL_OR_PHONE||e===C.VerificationTypes.EMAIL?x():(0,b.openModal)((function(e){return a.createElement(T.default,w({reason:y.ChangePhoneReason.USER_ACTION_REQUIRED},e))}),{modalKey:A.PHONE_VERIFICATION_MODAL_KEY,Layer:S.default})},onLogout:function(){return(0,b.openModal)((function(e){return a.createElement(O.default,w({header:M.default.Messages.LOGOUT,confirmText:M.default.Messages.LOGOUT,cancelText:M.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}},e),R(g.Text,{variant:"text-md/normal"},void 0,M.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}),{Layer:S.default})}})}
U.displayName="Verification"},259880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=c;t.open=function(){f=(0,i.openModal)((function(e){return r.createElement(o.default,d({title:u.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:u.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,secondaryConfirmText:u.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:p,onConfirm:c,confirmText:u.default.Messages.OKAY},e))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f=null;function c(){null!==f&&(0,i.closeModal)(f);f=null}function p(){a.default.setSilenceWarning(!1);c()}},294398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return a.createElement(a.Fragment,null,L,k,j,U,G,F,x)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=b(n(904577)),u=n(747868),l=n(104144),s=n(567186),d=b(n(607209)),f=b(n(423046)),c=b(n(644263)),p=b(n(30098)),v=b(n(635014)),y=b(n(919935)),m=b(n(893160)),_=b(n(211136)),h=b(n(397228)),g=b(n(387692)),E=b(n(487372)),S=n(179379),O=n(770348);function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n){
a.useEffect((function(){var r=t(),a=new o.BatchedStoreListener(e,(function(){var e=t(),a=n(r,e);null==a||y.default.isSoundDisabled(a)||(0,S.playSound)(a,.4);r=e}));a.attach("useSound");return function(){return a.detach()}}))}function A(){C([v.default],(function(){return{selfMute:v.default.isSelfMute(),selfDeaf:v.default.isSelfDeaf(),audioPermissionReady:v.default.isNativeAudioPermissionReady()}}),(function(e,t){var n=t.selfMute,r=t.selfDeaf,a=t.audioPermissionReady;if(e.audioPermissionReady&&a)return e.selfDeaf!==r?r?"deafen":"undeafen":e.selfMute!==n?n?"mute":"unmute":void 0}));return null}function M(){C([c.default,m.default,_.default,i.default],(function(){var e=c.default.getChannel(_.default.getVoiceChannelId());return{channelType:null==e?void 0:e.type,disconnected:m.default.isDisconnected(),awaitingRemote:null!=i.default.getAwaitingRemoteSessionType(),connectedRemote:null!=i.default.getRemoteSessionId()}}),(function(e,t){
var n=t.channelType,r=t.disconnected,a=t.awaitingRemote,o=t.connectedRemote,i=e.channelType,u=e.disconnected,l=e.connectedRemote,d=a||o,f=!u&&r;if(u&&!r||o&&!l){if(null!=n&&s.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))return;return"user_join"}if(f){if(d||null!=i&&s.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(i))return;return"disconnect"}}));return null}function N(){C([h.default],(function(){return h.default.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=v.default.isSelfMute();if(v.default.getMode()===O.InputModes.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function P(){C([v.default],(function(){return v.default.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=v.default.isSelfMute();if(v.default.getMode()===O.InputModes.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function R(){C([g.default],(function(){return g.default.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function w(){
C([_.default,g.default],(function(){var e=_.default.getVoiceChannelId();if(null==e)return l.RequestToSpeakStates.NONE;var t=g.default.getVoiceStateForChannel(e);return(0,l.getAudienceRequestToSpeakState)(t)}),(function(e,t){if(e!==t&&t===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function D(){C([_.default,d.default,f.default,g.default,c.default],(function(){var e,t,n=_.default.getVoiceChannelId(),r=f.default.getId(),a=0,o=[],i=null,l=0,s=d.default.getAllActiveStreams();if(null!=n){var p=c.default.getChannel(n);if(null!=p){t=p.type;a=E.default.countVoiceStatesForChannel(p.id)-1;o=d.default.getAllApplicationStreamsForChannel(p.id).map((function(e){return e.ownerId}))}}var v=null;(null===(e=v=1===s.length?s[0]:null!=r?d.default.getActiveStreamForUser(r):null)||void 0===e?void 0:e.state)===O.ApplicationStreamStates.CONNECTING&&(v=null);if(null!=v){i=(0,u.encodeStreamKey)(v);l=d.default.getViewerIds(i).filter((function(e){return e!==r
})).length}return{channelType:t,voiceChannelId:n,voiceChannelUserCount:a,streamingUserIds:o,singleActiveStreamKey:i,singleActiveStreamViewerCount:l,currentUserId:r,allActiveStreams:s}}),(function(e,t){var n=t.channelType,r=t.voiceChannelId,a=t.voiceChannelUserCount,o=t.streamingUserIds,i=t.singleActiveStreamKey,u=t.singleActiveStreamViewerCount,l=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=c.default.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=p.default.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&s.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))){var d=null!=i&&e.singleActiveStreamKey===i,f=o.some((function(t){return!e.streamingUserIds.includes(t)})),v=e.allActiveStreams.map((function(e){return e.ownerId})),y=e.streamingUserIds.some((function(e){return!o.includes(e)&&(e===l||v.includes(e))}))
;return f?"stream_started":y?"stream_ended":e.singleActiveStreamViewerCount<=25&&d&&u>e.singleActiveStreamViewerCount?"stream_user_joined":e.voiceChannelUserCount<=25&&a>e.voiceChannelUserCount?"user_join":e.voiceChannelUserCount<=25&&a<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&d&&u<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}var L=T(A,{}),k=T(M,{}),j=T(N,{}),U=T(P,{}),G=T(R,{}),F=T(D,{}),x=T(w,{})},351336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_compact_avatars",label:"Compact Avatars",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.default=r},332750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-07_updated_bad_domains",label:"Use Updated Bad Domain Hashes",defaultConfig:{
useUpdated:!1},treatments:[{id:1,label:"Use Updated Domains",config:{useUpdated:!0}}]});t.default=r},244165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useRef(null),n=r.useCallback((function(n){if(null!=e){"function"==typeof e?e(n):e.current=n;t.current=n}}),[e]);return[t,n]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},267115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(){var e=(0,l.useModalsStore)((function(e){return t=e,!Object.entries(t).every((function(e){var t=c(e,2);t[0];return 0===t[1].length}));var t})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.isOpen()})),n=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasLayers()})),d=c(r.useState(!1),2),f=d[0],p=d[1],v=(0,o.useWindowDispatch)();r.useEffect((function(){function e(){p(!0)}function t(){p(!1)}v.subscribe(s.ComponentActions.POPOUT_SHOW,e);v.subscribe(s.ComponentActions.POPOUT_HIDE,t);return function(){v.unsubscribe(s.ComponentActions.POPOUT_SHOW,e);v.unsubscribe(s.ComponentActions.POPOUT_HIDE,t)}}),[v]);return e||t||f||n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(433383),i=d(n(122913)),u=d(n(433512)),l=n(194322),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},606306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=u((0,o.default)(),2),t=e[0],n=e[1],r=u(a.useState(),2),i=r[0],l=r[1];a.useEffect((function(){null==i&&null!=n&&l(n)}),[i,n]);return[t,i]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(391382))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},781865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};var o=["a","b","c","d"],i=function(e){return e};function u(e,t){for(var n={},r=Math.min(e.length,o.length),a=function(r){n[o[r]]=function(n,a){return t(e[r],a)}},i=0;i<r;++i)a(i);return n}var l=function(){function e(e){this.items=e}var t=e.prototype;t.asString=function(){return this.transformed(i)};t.isEmpty=function(){return 0===this.items.length};t.transformed=function(e){switch(this.items.length){case 0:return"";case 1:
return e(this.items[0],"");case 2:return a.default.Messages.GENERIC_FORMATTED_LIST_TWO.format(u(this.items,e));case 3:return a.default.Messages.GENERIC_FORMATTED_LIST_THREE.format(u(this.items,e));default:return a.default.Messages.GENERIC_FORMATTED_LIST_FOUR.format(u(this.items,e))}};return e}();t.default=l},191224:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(717187)),a=n(864489),o=l(n(922629)),i=n(339943),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=[],p=function(e,t,n){var r=(0,a.isWindows)()?0:1;e===u.KeyboardDeviceTypes.MOUSE_BUTTON&&n===r||c.forEach((function(r){return r._handleEvent(e,t,n)}))},v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){var t;(t=e.call(this)||this).combo=[];c.push(function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t));1===c.length&&o.default.setOnInputEventCallback(p);return t}var n=t.prototype;n.destroy=function(){var e=this;this.removeAllListeners();0===(c=c.filter((function(t){return t!==e}))).length&&o.default.setOnInputEventCallback(null)};n.toString=function(){return(0,i.toString)(this.combo)};n._handleEvent=function(e,t,n){if(0===t)this.combo=this.combo.filter((function(t){var r=s(t,2),a=r[0],o=r[1];return!(a===e&&o===n)}));else{this.combo.push([e,n,(0,i.getEnv)()]);this.emit("change",this)}};return t}(r.default);t.default=v},448549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cancelAll=function(){o&&speechSynthesis.cancel()};t.createUtterance=i;t.speak=function(e,t,n){if(o){var r=i(e,n);u(r,t);return r}};t.speakUtterance=u;t.supported=void 0;var r,a=(r=n(91603))&&r.__esModule?r:{default:r};var o=null!=window.speechSynthesis;t.supported=o
;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substr(0,t)).substr(0,Math.min(n.length,n.lastIndexOf(" "))));var r=new SpeechSynthesisUtterance(n);r.rate=a.default.speechRate;return r}function u(e,t){if(o){e.voice=t;speechSynthesis.speak(e)}}},697255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.analyze=f;t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};t.highlightAST=p;t.shouldHighlight=c;var r=o(n(496486)),a=o(n(470661));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function u(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}
function s(e){return i.has(e)}function d(e){return 0===e.length}function f(e){return(0,r.default)(e.split(/\W+/)).map(u).reject(d).map(l).reject(s).map(a.default).value()}function c(e,t){return!d(e=l(u(e)))&&!s(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach((function(e){return p(e,t)}));else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach((function(e){if(c(e,t)){r.length>0&&n.push({type:"text",content:r});n.push({type:"highlight",content:e});r=""}else r+=e}));if(n.length>0){r.length>0&&n.push({type:"text",content:r});"text"===e.type?e.content=n:e.content=[{type:"text",content:n}]}}else null!=e.content&&p(e.content,t);return e}},79300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-05_role_styles_setting",label:"Role Styles Setting",defaultConfig:{allowRoleStyles:!1},treatments:[{id:1,
label:"Allow Role Styles Setting",config:{allowRoleStyles:!0}}]});t.default=r},143194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActiveChannels=function(e,t){return d.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(568681)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(){return(d=s(regeneratorRuntime.mark((function e(t,n){var u,l,s,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===n&&(n=10);a.default.dispatch({type:"ACTIVE_CHANNELS_FETCH_START",guildId:t});e.prev=2;e.next=5;return r.default.get({url:i.Endpoints.ACTIVE_CHANNELS(t),query:{channel_limit:n}});case 5:
s=e.sent;d=null!==(u=null===(l=s.body)||void 0===l?void 0:l.channels)&&void 0!==u?u:[];a.default.dispatch({type:"ACTIVE_CHANNELS_FETCH_SUCCESS",guildId:t,channels:d});return e.abrupt("return",s);case 11:e.prev=11;e.t0=e.catch(2);a.default.dispatch({type:"ACTIVE_CHANNELS_FETCH_FAILURE",guildId:t,error:new o.default(e.t0)});throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}},65770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var s=(0,a.useStateFromStores)([o.default],(function(){var t=o.default.getActiveChannelsFetchStatus(e);return null!=t&&!t.loading}),[e]);r.useEffect((function(){s&&u.default.track(l.AnalyticEvents.ACTIVE_CHANNELS_LOADED,{guild_id:e,text_channels_shown:t.length,voice_channels_shown:n.length,home_session_id:i.default.getHomeSessionId(e)})}),[e,s])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(304242)),i=s(n(173101)),u=s(n(308920)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},631735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.activitiesNitroExperimentTreatments=t.activitiesNitroExperimentId=t.ActivitiesNitroExperiment=void 0;var r=n(373505),a="2022-04_activities_nitro";t.activitiesNitroExperimentId=a;var o=[{id:0,label:"Control",config:{enableNitroActivities:!1}},{id:1,label:"Enable Nitro Activities",config:{enableNitroActivities:!0}},{id:2,
label:"Enable Nitro Activities 2",config:{enableNitroActivities:!0}}];t.activitiesNitroExperimentTreatments=o;var i=(0,r.createExperiment)({kind:"user",id:a,label:"Activities in Nitro",defaultConfig:{enableNitroActivities:!1},treatments:o});t.ActivitiesNitroExperiment=i},678164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createRolloutExperiment=void 0;t.useActivitiesRolloutExperiments=function(e){r.useEffect((function(){null!=e&&u.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505)
;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=function(e,t){return(0,a.createExperiment)({kind:"guild",id:t,label:"Exposure tracking for "+e+" (do not override)",defaultConfig:{},treatments:[]})};t.createRolloutExperiment=i;var u=[i("Watch Together","2021-09_watch_together_rollout")]},608286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useNitroChatInputActivityButton=t.ChatInputNitroActivityButtonExperiment=void 0;var r,a=n(536211),o=n(373505),i=(r=n(728429))&&r.__esModule?r:{default:r},u=n(631735);var l=(0,o.createExperiment)({kind:"user",id:"2022-05_nitro_chat_input_activity_button",label:"Nitro chat input activity button",defaultConfig:{enableNitroActivityButton:!1},treatments:[{id:0,label:"Control",config:{enableNitroActivityButton:!1}},{id:1,label:"Enable Nitro chat input activity button - Treatment 1",config:{enableNitroActivityButton:!0}}]})
;t.ChatInputNitroActivityButtonExperiment=l;t.useNitroChatInputActivityButton=function(){var e,t,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),r=u.ActivitiesNitroExperiment.useExperiment(null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"").enableNitroActivities,o=l.useExperiment({userId:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:""}).enableNitroActivityButton;if(r){var s;l.trackExposure({userId:null!==(s=null==n?void 0:n.id)&&void 0!==s?s:""})}return r&&o}},698462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useBeb=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(30098))&&r.__esModule?r:{default:r},u=n(929659),l=n(746920),s=n(770348);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.useBeb=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getGuild(e)})),n=u.ActivitiesBebExperiment.useExperiment({guildId:null!=e?e:""}),r=n.enableBeb,d=n.exposedToBeb;a.useEffect((function(){null!=e&&u.ActivitiesBebExperiment.trackExposure({guildId:e})}),[e]);a.useEffect((function(){var e=setTimeout((function(){d&&null!=t&&!t.features.has(s.GuildFeatures.EXPOSED_TO_ACTIVITIES_WTP_EXPERIMENT)&&(0,l.enableWtpGuildFeature)(t.id)}),1e4+1e4*Math.random());return function(){return clearTimeout(e)}}),[t,d]);return r}},845715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=a.default.getId(),n=(0,r.useStateFromStoresObject)([o.default],(function(){var n,r=o.default.getSelfEmbeddedActivityForChannel(e.id),a=null===(n=o.default.getEmbeddedActivitiesForChannel(e.id).find((function(e){return e.application_id===(null==r?void 0:r.application_id)})))||void 0===n?void 0:n.connections,i=null==a?void 0:a.has(t);return{userActivity:r,inActivity:null!=i&&i}})),i=n.userActivity,u=n.inActivity;return{userActivity:i,inActivity:u}};var r=n(536211),a=i(n(423046)),o=i(n(303798));function i(e){return e&&e.__esModule?e:{default:e}}},186096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useFreeActivityIndicator=void 0;var r=n(536211),a=l(n(30098)),o=n(929659),i=l(n(303798)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}t.useFreeActivityIndicator=function(e){var t=e.guildId,n=e.appId,l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getGuild(t)
})),s=null!=l&&l.premiumTier===u.BoostedGuildTiers.NONE,d=o.ActivitiesBebExperiment.useExperiment({guildId:null!=t?t:""}).hasRotatingActivity,f=(0,r.useStateFromStoresObject)([i.default],(function(){return{shouldShowFreeIndicator:i.default.getState().shouldShowNewActivityIndicator||d&&s&&i.default.shouldShowIndicatorForActivity(n),isRotatingFreeActivity:d&&s&&i.default.getState().currentFreeActivity===n}}));return{shouldShowFreeIndicator:f.shouldShowFreeIndicator,isRotatingFreeActivity:f.isRotatingFreeActivity}}},845260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){void 0===n&&(n=window);var a=(0,o.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),f=(0,i.default)(),c=(h=r.useState(!1),g=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(h,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(h,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=c[0],m=c[1],_=(0,u.useWindowDispatch)();var h,g;r.useEffect((function(){if(t){n.addEventListener("blur",e);return function(){return n.removeEventListener("blur",e)}}function e(){if(f){_.dispatch(d.ComponentActions.POPOUT_CLOSE);s.ComponentDispatch.dispatch(d.ComponentActions.CONTEXT_MENU_CLOSE)}}}),[n,f,t,_]);r.useEffect((function(){var r,o
;if(!a&&y&&t){var i=f;null===(r=e.current)||void 0===r||r.addEventListener("focusout",l);if("IFRAME"!==(null===(o=n.document.activeElement)||void 0===o?void 0:o.tagName)&&!i){var u;null===(u=e.current)||void 0===u||u.focus()}return function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("focusout",l);i=!0}}function l(t){var n=t.relatedTarget;setTimeout((function(){null!=n&&"BUTTON"!==n.tagName||i||v(e)}),100)}}),[t,y,a,e,n,f]);return m};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=n(496486),o=n(536211),i=f(n(267115)),u=n(433383),l=f(n(235879)),s=n(956506),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,a.debounce)((function(e){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),0)}),50)},120021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useInflatedBundleItem=function(e,t,n){var r,a=m(e,n);return null!==(r=a.find((function(e){return e.application.id===t})))&&void 0!==r?r:null};t.useInflatedBundleItems=m;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=c(n(469487)),i=c(n(424099)),u=n(71246),l=n(864489),s=c(n(303798)),d=c(n(493040)),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)
}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=(0,a.useStateFromStores)([i.default],(function(){return i.default.testModeEmbeddedApplicationId})),c=(0,a.useStateFromStoresArray)([s.default],(function(){return s.default.getBundleItems(null!=e?e:"")})),p=r.useMemo((function(){return null==n||""===n?c:[{application_id:n,expires_on:null,premium_tier_level:f.BoostedGuildTiers.NONE,new_until:null,always_free:!1,nitro_requirement:!1}].concat(v(c.filter((function(e){return e.application_id!==n}))))}),[c,n]);return(0,o.default)(p.map((function(e){return e.application_id}))).filter(u.isNotNullish).map((function(e){return{application:e,bundleItem:p.find((function(t){return t.application_id===e.id}))}})).filter((function(e){var r
;return(null!==(r=null!=t?t:e.application.activitySupportedPlatforms)&&void 0!==r?r:[]).includes((0,d.default)((0,l.getOS)()))||e.application.id===n}))}},198016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useInflatedBundleItems)(e).length>0};var r=n(120021)},282827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getEmbeddedActivitiesForChannel(t).some((function(e){return e.connections.size>0}))}))};var r,a=n(536211),o=(r=n(303798))&&r.__esModule?r:{default:r}},749401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.userActivity,o=e.inActivity,i=e.embeddedActivitiesManager;r.useEffect((function(){o||(0,a.launchEmbeddedActivity)(t.id)}),[null==n?void 0:n.application_id,t.id,o,i])};var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(746920);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},645068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.allowPopups,a=e.allowPointerLock,o=r;t&&(o=[].concat(r,["allow-popups","allow-popups-to-escape-sandbox"]));a&&(o=[].concat(function(e){if(Array.isArray(e))return n(e)}(i=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){
if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["allow-pointer-lock"]));var i;return o.join(" ")};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=["allow-scripts","allow-same-origin"]},493040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){case"android":return r.EmbeddedActivitySupportedPlatforms.ANDROID;case"ios":return r.EmbeddedActivitySupportedPlatforms.IOS;default:return r.EmbeddedActivitySupportedPlatforms.WEB}};var r=n(81069)},24803:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,o=e.embeddedActivity,u=e.shouldDisconnectCall;(0,a.openModalLazy)(l(regeneratorRuntime.mark((function e(){var a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(12404)]).then(n.bind(n,212404));case 2:a=e.sent;l=a.default;return e.abrupt("return",(function(e){return r.createElement(l,i({embeddedActivity:o,channelId:t,shouldDisconnectCall:u},e))}));case 5:case"end":return e.stop()}}),e)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=n(194322);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return i.apply(this,arguments)}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}},933577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.applicationId,n=e.size,o=e.names,l=void 0===o?s:o,d=i(r.useState(null),2),f=d[0],c=d[1],p=i(r.useState(!0),2),v=p[0],y=p[1],m=(0,
a.getAssetImage)(t,f,n),_=v?"loading":null!=m?"fetched":"not-found";r.useEffect((function(){(0,a.getAssetIds)(t,l).then((function(e){y(!1);for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var r=t.value;if(null!=r&&""!==r){c(r);return}}}))}),[t]);return{url:m,state:_}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){
var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(698243);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=["embedded_cover","embedded_background"]},695475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useWarnLastEligibleHost=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(728429)),o=n(71246),i=n(631735),u=s(n(303798)),l=s(n(24803));function s(e){
return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.useWarnLastEligibleHost=function(e){var t=e.channelId,n=e.shouldDisconnectCall,s=void 0!==n&&n,d=i.ActivitiesNitroExperiment.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,f=u.default.getSelfEmbeddedActivityForChannel(t),c=a.default.getCurrentUser(),p=null==f?void 0:f.application_id,v=!(null==c||!(0,o.isNotNullish)(p))&&u.default.isLastEligibleHost(c.id,p);return r.useCallback((function(){if(d&&v&&(0,o.isNotNullish)(f)){(0,l.default)({embeddedActivity:f,channelId:t,shouldDisconnectCall:s});return!0}return!1}),[t,f,d,v,s])}},345840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTIVITY_ENCOURAGES_HW_ACCELERATION=void 0;t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(929031)),i=h(n(469487)),u=h(n(956117)),l=h(n(789446)),s=h(n(530250)),d=n(645758),f=n(3400),c=h(n(308920)),p=h(n(922629)),v=n(770348),y=h(n(247001)),m=h(n(131378)),_=["applicationId"];function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I="Activity Encourages Hardware Acceleration";t.ACTIVITY_ENCOURAGES_HW_ACCELERATION=I;function T(e){var t,n=e.applicationId,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,_),h=O(a.useState(!1),2),g=h[0],b=h[1],T=O((0,i.default)([n]),1)[0],C=null!==(t=null==T?void 0:T.name)&&void 0!==t?t:"This Activity";a.useEffect((function(){c.default.track(v.AnalyticEvents.OPEN_MODAL,{type:I})}),[]);var A=function(){var e="temporary";if(g){e="permanent";o.default.updatedUnsyncedSettings({
disableActivityHardwareAccelerationPrompt:!0})}c.default.track(v.AnalyticEvents.MODAL_DISMISSED,{type:I,dismiss_type:e});r.onClose()};return a.createElement(f.ModalRoot,E({className:m.default.root,"aria-label":y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE},r),S(f.ModalHeader,{separator:!1},void 0,S(d.Text,{className:m.default.header,variant:"text-lg/normal"},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE),S(f.ModalCloseButton,{onClick:A,className:m.default.closeButton})),S(f.ModalContent,{className:m.default.content},void 0,S(d.Text,{variant:"text-md/normal",className:m.default.ratingBody},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_BODY.format({applicationName:C}))),S(f.ModalFooter,{className:m.default.footer,direction:s.default.Direction.HORIZONTAL},void 0,S(l.default,{type:l.default.Types.INVERTED,size:18,value:g,onChange:function(){return b(!g)}},void 0,S(d.Text,{variant:"text-sm/normal"
},void 0,y.default.Messages.DONT_SHOW_AGAIN)),S(u.default,{color:u.default.Colors.PRIMARY,onClick:A},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_NO_THANKS),S(u.default,{color:u.default.Colors.BRAND,onClick:function(){c.default.track(v.AnalyticEvents.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n});p.default.setEnableHardwareAcceleration(!0)}},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_TURN_IT_ON)))}T.displayName="ActivityHardwareAccelerationModal"},71805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.url,n=e.className,r=e.style,y=e.onLoad,m=e.shouldRefocus,g=e.queryParams,E=e.allowPointerLock,S=void 0!==E&&E,O=e.allowPopups,b=void 0!==O&&O,I=e.referrerPolicy,T=void 0===I?"origin":I,C=(0,u.useStateFromStores)([l.default],(function(){return l.default.getWindow(v.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),A=(0,o.useMemoOne)((function(){return i.default.v4()}),[t]),M=a.useRef(null),N=(0,
f.default)(M,m,null==C?window:C),P=h({},g,{frame_id:A,platform:p.ActivityPlatform.DESKTOP});a.useEffect((function(){d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_MOUNT,{id:A});return function(){d.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_UNMOUNT,{id:A})}}),[A]);return null!=t?_("iframe",{style:r,allow:"autoplay",referrerPolicy:T,onLoad:function(e){var n;null==y||y(e.target);M.current=e.target;N(!0);null===(n=e.target.contentWindow)||void 0===n||n.postMessage([s.default.HELLO,P],null!=t?t:"")},sandbox:(0,c.default)({allowPopups:b,allowPointerLock:S}),className:n,src:t+"?"+new URLSearchParams(P)}):null};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(551163),i=y(n(468811)),u=n(536211),l=y(n(902305)),s=y(n(676606)),d=n(956506),f=y(n(845260)),c=y(n(645068)),p=n(418173),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}},769195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=d(n(636602)),i=n(720409),u=d(n(902305)),l=n(956506),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var c=function(e,t){return o.default.wait((function(){(0,i.updateRect)(e,t)
}))};function p(e){var t,n=e.embedId,o=e.className,i=e.style,d=(0,a.useStateFromStores)([u.default],(function(){return u.default.getWindow(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),f=null!==(t=null==d?void 0:d.window)&&void 0!==t?t:window,p=r.useRef(null),v=r.useMemo((function(){var e=null;return function(){null==e&&(e=f.requestAnimationFrame((function(){var t,r;c(n,null!==(t=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==t?t:null);e=null})))}}),[n,f]);r.useEffect((function(){f.addEventListener("resize",v);l.ComponentDispatch.subscribe(s.ComponentActions.REMEASURE_TARGET,v);return function(){f.removeEventListener("resize",v);l.ComponentDispatch.unsubscribe(s.ComponentActions.REMEASURE_TARGET,v)}}),[v,f]);r.useLayoutEffect((function(){var e=p.current;if(null!=e){var t=e.ownerDocument.defaultView;if(null!=t){v();var r=new t.ResizeObserver(v);r.observe(e);return function(){r.disconnect();c(n,null)}}}}),[n,v]);return r.createElement("div",{ref:p,style:i,
className:o})}p.displayName="EmbedTarget"},245546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MaskColor=t.FreeActivityIndicatorDot=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=u(n(294184)),i=u(n(250242));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.MaskColor=a;!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(a||(t.MaskColor=a={}));var d=function(e){var t,n=e.left,r=void 0===n?void 0:n,u=e.top,l=void 0===u?0:u,d=e.right,f=void 0===d?0:d,c=e.bottom,p=void 0===c?void 0:c,v=e.size,y=void 0===v?8:v,m=e.alert,_=void 0!==m&&m,h=e.maskColor,g=void 0===h?a.SECONDARY:h;return s("span",{className:(0,o.default)(i.default.dot,(t={},t[i.default.alert]=_,t[i.default.maskPopout]=g===a.POPOUT,t[i.default.maskSecondary]=g===a.SECONDARY,t[i.default.maskBlack]=g===a.BLACK,t)),style:{height:y,width:y,left:r,top:l,right:f,bottom:p}})};t.FreeActivityIndicatorDot=d;d.displayName="FreeActivityIndicatorDot"},765304:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=g(n(177230)),u=g(n(902305)),l=g(n(644263)),s=g(n(122913)),d=g(n(218843)),f=g(n(893160)),c=g(n(211136)),p=g(n(790597)),v=g(n(387692)),y=g(n(303798)),m=g(n(322946)),_=n(770348);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}
function S(){var e=f.default.getChannelId(),t=y.default.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=l.default.getChannel(e);return null==e||null==n||null==t?function(){var e=r;if(null!=e&&d.default.isOpen(e)){a.default.wait((function(){return o.close(e)}));r=null}}():function(e,t){if(d.default.isOpen(t))return!1;a.default.wait((function(){return o.open(t,_.PictureInPictureComponents.EMBED_IFRAME,{channel:e})}));r=t}(n,(0,m.default)(n.id,t.application_id))}function O(){var e,t=s.default.hasLayers(),n=u.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return t&&!n?void(null!=(e=r)&&d.default.isOpen(e)&&a.default.wait((function(){return o.hide(e)}))):function(){var e=r;null!=e&&d.default.isOpen(e)&&a.default.wait((function(){return o.show(e)}))}()}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
c.default.addChangeListener(S);p.default.addChangeListener(S);f.default.addChangeListener(S);v.default.addChangeListener(S);u.default.addChangeListener(S);y.default.addChangeListener(S);s.default.addChangeListener(O)};n._terminate=function(){c.default.removeChangeListener(S);p.default.removeChangeListener(S);f.default.removeChangeListener(S);v.default.removeChangeListener(S);u.default.removeChangeListener(S);y.default.removeChangeListener(S);s.default.removeChangeListener(O)};n.__getLocalVars=function(){return{openEmbedId:r}};return t}(i.default));t.default=b},321405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=w(n(636602)),l=w(n(229132)),s=w(n(505437)),d=n(264720),f=w(n(825724)),c=w(n(902305)),p=n(139982),v=w(n(611456)),y=n(421622),m=w(n(625905)),_=n(518180),h=w(n(218843)),g=w(n(211136)),E=w(n(949898)),S=w(n(80828)),O=w(n(303798)),b=w(n(71805)),I=n(982784),T=n(648927),C=n(418173),A=n(770348),M=n(859089),N=w(n(544009)),P=w(n(201768)),R=["channel"];function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=new Set([C.YOUTUBE_APPLICATION_ID,C.WATCH_YOUTUBE_DEV_APP_ID,C.WATCH_YOUTUBE_PROD_APP_ID]),F=new Set([C.PUTT_PARTY_APPLICATION_DEV_ID,C.PUTT_PARTY_APPLICATION_STG_ID,C.PUTT_PARTY_APPLICATION_QA_ID,C.PUTT_PARTY_APPLICATION_ID]),x=new Set([C.WATCH_YOUTUBE_DEV_APP_ID,C.WATCH_YOUTUBE_PROD_APP_ID]);function B(e){var t=e.channel,n=e.isLoading,r=j(a.useState(!1),2),T=r[0],C=r[1],R=(0,i.useStateFromStores)([O.default],(function(){return O.default.getSelfEmbeddedActivityForChannel(t.id)})),w=null==R?void 0:R.activity_id,D=(0,i.useStateFromStores)([g.default],(function(){
return g.default.getChannelId()===t.id})),L=(0,i.useStateFromStoresObject)([h.default],(function(){var e=h.default.pipWindow;return{dockedRect:null!=e?h.default.getDockedRect(e.id):null,isHidden:h.default.isEmbeddedActivityHidden()}})),U=L.dockedRect,B=L.isHidden,H=(0,i.useStateFromStoresObject)([c.default,E.default],(function(){var e=c.default.getWindow(A.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return{popoutWindow:e,windowWidth:c.default.getWindowOpen(A.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=e?e.innerWidth:E.default.windowSize().width-A.LEFT_PANEL_WIDTH}})),W=H.popoutWindow,V=H.windowWidth,Y=(0,i.useStateFromStoresObject)([f.default],(function(){return{activityParticipant:null!=R?f.default.getParticipant(t.id,R.application_id):null,selectedParticipant:f.default.getSelectedParticipant(t.id),participantsOpen:f.default.getParticipantsOpen(t.id),layout:f.default.getLayout(t.id,A.AppContext.APP)}})),K=Y.activityParticipant,z=Y.selectedParticipant,$=Y.participantsOpen,q=Y.layout,X=(0,
_.useIsTextInVoiceEnabled)(t.guild_id),Q=V<=y.FORCE_HIDE_PARTICIPANTS_WIDTH,Z=D||null!=W,J=Z&&(null==z?void 0:z.type)!==M.ParticipantTypes.ACTIVITY&&null==U,ee=(!Z||J)&&!B,te=!Q&&!X&&![A.ChannelLayouts.MINIMUM,A.ChannelLayouts.NORMAL].includes(q),ne=te&&$;a.useEffect((function(){null!=(null==R?void 0:R.application_id)&&u.default.dispatch({type:"ACTIVITY_PIP_MODE_UPDATE",isPIPMode:ee,applicationId:R.application_id})}),[null==R?void 0:R.application_id,ee]);function re(){var e;null!=R&&l.default.selectParticipant(t.id,R.application_id);if(null==W){(0,d.popAllLayers)();var n=null!==(e=t.getGuildId())&&void 0!==e?e:A.ME;s.default.channelListScrollTo(n,t.id);(0,p.transitionToGuild)(n,t.id)}}function ae(){C(!T)}return null==R||null==w||null==K?null:k(m.default,{timeout:2e3},void 0,(function(e){var r,i,u,l,s,d=e.idle,f=e.onActive;return k(v.default,{className:(0,o.default)(N.default.root,(i={},i[N.default.pipMode]=ee,
i[P.default.idle]=d&&!(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP),i[N.default.pipModeShort]=ee&&!T,i[N.default.pipModeTall]=ee&&T,i[N.default.hidden]=B,i)),noBorder:!ne&&!ee},void 0,function(e,n){var r;return ee&&null!=R&&(null==K?void 0:K.type)===M.ParticipantTypes.ACTIVITY?(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP)?k(I.InteractivePIPHeader,{onJumpToChannel:re,applicationId:R.application_id,channel:t,showControls:!n,onMouseMove:e,onMouseEnter:e,onToggleHeight:ae,isExpanded:T}):a.createElement(a.Fragment,null,k("div",{onMouseMove:e,onMouseDown:e,className:N.default.clickShield,onDoubleClick:re}),k(I.PIPOverlay,{idle:n,onJumpToChannel:re,channel:t,applicationId:R.application_id,selectedParticipant:K})):null}(f,d),n?k(S.default,{className:(0,o.default)(N.default.iframe,(u={},u[N.default.pipModeShort]=ee&&!T,u[N.default.pipModeTall]=ee&&T,u))}):k(b.default,{allowPopups:G.has(R.application_id),allowPointerLock:F.has(R.application_id),
referrerPolicy:x.has(R.application_id)?"no-referrer":"origin",url:R.url,queryParams:{instance_id:w,channel_id:t.id,guild_id:t.guild_id},className:(0,o.default)(N.default.iframe,(s={},s[N.default.pipModeShort]=ee&&!T,s[N.default.pipModeTall]=ee&&T,s[N.default.pipNonInteractive]=ee&&!(null===(l=R.config)||void 0===l?void 0:l.useInteractivePIP),s)),shouldRefocus:!ee&&D}),!ee&&k(I.TileOverlay,{participantsOpen:$,showToggleParticipants:te,channelId:t.id}))}))}B.displayName="PersistentIFrame";var H=function(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,R),r=(0,T.useEmbeddedActivityLifecycle)(t).isLoading;return a.createElement(B,L({channel:t,isLoading:r},n))};H.displayName="PictureInPictureEmbeddedActivity";var W=H;t.default=W},982784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InteractivePIPHeader=G;t.PIPOverlay=U;t.TileOverlay=function(e){
var t=e.channelId,n=e.participantsOpen;return e.showToggleParticipants?k(g.default,{channelId:t,isParticipantsOpen:n,className:P.default.participantsButton}):null};var r,a=L(n(667294)),o=w(n(294184)),i=n(536211),u=w(n(740207)),l=n(433383),s=w(n(469487)),d=w(n(310268)),f=L(n(8475)),c=w(n(770404)),p=w(n(493051)),v=w(n(134893)),y=n(244612),m=w(n(143414)),_=w(n(67286)),h=w(n(866219)),g=w(n(715801)),E=w(n(645675)),S=w(n(635014)),O=w(n(530250)),b=w(n(160490)),I=w(n(775803)),T=n(746920),C=w(n(804330)),A=n(770348),M=n(478036),N=w(n(247001)),P=w(n(844203)),R=w(n(201768));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t,n=e.onClick,r=e.isExpanded;return k(m.default,{iconClassName:(0,o.default)(P.default.arrowIcon,(t={},t[P.default.arrowIconExpanded]=r,t)),onClick:n,iconComponent:b.default,label:r?N.default.Messages.PICTURE_IN_PICTURE_COLLAPSE:N.default.Messages.PICTURE_IN_PICTURE_EXPAND})}j.displayName="TogglePIPHeightButton";function U(e){
var t,n,r=e.channel,a=e.applicationId,o=e.onJumpToChannel,m=e.idle,g=e.selectedParticipant,b=(0,l.useAppContext)()===A.AppContext.POPOUT,I=(0,i.useStateFromStores)([S.default],(function(){return S.default.isVideoEnabled()})),N=(0,i.useStateFromStores)([S.default],(function(){return Object.values(S.default.getVideoDevices())[0]})),w=!1===(null===(t=null==N?void 0:N.disabled)||void 0===t||t),D=(0,s.default)([a])[0],L=(0,c.default)(r),j=function(e){u.default.setVideoEnabled(e)};return k("div",{className:R.default.videoControls},void 0,k("div",{className:R.default.topControls},void 0,k(y.PictureInPictureHeader,{idle:m,title:null!==(n=null==D?void 0:D.name)&&void 0!==n?n:r.name,onJumpToChannel:o,preventIdleComponent:v.default})),k("div",{className:R.default.bottomControls},void 0,k(O.default,{grow:0,shrink:1,basis:"50%",align:O.default.Align.CENTER},void 0,k(E.default,{className:P.default.leftPipIcon,enabled:I,cameraUnavailable:!w,hasPermission:L,onChange:j,onCameraUnavailable:function(){
w?j(!0):(0,p.default)()}}),k(v.default,{},void 0,k(d.default,{channelId:r.id,guildId:r.getGuildId(),className:R.default.leftTrayIcon,participant:g,compact:!0}))),k(O.default,{grow:0,shrink:1,justify:O.default.Justify.END,basis:"50%",align:O.default.Align.CENTER},void 0,b?null:k(h.default,{className:P.default.rightPipIcon,popoutOpen:!1,onOpenPopout:function(){(0,C.default)((function(){return f.openChannelCallPopout(r)}))},onClosePopout:M.NOOP_NULL}),k(_.default,{className:P.default.rightPipIcon,onClick:function(){return(0,T.stopEmbeddedActivity)({channelId:r.id,applicationId:a})}}))))}U.displayName="PIPOverlay";function G(e){var t,n,r=e.onMouseMove,i=e.onMouseEnter,u=e.showControls,l=e.applicationId,d=e.channel,f=e.onJumpToChannel,c=e.onToggleHeight,p=e.isExpanded,m=(0,s.default)([l])[0];return k("div",{className:P.default.pipHeader,onMouseMove:r,onMouseEnter:i},void 0,k("div",{className:(0,o.default)(R.default.topControls,P.default.pipHeaderContent,(t={},
t[P.default.pipHeaderContentOpen]=u,t))},void 0,!u&&k(I.default,{className:P.default.menuIcon,width:12,height:12}),u&&a.createElement(a.Fragment,null,k(y.PictureInPictureHeader,{idle:!u,title:null!==(n=null==m?void 0:m.name)&&void 0!==n?n:d.name,onJumpToChannel:f,preventIdleComponent:v.default}),k("div",{className:P.default.pipHeaderButtonsRight},void 0,k(j,{isExpanded:p,onClick:c}),k(_.default,{iconClassName:P.default.leaveActivityIcon,onClick:function(){return(0,T.stopEmbeddedActivity)({channelId:d.id,applicationId:l})}})))))}G.displayName="InteractivePIPHeader"},804330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=function(){});var n=function(){a.default.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0});e()};i.default.disableEmbeddedActivityPopOutAlert?e():(0,u.openModal)((function(a){return r.createElement(o.default,f({confirmText:l.default.Messages.EMBEDDED_ACTIVITIES_YEP,
secondaryConfirmText:l.default.Messages.DONT_ASK_AGAIN,title:l.default.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:l.default.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:e,onConfirmSecondary:n,onCancel:t,body:l.default.Messages.EMBEDDED_ACTIVITIES_POP_OUT_WARNING},a))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=s(n(174508)),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){
f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}},480831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,o.hasFlag)(null!==(t=e.flags)&&void 0!==t?t:0,i.ApplicationFlags.EMBEDDED),r=a.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return n&&r};var r,a=(r=n(902305))&&r.__esModule?r:{default:r},o=n(685677),i=n(770348)},322946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return"activityembed:"+e+":"+t}},977365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.disableActivityHardwareAccelerationPrompt||!u.isPlatformEmbedded||l.default.getEnableHardwareAcceleration()||(0,o.openModalLazy)(y(regeneratorRuntime.mark((function t(){var a,o
;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.resolve().then(n.bind(n,345840));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,p({applicationId:e},t))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:m,onCloseRequest:function(){i.default.track(d.AnalyticEvents.MODAL_DISMISSED,{type:s.ACTIVITY_ENCOURAGES_HW_ACCELERATION});(0,o.closeModal)(m)}})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=f(n(174508)),o=n(194322),i=f(n(308920)),u=n(864489),l=f(n(922629)),s=n(345840),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m="activity-hardware-acceleration-modal"},648927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useEmbeddedActivityLifecycle=void 0;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(746920),o=l(n(845715)),i=l(n(749401)),u=l(n(697749));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.useEmbeddedActivityLifecycle=function(e){var t=(0,o.default)(e),n=t.userActivity,l=t.inActivity,s=u.default;(0,i.default)({channel:e,userActivity:n,inActivity:l,embeddedActivitiesManager:s});r.useEffect((function(){return function(){null!=(null==n?void 0:n.application_id)&&(0,
a.disconnectEmbeddedActivity)(e.id,null==n?void 0:n.application_id)}}),[e.id,null==n?void 0:n.application_id]);return{isLoading:!l}}},170328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(e){var t=e.applicationId;(0,a.openModalLazy)(d(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(47642)]).then(n.bind(n,925304));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,l({applicationId:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}r.useEffect((function(){o.ComponentDispatch.subscribe(i.ComponentActions.SHOW_NO_ELIGIBLE_HOST_MODAL,e);return function(){o.ComponentDispatch.unsubscribe(i.ComponentActions.SHOW_NO_ELIGIBLE_HOST_MODAL,e)}}),[]);return null};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=n(956506),i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){
s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},723220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.closeAgeGateModal=function(){r.default.wait((function(){return r.default.dispatch({type:"AGE_GATE_MODAL_CLOSE"})}))};t.closeFailedAgeGate=function(){r.default.dispatch({type:"LOGOUT"});(0,a.transitionTo)(i.Routes.LOGIN)};t.openAgeGateModal=function(e){o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.default.dispatch({type:"AGE_GATE_MODAL_OPEN",source:e})};t.openFailureAgeGateModal=function(e){r.default.wait((function(){r.default.dispatch({type:"AGE_GATE_FAILURE_MODAL_OPEN",underageMessage:e})}))};t.openSuccessAgeGateModal=function(){r.default.wait((function(){r.default.dispatch({type:"AGE_GATE_SUCCESS_MODAL_OPEN"})}))};var r=u(n(636602)),a=n(139982),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},160866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.userNeedsAgeGate=function(){var e=r.default.getCurrentUser();return null!=e&&a.default.extractTimestamp(e.id)>i.getTime()&&!e.isClaimed()&&null==e.nsfwAllowed};var r=o(n(728429)),a=o(n(71636));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Date("06/16/2020")},676817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=m(n(636602)),o=m(n(177230)),i=m(n(644263)),u=m(n(211136)),l=m(n(790597)),s=m(n(728429)),d=n(194322),f=n(723220),c=m(n(632062)),p=m(n(242049)),v=n(78330),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function O(e,t){var n
;if(null!=e){var r=s.default.getCurrentUser();(null===(n=i.default.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,f.openAgeGateModal)(v.AgeGateSource.NSFW_CHANNEL)}}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){a.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);a.default.subscribe("CHANNEL_SELECT",this.handleChannelSelect);a.default.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);a.default.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose);a.default.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess);a.default.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};o._terminate=function(){a.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);a.default.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)
;a.default.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);a.default.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose);a.default.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess);a.default.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};o.handleChannelSelect=function(e){O(e.guildId,e.channelId)};o.handleConnectionOpen=function(){O(l.default.getGuildId(),u.default.getChannelId())};o.handleAgeGateModalOpen=function(){(0,d.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(73167)]).then(n.bind(n,273167));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:v.EXISTING_USER_AGE_GATE_MODAL_KEY,onCloseRequest:y.NOOP})};o.handleAgeGateSuccess=function(){(0,
d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(p.default,e)}))};o.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,d.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(c.default,h({underageMessage:t},e))}))};o.handleAgeGateModalClose=function(){(0,d.closeModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY)};o.__getLocalVars=function(){return{}};return t}(o.default));t.default=b},632062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;h(n(667294));var r,a=n(47354),o=n(139982),i=h(n(956117)),u=n(772575),l=n(645758),s=n(354479),d=n(3400),f=m(n(550270)),c=n(723220),p=n(770348),v=m(n(247001)),y=m(n(987953));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){(0,c.closeAgeGateModal)();(0,o.transitionTo)(p.Routes.LOGIN)}function S(e){var t=e.underageMessage,r=e.transitionState,o=(0,s.useUID)();return g(d.ModalRoot,{
transitionState:r,size:d.ModalSize.SMALL,"aria-labelledby":o,impressionName:a.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},void 0,g(d.ModalContent,{},void 0,g("div",{className:y.default.container},void 0,g("img",{alt:"",src:n(697694),className:y.default.img}),g(u.Heading,{variant:"heading-xl/medium",className:y.default.title,id:o,level:3},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER),g(l.Text,{color:"header-secondary",className:y.default.subtitle,variant:"text-sm/normal"},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=t?t:v.default.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:f.default.getArticleURL(p.HelpdeskArticles.AGE_GATE)})),g(l.Text,{color:"header-secondary",className:y.default.subtitle,variant:"text-sm/normal"},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})))),g(d.ModalFooter,{},void 0,g(i.default,{size:i.ButtonSizes.SMALL,
fullWidth:!0,onClick:E},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN)))}S.displayName="ExistingUserAgeGateUnderage"},242049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=n(47354),o=y(n(956117)),i=n(772575),u=n(645758),l=n(354479),s=n(3400),d=n(723220),f=p(n(247001)),c=p(n(206052));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.transitionState,r=(0,l.useUID)();return m(s.ModalRoot,{transitionState:t,size:s.ModalSize.SMALL,"aria-labelledby":r,impressionName:a.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},void 0,m(s.ModalContent,{},void 0,m("div",{className:c.default.container},void 0,m("img",{alt:"",src:n(145911),className:c.default.img}),m(i.Heading,{variant:"heading-xl/medium",className:c.default.title,id:r,level:3},void 0,f.default.Messages.AGE_GATE_AGE_VERIFIED),m(u.Text,{color:"header-secondary",className:c.default.subtitle,variant:"text-sm/normal"
},void 0,f.default.Messages.AGE_GATE_AGE_VERIFIED_BODY))),m(s.ModalFooter,{},void 0,m(o.default,{size:o.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,d.closeAgeGateModal)()},autoFocus:!0},void 0,f.default.Messages.CLOSE)))}_.displayName="ExistingUserAgeGateVerified"},108101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=void 0;var r,a=v(n(667294)),o=c(n(598694)),i=c(n(268660)),u=n(3400),l=v(n(174687)),s=c(n(817105)),d=c(n(247001)),f=c(n(50710));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E;t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";!function(e){e[e.REPORT_MESSAGE=0]="REPORT_MESSAGE"
;e[e.SUCCESS=1]="SUCCESS"}(E||(E={}));var S=[E.REPORT_MESSAGE,E.SUCCESS],O=y(l.ErrorState,{}),b=function(e){var t=e.message,n=e.channel,r=e.onClose,c=e.transitionState,p=h(a.useState(!1),2),v=p[0],m=p[1],g=h(a.useState(null),2),b=g[0],I=g[1],T=h(a.useState(E.REPORT_MESSAGE),2),C=T[0],A=T[1],M=h(a.useState(null),2),N=M[0],P=M[1],R=h(a.useState(null),2),w=R[0],D=R[1];a.useEffect((function(){var e=function(){var e=_(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.tokenizeReportedMessage(n.id,t.id);case 3:r=e.sent;I(r);e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);m(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=_(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.getOptions();case 2:t=e.sent
;n=t.typeOptions;r=t.subTypeOptions;P(n);D(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();v||r()}),[n.id,v,t.id]);var L=y(l.default,{token:b,message:t,channel:n,onClose:r,onSuccess:function(){A(E.SUCCESS)},typeOptions:N,subTypeOptions:w}),k=y(s.default,{message:t,channel:n,onClose:r});return y(u.ModalRoot,{transitionState:c,size:u.ModalSize.DYNAMIC,className:f.default.modal,"aria-label":d.default.Messages.REPORT_MODAL_REPORT_MESSAGE},void 0,v?O:y(i.default,{step:C,steps:S},void 0,C===E.REPORT_MESSAGE?null==N||null==w||null==b?null:L:k))};b.displayName="ReportMessageModal";var I=b;t.default=I},174687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=t.ErrorState=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(598694)),i=n(483559),u=S(n(844784)),l=S(n(2914)),s=S(n(956117)),d=S(n(682473)),f=n(772575),c=S(n(39118)),p=S(n(279950)),v=n(688388),y=n(3400),m=n(967965),_=S(n(582945)),h=n(770348),g=S(n(247001)),E=S(n(50710));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";var A=function(e){var t=e.className;return C(d.default,{className:t},void 0,g.default.Messages.REPORT_MODAL_ERROR.format({tnsReportUrl:"https://dis.gd/request"}))};t.ErrorState=A;A.displayName="ErrorState";var M=function(e){var t,n,r=e.token,d=e.channel,S=e.message,O=e.typeOptions,T=e.subTypeOptions,M=e.onClose,N=e.onSuccess,P=I(a.useState(null),2),R=P[0],w=P[1],D=I(a.useState(null),2),L=D[0],k=D[1],j=I(a.useState(""),2),U=j[0],G=j[1],F=I(a.useState(""),2),x=F[0],B=F[1],H=I(a.useState(!1),2),W=H[0],V=H[1],Y=I(a.useState(!1),2),K=Y[0],z=Y[1],$=null!=R&&null!=T[R],q=null!=L||!$,X=function(e){if(R!==e){w(e);k(null)}},Q=function(e){L!==e&&k(e)},Z=function(){
var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=R){e.next=2;break}return e.abrupt("return");case 2:V(!0);e.prev=3;e.next=6;return(0,i.fetchProfile)(d.getRecipientId(),{withMutualGuilds:!0});case 6:n=e.sent;a=null==n||null===(t=n.mutual_guilds)||void 0===t?void 0:t.map((function(e){return e.id}));u.default.trackWithMetadata(h.AnalyticEvents.MESSAGE_REPORTED,{report_type:R,report_sub_type:L,subject:U,description:x,location_object:"report_message_modal",guild_id:d.getGuildId(),channel_id:d.id,message_id:S.id,mutual_guild_ids:a});e.next=11;return o.default.submitReport(r,R,L,U,x);case 11:V(!1);N();e.next=19;break;case 15:e.prev=15;e.t0=e.catch(3);V(!1);z(!0);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))})
;return function(){return t.apply(this,arguments)}}(),J=C(p.default,{value:U,onChange:G}),ee=C(c.default,{value:x,onChange:B});return a.createElement(a.Fragment,null,C(y.ModalContent,{className:E.default.content},void 0,C(f.Heading,{className:E.default.modalHeader,variant:"heading-xl/medium",level:3},void 0,g.default.Messages.REPORT_MODAL_REPORT_MESSAGE),K&&C(A,{className:E.default.formItem}),C(v.FormItem,{title:g.default.Messages.REPORT_MODAL_MESSAGE_SELECTED,className:E.default.formItem},void 0,C(_.default,{className:E.default.message},void 0,C(l.default,{channel:d,message:S,animateAvatar:!1,disableInteraction:!0}))),(t=O.find((function(e){return e.value===R})),n=null!=t?t.description:null,a.createElement(a.Fragment,null,C(v.FormItem,{className:E.default.formItem,title:g.default.Messages.REPORT_MODAL_TYPE_TITLE,required:!0},void 0,C(m.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:O,value:R,onChange:X,maxVisibleItems:6})),C(v.FormText,{
type:v.FormText.Types.DESCRIPTION,className:E.default.description},void 0,n))),null!=R&&$?C(v.FormItem,{title:T[R].subTypeQuestion,className:E.default.formItem,required:!0},void 0,C(m.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:T[R].subTypes,value:L,onChange:Q})):null,null!=R&&q?a.createElement(a.Fragment,null,C(v.FormItem,{title:g.default.Messages.REPORT_MODAL_SUBJECT,className:E.default.formItem,required:!0},void 0,J),C(v.FormItem,{title:g.default.Messages.REPORT_MODAL_DESCRIPTION,className:E.default.formItem,required:!0},void 0,ee,C(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.description},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MIN_MAX.format({min:0,max:800})),x.length>800?C(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.descriptionError},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MAX_EXCEEDED):null)):null),C(y.ModalFooter,{className:E.default.footer},void 0,C(s.default,{
color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:M},void 0,g.default.Messages.CANCEL),C(s.default,{onClick:Z,disabled:!q||0===U.length||x.length<0||x.length>800,submitting:W},void 0,g.default.Messages.REPORT_MODAL_SUBMIT)))};t.default=M},817105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(786345)),i=m(n(237923)),u=m(n(2914)),l=m(n(956117)),s=n(772575),d=n(688388),f=n(3400),c=m(n(582945)),p=n(770348),v=m(n(247001)),y=m(n(50710));function m(e){
return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.onClose,n=e.message,r=e.channel,m=null==r.guild_id,_=m?v.default.Messages.REPORT_MODAL_SHOULD_BLOCK:v.default.Messages.REPORT_MODAL_SHOULD_DELETE,g=m?v.default.Messages.REPORT_MODAL_BLOCK_USER:v.default.Messages.DELETE_MESSAGE;return a.createElement(a.Fragment,null,h(f.ModalContent,{className:y.default.successModalContent},void 0,h(s.Heading,{variant:"heading-xl/medium",level:3
},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED),h(d.FormText,{type:d.FormText.Types.DESCRIPTION,className:y.default.successModalText},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED_EMAIL_CONFIRMATION),h(d.FormItem,{className:y.default.messageFormItem,title:_},void 0,h(c.default,{className:y.default.message},void 0,h(u.default,{channel:r,message:n,animateAvatar:!1,disableInteraction:!0})))),h(f.ModalFooter,{className:y.default.footer},void 0,h(l.default,{color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:t},void 0,v.default.Messages.CLOSE),h(l.default,{look:l.default.Looks.FILLED,color:l.default.Colors.RED,onClick:function(){m?i.default.addRelationship({userId:n.author.id,context:{location:"Report Modal"},type:p.RelationshipTypes.BLOCKED}):o.default.deleteMessage(r.id,n.id);t()}},void 0,g)))};t.default=g},504010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(392820).Z;t.default=r},392820:(e,t)=>{"use strict";({
value:!0});t.Z=function(){return{}}},512885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=p(n(797341)),u=p(n(918667)),l=p(n(964285)),s=n(143),d=n(770348),f=p(n(247001)),c=p(n(108881));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.guild,n=e.entitlements,r=function(){return(0,s.dismissApplicationSubscriptionExpirationNotice)(t.id)},p=a.useMemo((function(){return new Set(n.map((function(e){return e.applicationId})))}),[n]),v=(0,o.useStateFromStores)([i.default],(function(){return i.default.getApplications()})),_=a.useMemo((function(){for(var e,t=[],n=m(p);!(e=n()).done;){var r=e.value,a=v[r];null!=a&&t.push(a)}return t}),[v,p]);if(0===_.length)return null;var h="";h=1===_.length?f.default.Messages.ONE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:_[0].name}):2===_.length?f.default.Messages.TWO_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:_[0].name,b:_[1].name
}):3===_.length?f.default.Messages.THREE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:_[0].name,b:_[1].name,c:_[2].name}):f.default.Messages.MORE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT;return y(u.default,{guild:t,onDismissed:r,message:h,type:d.ChannelNoticeTypes.APPLICATION_SUBSCRIPTION_EXPIRATION,image:c.default,onClick:function(){r();l.default.open(t.id,d.GuildSettingsSections.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:f.default.Messages.APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CTA})}h.displayName="ApplicationSubscriptionExpirationChannelNotice"},763944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=h(n(754295)),l=h(n(146771)),s=h(n(956117)),d=n(772575),f=h(n(873376)),c=n(645758),p=n(770348),v=h(n(247001)),y=h(n(597970)),m=h(n(56397)),_=h(n(709804));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}var S=E(f.default,{size:4}),O=E(f.default,{size:24});function b(e){var t=e.onClickManageSubscription,n=(0,i.useStateFromStores)([l.default],(function(){return l.default.getSubscriptions()})),r=a.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===p.SubscriptionTypes.APPLICATION&&e.status!==p.SubscriptionStatusTypes.ENDED}))}),[n]);return 0===r.length?null:E("div",{className:y.default.container},void 0,E(d.Heading,{variant:"heading-md/medium",className:y.default.sectionTitle,level:3},void 0,v.default.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE),S,E(c.Text,{variant:"text-sm/normal",className:y.default.sectionDescription},void 0,v.default.Messages.APPLICATION_USER_SUBSCRIPTIONS_DESCRIPTION),O,E("div",{className:(0,o.default)(m.default.guildBoostingSubscriptionRow,y.default.card)},void 0,E("img",{src:_.default,alt:"",className:y.default.handImage}),E("div",{className:y.default.textContainer},void 0,E(d.Heading,{
variant:"heading-xl/medium",className:y.default.header,level:3},void 0,v.default.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE),E(c.Text,{variant:"text-md/normal",className:y.default.description},void 0,v.default.Messages.APPLICATION_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:r.length}))),E(u.default,{color:s.default.Colors.BRAND,onClick:t},void 0,v.default.Messages.APPLICATION_MANAGE_SUBSCRIPTIONS_BUTTON)))}b.displayName="ApplicationSubscriptionsSection"},983203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openModal=t.default=void 0;var r,a=g(n(667294)),o=g(n(832635)),i=_(n(954140)),u=_(n(37039)),l=_(n(956117)),s=_(n(682473)),d=_(n(873376)),f=n(354479),c=n(3400),p=g(n(194322)),v=n(651816),y=_(n(247001)),m=_(n(534440));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=S(d.default,{size:16}),A=function(e){var t=e.transitionState,n=e.guildId,r=e.application,d=e.listing,p=e.subscription,_=e.onClose,h=(0,f.useUID)(),g=function(e){var t=I(a.useState(!1),2),n=t[0],r=t[1],i=I(a.useState(null),2),u=i[0],l=i[1],s=function(){var t=b(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;r(!0);t.next=4;return o.cancelSubscription(n,e);case 4:return t.abrupt("return",!0);case 7:t.prev=7;t.t0=t.catch(0);l(t.t0);case 10:t.prev=10;r(!1);return t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))
;return function(e){return t.apply(this,arguments)}}();return{cancelSubscription:s,error:u,submitting:n}}((0,u.default)(i.default.APPLICATION_SUBSCRIPTION_CANCELLATION_MODAL).analyticsLocations),E=g.cancelSubscription,O=g.error,T=g.submitting,A=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return E(p.id);case 2:e.sent&&_();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(c.ModalRoot,{transitionState:t,className:m.default.modal,"aria-labelledby":h},void 0,null!=O?S(s.default,{},void 0,O.message):null,S(c.ModalContent,{className:m.default.content},void 0,C,S(v.ApplicationBenefitsModalContent,{},void 0,S(v.ApplicationBenefitsModalIcon,{application:r}),S(v.ApplicationBenefitsModalHeading,{id:h},void 0,y.default.Messages.APPLICATION_CANCEL_SUBSCRIPTION_MODAL_TITLE.format({applicationName:null==r?void 0:r.name,tier:d.name
})),S(v.ApplicationBenefitsModalDescription,{},void 0,y.default.Messages.APPLICATION_CANCEL_SUBSCRIPTION_MODAL_DESCRIPTION.format({timestamp:p.currentPeriodEnd.getTime()})),S(v.ApplicationBenefitsModalSectionLabel,{},void 0,y.default.Messages.APPLICATION_CANCEL_SUBSCRIPTION_PREMIUM_BENEFITS),S(v.ApplicationBenefitsModalBenefits,{benefits:d.sku_benefits.benefits,guildId:n}))),S(c.ModalFooter,{className:m.default.footer},void 0,S(l.default,{color:l.default.Colors.RED,onClick:A,submitting:T},void 0,y.default.Messages.APPLICATION_CANCEL_SUBSCRIPTION_MODAL_CANCEL_CTA),S(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.WHITE,className:m.default.goBackButton,onClick:_},void 0,y.default.Messages.APPLICATION_CANCEL_SUBSCRIPTION_MODAL_NEVERMIND_CTA)))};A.displayName="CancelSubscriptionModal";t.openModal=function(e){p.openModal((function(t){return a.createElement(A,E({},t,e))}))};var M=A;t.default=M},110170:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=D(n(667294)),o=R(n(294184)),i=R(n(444693)),u=n(536211),l=R(n(168058)),s=R(n(675176)),d=n(511217),f=R(n(337309)),c=R(n(748826)),p=R(n(16941)),v=R(n(380439)),y=n(772575),m=R(n(926197)),_=R(n(873376)),h=R(n(80828)),g=n(645758),E=R(n(730977)),S=n(354479),O=n(688388),b=R(n(738133)),I=R(n(700113)),T=n(598671),C=D(n(369919)),A=n(983203),M=R(n(579135)),N=R(n(247001)),P=R(n(101673));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var G=function(e){var t=e.label,n=e.value,r=e.showInfoIcon,o=e.infoIconTooltipText;return U("div",{className:P.default.infoCard},void 0,U("div",{className:P.default.infoCardLabelContainer},void 0,U(y.Heading,{variant:"heading-sm/medium",className:P.default.infoCardLabel,level:3},void 0,t),r&&U(E.default,{
text:o},void 0,(function(e){return a.createElement(I.default,j({},e,{className:P.default.infoCardIcon}))}))),U(y.Heading,{variant:"heading-xl/medium",className:P.default.infoCardValue,level:3},void 0,n))};G.displayName="SubscriptionInfoCard";var F=U(h.default,{}),x=function(e){var t=e.subscription,n=L((0,d.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0],r=(0,u.useStateFromStores)([c.default],(function(){return c.default.hasFetchedPaymentSources}));return null!=n&&r?U(f.default,{subscription:t,currentInvoicePreview:n,dropdownClassName:P.default.paymentSourceDropdown}):F};x.displayName="SubscriptionPaymentSourceWithInvoice";var B=function(e){var t=e.isCancelled,n=e.onCancelSubscriptionClick;return t?null:U("div",{},void 0,U(O.FormTitle,{},void 0,N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL),U("div",{className:P.default.rowButtons},void 0,U(m.default,{label:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:n
})))};B.displayName="ManageSubscriptionOptions";var H=U(_.default,{size:16}),W=function(e){var t=e.subscription,n=(0,M.default)(t),r=n.listing,u=n.groupListing,d=n.guild,f=n.expanded,c=n.handleToggleExpanded,y=n.subscriptionInfo,m=n.application,_=(0,S.useUID)();if(null==u||null==r||null==y)return null;var h=y.isCancelled,I=y.isPastDue,R=y.subscriptionPlanPrice,w=y.subscribedSinceDate,D=y.currentPeriodEndDate,L=y.currentPeriodEndLabel,k=r.soft_deleted||null==d||null==m,j=U(x,{subscription:t}),F=U(B,{isCancelled:h,onCancelSubscriptionClick:function(){null!=d&&null!=m&&(0,A.openModal)({guildId:d.id,application:m,listing:r,subscription:t})}});return U("div",{className:P.default.container},void 0,U(l.default,{onClick:c,className:P.default.headerContainer},void 0,(function(e){var t,n,r=e.areaRef,u=e.handleStopPropagation;return a.createElement(a.Fragment,null,null!=m&&U(C.default,{size:C.ApplicationIconSize.SMALL,className:P.default.applicationIcon,application:m}),U("div",{
className:P.default.headerTextContainer},void 0,U(g.Text,{variant:"text-md/normal",className:P.default.applicationName},void 0,null!=m?m.name:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_APPLICATION_NAME_UNAVAILABLE),U("div",{className:P.default.headerSubtitleContainer},void 0,U(g.Text,{variant:"text-sm/normal",className:P.default.tierName},void 0,N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_IN_GUILD.format({guildName:null!==(t=null==d?void 0:d.name)&&void 0!==t?t:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_GUILD_NAME_UNAVAILABLE}),null!=d&&U(v.default,{guild:d,size:v.default.Sizes.MINI,className:P.default.guildIcon})),h?U(T.TextBadge,{text:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CANCELED}):I?U(E.default,{text:N.default.Messages.APPLICATION_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING},void 0,(function(e){return a.createElement("div",e,U(T.TextBadge,{className:P.default.paymentDueBadge,
text:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAST_DUE,color:i.default.STATUS_YELLOW_500}))})):null)),U(p.default,{onClick:u(c),"aria-label":N.default.Messages.APPLICATION_SUBSCRIPTION_TOGGLE_SECTION_LABEL,"aria-controls":_,"aria-expanded":f,focusProps:{ringTarget:r}},void 0,U(b.default,{className:(0,o.default)(P.default.arrowIcon,(n={},n[P.default.arrowIconExpanded]=f,n))})))})),f?U("div",{id:_},void 0,U("div",{className:P.default.divider}),U(s.default,{groupListingId:u.id,subscription:t,className:P.default.changePlanNotice}),U("div",{className:P.default.subscriptionInfoCards},void 0,U(G,{label:L,value:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_CURRENT_PERIOD_END_DATE.format({timestamp:D.getTime()})}),U(G,{label:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_PRICE,value:R}),U(G,{label:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE,value:N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE_DATE.format({
timestamp:w.getTime()})})),H,!h&&a.createElement(a.Fragment,null,U(O.FormTitle,{},void 0,N.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL),j),!k&&F):null)};W.displayName="ManageSubscriptionCard";var V=W;t.default=V},697512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=m(n(146771)),i=m(n(956117)),u=m(n(873376)),l=m(n(80828)),s=n(645758),d=n(688388),f=m(n(571649)),c=n(666027),p=m(n(110170)),v=m(n(247001)),y=m(n(888197));function m(e){return e&&e.__esModule?e:{
default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=h(l.default,{}),E=h(u.default,{size:10}),S=function(e){var t=e.onGoBack,n=(0,a.useStateFromStores)([o.default],(function(){var e;return null!==(e=o.default.getActiveApplicationSubscriptions())&&void 0!==e?e:[]})),r=(0,c.useFetchListingsForSubscriptions)(n).loading,u=(0,c.useFetchUserApplicationSubscriptionEntitlements)().loadState;return r||u!==c.LoadState.LOADED?g:0===n.length?null:h("div",{className:y.default.container
},void 0,h(i.default,{look:i.default.Looks.BLANK,innerClassName:y.default.backButtonContents,onClick:t},void 0,h(f.default,{className:y.default.arrowIcon}),v.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_BACK_CTA),E,h(d.FormTitle,{tag:d.FormTitle.Tags.H1},void 0,v.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_TITLE),h(s.Text,{variant:"text-sm/normal",className:y.default.pageDescription},void 0,v.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION),h("div",{className:y.default.subscriptionsContainer},void 0,n.map((function(e){return h(p.default,{subscription:e},e.id)}))))};S.displayName="UserSettingsApplicationSubscriptions";var O=S;t.default=O},579135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,p.getApplicationSubscriptionPlanId)(e),n=(0,i.useStateFromStores)([c.default],(function(){return c.default.getSubscriptionListingForPlan(t)})),m=(0,i.useStateFromStores)([c.default],(function(){
return null!=n?c.default.getSubscriptionGroupListingForSubscriptionListing(n.id):null})),_=(0,i.useStateFromStores)([d.default],(function(){var t=d.default.getForSubscription(e.id);(0,a.default)(1===(null==t?void 0:t.size),"not 1 entitlement per application subscription");return h(Array.from(t),1)[0]})),g=(0,i.useStateFromStores)([u.default],(function(){var e=u.default.getApplication(_.applicationId);if(null!=e)return l.default.createFromServer(e)})),E=(0,i.useStateFromStores)([s.default],(function(){return s.default.getGuild(_.guildId)})),S=h(r.useState(!1),2),O=S[0],b=S[1],I=null==n?void 0:function(e){var t=e.listing,n=e.subscription,r=n.currentPeriodEnd,a=t.subscription_plans[0],i=(0,f.formatPrice)(a.price,a.currency),u=n.createdAt,l=n.status===v.SubscriptionStatusTypes.CANCELED,s=n.status===v.SubscriptionStatusTypes.PAST_DUE;return{subscribedSinceDate:u,currentPeriodEndDate:r,currentPeriodEndLabel:(0,
o.default)().isAfter(n.currentPeriodEnd)?y.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDED:y.default.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDS,subscriptionPlanPrice:i,isCancelled:l,isPastDue:s}}({listing:n,subscription:e});return{application:g,guild:E,expanded:O,handleToggleExpanded:function(){return b((function(e){return!e}))},listing:n,groupListing:m,subscriptionInfo:I}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=m(n(441143)),o=m(n(730381)),i=n(536211),u=m(n(797341)),l=m(n(331119)),s=m(n(30098)),d=m(n(47969)),f=n(243277),c=m(n(390312)),p=n(515715),v=n(770348),y=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},970483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u={},l=null,s=null;function d(e,t){null==t?e in u&&delete u[e]:null!=e&&(u[e]=t)}function f(e){var t=e.user;s=t.id}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(u=e)}
;n.requiredActions=function(e){var t;return null!==(t=u[e])&&void 0!==t?t:null};n.requiredActionsIncludes=function(e,t){var n=this.requiredActions(e);return null!=n&&t.reduce((function(e,t){return e||n.includes(t)}),!1)};n.wasLoginAttemptedInSession=function(e){return l===e};n.getState=function(){return u};n.__getLocalVars=function(){return{requiredActionsByUserId:u,latestLoginAttemptedUserId:l,currentUserId:s}};return t}(r.default.PersistedStore);c.displayName="LoginRequiredActionStore";c.persistKey="LoginRequiredActionStore";var p=new c(a.default,{LOGIN_ATTEMPTED:function(e){var t=e.required_actions,n=e.user_id;d(l=n,t)},CONNECTION_OPEN:f,CURRENT_USER_UPDATE:f,LOGOUT:function(e){e.isSwitchingAccount||null==s||d(s,null)},PASSWORD_UPDATED:function(e){d(e.userId,null)},MULTI_ACCOUNT_REMOVE_ACCOUNT:function(e){d(e.userId,null)}});t.default=p},744727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getRedirectPath=d;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(505977),o=n(904312),i=n(770348),u=n(27577);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){var e=location.pathname+location.search;return u.CONFERENCE_MODE_ENABLED?i.Routes.REGISTER:(0,o.getLoginPath)(e,!1)}function f(){return s(a.Redirect,{to:d()})}f.displayName="RedirectUnauthenticated";var c=f;t.default=c},621287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.makeAuthenticated=function(e,t,n){var r,u,s=f(t,{renderRedirect:p});void 0===n&&(n={passProps:!0});function d(r){return!(0,i.isAuthenticated)()&&o.default.getLoginStatus()!==l.LoginStates.LOGGING_IN&&o.default.allowLogoutRedirect()?null!=t?s:c:a.createElement(e,n.passProps?r:null)}d.displayName="Authenticated("+(null!==(r=null!==(u=e.displayName)&&void 0!==u?u:e.name)&&void 0!==r?r:"<Unknown>")+")";return d};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(423046)),i=n(549186),u=s(n(744727)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=f(u.default,{}),p=f(u.default,{})},
190065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LOGIN_REQUIRED_ACTIONS_MODAL_KEY=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=p(n(939949)),i=p(n(177230)),u=n(194322),l=p(n(308920)),s=n(42031),d=p(n(970483)),f=n(770348),c=n(478036);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g="LOGIN_REQUIRED_ACTIONS_MODAL_KEY";t.LOGIN_REQUIRED_ACTIONS_MODAL_KEY=g;var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){a.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i._terminate=function(){a.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i.handleConnectionOpen=function(e){
var t=e.user;if(!s.ProcessArgs.isDisallowPopupsSet()){var a=d.default.requiredActionsIncludes(t.id,[f.LoginRequiredActions.UPDATE_PASSWORD]);d.default.wasLoginAttemptedInSession(t.id)&&a?(0,u.openModalLazy)(_(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,66272));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,y({},e,{onSuccess:function(){l.default.track(f.AnalyticEvents.FORCED_UPDATE_PASSWORD_SUCCEEDED);e.onClose()},onClose:function(){e.onClose();o.default.logout(f.Routes.LOGIN)},requirementsUpdated:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:g,onCloseRequest:c.NOOP_NULL,instant:!0}):a&&o.default.logout(f.Routes.LOGIN)}};i.__getLocalVars=function(){return{}};return t}(i.default));t.default=E},51108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.clearAuthSessions=function(){
a.default.dispatch({type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:[]})};t.fetchAuthSessions=function(){return c.apply(this,arguments)};t.logOutSessions=function(e){return p.apply(this,arguments)};var r=s(n(118915)),a=s(n(636602)),o=s(n(40856)),i=n(846542),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(){return(c=f(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:u.Endpoints.AUTH_SESSIONS});case 2:(null==(n=e.sent)?void 0:n.ok)&&null!=(null===(t=n.body)||void 0===t?void 0:t.user_sessions)&&a.default.dispatch({
type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:n.body.user_sessions});return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=f(regeneratorRuntime.mark((function e(t){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=7;break}if(0!==t.length){e.next=3;break}return e.abrupt("return");case 3:n=l.default.Messages.AUTH_SESSIONS_LOGOUT_MANY_PASSWORD_MODAL_TITLE.format({sessionCount:t.length});o=l.default.Messages.AUTH_SESSIONS_LOGOUT_MANY_MFA_MODAL_TITLE.format({sessionCount:t.length});e.next=10;break;case 7:n=l.default.Messages.AUTH_SESSIONS_LOGOUT_PASSWORD_MODAL_TITLE;o=l.default.Messages.AUTH_SESSIONS_LOGOUT_MFA_MODAL_TITLE;t=[t];case 10:e.next=12;return v({passwordTitle:n,mfaTitle:o,request:function(e,n){return r.default.post({url:u.Endpoints.AUTH_SESSIONS_LOGOUT,body:{session_id_hashes:t,password:e,code:n}})}});case 12:
(null==(i=e.sent)?void 0:i.ok)&&a.default.dispatch({type:"LOGOUT_AUTH_SESSIONS_SUCCESS",sessionIdHashes:t});return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.passwordTitle,n=e.mfaTitle,r=e.request;return(0,i.requestWithPassword)({title:t,actionText:l.default.Messages.NEXT},(function(e){return(0,o.default)((function(t){var n=t.code;return r(e,n)}),{modalProps:{title:n,actionText:l.default.Messages.NEXT,disallowBackupCodes:!0},checkEnabled:!0})}))}},846542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.requestWithPassword=function(e,t){var i=e.title,s=e.actionText;return new Promise((function(e){(0,a.openModalLazy)(d(regeneratorRuntime.mark((function a(){var d,f;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.resolve().then(n.bind(n,149342));case 2:d=a.sent;f=d.default;return a.abrupt("return",(function(n){var a=n.onClose,d=l(n,o)
;return r.createElement(f,u({},d,{title:i,actionText:s,handleSubmit:function(e){return t(e)},onClose:function(t){a();e(t)}}))}));case 5:case"end":return a.stop()}}),a)}))))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=["onClose"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}
function l(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},628571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f=[];function c(){f=[]}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSessions=function(){return f}
;n.__getLocalVars=function(){return{sessions:f}};return t}(r.default.Store);p.displayName="AuthSessionsStore";var v=new p(a.default,{LOGOUT:c,LOGIN_SUCCESS:c,FETCH_AUTH_SESSIONS_SUCCESS:function(e){var t=e.sessions;f=t.map((function(e){return d({},e,{approx_last_used_time:new Date(e.approx_last_used_time)})}))},LOGOUT_AUTH_SESSIONS_SUCCESS:function(e){for(var t,n=e.sessionIdHashes,r=u(f),a=!1,o=function(){var e=t.value,n=r.findIndex((function(t){return t.id_hash===e}));if(n>=0){r.splice(n,1);a=!0}},i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(t=i()).done;)o();if(!a)return!1;f=r}});t.default=v},
79030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.formatDate=function(e){if((Date.now()-e.valueOf())/1e3/60/60<1)return l.default.Messages.AUTH_SESSIONS_ACTIVE_RECENTLY;return(0,a.default)(e).fromNow()};t.useAuthSessions=function(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return u.default.getSessions()}));return r.useMemo((function(){var t,n=function(e){if(Array.isArray(e))return f(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=null,a=i.default.getAuthSessionIdHash();if(null!=a){var o=n.findIndex((function(e){return e.id_hash===a}));o>=0&&(r=n.splice(o,1)[0])}n.sort((function(e,t){return t.approx_last_used_time.valueOf()-e.approx_last_used_time.valueOf()}));return{currentSession:r,otherSessions:n}}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(730381)),o=n(536211),i=s(n(423046)),u=s(n(628571)),l=s(n(247001));function s(e){
return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},892057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchBlockedDomainList=function(){return f.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(332750)),i=u(n(9711));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(){
return o.default.getCurrentConfig({}).useUpdated?"https://cdn.discordapp.com/bad-domains/updated_hashes.json":"https://cdn.discordapp.com/bad-domains/hashes.json"}function f(){return(f=s(regeneratorRuntime.mark((function e(){var t,n,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.trackExposure({});e.next=3;return r.default.get({url:"https://cdn.discordapp.com/bad-domains/file_hash.txt"});case 3:if((t=e.sent).text===i.default.getCurrentFileHash()){e.next=10;break}e.next=7;return r.default.get({url:d()});case 7:n=e.sent;u=n.body;a.default.dispatch({type:"BLOCKED_DOMAIN_LIST_FETCHED",list:u,hash:t.text});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},694450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(177230))&&r.__esModule?r:{default:r},o=n(892057);function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}
var u=144e5,l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){setTimeout((function(){return(0,o.fetchBlockedDomainList)()}),1e4);this.intervalID=setInterval(o.fetchBlockedDomainList,u)};n._terminate=function(){clearInterval(this.intervalID)};n.__getLocalVars=function(){return{FETCH_INTERVAL:u}};return t}(a.default));t.default=l},871615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=void 0;t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}];t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=[{value:"all",label:"All"},{value:"canary",label:"Canary"},{
value:"ptb",label:"PTB"},{value:"stable",label:"Stable"},{value:"staging",label:"Staging"}]},322785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};var o={setCallChatToastsEnabled:function(e,t){a.default.dispatch({type:"CALL_CHAT_TOASTS_SET_ENABLED",channelId:e,toastsEnabled:t})}};t.default=o},316309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(177230)),a=f(n(796608)),o=f(n(27245)),i=f(n(919935)),u=f(n(663303)),l=f(n(387692)),s=f(n(487372)),d=n(179379);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack()),v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n._initialize=function(){o.default.addChangeListener(this.handleRingUpdate);i.default.addChangeListener(this.handleRingUpdate);u.default.addChangeListener(this.handleRingUpdate);l.default.addChangeListener(this.handleRingUpdate);a.default.addChangeListener(this.handleSoundpackUpdate)};n._terminate=function(){o.default.removeChangeListener(this.handleRingUpdate);i.default.removeChangeListener(this.handleRingUpdate);u.default.removeChangeListener(this.handleRingUpdate);l.default.removeChangeListener(this.handleRingUpdate);a.default.removeChangeListener(this.handleSoundpackUpdate)};n.handleSoundpackUpdate=function(){p.stop();p=(0,d.createSoundForPack)("call_calling",a.default.getSoundpack())};n.handleRingUpdate=function(){var e=o.default.getCalls().filter((function(e){return e.ringing.length>0&&l.default.getCurrentClientVoiceChannelId(null)===e.channelId})),t=l.default.getCurrentClientVoiceChannelId(null)
;!(null!=t&&s.default.countVoiceStatesForChannel(t)>=2)&&e.length>0&&!i.default.isSoundDisabled("call_calling")&&!u.default.disableSounds?p.loop():p.stop()};n.__getLocalVars=function(){return{ringingSound:p}};return t}(r.default));t.default=v},845607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelfStreamAndVideoAlertType=void 0;var n;t.SelfStreamAndVideoAlertType=n;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(n||(t.SelfStreamAndVideoAlertType=n={}))},235398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(177230)),a=i(n(893160)),o=i(n(825724));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
o.default.addChangeListener(this.handleFocusParticipant)};n._terminate=function(){o.default.removeChangeListener(this.handleFocusParticipant)};n.handleFocusParticipant=function(){var e=a.default.getChannelId();if(null!=e){var t,n,r=o.default.getSelectedParticipantId(e),i=o.default.getVideoParticipants(e);null===(t=a.default.getRTCConnection())||void 0===t||t.setSelectedParticipant(null===(n=i.find((function(e){return e.id===r&&!e.localVideoDisabled})))||void 0===n?void 0:n.id)}};n.__getLocalVars=function(){return{}};return t}(r.default));t.default=l},915502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(n)return a.default.Messages.CONSOLE_CONNECTING_DISABLED;if(t)return a.default.Messages.SERVER_DEAFENED_DIALOG_TITLE;return e?a.default.Messages.UNDEAFEN:a.default.Messages.DEAFEN};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},945926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e,t,n,r){if(r)return a.default.Messages.CONSOLE_CONNECTING_DISABLED;if(n)return a.default.Messages.SUPPRESSED;if(t)return a.default.Messages.SERVER_MUTED_DIALOG_TITLE;return e?a.default.Messages.UNMUTE:a.default.Messages.MUTE};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},66384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return i[e]};var r,a=n(859089),o=n(376293),i=Object.freeze(((r={})[a.ParticipantTypes.STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.HIDDEN_STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.USER]=o.MediaEngineContextTypes.DEFAULT,r[a.ParticipantTypes.ACTIVITY]=o.MediaEngineContextTypes.DEFAULT,r))},831566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getId()})),u=(0,r.useStateFromStores)([o.default],(function(){var t=o.default.getStreamForUser(n)
;return null!=t&&t.channelId===e}),[e,n]),l=(0,r.useStateFromStores)([o.default],(function(){return o.default.isSelfStreamHidden(e)}),[e]);return[(null==t||t===n)&&u,l,function(t){(0,a.toggleSelfStreamHidden)(e,t)}]};var r=n(536211),a=n(123516),o=u(n(607209)),i=u(n(423046));function u(e){return e&&e.__esModule?e:{default:e}}},25077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=u.MediaEngineContextTypes.DEFAULT);var n=(0,r.useStateFromStores)([o.default],(function(){return o.default.getId()})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.supports(u.Features.DISABLE_VIDEO)&&i.default.isVideoEnabled()})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.isLocalVideoDisabled(n,t)}),[n,t]);return[(null==e||e===n)&&(l||s),s,function(e){a.default.setDisableLocalVideo(n,e,t)}]};var r=n(536211),a=l(n(740207)),o=l(n(423046)),i=l(n(635014)),u=n(376293);function l(e){return e&&e.__esModule?e:{
default:e}}},190320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;_(n(667294));var r,a=y(n(284382)),o=_(n(145122)),i=y(n(989546)),u=y(n(197105)),l=y(n(793963)),s=y(n(441072)),d=y(n(16505)),f=y(n(815267)),c=n(770348),p=y(n(247001)),v=y(n(741937));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.onClose,n=e.renderOutputDevices,r=void 0!==n&&n,y=e.renderInputDevices,m=void 0!==y&&y,_=e.renderInputModes,g=void 0!==_&&_,E=e.renderInputVolume,S=void 0!==E&&E,O=e.renderOutputVolume,b=void 0!==O&&O,I=e.onSelect,T=(0,f.default)(),C=(0,s.default)(),A=(0,d.default)(),M=(0,i.default)(),N=(0,u.default)(),P=(0,l.default)();return h(a.default,{object:c.AnalyticsObjects.CONTEXT_MENU},void 0,h(o.default,{onSelect:I,className:v.default.menu,onClose:t,navId:"audio-device-context","aria-label":p.default.Messages.AUDIO_DEVICE_ACTIONS},void 0,m?h(o.MenuGroup,{
label:p.default.Messages.INPUT_DEVICE},void 0,C):null,r?h(o.MenuGroup,{label:p.default.Messages.OUTPUT_DEVICE},void 0,A):null,g?h(o.MenuGroup,{label:p.default.Messages.FORM_LABEL_INPUT_MODE},void 0,M):null,h(o.MenuGroup,{},void 0,S?N:null,b?P:null,T)))}g.displayName="AudioDeviceMenu"},803121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=xe(n(667294)),u=Ge(n(294184)),l=Ge(n(441143)),s=n(536211),d=n(923387),f=n(91817),c=Ge(n(636602)),p=Ge(n(229132)),v=n(378158),y=Ge(n(136873)),m=n(123516),_=Ge(n(929031)),h=Ge(n(989418)),g=Ge(n(284382)),E=Ge(n(673997)),S=xe(n(33273)),O=n(433383),b=Ge(n(303798)),I=Ge(n(198016)),T=Ge(n(804330)),C=Ge(n(170328)),A=Ge(n(954140)),M=n(844784),N=Ge(n(37039)),P=n(684769),R=Ge(n(904577)),w=Ge(n(970007)),D=Ge(n(552681)),L=n(747868),k=n(385753),j=xe(n(8475)),U=Ge(n(902305)),G=n(139982),F=Ge(n(915188)),x=Ge(n(610929)),B=n(205809),H=Ge(n(830900)),W=Ge(n(174508)),V=Ge(n(839166)),Y=Ge(n(828839)),K=Ge(n(531334)),z=Ge(n(625905)),$=Ge(n(134893)),q=Ge(n(48102)),X=Ge(n(430251)),Q=Ge(n(116790)),Z=n(146529),J=Ge(n(278851)),ee=Ge(n(336156)),te=Ge(n(866219)),ne=Ge(n(861891)),re=Ge(n(561603)),ae=Ge(n(928034)),oe=n(14219),ie=n(518180),ue=Ge(n(607209)),le=Ge(n(423046)),se=Ge(n(938199)),de=Ge(n(27245)),fe=Ge(n(30098)),ce=Ge(n(689389)),pe=Ge(n(191391)),ve=Ge(n(211136)),ye=Ge(n(728429)),me=Ge(n(387692)),_e=Ge(n(530250)),he=n(248685),ge=n(598671),Ee=Ge(n(308920)),Se=n(319986),Oe=n(956506),be=n(864489),Ie=n(518802),Te=Ge(n(922629)),Ce=n(245838),Ae=Ge(n(825724)),Me=Ge(n(66384)),Ne=xe(n(665597)),Pe=Ge(n(368464)),Re=Ge(n(789659)),we=Ge(n(310268)),De=Ge(n(326752)),Le=n(859089),ke=n(770348),je=Ge(n(247001)),Ue=Ge(n(661073))
;function Ge(e){return e&&e.__esModule?e:{default:e}}function Fe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Fe=function(e){return e?n:t})(e)}function xe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Fe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Be(){Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Be.apply(this,arguments)}function He(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function We(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){He(o,r,a,i,u,"next",e)}function u(e){He(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ye(e,t){Ye=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ye(e,t)}function Ke(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=((r={})[ke.ChannelLayouts.NORMAL]=Ue.default.normal,
r[ke.ChannelLayouts.MINIMUM]=Ue.default.minimum,r[ke.ChannelLayouts.NO_CHAT]=Ue.default.noChat,r[ke.ChannelLayouts.FULL_SCREEN]=Ue.default.fullScreen,r),Xe=((a={})[ke.AppContext.POPOUT]=Ue.default.popout,a[ke.AppContext.APP]=null,a[ke.AppContext.OVERLAY]=null,a);function Qe(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxHeight,o=ze(i.useState(null),2),u=o[0],l=o[1];i.useEffect((function(){var e,n;l(null!==(e=null===(n=t.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==e?e:null)}),[t]);return Ke("div",{onMouseDown:(0,S.default)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:S.ResizeOrientation.VERTICAL_BOTTOM}),className:Ue.default.resizeHandle})}Qe.displayName="ResizeHandle";var Ze=Ke(he.AppLayerContainer,{}),Je=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ye(e,t)}(t,e);function t(){
for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._prevLayout=ke.ChannelLayouts.MINIMUM;t._wrapperRef=i.createRef();t._contentRef=i.createRef();t._videoBackgroundTooltipTimeout=new f.Timeout;t._lastIdleProps=null;t.state={resizedHeight:W.default.callHeaderHeight};t.handleFullScreenChange=function(){var e=t.getRootNode();null!=e&&((0,Ce.isFullScreen)(e,t.currentDocument)||t.props.layout!==ke.ChannelLayouts.FULL_SCREEN||t.handleFullScreen())};t.handleFullScreen=function(){var e=t.getRootNode();if(null!=e)if(t.props.layout!==ke.ChannelLayouts.FULL_SCREEN){t._prevLayout=t.props.layout;t.handleChangeLayout(ke.ChannelLayouts.FULL_SCREEN);(0,Ce.requestFullScreen)(e)}else t.maybeLeaveFullScreen()};t.maybeLeaveFullScreen=function(){var e=t.getRootNode();if(null!=e&&t.props.layout===ke.ChannelLayouts.FULL_SCREEN){t.handleChangeLayout(t._prevLayout);(0,Ce.exitFullScreen)(e,t.currentDocument)}};t.handleToggleLayout=function(){
t.handleChangeLayout(t.props.layout===ke.ChannelLayouts.NORMAL?ke.ChannelLayouts.NO_CHAT:ke.ChannelLayouts.NORMAL)};t.handleChangeLayout=function(e){var n=t.props,r=n.channel,a=n.appContext;if(n.layout!==e){p.default.updateLayout(r.id,e,a);e===ke.ChannelLayouts.FULL_SCREEN&&r.isPrivate()&&Oe.ComponentDispatch.dispatch(ke.ComponentActions.TEXTAREA_BLUR)}};t.handleDisconnect=function(){t.props.layout===ke.ChannelLayouts.FULL_SCREEN&&t.handleFullScreen()};t.handleContextMenu=function(e,r){var a,o,u=t.props,s=u.channel,d=u.appContext,f=u.layout,c={onClose:function(){var e;return null===(e=t._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:d};null===(a=t._lastIdleProps)||void 0===a||a.onPreventIdle("menu");null===(o=t._lastIdleProps)||void 0===o||o.onActive();switch(e.type){case Le.ParticipantTypes.HIDDEN_STREAM:case Le.ParticipantTypes.STREAM:(0,v.openContextMenuLazy)(r,We(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){
for(;;)switch(r.prev=r.next){case 0:r.next=2;return n.e(96434).then(n.bind(n,596434));case 2:a=r.sent;o=a.default;return r.abrupt("return",(function(n){return i.createElement(o,Be({},n,{stream:e.stream,exitFullscreen:t.maybeLeaveFullScreen,appContext:d}))}));case 5:case"end":return r.stop()}}),r)}))),c);return;case Le.ParticipantTypes.USER:var p=ye.default.getUser(e.id);if(null!=p)switch(s.type){case ke.ChannelTypes.DM:return(0,v.openContextMenuLazy)(r,We(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,Be({},e,{showChannelCallItems:!0,showMediaItems:!0,user:p,channel:s,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),c);case ke.ChannelTypes.GROUP_DM:return(0,
v.openContextMenuLazy)(r,We(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,Be({},e,{showChannelCallItems:!0,showMediaItems:!0,showChatItems:f===ke.ChannelLayouts.MINIMUM||f===ke.ChannelLayouts.NORMAL,user:p,channel:s,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),c);case ke.ChannelTypes.GUILD_VOICE:var y=s.getGuildId();(0,l.default)(null!=y,"GuildID null for guild voice channel");return(0,v.openContextMenuLazy)(r,We(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,Be({},e,{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:p,channelId:s.id,guildId:y,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),c)}}};t.handleCallResize=function(e){t.setState({resizedHeight:e})};t.handleSelectParticipant=function(e,n){var r=t.props,a=r.channel,o=r.selectedParticipant,i=r.allActiveStreams,u=r.inCall,l=r.mode;if((0,Le.isStreamParticipant)(e)&&(0,k.canWatchStream)(a,me.default,fe.default,ce.default,R.default)[0]){y.default.selectVoiceChannel(a.id);0===i.filter((function(t){return(0,L.encodeStreamKey)(t)===e.id&&t.state!==ke.ApplicationStreamStates.ENDED})).length&&(0,m.watchStream)((0,L.decodeStreamKey)(e.id),{forceMultiple:n.shiftKey})}u&&l===ke.ChannelModes.VIDEO&&((null==o?void 0:o.id)===e.id?p.default.selectParticipant(a.id,null):p.default.selectParticipant(a.id,e.id))};t.handleOpenPopout=function(){var e=t.props,n=e.channel,r=function(){
var e=n.getGuildId();null!=e&&(0,G.transitionTo)((0,Se.previousTextChannelRouteForGuild)(e));j.openChannelCallPopout(n)};e.connectedToEmbeddedActivity?(0,T.default)(r):r()};t.handleStayOnTop=function(e){j.setAlwaysOnTop(ke.PopoutWindowKeys.CHANNEL_CALL_POPOUT,e)};t.handleClosePopout=function(){j.close(ke.PopoutWindowKeys.CHANNEL_CALL_POPOUT)};t.handleFullscreenParticipant=function(e,n){var r=t.props,a=r.layout,o=r.selectedParticipant,i=a===ke.ChannelLayouts.FULL_SCREEN;(!i&&(null==o?void 0:o.id)!==e.id||i&&(null==o?void 0:o.id)===e.id)&&t.handleSelectParticipant(e,n);t.handleFullScreen()};t.renderRegionSelect=function(){var e,n=t.props,r=n.call,a=n.channel,o=n.layout;t.inPopout||o===ke.ChannelLayouts.FULL_SCREEN||null==r||a.isManaged()||(e=Ke(h.default,{call:r}));return Ke(_e.default,{justify:_e.default.Justify.END},void 0,e)};t.renderBottomCenter=function(){var e=t.props,n=e.channel,r=e.mode,a=e.inCall,o=e.layout
;return a||o===ke.ChannelLayouts.MINIMUM||o===ke.ChannelLayouts.NORMAL?Ke(V.default,{exitFullScreen:t.maybeLeaveFullScreen,channel:n,mode:r,onDisconnectCall:t.handleDisconnect,idleProps:t._lastIdleProps}):null};t.renderBottomLeft=function(){var e=t.props,n=e.layout,r=e.mentionCount,a=e.channel,o=e.appContext,l=e.useNewInviteButton,s=e.selectedParticipant,d=e.soundboardEnabled;if(!e.inCall)return null;var f=n===ke.ChannelLayouts.NO_CHAT?Q.default.Directions.UP:Q.default.Directions.DOWN,c=[ke.ChannelLayouts.FULL_SCREEN,ke.ChannelLayouts.NO_CHAT].includes(n),p=n===ke.ChannelLayouts.FULL_SCREEN?function(){t._prevLayout=ke.ChannelLayouts.NORMAL;t.handleFullScreen()}:t.handleToggleLayout,v=t.viewProperties,y=v.canChangeLayout,m=v.canInvite,_=l?Ke(K.default,{channel:a,stream:(null==s?void 0:s.type)===Le.ParticipantTypes.STREAM?(0,L.decodeStreamKey)(s.id):void 0,applicationId:(null==s?void 0:s.type)===Le.ParticipantTypes.ACTIVITY?s.id:void 0,appContext:o,className:Ue.default.leftTrayIcon,
exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===ke.ChannelTypes.GUILD_VOICE?ke.AnalyticsPages.GUILD_CHANNEL:ke.AnalyticsPages.DM_CHANNEL}):Ke(ee.default,{channel:a,stream:(null==s?void 0:s.type)===Le.ParticipantTypes.STREAM?(0,L.decodeStreamKey)(s.id):void 0,appContext:o,className:Ue.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===ke.ChannelTypes.GUILD_VOICE?ke.AnalyticsPages.GUILD_CHANNEL:ke.AnalyticsPages.DM_CHANNEL});return i.createElement(i.Fragment,null,d&&o===ke.AppContext.POPOUT&&(0,x.default)(a)?Ke(H.default,{className:Ue.default.leftTrayIcon,channel:a}):null,m?_:null,y?Ke(_e.default,{className:Ue.default.iconWrapper,align:_e.default.Align.CENTER,grow:0},void 0,Ke(Q.default,{label:c?je.default.Messages.SHOW_CHAT:je.default.Messages.HIDE_CHAT,direction:f,className:Ue.default.leftTrayIcon,onClick:p}),c&&r>0?Ke(ge.NumberBadge,{className:Ue.default.badge,count:r
}):null):null,(null==s?void 0:s.type)===Le.ParticipantTypes.STREAM||(null==s?void 0:s.type)===Le.ParticipantTypes.ACTIVITY?Ke($.default,{},void 0,Ke(we.default,{className:(0,u.default)(Ue.default.leftTrayIcon,Ue.default.viewersButton),participant:s,maxVisibleUsers:4,guildId:a.getGuildId(),channelId:a.id,disableInteraction:t.inPopout||n===ke.ChannelLayouts.FULL_SCREEN})):null,Ke(D.default,{className:Ue.default.leftTrayIcon,channel:a}))};t.renderBottomRight=function(){var e=t.props,n=e.popoutWindow,r=e.popoutWindowAlwaysOnTop,a=e.currentUserId,o=e.selectedParticipant,u=t.viewProperties,l=u.canFullscreen,s=u.canStayOnTop,d=u.canPopout,f=u.useTheme;return i.createElement(i.Fragment,null,null!=o&&o.type!==Le.ParticipantTypes.ACTIVITY&&o.user.id!==a?Ke(re.default,{context:(0,Me.default)(o.type),userId:o.user.id,currentWindow:t.inPopout?null!=n?n:void 0:window,sliderClassName:Ue.default.volumeSlider}):null,s?Ke(ne.default,{className:Ue.default.rightTrayIcon,popoutWindowAlwaysOnTop:r,
onToggleStayOnTop:t.handleStayOnTop}):null,d?Ke(te.default,{themeable:f,popoutOpen:t.popoutOpen,className:Ue.default.rightTrayIcon,onOpenPopout:t.handleOpenPopout,onClosePopout:t.handleClosePopout}):null,l?Ke(J.default,{themeable:f,node:t.getRootNode(),guestWindow:n,className:Ue.default.rightTrayIcon,onClick:t.handleFullScreen}):null)};t.renderChatButton=function(e){var n=e.className,r=e.showingClassName,a=t.props,o=a.channel,i=a.chatOpen,u=a.inCall,l=a.textInVoiceInPopoutEnabled;return i||t.popoutOpen&&!t.inPopout&&u?null:Ke(Z.ChatButton,{channelId:o.id,className:n,showingClassName:r,disabled:!l&&t.inPopout,inPopout:!l&&t.inPopout})};t.renderChatToasts=function(){var e=t.props,n=e.showChatToasts,r=e.chatOpen,a=e.channel,o=e.inCall;return!n||r||t.popoutOpen&&!t.inPopout&&o?null:Ke(Ne.default,{},void 0,Ke(q.default,{className:Ue.default.chatToasts,channelId:a.id,inPopout:t.inPopout}))};t.renderVoiceChannelEffects=function(){var e=t.props,n=e.channel
;return e.voiceChannelEffectsEnabled?Ke(De.default,{channelId:n.id,guildId:n.getGuildId()}):null};t.renderHeader=function(){var e=t.props,n=e.renderExternalHeader,r=e.channel,a=e.guild,o=e.appContext,i=e.layout,u=e.chatOpen,l=e.inCall,s=t.viewProperties,d=s.useExternalHeader,f=s.canSelectRegion,c=s.renderHeader,p=i===ke.ChannelLayouts.FULL_SCREEN;return c?Ke($.default,{},void 0,Ke("div",{className:Ue.default.headerWrapper},void 0,d?null==n?void 0:n():Ke(Re.default,{channel:r,guild:a,appContext:o,inCall:l,inPopout:t.inPopout,isFullScreen:p,isChatOpen:u||t.popoutOpen&&!t.inPopout&&l,exitFullScreen:t.maybeLeaveFullScreen})),f?t.renderRegionSelect():null):null};return t}var r=t.prototype;r.getRootNode=function(){var e,t;return(null!==(e=null===(t=this.props.popoutWindow)||void 0===t?void 0:t.window)&&void 0!==e?e:window).document.getElementById("app-mount")};r.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout
;this.currentDocument.addEventListener(Ce.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);Ee.default.track(ke.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,Be({video_layout:this.inPopout?"popout":n},(0,M.collectVoiceAnalyticsMetadata)(t.id)))};r.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop();this.currentDocument.removeEventListener(Ce.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);this.inPopout&&(0,be.isOSX)()||this.maybeLeaveFullScreen()};r.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,a=n.inCall,o=n.mode,i=n.layout,u=this.getRootNode();null!=u&&e.mode===ke.ChannelModes.VIDEO&&o===ke.ChannelModes.VOICE&&(0,Ce.isFullScreen)(u,this.currentDocument)&&(0,Ce.exitFullScreen)(u,this.currentDocument);if(e.participantsOpen!==r||i!==e.layout){var l;null===(l=this._contentRef.current)||void 0===l||l.triggerResize()}e.inCall&&!a&&this.inPopout&&c.default.wait((function(){return t.handleClosePopout()}))};r.renderContent=function(e){
var t=this.props,n=t.selectedParticipant,r=t.inCall,a=t.hasConnectPermission,o=t.mode,u=t.popoutWindow,l=t.participantsOpen,s=t.participants,d=t.filteredParticipants,f=t.participantsVersion,c=t.channel,p=t.guild,v=t.layout,y=t.textInVoiceEnabled,m=t.forceShowControls,_=v===ke.ChannelLayouts.MINIMUM,h=_||v===ke.ChannelLayouts.NORMAL,g=r&&o===ke.ChannelModes.VIDEO,E=c.isGuildVoice()&&y;this._lastIdleProps=e;return i.createElement(X.default,Be({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:E?this.renderChatButton:void 0,renderChatToasts:E?this.renderChatToasts:void 0,renderVoiceChannelEffects:this.renderVoiceChannelEffects},e,{screenMessage:this.screenMessage,disableGradients:_,idle:!m&&r&&!_&&e.idle}),r&&this.popoutOpen&&!this.inPopout?null:i.createElement(Y.default,{ref:this._contentRef,inCall:r,paused:this.paused,channel:c,hasConnectPermission:a,guild:p,
participants:s,filteredParticipants:d,participantsVersion:f,selectedParticipant:g?n:null,layout:v,idle:e.idle,mode:o,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:l&&!h,popoutWindow:this.inPopout?u:null}))};r.render=function(){var e,t,n=this,r=this.props,a=r.layout,o=r.channel,l=r.guild,s=r.mode,d=r.chatOpen,f=r.appContext,c=r.width,p=r.maxHeight,v=r.inCall,y=this.state.resizedHeight,m=s===ke.ChannelModes.VIDEO,_=c-550,h=a!==ke.ChannelLayouts.NO_CHAT&&a!==ke.ChannelLayouts.FULL_SCREEN&&null!=p;return i.createElement("div",{className:(0,u.default)(Ue.default.wrapper,qe[a],Xe[f],(e={},e[Ue.default.poppedOut]=this.popoutOpen&&!this.inPopout&&a!==ke.ChannelLayouts.NO_CHAT&&o.isPrivate(),e[Ue.default.video]=m,e[Ue.default.chatSidebarOpen]=d,e)),ref:function(e){n._wrapperRef.current=e;n.props.wrapperRef.current=e},style:h&&null!=y?{minHeight:200,maxHeight:p,height:y}:void 0},Ke("div",{className:(0,
u.default)(Ue.default.callContainer,(t={},t[(0,Ie.getThemeClass)(ke.ThemeTypes.DARK)]=m,t))},void 0,Ke(z.default,{timeout:2e3},void 0,(function(e){return n.viewProperties.usePositionLayer?Ke(he.AppLayerProvider,{},void 0,n.renderContent(e),Ze):n.renderContent(e)}))),h&&Ke(Qe,{maxHeight:p,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),d&&(!v||!this.popoutOpen||this.inPopout)&&Ke(Pe.default,{channel:o,guild:l,maxWidth:_}))};!function(e,t,n){t&&Ve(e.prototype,t);n&&Ve(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"nativePopoutSupported",get:function(){return be.isPlatformEmbedded&&Te.default.supportsFeature(ke.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!be.isPlatformEmbedded||this.nativePopoutSupported}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow
;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:je.default.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){return this.props.appContext===ke.AppContext.POPOUT}},{key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,a=e.inCall,o=n===ke.ChannelModes.VIDEO&&a&&!(this.popoutOpen&&!this.inPopout),i=n===ke.ChannelModes.VIDEO&&a&&!this.inPopout&&this.popoutSupported,u=n!==ke.ChannelModes.VOICE&&r.isPrivate()&&!this.inPopout&&a,l=r.type===ke.ChannelTypes.GUILD_VOICE,s=t===ke.ChannelLayouts.MINIMUM||t===ke.ChannelLayouts.NORMAL,d=this.inPopout&&this.nativePopoutSupported,f={renderHeader:!0,useTheme:!1,usePositionLayer:!1,useExternalHeader:s,canInvite:l,canPopout:i,canFullscreen:o,canSelectRegion:r.isPrivate(),canChangeLayout:u,canStayOnTop:d}
;if(!a)return Be({},f,{canFullscreen:o,useTheme:!0});switch(t){case ke.ChannelLayouts.FULL_SCREEN:return Be({},f,{canPopout:!this.inPopout&&this.popoutOpen&&f.canPopout,usePositionLayer:!0});case ke.ChannelLayouts.MINIMUM:return Be({},f,{canPopout:!1});case ke.ChannelLayouts.NO_CHAT:case ke.ChannelLayouts.NORMAL:return Be({},f)}}}]);return t}(i.PureComponent);Je.displayName="ChannelCall";var et=Ke(Ne.ChannelCallChatLayerContainer,{});function tt(e){var t,n=e.channel,r=e.renderExternalHeader,a=e.maxHeight,o=(0,E.default)(),u=o.width,l=void 0===u?0:u,f=o.ref,c=(0,O.useAppContext)(),p=(0,w.default)(),v=(0,s.useStateFromStores)([ve.default],(function(){var e;return(null!==(e=null==p?void 0:p.channelId)&&void 0!==e?e:ve.default.getVoiceChannelId())===n.id})),y=(0,s.useStateFromStoresObject)([Ae.default],(function(){var e=c===ke.AppContext.POPOUT,t=Ae.default.getMode(n.id);e&&(t=ke.ChannelModes.VIDEO);var r=t===ke.ChannelModes.VIDEO?Ae.default.getLayout(n.id,c):ke.ChannelLayouts.MINIMUM
;e&&r!==ke.ChannelLayouts.FULL_SCREEN&&(r=ke.ChannelLayouts.NO_CHAT);return{mode:t,layout:r,selectedParticipant:t!==ke.ChannelModes.VOICE?Ae.default.getSelectedParticipant(n.id):null,participants:Ae.default.getParticipants(n.id),filteredParticipants:Ae.default.getFilteredParticipants(n.id),participantsOpen:Ae.default.getParticipantsOpen(n.id),chatOpen:Ae.default.getChatOpen(n.id),participantsVersion:Ae.default.getParticipantsVersion(n.id)}}),[n.id,n.type,v]),m=y.participants,h=y.filteredParticipants,S=y.participantsVersion,T=y.mode,M=y.layout,R=y.participantsOpen,D=y.chatOpen,L=y.selectedParticipant,k=(0,s.useStateFromStoresArray)([ue.default],(function(){return ue.default.getAllActiveStreams()})),j=(0,s.useStateFromStoresObject)([ue.default],(function(){return{selectedStream:null!=L?ue.default.getActiveStreamForStreamKey(L.id):null}}),[L]).selectedStream,G=(0,s.useStateFromStores)([fe.default],(function(){return fe.default.getGuild(n.getGuildId())})),x=(0,
s.useStateFromStores)([de.default],(function(){return de.default.getCall(n.id)}),[n.id]),H=(0,s.useStateFromStores)([pe.default],(function(){return pe.default.getMentionCount(n.id)}),[n.id]),V=(0,s.useStateFromStores)([le.default],(function(){return le.default.getId()})),Y=(0,s.useStateFromStoresObject)([U.default],(function(){return{popoutWindow:U.default.getWindow(ke.PopoutWindowKeys.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:U.default.getIsAlwaysOnTop(ke.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}})),K=Y.popoutWindow,z=Y.popoutWindowAlwaysOnTop,$=(0,s.useStateFromStores)([ce.default],(function(){return ce.default.can(ke.Permissions.CONNECT,n)})),q=(0,s.useStateFromStores)([se.default],(function(){return se.default.getToastsEnabled(n.id)})),X=(0,s.useStateFromStores)([W.default],(function(){return W.default.callHeaderHeight})),Q=i.useCallback((function(e){_.default.updatedUnsyncedSettings({callHeaderHeight:e})}),[]),Z=null!==(t=null==G?void 0:G.id)&&void 0!==t?t:null,J=(0,
I.default)(Z),ee=(0,s.useStateFromStores)([b.default],(function(){return null!=b.default.getSelfEmbeddedActivityForChannel(n.id)}),[n]);(0,C.default)();var te=ae.default.useExperiment({guildId:n.guild_id}).enabled;i.useEffect((function(){var e=!1,t=null,n=function(){var n=We(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!v||T!==ke.ChannelModes.VIDEO){n.next=5;break}n.next=3;return Te.default.blockDisplaySleep();case 3:t=n.sent;e&&null!=t&&Te.default.unblockDisplaySleep(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n();return function(){null!=t?Te.default.unblockDisplaySleep(t):e=!0}}),[v,T]);var ne=F.default.useExperiment({guildId:null!=Z?Z:""},{autoTrackExposure:!0}).allowSoundboard,re=(0,B.useIsSoundboardSupported)(),ye=(0,ie.useIsTextInVoiceEnabled)(Z),me=oe.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!=Z?Z:""}).isEnabled,_e=(0,
P.useIsContentShown)(d.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK);return Ke((0,N.default)(A.default.CHANNEL_CALL).AnalyticsLocationProvider,{},void 0,Ke(g.default,{page:ke.AnalyticsPages.CHANNEL_CALL},void 0,Ke(Ne.ChannelCallChatLayerProvider,{},void 0,Ke(Je,{channel:n,guild:G,hasConnectPermission:$,participantsOpen:R,renderExternalHeader:r,appContext:c,call:x,popoutWindow:K,popoutWindowAlwaysOnTop:z,mentionCount:H,selectedStream:j,mode:T,inCall:v,participants:m,filteredParticipants:h,participantsVersion:S,layout:M,chatOpen:D,soundboardEnabled:ne&&re,currentUserId:V,selectedParticipant:L,allActiveStreams:k,useNewInviteButton:J,connectedToEmbeddedActivity:ee,showChatToasts:q,storedCallHeaderHeight:X,updateStoredCallHeaderHeight:Q,wrapperRef:f,width:l,maxHeight:a,textInVoiceEnabled:ye,textInVoiceInPopoutEnabled:me,forceShowControls:_e,voiceChannelEffectsEnabled:te}),et)))}tt.displayName="ChannelCallConnected";var nt=tt;t.default=nt},665597:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ChannelCallChatLayerProvider=t.ChannelCallChatLayerContainer=void 0;var r=(0,n(933503).createLayer)("ChannelCallChat"),a=r.Layer,o=r.LayerContainer,i=r.LayerProvider,u=o;t.ChannelCallChatLayerContainer=u;var l=i;t.ChannelCallChatLayerProvider=l;var s=a;t.default=s},368464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(923387),i=O(n(229132)),u=O(n(914789)),l=I(n(174851)),s=O(n(805918)),d=n(573285),f=n(203847),c=n(687549),p=O(n(37985)),v=O(n(259530)),y=O(n(878556)),m=n(956506),_=O(n(665597)),h=n(770348),g=n(583551),E=O(n(247001)),S=O(n(974290));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){var t=e.channel,n=e.guild,r=e.maxWidth;a.useEffect((function(){(0,f.markDismissibleContentAsDismissed)(o.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:g.ContentDismissActionType.AUTO})}),[])
;var O=a.useCallback((function(){i.default.updateChatOpen(t.id,!1);m.ComponentDispatch.safeDispatch(h.ComponentActions.FOCUS_CHAT_BUTTON)}),[t.id]),b=T(y.default.Icon,{icon:v.default,tooltip:E.default.Messages.CLOSE,onClick:O});return T(l.default,{sidebarType:l.ChatSidebarType.CallChatSidebar,maxWidth:r,floatingLayer:_.default},void 0,T(s.default,{channel:t,draftType:c.DraftType.ChannelMessage}),T(y.default,{toolbar:b,"aria-label":E.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,T(y.default.Icon,{icon:p.default,disabled:!0,"aria-label":E.default.Messages.VOICE_CHAT_TEXT_CHANNEL}),T(y.default.Title,{},void 0,t.name)),T("div",{className:S.default.chat},void 0,T(u.default,{channel:t,guild:n,chatInputType:d.ChatInputTypes.SIDEBAR},t.id)))}C.displayName="ChannelCallChatSidebar";var A=C;t.default=A},789659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F
;var r,a=N(n(667294)),o=n(536211),i=N(n(538930)),u=A(n(411018)),l=A(n(469487)),s=A(n(678928)),d=A(n(786661)),f=n(902399),c=A(n(891036)),p=n(451115),v=A(n(116780)),y=A(n(562475)),m=n(645758),_=A(n(878556)),h=n(864489),g=n(518802),E=A(n(922629)),S=A(n(825724)),O=A(n(156511)),b=n(859089),I=n(478036),T=A(n(247001)),C=A(n(34973));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}function k(){return j.apply(this,arguments)}function j(){return(j=L(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.isOSX)()||!h.isPlatformEmbedded){e.next=14;break}e.next=3
;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?E.default.minimize():"Maximize"===a&&E.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t=e.user,n=e.channel,r=e.stream,o=(0,v.default)(n,t,r);return null==t||null==r?null:a.createElement(a.Fragment,null,w(i.default,{className:C.default.avatar,size:i.Sizes.SIZE_24,user:t,animate:!1}),w(m.Text,{className:C.default.playingText,variant:"text-md/normal",color:"none"},void 0,o))}function G(e){var t,n=e.focusedApplication,r=e.focusedParticipant,o=e.channel,i=(0,f.useActiveEvent)(o.id),l=null!=i;if((null==r?void 0:r.type)===b.ParticipantTypes.ACTIVITY)null!=n&&(t=a.createElement(a.Fragment,null,w(_.default.Divider,{className:C.default.divider
}),w(y.default,{game:n,className:C.default.activityIcon}),w(m.Text,{className:C.default.playingText,variant:"text-md/normal",color:"none"},void 0,(0,u.default)(n.name))));else if((null==r?void 0:r.type)===b.ParticipantTypes.STREAM){var s=r.user,d=r.stream;t=a.createElement(a.Fragment,null,w(_.default.Divider,{className:C.default.divider}),w(U,{user:s,channel:o,stream:d}))}else l&&(t=w(c.default,{guildEvent:i}));return w("div",{className:C.default.container},void 0,t)}G.displayName="ChannelTitle";function F(e){var t=e.channel,n=e.guild,r=e.appContext,a=e.inCall,i=e.inPopout,u=e.isFullScreen,f=e.isChatOpen,c=e.exitFullScreen,v=(0,o.useStateFromStoresObject)([S.default],(function(){return{focusedParticipant:S.default.getSelectedParticipant(t.id),participantsOpen:S.default.getParticipantsOpen(t.id)}}),[t.id]).focusedParticipant,y=(0,s.default)(t),m=(0,d.default)(t),h=P((0,l.default)((null==v?void 0:v.type)===b.ParticipantTypes.ACTIVITY?[v.id]:[]),1)[0],E=T.default.Messages.VOICE_CHANNEL
;t.isDM()?E=T.default.Messages.DM:t.isGroupDM()&&(E=T.default.Messages.GROUP_DM);return w(_.default,{onDoubleClick:k,transparent:!0,className:(0,g.getThemeClass)(I.ThemeTypes.DARK),toolbar:w(O.default,{channel:t,appContext:r,inCall:a,inPopout:i,isFullScreen:u,isChatOpen:f,exitFullScreen:c})},void 0,null!=m?w(_.default.Icon,{icon:m,disabled:!0,"aria-label":E}):null,w(_.default.Title,{},void 0,y),w(p.HeaderGuildBreadcrumb,{channel:t,guild:n}),w(G,{focusedApplication:h,focusedParticipant:v,channel:t}))}F.displayName="ChannelCallHeader"},156511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.appContext,r=e.inCall,o=e.inPopout,i=e.isFullScreen,d=e.isChatOpen,E=e.exitFullScreen,O=t.id,I=(0,u.useStateFromStoresObject)([C.default],(function(){return{selectedParticipant:C.default.getSelectedParticipant(O),voiceParticipantsHidden:C.default.getVoiceParticipantsHidden(O),userParticipantCount:C.default.getUserParticipantCount(O)}
}),[t.id]),P=I.voiceParticipantsHidden,w=I.selectedParticipant,D=I.userParticipantCount,U=(0,g.useIsTextInVoiceEnabled)(t.guild_id),G=(0,c.usePreventIdle)("popup"),F=G.preventIdle,x=G.allowIdle,B=[];P&&B.push(L(j,{channelId:O,guildId:t.guild_id},"current-speaker"));if((null==w?void 0:w.type)===N.ParticipantTypes.STREAM){B.push(L(f.default,{className:R.default.button,participant:w},"warning"));B.push(L(l.default,{size:T.default.Sizes.LARGE,className:R.default.button,participant:w,showQuality:!0},"live-indicator"))}var H=L(p.default,{},void 0,L(M.default,{channel:t}));P&&B.push(L(S.default,{position:S.default.Positions.BOTTOM,renderPopout:function(){return H}},"call-members-popout",(function(e,t){var n=t.isShown;return a.createElement(_.default,k({},e,{active:n,count:D,key:"call-members",className:R.default.button}))})));r&&B.push(null!=w?L(m.default,{className:R.default.button,channelId:O},"deselect-participant"):L(h.default,{className:R.default.button,channelId:O,isHorizontal:U
},"select-participant"));U&&B.push(L(s.default,{onOpen:F,onClose:x,className:R.default.button},"recents"));B.push(L(S.default,{position:S.default.Positions.BOTTOM,renderPopout:function(e){var t=e.closePopout;return L(p.default,{},void 0,L(A.default,{channelId:O,onClose:t,appContext:n,exitFullScreen:E}))}},"more-options-popout",(function(e,t){var n=t.isShown;return a.createElement(y.default,k({},e,{key:"more-options",active:n,className:R.default.lastButton}))})));if(U){if(!d){B.push(L(b.default.Divider,{className:R.default.divider},"divider"));B.push(L(v.ChatButtonWithNUX,{channelId:t.id,className:R.default.chatButtonSpacer,disabled:!0}))}}else if(!o&&!i){B.push(L(b.default.Divider,{className:R.default.divider},"divider"));B.push(L(s.default,{className:R.default.button,onOpen:F,onClose:x},"recents"))}return a.createElement(a.Fragment,null,B)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=w(n(496486)),u=n(536211),l=w(n(57697)),s=w(n(386195)),d=w(n(183612)),f=w(n(697252)),c=n(134893),p=w(n(222935)),v=n(146529),y=w(n(928221)),m=w(n(56396)),_=w(n(975577)),h=w(n(727012)),g=n(518180),E=w(n(397228)),S=w(n(160629)),O=w(n(730977)),b=w(n(878556)),I=w(n(528739)),T=w(n(528175)),C=w(n(825724)),A=w(n(948861)),M=w(n(252986)),N=n(859089),P=w(n(247001)),R=w(n(942751));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e){var t=e.channelId,n=e.guildId,r=Date.now(),l=(0,u.useStateFromStores)([E.default,C.default],(function(){return(0,i.default)(E.default.getSpeakers()).map((function(e){return C.default.getParticipant(t,e)})).filter((function(e){return null!=e&&e.type===N.ParticipantTypes.USER&&!(0,d.default)(e)&&e.speaking})).sortBy((function(e){return-E.default.getSpeakingDuration(e.user.id,r)})).slice(0,3).value()}))
;return 0===l.length?null:a.createElement(a.Fragment,null,l.map((function(e,t){return L(O.default,{position:O.default.Positions.BOTTOM,color:O.default.Colors.GREY,text:P.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username})},e.id,(function(r){var i;return a.createElement(I.default,k({},r,{className:(0,o.default)(R.default.speaker,(i={},i[R.default.last]=t===l.length-1,i)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}))})))}},121791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(636602)),a=c(n(740207)),o=c(n(177230)),i=c(n(902305)),u=c(n(635014)),l=c(n(834162)),s=c(n(949898)),d=n(770348),f=n(376293);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){
if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=new Set,_=new Set,h=null;function g(){for(var e,t=v(m);!(e=t()).done;){var n=e.value;a.default.setDisableLocalVideo(n,!1,f.MediaEngineContextTypes.DEFAULT,!1)}_.clear();m.clear()}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowFocus=function(e){e.focused&&g()};t.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==h){g();h=t}};t.handlePopoutChange=function(){i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&g()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);r.default.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);r.default.subscribe("WINDOW_FOCUS",this.handleWindowFocus);r.default.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);i.default.addChangeListener(this.handlePopoutChange)};n._terminate=function(){r.default.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);r.default.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);r.default.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus)
;r.default.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);i.default.removeChangeListener(this.handlePopoutChange);g();h=null};n.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===f.MediaEngineContextTypes.DEFAULT&&null!=r){var o=null!=l.default.getCurrentGame(),c=s.default.isFocused(),p=i.default.getWindowFocused(d.PopoutWindowKeys.CHANNEL_CALL_POPOUT),v=u.default.isLocalVideoDisabled(t,n),y=_.has(t);if(o&&!c&&!p&&!v&&!y){m.add(t);a.default.setDisableLocalVideo(t,!0,n,!1)}}};n.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){_.add(t);m.delete(t)}};n.__getLocalVars=function(){return{tempVideoMutes:m,manualOverrides:_,currentVoiceChannelId:h}};return t}(o.default));t.default=E},948861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;m(n(667294))
;var r,a=n(536211),o=m(n(145122)),i=v(n(825724)),u=v(n(856015)),l=v(n(48712)),s=v(n(845442)),d=v(n(681064)),f=v(n(630601)),c=n(859089),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channelId,n=e.onClose,r=e.appContext,v=e.exitFullScreen,y=e.onSelect,m=(0,a.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipant(t)})),h=(null==m?void 0:m.type)===c.ParticipantTypes.STREAM?m.stream:null;return _(o.default,{navId:"channel-call-overflow-popout",style:o.MenuStyle.FLEXIBLE,onClose:n,"aria-label":p.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:y},void 0,(0,u.default)(t),(0,s.default)(),(0,l.default)(t),(0,f.default)(t),(0,d.default)(h,r,v))}h.displayName="ChannelCallOverflowMenu"},252986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(692244)),i=c(n(487372)),u=n(645758),l=c(n(582945)),s=n(770348),d=c(n(247001)),f=c(n(498082));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.channel,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getVoiceStatesForChannel(t)}));return v("div",{className:f.default.root},void 0,v(u.Text,{variant:"text-xs/normal",className:f.default.header},void 0,d.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})),v(l.default,{className:f.default.scroller},void 0,v(o.default,{allowDragging:!1,allowPreviews:!1,className:f.default.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:s.AnalyticsLocations.CHANNEL_CALL})))}y.displayName="ChannelCallParticipantsPopout"},297452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=H(n(294184)),i=n(248088),u=n(536211),l=H(n(88500)),s=H(n(72690)),d=H(n(136873)),f=H(n(61689)),c=n(460784),p=H(n(678928)),v=n(139982),y=n(659022),m=n(700192),_=H(n(712594)),h=H(n(373115)),g=H(n(770404)),E=H(n(493051)),S=n(143414),O=H(n(643779)),b=H(n(645675)),I=H(n(635014)),T=H(n(728429)),C=H(n(949898)),A=H(n(956117)),M=H(n(160629)),N=H(n(80828)),P=n(645758),R=H(n(259530)),w=H(n(57754)),D=n(518802),L=H(n(825724)),k=H(n(932018)),j=n(770348),U=n(942675),G=n(376293),F=H(n(247001)),x=H(n(299005)),B=H(n(480798));function H(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function V(){V=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return V.apply(this,arguments)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $={width:232,height:315},q={width:232,height:267},X=475,Q=267,Z=z(N.default,{});function J(e){var t=e.header,n=I.default.getCameraComponent(),r=(0,u.useStateFromStores)([I.default],(function(){return I.default.getVideoDeviceId()})),o=(0,_.default)();a.useEffect((function(){
var e=T.default.getCurrentUser();if(o&&null!=e){var t=(0,y.getLastUsedVideoBackgroundOption)(e);(0,m.applyBackgroundOptionPreview)(t,r,{track:!1}).catch(j.NOOP)}}),[o,r]);return z("div",{className:x.default.previewRoot},void 0,Z,z("div",{className:x.default.preview},void 0,z(n,{disabled:!1,deviceId:r,width:X,height:Q})),z("div",{className:x.default.previewChannelHeader},void 0,t))}J.displayName="CameraPreview";function ee(e){var t=e.canVideo,n=e.channel,r=e.numVideoDevices,a=(0,h.default)(),i=a.cameraUnavailable,u=a.enabled,s=(0,g.default)(n);return z("div",{className:x.default.actions},void 0,z(S.CenterControlButton,{iconComponent:R.default,color:"red",className:x.default.actionButton,label:F.default.Messages.DISMISS,onClick:function(){return l.default.stopRinging(n.id)}}),t&&z(M.default,{renderPopout:function(e){var t=e.closePopout;return z(k.default,{onClose:t})},position:M.default.Positions.TOP,align:M.default.Align.CENTER,animation:M.default.Animation.FADE},void 0,(function(e,t){
var a=e.onClick,o=t.isShown;return z(b.default,{join:!0,enabled:u,color:"green",centerButton:!0,hasPermission:s,cameraUnavailable:i,channel:n,onPopoutClick:r>1?a:null,className:x.default.actionButton,popoutOpen:o,onCameraUnavailable:E.default,onChange:function(){d.default.selectVoiceChannel(n.id,!0);(0,v.transitionToGuild)(j.ME,n.id)}})})),z(O.default,{channel:n,color:"green",centerButton:!0,className:(0,o.default)(x.default.actionButton,x.default.last),onClick:function(){return d.default.selectVoiceChannel(n.id)}}))}ee.displayName="CallActionButtons";function te(e){var t,n=e.animatedStyle,r=e.y,d=e.x,v=e.channel,y=Y(a.useState(!1),2),m=y[0],_=y[1],h=(0,c.getChannelIconURL)(v),g=(0,p.default)(v),E=Y((0,u.useStateFromStoresArray)([I.default],(function(){return[I.default.supports(G.Features.VIDEO),Object.keys(I.default.getVideoDevices()).length]})),2),S=E[0],O=E[1],b=(0,u.useStateFromStores)([C.default],(function(){return C.default.isFocused()})),T=(0,
u.useStateFromStores)([L.default],(function(){return L.default.getMode(v.id)})),M=a.useCallback((function(e){null!=e.top&&null!=e.left&&s.default.move(e.left,e.top)}),[]),N=(0,i.useSpring)({value:m?1:0,config:V({},i.config.stiff,{clamp:!0})});a.useEffect((function(){var e=function(e){e.keyCode===j.KeyboardKeys.ESCAPE&&l.default.stopRinging(v.id)};window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[v]);var R=T===j.ChannelModes.VIDEO&&S&&O>0,k=a.createElement(a.Fragment,null,z(w.default,{className:x.default.icon,ringing:b,src:null!=h?h:"",ringingType:w.default.RingingType.INCOMING,size:m?U.Sizes.SIZE_40:U.Sizes.SIZE_80}),z("div",{className:x.default.titleGroup},void 0,z(P.Text,{className:x.default.title,color:"header-primary",variant:m?"text-md/semibold":"text-lg/semibold"},void 0,g),z(P.Text,{color:"header-secondary",className:x.default.subtitle,variant:m?"text-sm/normal":"text-md/normal"
},void 0,T===j.ChannelModes.VOICE?F.default.Messages.INCOMING_CALL_ELLIPSIS:F.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS))),H=R?$:q;return z(f.default,{className:x.default.wrapper,selector:"."+x.default.root,initialPosition:{left:d,top:r},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:M,dragAnywhere:!0},void 0,a.createElement(a.Fragment,null,z(i.animated.div,{className:(0,o.default)(x.default.root,B.default.elevationHigh,(t={},t[x.default.previewCamera]=m,t),m?(0,D.getThemeClass)("dark"):null),style:V({},n,{width:N.value.interpolate([0,1],[H.width,X]),minHeight:N.value.interpolate([0,1],[H.height,Q]),translateX:N.value.interpolate([0,1],[0,-1*Math.abs(X-H.width)/2])})},void 0,m?z(J,{header:k}):z("div",{className:x.default.mainChannelInfo},void 0,k),z(ee,{canVideo:R,channel:v,numVideoDevices:O}),R&&!m?z(A.default,{size:A.default.Sizes.SMALL,fullWidth:!0,look:A.default.Looks.LINK,color:A.default.Colors.PRIMARY,className:x.default.previewButton,onClick:function(){return _(!0)
}},void 0,F.default.Messages.INCOMING_CALL_PREVIEW_CAMERA):null)))}te.displayName="IncomingCallModal"},310268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=n(536211),l=n(91817),s=n(378158),d=A(n(762921)),f=A(n(284382)),c=A(n(607209)),p=A(n(728429)),v=A(n(265851)),y=n(772575),m=A(n(160629)),_=n(730977),h=A(n(268478)),g=A(n(628551)),E=A(n(582945)),S=n(71246),O=A(n(29652)),b=n(859089),I=n(770348),T=A(n(247001)),C=A(n(168088));function A(e){
return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){switch(e){case b.ParticipantTypes.ACTIVITY:return T.default.Messages.EMBEDDED_ACTIVITIES_NUM_PARTICIPANTS.format({numUsers:t});case b.ParticipantTypes.STREAM:return T.default.Messages.SPECTATORS.format({numViewers:t});default:throw new Error("Unknown participant type.")}}function j(e){var t=e.users,n=e.disableInteraction,r=e.guildId,a=e.participantType,i=e.channelId,u=e.handleUserContextMenu,l=k(a,t.length);return L(v.default,{"aria-label":l,className:C.default.popoutWrapper},void 0,L(E.default,{className:C.default.scroller},void 0,L(y.Heading,{variant:"heading-sm/medium",className:C.default.memberListHeader,level:3},void 0,l),L("div",{},void 0,t.map((function(e){var t;return L(d.default,{guildId:null!=r?r:void 0,className:(0,o.default)(C.default.memberListItem,(t={},t[C.default.popoutDisabled]=n,t)),
textClassName:C.default.memberListItemText,user:e,disablePopout:n,nick:O.default.getNickname(r,i,e),onContextMenu:function(t){return n?null:u(t,e)}},e.id)})))))}j.displayName="PopoutList";function U(e){var t=e.users,n=e.guildId,r=e.channelId,a=e.maxVisibleUsers,i=void 0===a?3:a,u=e.className,l=k(e.participantType,t.length),s=t.length<i?t.map((function(e){return L("div",{className:C.default.viewersTooltipItem},e.id,O.default.getName(n,r,e))})):l;return L(_.TooltipContainer,{text:s,"aria-label":l},void 0,L("div",{className:(0,o.default)(C.default.viewers,u)},void 0,L(h.default,{className:C.default.viewersIcon}),L("span",{"aria-hidden":"true"},void 0,t.length)))}U.displayName="CompactUsers";var G=[];function F(e){var t=e.channelId,r=e.guildId,d=e.participant,v=e.className,y=e.compact,_=void 0!==y&&y,h=e.disableInteraction,E=void 0!==h&&h,O=e.maxVisibleUsers,T=void 0===O?3:O,A=w(a.useState(!1),2),M=A[0],P=A[1],D=a.useRef(new l.DelayedCall(150,(function(){return P(!1)}))),k=(0,
u.useStateFromStoresArray)([c.default,p.default],(function(){if(d.type===b.ParticipantTypes.STREAM){var e=c.default.getViewerIds(d.id);return e.length>0?e.map((function(e){return p.default.getUser(e)})).filter(S.isNotNullish):G}return d.type===b.ParticipantTypes.ACTIVITY&&d.participants.size>0?Array.from(d.participants).map((function(e){return p.default.getUser(e)})).filter(S.isNotNullish):G}),[d]),F=a.useCallback((function(){D.current.cancel();P(!0)}),[]),x=a.useCallback((function(){D.current.delay()}),[]),B=a.useCallback((function(e,t){F();(0,s.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,N({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:x})}),[x,F]);if(0===k.length)return null
;if(_)return L(U,{maxVisibleUsers:T,users:k,guildId:r,channelId:t,className:v,participantType:d.type});var H=(0,i.default)(k).take(T).map((function(e){return L(g.default,{src:e.getAvatarURL(r,24),"aria-label":e.username,size:g.default.Sizes.SIZE_24,className:C.default.viewer},e.id)})).value();k.length>T&&(H[H.length-1]=L("div",{className:C.default.overflow},"overflow","+",k.length-T+1));return L(f.default,{section:I.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,L("div",{onMouseEnter:F,onMouseLeave:x},void 0,L(m.default,{renderPopout:function(){return L(j,{participantType:d.type,handleUserContextMenu:B,guildId:r,channelId:t,users:k,disableInteraction:E})},shouldShow:M,position:m.default.Positions.TOP},void 0,(function(){return L("div",{className:(0,o.default)(C.default.viewers,v)},void 0,H)}))))}F.displayName="ParticipantsForSelectedParticipant"},932018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294))
;var r,a=p(n(441143)),o=n(536211),i=p(n(284382)),u=y(n(145122)),l=p(n(728429)),s=p(n(161409)),d=p(n(376638)),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.onClose,n=e.onSelect,r=(0,o.useStateFromStores)([l.default],(function(){var e=l.default.getCurrentUser();(0,a.default)(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),p=(0,s.default)(),v=(0,d.default)(r.id);return m(i.default,{object:f.AnalyticsObjects.CONTEXT_MENU},void 0,m(u.default,{onClose:t,navId:"video-device-context","aria-label":c.default.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:n},void 0,m(u.MenuGroup,{label:c.default.Messages.FORM_LABEL_VIDEO_DEVICE},void 0,p),m(u.MenuGroup,{},void 0,v)))}_.displayName="VideoDeviceMenu"},936353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(74854)),u=n(536211),l=h(n(550024)),s=h(n(213847)),d=h(n(949898)),f=h(n(57754)),c=n(859089),p=n(770348),v=n(942675),y=h(n(25578)),m=h(n(3066)),_=h(n(476600));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var O=23,b=17,I=26,T={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:i.default.Easing.inOut(i.default.Easing.back()),EASING_OUT:i.default.Easing.quad},C=200,A=125,M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).scaleAnimation=new i.default.Value(0);t.spriteAnimation=new i.default.Value(0);t.spriteOpacity=new i.default.Value(0);t.widthAnimation=new i.default.Value(0);return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidAppear()}
;n.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)};n.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);i.default.parallel([i.default.timing(t,{toValue:1,duration:T.DURATION_IN,easing:T.EASING_IN}),i.default.timing(n,{toValue:1,duration:C})]).start(e)};n.componentWillLeave=function(e){var t=this.scaleAnimation,n=this.spriteAnimation,r=this.spriteOpacity,a=this.widthAnimation;r.setValue(1);n.setValue(0);for(var o=[],u=0;u<O;u++)o.push(i.default.timing(n,{toValue:-I*u,duration:b}));i.default.sequence([i.default.timing(t,{toValue:0,duration:T.DURATION_OUT,easing:T.EASING_OUT}),i.default.sequence(o),i.default.timing(a,{toValue:0,duration:A})]).start(e)};n.getScaleStyle=function(){var e=this.scaleAnimation;return i.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[T.SCALE_MIN,T.SCALE_MAX]})}],opacity:e})};n.getSpriteStyle=function(){return{
backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};n.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}};n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,u=n===p.ThemeTypes.DARK,l=(0,o.default)(y.default.sprite,((e={})[_.default.crossWhite]=u,e[_.default.crossGrey]=!u,e));return E(i.default.div,{className:(0,o.default)(y.default.transition,a),style:this.getWidthStyle()},void 0,E("div",{className:(0,o.default)(y.default.spriteWrapper,m.default.horizontal,m.default.justifyCenter,m.default.alignCenter)},void 0,E(i.default.div,{className:l,style:this.getSpriteStyle()})),E(i.default.div,{style:this.getScaleStyle()},void 0,r))};return t}(a.PureComponent);M.displayName="AvatarTransition";function N(e){var t=e.participants,n=e.onContextMenu,r=e.className,a=e.onClick,i=e.width,p=e.guildId,m=(0,s.default)(),_=function(e,t){return((0,
v.getAvatarSize)(v.Sizes.SIZE_80)+16)*t>e?v.Sizes.SIZE_40:v.Sizes.SIZE_80}(i,t.length),h=(0,u.useStateFromStores)([d.default],(function(){return d.default.isFocused()})),g=t.map((function(e){var t,r;if(e.type!==c.ParticipantTypes.USER)return null;var o=e.user,i=e.voiceState,u=e.speaking,l=e.ringing;return E(M,{className:y.default.participant,width:(0,v.getAvatarSize)(_),theme:m},o.id,E(f.default,{src:o.getAvatarURL(p,v.SizeSpecs[_].size,u&&h),size:_,muted:null!==(t=null==i?void 0:i.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(r=null==i?void 0:i.isVoiceDeafened())&&void 0!==r&&r,speaking:u,ringing:l,onClick:function(t){return null==a?void 0:a(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id))}));return E(l.default,{component:"div",className:(0,o.default)(y.default.root,r)},void 0,g)}N.displayName="VoiceCallParticipants"},326752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,n=e.guildId,r=(0,
u.useStateFromStores)([d.default],(function(){return d.default.useReducedMotion})),o=(y=a.useState([]),h=2,function(e){if(Array.isArray(e))return e}(y)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(y,h)||I(y,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],c=o[1],v=s.length<50;var y,h;a.useEffect((function(){function e(e){return a.apply(this,arguments)}function a(){return(a=b(regeneratorRuntime.mark((function e(a){var o,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.channelId,u=a.emoji;if(o!==t||r||!v){e.next=14;break}l=C(u)
;if(!(null!=u.id&&!u.animated)){e.next=10;break}e.next=7;return A(l);case 7:e.t0=e.sent;e.next=11;break;case 10:e.t0=l;case 11:s=e.t0;c((function(e){return[].concat(S(e),[{animationId:(0,i.default)(),source:s}])}));f.default.trackWithMetadata(m.AnalyticEvents.VOICE_CHANNEL_EFFECT_VIEWED,{channel_id:t,guild_id:n});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.default.subscribe("VOICE_CHANNEL_EFFECT_SEND",e);return function(){l.default.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}}),[t,n,r,v]);var g=a.useCallback((function(e){c((function(t){var n=S(t),r=n.findIndex((function(t){return t.animationId===e}));n.splice(r,1);return n}))}),[]);return r?null:a.createElement(a.Fragment,null,s.map((function(e){return E(p.default,{className:_.default.effect,id:e.animationId,source:e.source,onComplete:g},e.animationId)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(496486),i=h(n(468811)),u=n(536211),l=h(n(636602)),s=h(n(37146)),d=h(n(235879)),f=h(n(844784)),c=n(800055),p=h(n(439702)),v=h(n(692711)),y=h(n(657138)),m=n(770348),_=h(n(492297));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){if(null!=e.id){var t;return v.default.getEmojiURL({id:e.id,animated:null!==(t=e.animated)&&void 0!==t&&t,size:32})}var n=s.default.convertSurrogateToName(e.name,!1),r=s.default.getByName(n);return null!=r?y.default.getURL(r.surrogates):""}var A=(0,o.memoize)((function(e){return new Promise((function(t){var n=new Image;n.src=e;n.crossOrigin="Anonymous";n.onload=function(){var r=32*(0,c.getDevicePixelRatio)();if(n.width===r&&n.height===r)t(e);else{var a,o=document.createElement("canvas");o.width=r;o.height=r;null===(a=o.getContext("2d"))||void 0===a||a.drawImage(n,0,0);t(o.toDataURL("image/png"))}}}))}))},330493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(e){(0,i.openModal)((function(e){
return r.createElement(o.default,d({},e,{title:u.default.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:u.default.Messages.SERVER_DEAFENED_DIALOG_BODY}))}));return}a.default.toggleSelfDeaf()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},590087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t&&(0,i.isRTCConnectedInHub)()){(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2422)]).then(n.bind(n,202422));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))));return}if(t){(0,u.openModal)((function(e){return r.createElement(o.default,f({},e,{title:l.default.Messages.SUPPRESSED,body:l.default.Messages.SUPPRESSED_PERMISSION_BODY}))}));return}if(e){(0,u.openModal)((function(e){return r.createElement(o.default,f({},e,{title:l.default.Messages.SERVER_MUTED_DIALOG_TITLE,body:l.default.Messages.SERVER_MUTED_DIALOG_BODY}))}));return}
a.default.toggleSelfMute()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(740207)),o=s(n(88509)),i=n(864227),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value
}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}},893146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=n(845607),u=s(n(247001)),l=["type","onConfirm"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.type,n=e.onConfirm,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,c=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return r.createElement(o.default,f({confirmText:u.default.Messages.CONFIRM,secondaryConfirmText:u.default.Messages.DONT_ASK_AGAIN,title:d,cancelText:u.default.Messages.CANCEL,onConfirm:n,onConfirmSecondary:function(){
a.default.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:c},s))}c.displayName="HideSelfStreamAndVideoConfirmationAlert"},856015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=s(n(229132)),i=n(145122),u=s(n(825724)),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVoiceParticipantsHidden(e)}));return f(i.MenuCheckboxItem,{id:"no-video-hide",label:l.default.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return o.default.toggleVoiceParticipantsHidden(e,!t)}})}c.displayName="useHideNoVideoParticipantsItem"},48712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=p(n(174508)),l=n(194322),s=p(n(831566)),d=p(n(893146)),f=n(845607),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=_((0,s.default)(e,t),3),r=n[0],p=n[1],v=n[2],h=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?y(i.MenuCheckboxItem,{id:"self-stream-hide",label:c.default.Messages.SHOW_SELF_STREAM,checked:!p,action:function(){if(h||p)return v(!p);(0,l.openModal)((function(e){return a.createElement(d.default,m({},e,{type:f.SelfStreamAndVideoAlertType.STREAM,onConfirm:function(){return v(!p)}}))}))}}):null}g.displayName="useHideSelfStreamItem"},845442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=v(n(174508)),l=n(194322),s=v(n(25077)),d=v(n(893146)),f=n(845607),c=n(376293),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){void 0===t&&(t=c.MediaEngineContextTypes.DEFAULT);var n=h((0,s.default)(e,t),3),r=n[0],v=n[1],y=n[2],g=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?m(i.MenuCheckboxItem,{id:"self-video-hide",label:p.default.Messages.SHOW_SELF_VIDEO,checked:!v,action:function(){if(g||v)return y(!v);(0,l.openModal)((function(e){return a.createElement(d.default,_({},e,{type:f.SelfStreamAndVideoAlertType.VIDEO,onConfirm:function(){return y(!v)}}))}))}}):null}E.displayName="useHideSelfVideoItem"},441072:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getInputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getInputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{id:"input-"+n,group:"input-devices",disabled:r,label:a,checked:n===t,action:function(){return o.default.setInputDevice(n)}},"input-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},161409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getVideoDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVideoDeviceId()}));return e.map((function(e){
var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"video-devices",id:"video-device-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setVideoDevice(n)}},"video-device-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getOutputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getOutputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return d(i.MenuRadioItem,{group:"output-devices",id:"output-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setOutputDevice(n)}},"output-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},
376638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(199649),u=v(n(712594)),l=v(n(423046)),s=v(n(635014)),d=n(194322),f=n(499458),c=v(n(247001)),p=v(n(352062));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=(0,f.useModalContext)(),r=(0,o.useStateFromStores)([s.default],(function(){return s.default.isVideoEnabled()})),v=(0,
o.useStateFromStores)([l.default],(function(){return l.default.getId()===e})),y=(0,u.default)();return r&&!y||!v?null:m(i.MenuItem,{id:"change-video-background",label:m("div",{className:p.default.item},void 0,r?c.default.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:c.default.Messages.CAMERA_PREVIEW_MENU_ITEM),action:function(){(0,d.openModalLazy)(g(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(67965),n.e(93198),n.e(24326)]).then(n.bind(n,635390));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,_({},e,{videoEnabled:r}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"camera-preview",contextKey:t})}})}E.displayName="usePreviewVideoItem"},630601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=n(518180),u=f(n(938199)),l=f(n(644263)),s=f(n(322785)),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=(0,a.useStateFromStores)([l.default],(function(){return l.default.getChannel(e)})),n=(0,i.useIsTextInVoiceEnabled)(null==t?void 0:t.guild_id),r=(0,a.useStateFromStores)([u.default],(function(){return u.default.getToastsEnabled(e)}));return(null==t?void 0:t.isGuildVoice())&&!n?null:p(o.MenuCheckboxItem,{id:"show-call-chat-toasts",label:d.default.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:r,action:function(){return s.default.setCallChatToastsEnabled(e,!r)}})}v.displayName="useShowChatToastsItem"},815267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(226800)),o=n(145122),i=s(n(634230)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return f(o.MenuItem,{id:"voice-settings",label:l.default.Messages.VOICE_SETTINGS,
action:function(){return a.default.open(u.UserSettingsSections.VOICE)},icon:i.default})}c.displayName="useVoiceSettingsItem"},296285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.useEffect((function(){if(null!=e){o.default.lockChangeLog(e);return function(){o.default.unlockChangeLog(e)}}}),[e])};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(241165))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},
580791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(923387),i=s(n(305081)),u=s(n(68705)),l=s(n(966678));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=[],n=e.channel.guild_id;a.useEffect((function(){l.default.inExperimentWithPermissionCheck(n)&&u.default.fetchIntegrations(n)}),[n]);l.default.useShouldShowCommandsMigrationModal(n)&&t.push(o.DismissibleContent.COMMANDS_MIGRATION_UPSELL_MODAL);return f(i.default,{contentTypes:t},void 0,(function(e){var t=e.visibleContent,r=e.markAsDismissed;if(t===o.DismissibleContent.COMMANDS_MIGRATION_UPSELL_MODAL)return f(p,{guildId:n,markAsDismissed:r})}))}c.displayName="DismissibleChannelModals";function p(e){var t=e.guildId,n=e.markAsDismissed;a.useEffect((function(){l.default.openModal(t,"channel");return function(){n()}}),[t,n]);return null}},216672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t=e.channelId,r=e.baseChannelId,A=(0,o.useStateFromStores)([m.default],(function(){return m.default.getChannel(t)})),M=(0,o.useStateFromStores)([h.default],(function(){return h.default.getGuild(null==A?void 0:A.getGuildId())})),R=(0,b.default)(A),D=(0,o.useStateFromStores)([p.default],(function(){return null!=(null==M?void 0:M.id)&&p.default.isLurking(M.id)}),[M]),L=(0,o.useStateFromStores)([E.default],(function(){return E.default.can(I.Permissions.SEND_MESSAGES,A)})),k=a.useRef(!1);a.useEffect((function(){if(null!=A&&!k.current){k.current=!0;(0,s.trackWithMetadata)(I.AnalyticEvents.CHANNEL_OPENED,{channel_id:A.id,guild_id:A.guild_id,parent_id:A.parent_id,channel_view:"Split View",can_send_message:L})}}),[A,L]);if(null==A||null==M)return null;var j=[];D||j.push(N(f.default,{channel:A},"notifications"));j.push(N(O.default.Icon,{icon:S.default,tooltip:T.default.Messages.CLOSE,onClick:function(){return y.default.closeChannelSidebar(r)}},"close"))
;return a.createElement(a.Fragment,null,N(l.default,{channel:A,draftType:_.DraftType.ChannelMessage}),N(O.default,{toolbar:j,"aria-label":T.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:A,channelName:R,guild:M,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(30941)]).then(n.bind(n,532318));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{channel:A,guild:M}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){var e=g.default.getMessages(A.id);(0,v.transitionToGuild)(A.guild_id,A.id,e.jumpTargetId)}})),N("div",{className:C.default.chat},void 0,N(u.default,{channel:A,guild:M,chatInputType:d.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=A(n(914789)),l=A(n(805918)),s=n(844784),d=n(573285),f=A(n(818378)),c=n(451115),p=A(n(930409)),v=n(139982),y=A(n(546914)),m=A(n(644263)),_=n(687549),h=A(n(30098)),g=A(n(201292)),E=A(n(689389)),S=A(n(259530)),O=A(n(878556)),b=A(n(678928)),I=n(770348),T=A(n(247001)),C=A(n(895383));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}},688855:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,n=e.baseChannelId,r=(0,
o.useStateFromStores)([d.default],(function(){return d.default.getChannel(t)})),m=(0,p.default)(r);if(null==r||!r.isDM())return null;var _=[h(c.default.Icon,{icon:f.default,tooltip:v.default.Messages.CLOSE,onClick:function(){return s.default.closeChannelSidebar(n)}},"close")];return a.createElement(a.Fragment,null,h(c.default,{toolbar:_,"aria-label":v.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,(0,l.renderTitle)({channel:r,channelName:m,inSidebar:!0})),h("div",{className:y.default.chat},void 0,h(i.default,{channel:r,guild:null,chatInputType:u.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(914789)),u=n(573285),l=n(451115),s=m(n(546914)),d=m(n(644263)),f=m(n(259530)),c=m(n(878556)),p=m(n(678928)),v=m(n(247001)),y=m(n(895383));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},691692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r,p=(0,
l.useCanManageThread)(e),v=(0,l.useCanUnarchiveThread)(e),m=(0,l.useIsThreadModerator)(e),_=!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?v:p,h=e.hasFlag(d.ChannelFlags.PINNED);if(!_)return;var g=new Date((0,s.default)(e)).toLocaleString(f.default.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"});return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?y(o.MenuItem,{id:"unarchive-thread",label:e.isForumPost()?f.default.Messages.UNARCHIVE_FORUM_POST:f.default.Messages.UNARCHIVE_THREAD,action:function(){return i.default.unarchiveThread(e,m)}}):y(o.MenuItem,{id:"auto-archive-thread",label:f.default.Messages.ARCHIVE,subtext:h?f.default.Messages.AUTO_ARCHIVE_THREAD_PINNED:f.default.Messages.AUTO_ARCHIVE_THREAD_AT.format({time:g})},void 0,y(o.MenuGroup,{},void 0,y(o.MenuItem,{id:"archive-thread",label:e.isForumPost()?f.default.Messages.ARCHIVE_FORUM_POST:f.default.Messages.ARCHIVE_THREAD,action:function(){
return i.default.archiveThread(e,!1)}}),m&&!(null===(r=e.threadMetadata)||void 0===r?void 0:r.locked)?y(o.MenuItem,{id:"archive-lock-thread",label:e.isForumPost()?f.default.Messages.LOCK_FORUM_POST:f.default.Messages.LOCK_THREAD,action:function(){return i.default.archiveThread(e,!0)}}):null),h?null:y(o.MenuGroup,{label:f.default.Messages.AUTO_ARCHIVE_AFTER},void 0,(0,u.getAutoArchiveOptions)().map((function(t){var n,r=t.value,u=t.label;return y(o.MenuCheckboxItem,{id:String(r),label:u,checked:r===(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration),className:c.default.menuItem,focusedClassName:c.default.focused,action:function(){(0,a.closeContextMenu)();return i.default.setAutoArchiveDuration(e,r)}},r)}))))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(378158),o=n(145122),i=p(n(887174)),u=n(192751),l=n(819235),s=p(n(447840)),d=n(173652),f=p(n(247001)),c=p(n(313657));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},609510:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=_(n(968494)),u=_(n(786345)),l=_(n(179401)),s=n(145122),d=_(n(979674)),f=_(n(423046)),c=_(n(689389)),p=n(194322),v=n(770348),y=n(474477),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e){var t=e.isForumPost(),r=(0,o.useStateFromStores)([f.default],(function(){return e.isOwner(f.default.getId())}),[e]),_=(0,
o.useStateFromStoresObject)([c.default],(function(){return{canAccessChannel:c.default.can(e.accessPermissions,e),canManageChannel:c.default.can(e.isThread()?v.Permissions.MANAGE_THREADS:v.Permissions.MANAGE_CHANNELS,e)}}),[e]),h=_.canManageChannel,S=_.canAccessChannel,b=(0,o.useStateFromStores)([d.default],(function(){var t;return null!==(t=d.default.getCount(e.id))&&void 0!==t?t:0}),[e.id]),I=(0,o.useStateFromStores)([l.default],(function(){return l.default.getMessage(e.id)}),[e.id]).firstMessage,T=t&&(h||r&&b<1),C=t&&r&&!h&&b>0&&null!=I;if(!S)return null;if(!h&&!T&&!C)return null;return g(s.MenuItem,{id:"delete-channel",label:e.type===v.ChannelTypes.GUILD_CATEGORY?m.default.Messages.DELETE_CATEGORY:e.isForumPost()?T?m.default.Messages.DELETE_FORUM_POST:m.default.Messages.DELETE_MESSAGE:e.isThread()?m.default.Messages.DELETE_THREAD:m.default.Messages.DELETE_CHANNEL,color:y.MenuItemColor.DANGER,action:function(){return(0,p.openModalLazy)(O(regeneratorRuntime.mark((function t(){var r,o
;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(87466)]).then(n.bind(n,59337));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,E({},t,{onConfirm:function(){t.onClose();C?u.default.deleteMessage(e.id,e.id):i.default.deleteChannel(e.id)},channel:e}))}));case 5:case"end":return t.stop()}}),t)}))))}})}b.displayName="useChannelDeleteItem"},783938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([d.default],(function(){return d.default.getChannel(e.parent_id)})),r=(0,s.useIsThreadModerator)(e),p=(0,i.useExistingPin)(e);if(!(null==n?void 0:n.isForumChannel()))return null;if(!r)return null;if(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)return null;return e.hasFlag(f.ChannelFlags.PINNED)?y(u.MenuItem,{id:"unpin-thread",label:c.default.Messages.UNPIN_POST,action:function(){
return l.default.unpin(e)}}):y(u.MenuItem,{id:"pin-thread",label:c.default.Messages.PIN_POST,action:function(){null!=p?o.default.show({title:c.default.Messages.FORUM_PIN_CONFIRM_TITLE,body:c.default.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:(n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return l.default.unpin(p);case 2:l.default.pin(e);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})}):l.default.pin(e);var t,n}})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(896108)),i=n(973523),u=n(145122),l=p(n(887174)),s=n(819235),d=p(n(644263)),f=n(173652),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},326348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(968494)),o=n(145122),i=n(819235),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t;return!(0,i.useCanManageThread)(e)||(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)||__OVERLAY__?null:f(o.MenuItem,{id:"edit-thread",label:e.isForumPost()?l.default.Messages.EDIT_FORUM_POST:l.default.Messages.EDIT_THREAD,action:function(){(0,u.closeAllModals)();a.default.open(e.id)}})}c.displayName="useThreadEditItem"},412649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(441143)),i=n(536211),u=_(n(498773)),l=_(n(649563)),s=n(973523),d=n(145122),f=n(819235),c=_(n(644263)),p=_(n(433385)),v=n(264426),y=_(n(247001)),m=_(n(179537));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.tag,n=t.name,r=t.emojiId,o=t.emojiName,l=(0,i.useStateFromStores)([p.default],(function(){return null!=r?p.default.getUsableCustomEmojiById(r):null}));return a.createElement(a.Fragment,null,g(u.default,{className:m.default.emoji,emojiId:r,emojiName:o,animated:Boolean(null==l?void 0:l.animated)}),n)}function S(e){var t=(0,i.useStateFromStores)([c.default],(function(){return c.default.getChannel(e)}),[e]);(0,o.default)(null!=t,"Unexpected missing thread");var n=(0,f.useCanManageThread)(t),r=(0,i.useStateFromStoresArray)([c.default],(function(){var e,n;return null!==(e=null===(n=c.default.getChannel(t.parent_id))||void 0===n?void 0:n.availableTags)&&void 0!==e?e:[]}),[t.parent_id]),a=(0,s.useAppliedTags)(t),u=a.length>=v.MAX_FORUM_POST_TAGS;if(!n)return null;if(__OVERLAY__)return null;if(!t.isForumPost())return null;if(0===r.length)return null;var p=r.map((function(e){var n=a.includes(e)
;return g(d.MenuCheckboxItem,{id:e.id,label:g(E,{tag:e}),disabled:u&&!n,action:function(){return function(e){var n=new Set(a);if(n.has(e))n.delete(e);else{if(u)return;n.add(e)}var r=Array.from(n).map((function(e){return e.id}));l.default.updateForumPostTags(t.id,r)}(e)},checked:n},e.id)}));return g(d.MenuItem,{id:"edit-tags",label:y.default.Messages.FORUM_TAG_POST_EDIT},void 0,p)}S.displayName="useThreadEditTagsItem"},233557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(145122),o=s(n(887174)),i=n(895431),u=n(64072),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=(0,i.useThreadNotificationSetting)(e);return e.isArchivedThread()?null:f(a.MenuItem,{id:"thread-notifications",label:l.default.Messages.NOTIFICATION_SETTINGS},void 0,(0,u.getThreadNotificationOptions)().map((function(n){var r=n.setting,i=n.label;return f(a.MenuRadioItem,{group:"thread-notifications",
id:""+r,label:i,action:function(){return o.default.setNotificationSettings(e,{flags:r})},checked:r===t},r)})))}c.displayName="useThreadNotificationItem"},730205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(819235),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t,n;if(!(0,i.useIsThreadModerator)(e)||e.type!==u.ChannelTypes.PRIVATE_THREAD)return null;var r=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return f(a.MenuCheckboxItem,{id:"toggle-thread-invitable",label:l.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:r,action:function(){return o.default.setInvitable(e,!r)}})}c.displayName="useToggleThreadInvitableItem"},175344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=m(n(636602)),a=m(n(786345)),o=m(n(177230)),i=n(742965),u=n(968078),l=n(389666),s=m(n(201292)),d=m(n(790597)),f=m(n(563621)),c=m(n(71636)),p=n(931622),v=n(293581),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleChannelPreload=function(e){var n=e.guildId;t.maybeLoadFeedForGuild(n)};t.handleChannelSelect=function(e){var n=e.guildId,r=e.channelId,o=e.messageId;t.maybeLoadFeedForGuild(n);null!=n&&null!=r&&null==o&&(0,v.isChannelHighlightsExperimentEnabled)()&&f.default.isOptInEnabled(n)&&s.default.addConditionalChangeListener((function(){if(s.default.isLoadingMessages(r))return!0;var e=(0,p.getUnreadChannelHighlights)(r)
;if(0===e.length)return!1;s.default.getMessages(r).has(e[0])||a.default.fetchMessages({channelId:r,after:c.default.atPreviousMillisecond(e[0]),limit:y.MAX_MESSAGES_PER_CHANNEL,jump:{messageId:e[0],flash:!0}});return!1}))};t.handleConnectionOpen=function(){var e=d.default.getGuildId();t.maybeLoadFeedForGuild(e)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe("CHANNEL_PRELOAD",this.handleChannelPreload);r.default.subscribe("CHANNEL_SELECT",this.handleChannelSelect);r.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe("CHANNEL_PRELOAD",this.handleChannelPreload);r.default.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect);r.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};n.maybeLoadFeedForGuild=function(e){if(null==e)return!1;(0,l.shouldFetchGuildFeed)(e,!1)&&(0,v.isChannelHighlightsExperimentEnabled)()&&(0,i.fetchGuildFeed)({guildId:e,refresh:!0,limit:3*u.GUILD_FEED_FETCH_LIMIT})}
;n.__getLocalVars=function(){return{}};return t}(o.default));t.default=h},918667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(496486)),i=m(n(844784)),u=m(n(956117)),l=m(n(16941)),s=n(772575),d=n(645758),f=m(n(259530)),c=m(n(308920)),p=n(770348),v=m(n(247001)),y=m(n(76889));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=o.default.debounce(i.default.trackWithMetadata,500),E=function(e){var t=e.guild,n=e.title,r=e.message,o=e.image,m=e.type,_=e.imageMarginX,E=e.imageMarginTop,S=e.trackingSource,O=e.undismissable,b=e.onDismissed,I=e.onClick,T=e.cta;a.useEffect((function(){g(p.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:m,guild_id:t.id})}),[t.id,m]);var C=null;"function"==typeof T?C=T():null!=T&&(C=h(u.default,{className:y.default.btn,size:u.default.Sizes.SMALL,onClick:function(){null!=m&&c.default.track(p.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:S,guild_id:t.id,notice_type:m})
;null==I||I()},fullWidth:!0},void 0,T));var A=null!=_?_+"px":"16px";return h("div",{className:y.default.channelNotice},void 0,!0===O?null:h(l.default,{onClick:function(){i.default.trackWithMetadata(p.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:m});null==b||b()},className:y.default.close,"aria-label":v.default.Messages.DISMISS},void 0,h(f.default,{className:y.default.closeIcon})),h("div",{className:y.default.imageContainer,style:{marginTop:E+"px",marginLeft:A,marginRight:A}},void 0,h("img",{className:y.default.image,src:o,alt:""})),h("div",{className:y.default.message},void 0,null!=n?h(s.Heading,{variant:"heading-md/medium",className:y.default.title},void 0,n):null,h(d.Text,{variant:"text-sm/normal"},void 0,r),C))};E.displayName="ChannelNotice";var S=E;t.default=S},35333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e
};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=U(n(972247)),l=n(233271),s=n(666027),d=U(n(512885)),f=U(n(305081)),c=U(n(408692)),p=U(n(578628)),v=U(n(559759)),y=n(157949),m=U(n(513696)),_=U(n(185836)),h=U(n(42562)),g=U(n(966678)),E=U(n(126515)),S=U(n(666280)),O=U(n(751122)),b=U(n(689389)),I=U(n(329669)),T=U(n(535711)),C=U(n(24e4)),A=n(682937),M=n(42031),N=U(n(264271)),P=U(n(71685)),R=U(n(198883)),w=U(n(715458)),D=U(n(877164)),L=n(7812),k=n(770348),j=n(583551);function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e){e.stopPropagation()}var W=function(e){var t=e.guild,n=e.setHasSubheader,r=(0,o.useStateFromStoresObject)([O.default],(function(){return{appliedGuildBoosts:O.default.getAppliedGuildBoostsForGuild(t.id),lastFetchedAt:O.default.getLastFetchedAtForGuild(t.id)}})),i=r.appliedGuildBoosts,u=r.lastFetchedAt,f=(0,o.useStateFromStoresObject)([I.default],(function(){return{lastDismissedGracePeriod:I.default.getLastDismissedGracePeriodForGuild(t.id),isGracePeriodVisible:I.default.isVisible(t.id)}})),p=f.lastDismissedGracePeriod,v=f.isGracePeriodVisible,_=(0,
o.useStateFromStores)([E.default],(function(){return E.default.isVisible(t)})),P=(0,o.useStateFromStores)([C.default],(function(){return C.default.isVisible(t)})),w=(0,o.useStateFromStores)([b.default],(function(){return b.default.can(k.Permissions.ADMINISTRATOR,t)})),D=null!=p&&Date.now()-p<=k.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,L=null!=t?t.premiumSubscriberCount:0,j=(0,A.getGuildTierFromAppliedBoostCount)(L,t.id)!==k.BoostedGuildTiers.NONE,U=!(null!=u&&Date.now()-u<=432e5)&&(!D&&w&&j),G=(0,y.useGuildHasLiveChannelNotice)(t.id),F=(0,o.useStateFromStores)([T.default],(function(){return T.default.isVisible(t)})),x=g.default.useShouldShowChannelNotice(t.id),H=(0,s.useUnseenEndedApplicationSubscriptionEntitlements)(t);a.useEffect((function(){var e=-1;U&&(e=window.setTimeout((function(){(0,l.fetchAppliedGuildBoostsForGuild)(t.id)}),30*Math.random()*1e3));return function(){window.clearTimeout(e)}}),[t.id,U]);if(_){n(!0);return B(S.default,{guild:t})}if(v){n(!0);return B(c.default,{
guild:t,appliedGuildBoosts:i})}if(P){n(!0);return B(R.default,{guild:t})}if(G){n(!0);return B(m.default,{guild:t})}if(F){n(!0);return B(N.default,{guild:t})}if(x){n(!0);return B(h.default,{guild:t})}if(H.length>0){n(!0);return B(d.default,{guild:t,entitlements:H})}if(M.ProcessArgs.isDisallowPopupsSet()){n(!1);return null}return B(V,{guild:e.guild,setHasSubheader:n})};W.displayName="ConnectedNotices";function V(e){var t,n=e.guild,r=e.setHasSubheader,l=F(a.useState(null!==(t=u.default.get(L.LAST_HIDDEN_CHANNEL_NOTICE))&&void 0!==t?t:0),2),s=l[0],d=l[1],c=(0,o.useStateFromStoresArray)(L.CHANNEL_NOTICE_STORES,(function(){return L.CHANNEL_NOTICES.filter((function(e){return e.store.channelNoticePredicate(n,s)})).map((function(e){return e.dismissibleContentType}))}));return B("div",{onContextMenu:H},void 0,B(f.default,{contentTypes:c,groupName:j.DismissibleContentGroupName.CHANNEL_NOTICES},void 0,(function(e){var t=e.visibleContent,a=e.markAsDismissed,o=function(){!function(e){
u.default.set(L.LAST_HIDDEN_CHANNEL_NOTICE,e);d(e)}(Date.now());a()};switch(t){case i.DismissibleContent.CHANNEL_NOTICE_HUBLINK:r(!0);return B(_.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_INVITE:r(!0);return B(P.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:r(!0);return B(v.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER:r(!0);return B(w.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER:r(!0);return B(p.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL:r(!0);return B(D.default,{guild:n,markAsDismissed:o});default:r(!1);return null}})))}V.displayName="ChannelNoticesGuard";var Y=W;t.default=Y},7812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LAST_HIDDEN_CHANNEL_NOTICE=t.CHANNEL_NOTICE_STORES=t.CHANNEL_NOTICES=void 0
;var r=n(923387),a=f(n(935102)),o=f(n(523946)),i=f(n(538647)),u=f(n(20446)),l=f(n(735653)),s=f(n(477566)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}t.LAST_HIDDEN_CHANNEL_NOTICE="lastHiddenChannelNotice";var c=[{type:d.ChannelNoticeTypes.GUILD_BOOSTING,store:u.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:d.ChannelNoticeTypes.GUILD_BANNER,store:i.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER},{type:d.ChannelNoticeTypes.INVITE,store:s.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_INVITE},{type:d.ChannelNoticeTypes.HUB_LINK,store:l.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_HUBLINK},{type:d.ChannelNoticeTypes.QUICKSWITCHER,store:o.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER},{type:d.ChannelNoticeTypes.ROLE_SUBSCRIPTION_MWEB_PURCHASE,store:a.default,
dismissibleContentType:r.DismissibleContent.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL}];t.CHANNEL_NOTICES=c;var p=c.map((function(e){return e.store}));t.CHANNEL_NOTICE_STORES=p},264271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(226800)),i=d(n(918667)),u=n(770348),l=d(n(247001)),s=d(n(785538));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}
function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c(i.default,{guild:this.props.guild,onClick:function(){return o.default.open(u.UserSettingsSections.ACCOUNT)},message:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,
trackingSource:u.ChannelNoticeCtaSources.GUILD_MFA_WARNING,type:u.ChannelNoticeTypes.MFA_WARNING,image:s.default,imageMarginX:54,undismissable:!0})};return t}(a.PureComponent);v.displayName="GuildMFAWarning";var y=v;t.default=y},71685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(786345)),i=c(n(211136)),u=n(194322),l=c(n(918667)),s=n(770348),d=c(n(247001)),f=c(n(947079));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){
m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,r=arguments.length,l=new Array(r),f=0;f<r;f++)l[f]=arguments[f];(t=e.call.apply(e,[this].concat(l))||this).handleInvite=function(){var e=t.props.guild;(0,u.openModalLazy)(_(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,y({},t,{guild:e,source:s.InstantInviteSources.INVITE_NOTICE}))}));case 5:case"end":return t.stop()}}),t)}))))};t.handleClose=function(){var e=i.default.getChannelId();t.props.markAsDismissed()
;null!=e&&o.default.sendBotMessage(e,d.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:d.default.Messages.INVITE_PEOPLE}))};return t}t.prototype.render=function(){var e=d.default.Messages.INVITE_NOTICE_MESSAGE+"\n"+d.default.Messages.INVITE_NOTICE_MESSAGE_PART_2;return v(l.default,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:d.default.Messages.INVITE_PEOPLE,trackingSource:s.ChannelNoticeCtaSources.INVITE_NOTICE,type:s.ChannelNoticeTypes.INVITE,image:f.default,imageMarginX:46})};return t}(a.PureComponent);g.displayName="InviteNotice";var E=g;t.default=E},198883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=f(n(550270)),u=f(n(918667)),l=n(770348),s=f(n(247001)),d=f(n(389515));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,
o.hideMaxMemberCountChannelNotice)(t.id)}),[t.id]);return p(u.default,{guild:t,onDismissed:n,message:s.default.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:i.default.getArticleURL(l.HelpdeskArticles.MAX_MEMBERS)}),type:l.ChannelNoticeTypes.MAX_MEMBER_COUNT,image:d.default,imageMarginX:61})};v.displayName="MaxMemberCountNotice";var y=v;t.default=y},715458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(221107),o=n(749666),i=n(835282),u=f(n(918667)),l=n(770348),s=f(n(247001)),d=f(n(10439));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=a.QUICKSWITCHER_SHOW.binds[0].split("+").map((function(e){return null!=o.PRETTY_KEYS[e]?o.PRETTY_KEYS[e]():e})).join(" + ").toUpperCase();return p(u.default,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,i.show)("CHANNEL_NOTICE")},
message:s.default.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:l.ChannelNoticeCtaSources.QUICK_SWITCHER_NOTICE,type:l.ChannelNoticeTypes.QUICKSWITCHER,image:d.default,imageMarginX:50})};v.displayName="QuickSwitcherNotice";var y=v;t.default=y},877164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(722182),o=n(319986),i=f(n(918667)),u=n(770348),l=n(173652),s=f(n(247001)),d=f(n(337285));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.guild,n=e.markAsDismissed;return p(i.default,{guild:t,onDismissed:n,onClick:function(){return(0,a.copy)((0,o.getChannelPermalink)(t.id,l.StaticChannelRoute.ROLE_SUBSCRIPTIONS))},message:s.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MWEB_PURCHASE_DESKTOP_UPSELL_BODY,cta:s.default.Messages.COPY_LINK,trackingSource:u.ChannelNoticeCtaSources.ROLE_SUBSCRIPTION_MWEB_PURCHASE_NOTICE,type:u.ChannelNoticeTypes.ROLE_SUBSCRIPTION_MWEB_PURCHASE,image:d.default})}
v.displayName="RoleSubscriptionMWebPurchaseNotice"},739889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TrackExposureLocations=t.SettingMode=t.RowType=t.MEMBER_REQUEST_COUNT=t.AddMembersSections=t.ADVANCED_MODE_ON_KEY=void 0;t.getChannelPermissionSpecMap=function(e,t,n,r,a){var f;return(f={})[s.Permissions.VIEW_CHANNEL.toString()]={title:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL:d.default.Messages.VIEW_CHANNEL,description:function(){if(t)switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY_EVERYONE;case s.ChannelTypes.GUILD_VOICE:case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_VOICE_EVERYONE;default:return d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_TEXT_EVERYONE}
return e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CHANNEL}(),flag:s.Permissions.VIEW_CHANNEL},f[s.Permissions.MANAGE_CHANNELS.toString()]={title:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.MANAGE_CHANNELS:d.default.Messages.MANAGE_CHANNEL,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_VOICE;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_TEXT}}(),flag:s.Permissions.MANAGE_CHANNELS},f[s.Permissions.MANAGE_ROLES.toString()]={title:d.default.Messages.MANAGE_PERMISSIONS,description:function(){switch(e){
case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CHANNEL}}(),flag:s.Permissions.MANAGE_ROLES},f[s.Permissions.MANAGE_WEBHOOKS.toString()]={title:d.default.Messages.MANAGE_WEBHOOKS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CHANNEL,flag:s.Permissions.MANAGE_WEBHOOKS},f[s.Permissions.CREATE_INSTANT_INVITE.toString()]={title:d.default.Messages.CREATE_INSTANT_INVITE,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_VOICE:case s.ChannelTypes.GUILD_STAGE_VOICE:
return d.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_VOICE;default:return d.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_TEXT}}(),flag:s.Permissions.CREATE_INSTANT_INVITE},f[s.Permissions.SEND_MESSAGES.toString()]={title:e===s.ChannelTypes.GUILD_FORUM?d.default.Messages.CREATE_FORUM_POSTS:n&&e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.SEND_MESSAGES_AND_CREATE_FORUM_POSTS:d.default.Messages.SEND_MESSAGES,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return n?d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_FORUM:return(null==a?void 0:a.createPostsDisabled)?i.default.getForumChannelPermissionText():d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case s.ChannelTypes.GUILD_ANNOUNCEMENT:
return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:l.default.getArticleURL(s.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});case s.ChannelTypes.GUILD_VOICE:return u.default.getTextInVoiceSendMessageChannelPermissionText(null==a?void 0:a.sendMessagesDisabled);default:return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT}}(),flag:s.Permissions.SEND_MESSAGES},f[s.Permissions.EMBED_LINKS.toString()]={title:d.default.Messages.EMBED_LINKS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_TEXT,flag:s.Permissions.EMBED_LINKS},f[s.Permissions.ATTACH_FILES.toString()]={title:d.default.Messages.ATTACH_FILES,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_TEXT,
flag:s.Permissions.ATTACH_FILES},f[s.Permissions.ADD_REACTIONS.toString()]={title:d.default.Messages.ADD_REACTIONS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_VOICE:return r?d.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT_WITH_VOICE_CHANNEL_EFFECTS:d.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT;default:return d.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT}}(),flag:s.Permissions.ADD_REACTIONS},f[s.Permissions.USE_EXTERNAL_EMOJIS.toString()]={title:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_TEXT,flag:s.Permissions.USE_EXTERNAL_EMOJIS},f[s.Permissions.USE_EXTERNAL_STICKERS.toString()]={
title:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_TEXT,flag:s.Permissions.USE_EXTERNAL_STICKERS},f[s.Permissions.MENTION_EVERYONE.toString()]={title:e===s.ChannelTypes.GUILD_STAGE_VOICE?d.default.Messages.MENTION_EVERYONE_STAGE:d.default.Messages.MENTION_EVERYONE,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_CATEGORY:e===s.ChannelTypes.GUILD_STAGE_VOICE?d.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_STAGE:d.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_TEXT,flag:s.Permissions.MENTION_EVERYONE},f[s.Permissions.MANAGE_MESSAGES.toString()]={title:d.default.Messages.MANAGE_MESSAGES,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:
return d.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_ANNOUNCEMENT:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:l.default.getArticleURL(s.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_TEXT}}(),flag:s.Permissions.MANAGE_MESSAGES},f[s.Permissions.READ_MESSAGE_HISTORY.toString()]={title:d.default.Messages.READ_MESSAGE_HISTORY,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_VOICE:return u.default.getTextInVoiceReadMessageHistoryChannelPermissionText(null==a?void 0:a.readMessageHistoryDisabled);default:return d.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT}}(),flag:s.Permissions.READ_MESSAGE_HISTORY},f[s.Permissions.SEND_TTS_MESSAGES.toString()]={
title:d.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_TEXT,flag:s.Permissions.SEND_TTS_MESSAGES},f[s.Permissions.USE_APPLICATION_COMMANDS.toString()]={title:d.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_TEXT,flag:s.Permissions.USE_APPLICATION_COMMANDS},f[s.Permissions.CONNECT.toString()]={title:d.default.Messages.CONNECT,description:function(){if(t)switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY_EVERYONE;case s.ChannelTypes.GUILD_STAGE_VOICE:
return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE_EVERYONE;default:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE_EVERYONE}switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE}}(),flag:s.Permissions.CONNECT},f[s.Permissions.SPEAK.toString()]={title:d.default.Messages.SPEAK,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_VOICE}}(),flag:s.Permissions.SPEAK},f[s.Permissions.STREAM.toString()]={title:d.default.Messages.VIDEO,
description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_VOICE,flag:s.Permissions.STREAM},f[s.Permissions.USE_EMBEDDED_ACTIVITIES.toString()]={title:d.default.Messages.USE_EMBEDDED_ACTIVITIES,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_VOICE,flag:s.Permissions.USE_EMBEDDED_ACTIVITIES},f[s.Permissions.USE_VAD.toString()]={title:d.default.Messages.USE_VAD,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_VOICE}}(),flag:s.Permissions.USE_VAD},
f[s.Permissions.PRIORITY_SPEAKER.toString()]={title:d.default.Messages.PRIORITY_SPEAKER,description:function(){0;var t={keybind:d.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY,onClick:function(){o.default.open(s.UserSettingsSections.KEYBINDS)}};return e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_CATEGORY.format(t):d.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_VOICE.format(t)}(),flag:s.Permissions.PRIORITY_SPEAKER},f[s.Permissions.MUTE_MEMBERS.toString()]={title:d.default.Messages.MUTE_MEMBERS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_VOICE}}(),flag:s.Permissions.MUTE_MEMBERS},f[s.Permissions.DEAFEN_MEMBERS.toString()]={
title:d.default.Messages.DEAFEN_MEMBERS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_VOICE,flag:s.Permissions.DEAFEN_MEMBERS},f[s.Permissions.MOVE_MEMBERS.toString()]={title:d.default.Messages.MOVE_MEMBERS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return d.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_STAGE_VOICE:return d.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_STAGE;default:return d.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_VOICE}}(),flag:s.Permissions.MOVE_MEMBERS},f[s.Permissions.REQUEST_TO_SPEAK.toString()]={title:d.default.Messages.REQUEST_TO_SPEAK,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_STAGE,
flag:s.Permissions.REQUEST_TO_SPEAK},f[s.Permissions.MANAGE_THREADS.toString()]={title:e===s.ChannelTypes.GUILD_FORUM?d.default.Messages.MANAGE_FORUM_POSTS:n&&e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.MANAGE_THREADS_AND_FORUM_POSTS:d.default.Messages.MANAGE_THREADS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:return n?d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_FORUM:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_TEXT;default:return d.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_TEXT}}(),flag:s.Permissions.MANAGE_THREADS},f[s.Permissions.CREATE_PUBLIC_THREADS.toString()]={title:d.default.Messages.CREATE_PUBLIC_THREADS,
description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_TEXT,flag:s.Permissions.CREATE_PUBLIC_THREADS},f[s.Permissions.CREATE_PRIVATE_THREADS.toString()]={title:d.default.Messages.CREATE_PRIVATE_THREADS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_TEXT,flag:s.Permissions.CREATE_PRIVATE_THREADS},f[s.Permissions.SEND_MESSAGES_IN_THREADS.toString()]={title:e===s.ChannelTypes.GUILD_FORUM?d.default.Messages.SEND_MESSAGES_IN_FORUM_POSTS:n&&e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS:d.default.Messages.SEND_MESSAGES_IN_THREADS,description:function(){switch(e){case s.ChannelTypes.GUILD_CATEGORY:
return n?d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_CATEGORY;case s.ChannelTypes.GUILD_FORUM:return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_TEXT;default:return d.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_TEXT}}(),flag:s.Permissions.SEND_MESSAGES_IN_THREADS},f[s.Permissions.MANAGE_EVENTS.toString()]={title:d.default.Messages.MANAGE_EVENTS,description:e===s.ChannelTypes.GUILD_CATEGORY?d.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CATEGORY:d.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CHANNEL,flag:s.Permissions.MANAGE_EVENTS},f};var r,a,o=f(n(226800)),i=f(n(328798)),u=f(n(179274)),l=f(n(550270)),s=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}t.RowType=r;!function(e){e[e.EMPTY_STATE=0]="EMPTY_STATE"
;e[e.ADMINISTRATOR=1]="ADMINISTRATOR";e[e.ROLE=2]="ROLE";e[e.OWNER=3]="OWNER";e[e.MEMBER=4]="MEMBER"}(r||(t.RowType=r={}));t.AddMembersSections=a;!function(e){e[e.ROLES=0]="ROLES";e[e.MEMBERS=1]="MEMBERS"}(a||(t.AddMembersSections=a={}));t.MEMBER_REQUEST_COUNT=20;var c,p;t.ADVANCED_MODE_ON_KEY="channelPermissionSettingsAdvancedModeOn";t.TrackExposureLocations=c;!function(e){e.SETTINGS_PAGE="settings-page";e.MEMBERS_LIST="members-list";e.EMPTY_STATE="empty-state";e.CREATE_CHANNEL="create-channel"}(c||(t.TrackExposureLocations=c={}));t.SettingMode=p;!function(e){e.BASIC="basic";e.ADVANCED="advanced"}(p||(t.SettingMode=p={}))},668339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(396229),u=s(n(730977)),l=s(n(348336));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t,n=e.className,r=e.channel,s=e.section,d=null!=s?(0,i.getIconComponent)(s):null;return f("div",{className:(0,o.default)(n,l.default.wrapper)},void 0,f("div",{className:l.default.icon},void 0,null!=d?f(u.default,{text:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"",position:u.default.Positions.TOP},void 0,(function(e){return a.createElement(d,c({},e,{channel:r,section:s,width:24,height:24}))})):null))}p.displayName="ChannelApplicationIcon";var v=a.memo(p);t.default=v},915539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=n(78330),i=n(478036);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}var f={openNewUserAgeGateModal:function(e){(0,
a.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(90140)]).then(n.bind(n,990140));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:o.NEW_USER_AGE_GATE_MODAL_KEY,onCloseRequest:i.NOOP,onCloseCallback:e})},openClaimAccountModal:function(e,t){void 0===e&&(e=!1);(0,a.openModalLazy)(d(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(41597)]).then(n.bind(n,304388));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,l({claimRequired:e},t))}));case 5:case"end":return t.stop()}}),t)}))),{onCloseRequest:e?i.NOOP:null,onCloseCallback:t})}};t.default=f},179714:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.useCustomStatusMenuItem=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=n(433473),u=n(556470),l=n(145122),s=n(894826),d=y(n(16941)),f=y(n(930600)),c=n(194322),p=y(n(247001)),v=y(n(184518));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}var S=_(f.default,{width:18,height:18});function O(e){var t=(0,u.useAnalyticsContext)();function r(e){e.stopPropagation();s.CustomStatusSetting.updateSetting(void 0)}function f(){(0,
c.openModalLazy)(E(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,h({sourceAnalyticsContext:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}if(null!=e){var y=null!=e.emoji?function(t){var n=t.className;return _(i.ActivityEmoji,{className:n,emoji:e.emoji,animate:!0,hideTooltip:!0})}:void 0;return _(l.MenuItem,{id:"edit-custom-status",label:p.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,icon:y,showIconFirst:!0,hint:function(e){return a.createElement(d.default,h({},e,{onClick:r,tabIndex:0}),S)},action:f})}return _(l.MenuItem,{id:"set-custom-status",label:p.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS_CTA,icon:function(e){return _("div",{className:(0,o.default)(v.default.customEmojiPlaceholder,e)})},action:f,
showIconFirst:!0})}O.displayName="useCustomStatusMenuItem"},421910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchDirectoryEntries=void 0;var r=l(n(23279)),a=l(n(118915)),o=l(n(636602)),i=n(218044),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var d=(0,r.default)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;o.default.dispatch({type:"EVENT_DIRECTORY_FETCH_START"});e.next=4;return a.default.get({url:u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{type:i.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT}});case 4:n=e.sent;o.default.dispatch({type:"EVENT_DIRECTORY_FETCH_SUCCESS",channelId:t,entries:n.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);o.default.dispatch({type:"EVENT_DIRECTORY_FETCH_FAILURE"});case 11:
case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=d},435625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addDirectoryGuildEntry=function(e,t,n,r){return m.apply(this,arguments)};t.fetchGuildEntriesForIds=t.fetchDirectoryEntries=t.fetchDirectoryCounts=t.clearDirectorySearch=void 0;t.removeDirectoryGuildEntry=function(e,t){u.default.delete({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});i.default.dispatch({type:"GUILD_DIRECTORY_ENTRY_DELETE",channelId:e,guildId:t})};t.updateDirectoryEntry=t.selectDirectoryCategory=t.searchDirectoryEntries=void 0
;var r=f(n(23279)),a=n(47354),o=f(n(118915)),i=f(n(636602)),u=f(n(351772)),l=f(n(917582)),s=n(218044),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}var v=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;i.default.dispatch({type:"GUILD_DIRECTORY_FETCH_START"});e.next=4;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{category_id:n}});case 4:r=e.sent;i.default.dispatch({type:"GUILD_DIRECTORY_FETCH_SUCCESS",channelId:t,entries:r.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);i.default.dispatch({
type:"GUILD_DIRECTORY_FETCH_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=v;var y=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(t)});case 3:n=e.sent;i.default.dispatch({type:"GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",channelId:t,counts:n.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),200);t.fetchDirectoryCounts=y;function m(){return(m=p(regeneratorRuntime.mark((function e(t,n,r,o){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return u.default.post({
url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:o},trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:t,guild_id:n,primary_category_id:o}}});case 3:l=e.sent;i.default.dispatch({type:"GUILD_DIRECTORY_ENTRY_CREATE",channelId:t,entry:l.body});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.default.shouldFetch(t,n)){e.next=4;break}i.default.dispatch({type:"GUILD_DIRECTORY_CACHED_SEARCH",channelId:t,query:n});return e.abrupt("return");case 4:e.prev=4;i.default.dispatch({type:"GUILD_DIRECTORY_SEARCH_START",channelId:t,query:n});e.next=8;return o.default.get({url:d.Endpoints.DIRECTORY_ENTRIES_SEARCH(t),query:{query:n}});case 8:r=e.sent;i.default.dispatch({type:"GUILD_DIRECTORY_SEARCH_SUCCESS",channelId:t,query:n,
results:r.body});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(4);i.default.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.searchDirectoryEntries=_;t.clearDirectorySearch=function(e){i.default.dispatch({type:"GUILD_DIRECTORY_SEARCH_CLEAR",channelId:e})};var h=function(){var e=p(regeneratorRuntime.mark((function e(t,n,r,a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return o.default.patch({url:d.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:a}});case 3:u=e.sent;i.default.dispatch({type:"GUILD_DIRECTORY_ENTRY_UPDATE",channelId:t,entry:u.body});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.updateDirectoryEntry=h;t.selectDirectoryCategory=function(e,t){
i.default.dispatch({type:"GUILD_DIRECTORY_CATEGORY_SELECT",channelId:e,categoryId:t})};var g=function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:d.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(t),query:{entity_ids:n}});case 3:r=e.sent;i.default.dispatch({type:"GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",channelId:t,entries:r.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.fetchGuildEntriesForIds=g},917582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(536211)),a=i(n(636602)),o=n(448406);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}function l(){l=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=12e4,d={},f={};var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSearchState=function(e){var t;return null!==(t=d[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}};n.getSearchResults=function(e,t){var n,r,a;return null!==(n=null===(r=f[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a.results)&&void 0!==n?n:[]};n.shouldFetch=function(e,t){var n,r,a=null===(n=f[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==a||Date.now()-a>s};n.__getLocalVars=function(){return{CACHE_TIME:s,directorySearchState:d,directorySearchResults:f}};return t}(r.default.Store);c.displayName="GuildDirectorySearchStore";var p=new c(a.default,{
GUILD_DIRECTORY_SEARCH_START:function(e){var t=e.channelId,n=e.query;d[t]={fetching:!0,mostRecentQuery:n}},GUILD_DIRECTORY_SEARCH_SUCCESS:function(e){var t,n=e.channelId,r=e.query,a=e.results;d[n]=l({},d[n],{fetching:!1});var i=[];a.forEach((function(e){var t=(0,o.guildDirectoryEntryFromServer)(e);i.push(t)}));f[n]=l({},f[n],((t={})[r]={results:(0,o.orderByTotalMemberCount)(i),lastSearchedAt:Date.now()},t))},GUILD_DIRECTORY_SEARCH_FAILURE:function(e){var t=e.channelId;d[t]=l({},d[t],{fetching:!1})},GUILD_DIRECTORY_SEARCH_CLEAR:function(e){var t=e.channelId;d[t]={fetching:!1,mostRecentQuery:""}},GUILD_DIRECTORY_CACHED_SEARCH:function(e){var t=e.channelId,n=e.query;d[t]={fetching:!1,mostRecentQuery:n}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n,r=e.channelId,a=e.guildId,o=null===(t=d[r])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=f[r][o];if(null!=i){var u=i.results.filter((function(e){return e.guildId!==a}));f[r]=l({},f[r],((n={})[d[r].mostRecentQuery]=l({},i,{results:u
}),n))}}}});t.default=p},229164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){return o.default.getGuild(e.guildId)})),n=(0,r.useStateFromStores)([a.default],(function(){return a.default.getChannel(e.channelId)})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.ADMINISTRATOR,t)})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.MANAGE_MESSAGES,n)}));return{isEntryAdmin:l,canEdit:l||s,canRemove:l||s}};t.useCanCreateOrAddGuildInDirectory=function(e){return(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.SEND_MESSAGES,e)}))};var r=n(536211),a=l(n(644263)),o=l(n(30098)),i=l(n(689389)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},63608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=A(n(667294)),o=n(536211),i=T(n(636602)),u=n(508510),l=T(n(97982)),s=T(n(191391)),d=T(n(80828)),f=n(194322),c=T(n(308920)),p=A(n(421910)),v=A(n(435625)),y=T(n(917582)),m=T(n(447364)),_=n(229164),h=T(n(434324)),g=T(n(308607)),E=n(1698),S=T(n(670539)),O=n(218044),b=n(770348),I=T(n(447763));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,r=e.channel,T=e.guild,C=(0,
o.useStateFromStoresObject)([m.default],(function(){var e=m.default.getCurrentCategoryId(r.id);return{currentCategoryId:e,directoryEntries:m.default.getDirectoryEntries(r.id,e===O.DirectoryEntryCategories.ALL?null:e),categoryCounts:m.default.getDirectoryCategoryCounts(r.id),allEntriesCount:m.default.getDirectoryAllEntriesCount(r.id),isLoading:m.default.isFetching()}})),A=C.currentCategoryId,P=C.directoryEntries,D=C.categoryCounts,L=C.allEntriesCount,k=C.isLoading;a.useEffect((function(){return function(){var e=s.default.lastMessageId(r.id);null!=e&&i.default.wait((function(){(0,u.ack)(r.id,!0,!0,e)}))}}),[r.id]);var j=a.useMemo((function(){return null!=P?(0,E.generateDirectoryRows)(Object.values(P),A):null}),[P,A]),U=(0,o.useStateFromStoresObject)([y.default],(function(){var e=y.default.getSearchState(r.id),t=e.mostRecentQuery;return{mostRecentQuery:t,searchFetching:e.fetching,searchResults:y.default.getSearchResults(r.id,t)}
})),G=U.mostRecentQuery,F=U.searchFetching,x=U.searchResults,B=w(a.useState(G),2),H=B[0],W=B[1],V=""!==G,Y=l.default.useExperiment({guildId:null!==(t=T.id)&&void 0!==t?t:""}).showHubEventsList;a.useEffect((function(){v.fetchDirectoryEntries(r.id);v.fetchDirectoryCounts(r.id);Y&&p.fetchDirectoryEntries(r.id);W(G)}),[r.id]);a.useEffect((function(){c.default.track(b.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:r.id,directory_guild_id:T.id,primary_category_id:A})}),[r.id,T.id,A]);var K=(0,_.useCanCreateOrAddGuildInDirectory)(r)?function(){(0,f.openModalLazy)(R(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(87248)]).then(n.bind(n,887248));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,N({},e,{directoryGuildName:T.name,directoryGuildId:T.id,directoryChannelId:r.id,
currentCategoryId:A===O.DirectoryEntryCategories.ALL?null:A}))}));case 5:case"end":return e.stop()}}),e)}))))}:void 0,z=function(e){if(0!==H.trim().length&&e.charCode===b.KeyboardKeys.ENTER){v.searchDirectoryEntries(r.id,H);c.default.track(b.AnalyticEvents.GUILD_DIRECTORY_SEARCH,{directory_channel_id:r.id,directory_guild_id:T.id})}},$=function(){W("");v.clearDirectorySearch(r.id)};return V?M(S.default,{searchQuery:H,setSearchQuery:W,mostRecentQuery:G,handleSearchKeyPress:z,handleClearSearch:$,handleCreateOrAddGuild:K,searchResults:x,searchFetching:F}):null==j&&null==A?M("div",{className:I.default.pageContainer},void 0,M(d.default,{className:I.default.spinner})):0===(null==j?void 0:j.length)&&null==A?M("div",{className:I.default.pageContainer},void 0,M(h.default,{guild:T,onAddGuild:K})):M(g.default,{channel:r,searchQuery:H,setSearchQuery:W,handleSearchKeyPress:z,handleClearSearch:$,handleCreateOrAddGuild:K,currentCategoryId:A,handleSelectCategory:function(e){
v.selectDirectoryCategory(r.id,e)},directoryEntries:j,categoryCounts:D,allEntriesCount:L,isLoading:k})};L.displayName="GuildDirectory";var k=L;t.default=k},434324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(888746),i=n(772575),u=n(645758),l=n(194322),s=n(770348),d=c(n(247001)),f=c(n(889775));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}
function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h=function(e){
var t=e.guild,r=e.onAddGuild,c=a.useCallback((function(){(0,l.openModalLazy)(_(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guild:t,source:s.InstantInviteSources.HUB_DIRECTORY,analyticsLocation:{section:s.AnalyticsSections.HUB_WELCOME_CTA}}))}));case 5:case"end":return e.stop()}}),e)}))))}),[t]);return v("div",{className:f.default.emptyWrapper},void 0,v("img",{className:f.default.emptyImage,alt:"",src:n(655916)}),v(i.Heading,{className:f.default.emptyTitle,variant:"heading-xl/medium",level:3},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})),v(u.Text,{variant:"text-md/normal",className:f.default.emptySubtitle
},void 0,d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE),null!=r?v(o.WelcomeMessageCTA,{className:f.default.emptyCTA,iconUrl:n(755645),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:r}):null,v(o.WelcomeMessageCTA,{className:f.default.emptyCTA,iconUrl:n(930519),header:d.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:c}))};h.displayName="DirectoryEmptyState";var g=h;t.default=g},923117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AddEntryCard=void 0;var r,a=j(n(667294)),o=L(n(294184)),i=n(536211),u=n(378158),l=L(n(415275)),s=n(800055),d=n(95034),f=L(n(539563)),c=L(n(30098)),p=L(n(956117)),v=L(n(16941)),y=L(n(189950)),m=L(n(380439)),_=n(645758),h=L(n(730977)),g=L(n(775803)),E=L(n(975165)),S=n(194322),O=L(n(272544)),b=j(n(962989)),I=L(n(692711)),T=L(n(229164)),C=L(n(71472)),A=n(770348),M=L(n(247001)),N=L(n(423973)),P=L(n(928793)),R=["onClick"],w=["onClick"],D=["onClick"]
;function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,u,"next",e)}function u(e){G(o,r,a,i,u,"throw",e)}i(void 0)}))}}function x(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V=W("img",{alt:"",src:P.default}),Y=function(e){var t=e.onClick;return W(v.default,{onClick:t,className:N.default.addEntryCard},void 0,V,W(_.Text,{variant:"text-sm/normal",color:"header-primary",className:N.default.addServerText},void 0,M.default.Messages.HUB_ADD_SERVER_CTA))}
;t.AddEntryCard=Y;Y.displayName="AddEntryCard";function K(e){var t,r=e.entry,i=B(a.useState(!1),2),u=i[0],l=i[1],s=(0,T.default)(r).canEdit;return W("div",{className:(0,o.default)(N.default.actionButtonsContainer,(t={},t[N.default.forceButtonsShow]=u,t))},void 0,W(b.default,{},void 0,s?W(h.default,{text:M.default.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0},void 0,(function(e){var t=e.onClick,o=x(e,R);return a.createElement(b.Button,U({},o,{onClick:function(){null==t||t();(0,S.openModalLazy)(F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))},"aria-label":M.default.Messages.HUB_ENTRY_UPDATE}),W(E.default,{className:N.default.overflowIcon}))})):null,W(C.default,{
onRequestOpen:function(){return l(!0)},onRequestClose:function(){return l(!1)},entry:r,hideEditButton:!0},void 0,(function(e){var t=e.onClick,n=x(e,w);return W(h.default,{text:M.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=x(e,D);return a.createElement(b.Button,U({},n,o,{onClick:function(e){null==r||r();t(e)},"aria-label":M.default.Messages.MORE}),W(g.default,{className:N.default.overflowIcon}))}))}))))}K.displayName="ActionButtons";var z=function(e){var t,r=e.entry,o=B(a.useState(!1),2),v=o[0],g=o[1],E=null!=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(r.guildId)})),S=function(){var e=F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0);e.prev=1;if(E){e.next=7;break}e.next=5;return l.default.joinGuild(r.guildId,{source:A.JoinGuildSources.DIRECTORY_ENTRY});case 5:e.next=8;break;case 7:(0,d.transitionToGuild)(r.guildId);case 8:e.prev=8;g(!1)
;return e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}(),b=I.default.getGuildSplashURL({id:r.guildId,splash:r.splash,size:300*(0,s.getDevicePixelRatio)()}),T=null!==(t=I.default.getGuildIconURL({id:r.guildId,icon:r.icon,size:40}))&&void 0!==t?t:void 0,C=M.default.Messages.JOIN;E&&(C=M.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return W("div",{className:N.default.card,onContextMenu:function(e){(0,u.openContextMenuLazy)(e,F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,88020));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,W("div",{className:N.default.cardHeader},void 0,W("div",{className:N.default.splash},void 0,null!=b&&W("img",{src:b,alt:"",
className:N.default.splashImage})),W("div",{className:N.default.guildIcon},void 0,W(O.default,{mask:O.default.Masks.SQUIRCLE,width:48,height:48},void 0,W("div",{className:N.default.iconMask},void 0,W(m.default,{className:N.default.icon,iconSrc:T,guild:new f.default(r),size:m.default.Sizes.MEDIUM,active:!0}))))),W("div",{className:N.default.guildInfo},void 0,W("div",{className:N.default.title},void 0,W(y.default,{className:N.default.guildBadge,guild:r,tooltipColor:h.default.Colors.PRIMARY}),W(_.Text,{className:N.default.guildName,variant:"text-md/normal",color:"header-primary"},void 0,r.name)),W(_.Text,{className:N.default.description,variant:"text-sm/normal",color:"header-secondary"},void 0,r.description),W("div",{className:N.default.memberInfo},void 0,null!=r.approximatePresenceCount&&W("div",{className:N.default.memberCount},void 0,W("div",{className:N.default.dotOnline}),W(_.Text,{variant:"text-xs/normal",color:"header-secondary"
},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:r.approximatePresenceCount}))),null!=r.approximateMemberCount&&W("div",{className:N.default.memberCount},void 0,W("div",{className:N.default.dotOffline}),W(_.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,M.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r.approximateMemberCount})))),W(p.default,{submitting:v,className:N.default.joinButton,color:E?p.default.Colors.PRIMARY:p.default.Colors.GREEN,onClick:S},void 0,C)),W(K,{entry:r}))};z.displayName="GuildDirectoryEntryCard";var $=z;t.default=$},88020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=g(n(667294)),o=n(378158),i=_(n(730487)),u=n(837797),l=g(n(145122)),s=n(645758),d=_(n(907509)),f=_(n(502197)),c=n(194322),p=g(n(435625)),v=_(n(229164)),y=n(474477),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.entry,r=e.onSelect,_=e.closePopout,h=e.forceLightTheme,g=e.hideEditButton,E=void 0!==g&&g,I=(0,v.default)(t),T=I.isEntryAdmin,C=I.canEdit,A=I.canRemove,M=(0,i.default)(t.guildId,void 0,void 0,_);a.useEffect((function(){C||A||null!=M||(0,o.closeContextMenu)()}));var N=function(){p.removeDirectoryGuildEntry(t.channelId,t.guildId)};function P(){(0,o.closeContextMenu)();null==_||_()}return b(l.default,{className:h?"theme-light":null,
navId:"guild-entry-context",onClose:P,"aria-label":m.default.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(l.MenuGroup,{},void 0,C&&!E?b(l.MenuItem,{id:"update-entry",label:m.default.Messages.HUB_ENTRY_UPDATE,action:function(){(0,c.openModalLazy)(S(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{entry:t}))}));case 5:case"end":return e.stop()}}),e)}))));P()}}):null,A?b(l.MenuItem,{id:"remove-from-hub",label:m.default.Messages.HUB_ENTRY_REMOVE,action:function(){(0,c.openModal)((function(e){return a.createElement(f.default,O({header:m.default.Messages.HUB_ENTRY_REMOVE,confirmText:m.default.Messages.REMOVE,cancelText:m.default.Messages.CANCEL,onConfirm:N},e),b(s.Text,{variant:"text-md/normal"
},void 0,m.default.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})))}));P()},color:y.MenuItemColor.DANGER}):null,T?null:a.createElement(a.Fragment,null,b(l.MenuItem,{id:"report-server-listing",label:m.default.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,u.showReportModalForGuildDirectoryEntry)(t);P()}},icon:d.default,color:y.MenuItemColor.DANGER}))),b(l.MenuGroup,{},void 0,M))}I.displayName="GuildDirectoryEntryContextMenu"},71472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=i(n(160629)),o=i(n(88020));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.entry,n=e.forceLightTheme,r=e.hideEditButton,i=e.children,u=e.onRequestOpen,s=e.onRequestClose;return l(a.default,{onRequestOpen:u,onRequestClose:s,animation:a.default.Animation.NONE,position:a.default.Positions.BOTTOM,spacing:4,align:a.default.Align.RIGHT,renderPopout:function(e){var a=e.closePopout;return l(o.default,{entry:t,
closePopout:a,forceLightTheme:n,hideEditButton:r})}},void 0,i)};s.displayName="GuildDirectoryEntryOptionsMenu";var d=s;t.default=d},308607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=O(n(667294)),o=E(n(294184)),i=E(n(864345)),u=n(772575),l=E(n(535813)),s=E(n(80828)),d=E(n(186465)),f=n(645758),c=n(235742),p=O(n(923117)),v=n(218044),y=E(n(247001)),m=E(n(447763)),_=E(n(552564)),h=E(n(324752)),g=E(n(315879));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=(0,i.default)((function(e){var t,n=e.searchQuery,r=e.setSearchQuery,a=e.handleClearSearch,i=e.handleSearchKeyPress,s=e.width,d=null!=s&&s<=780;return b("div",{className:_.default.header},void 0,b("img",{alt:"",className:_.default.headerImage,src:d?g.default:h.default}),b("div",{className:_.default.headerContentWrapper},void 0,b("div",{className:(0,o.default)(_.default.headerContent,(t={},t[_.default.headerContentSmall]=d,t))},void 0,b(u.Heading,{
variant:"heading-xl/medium",className:_.default.searchTitle,level:3},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),b(f.Text,{variant:"text-md/normal",className:_.default.searchSubtitle},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE),b(l.default,{searchTerm:n,className:_.default.searchBox,inputClassName:_.default.searchBoxInput,closeIconClassName:_.default.closeIcon,searchIconClassName:_.default.searchIcon,label:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:a,onKeyPress:i,cta:null!=n&&n.length>0?y.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null}))))})),T=function(e){var t=e.channel,n=e.directoryEntries,r=e.handleCreateOrAddGuild,o=e.searchQuery,i=e.setSearchQuery,u=e.handleClearSearch,l=e.handleSearchKeyPress,h=e.currentCategoryId,g=e.handleSelectCategory,E=e.categoryCounts,S=e.allEntriesCount,O=e.isLoading,T=b(p.AddEntryCard,{onClick:r});return b("div",{
className:m.default.pageContainer},void 0,b(c.AdvancedScrollerAuto,{className:m.default.scroller},void 0,b(I,{searchQuery:o,setSearchQuery:i,handleClearSearch:u,handleSearchKeyPress:l}),b(c.AdvancedScrollerThin,{orientation:"horizontal"},void 0,b(d.default,{className:_.default.tabBar,type:d.default.Types.TOP,look:d.default.Looks.BRAND,selectedItem:h,onItemSelect:function(e){g(e)}},void 0,b(d.default.Item,{className:_.default.tabBarItem,id:v.DirectoryEntryCategories.ALL},v.DirectoryEntryCategories.ALL,y.default.Messages.DIRECTORY_CATEGORY_ALL+" ("+S+")"),(0,v.getHubCategories)(t.id).map((function(e){var t=e.value,n=e.label;return b(d.default.Item,{className:_.default.tabBarItem,id:t},t,n+" "+(null!=E[t]?"("+E[t]+")":""))})))),O&&null==n?b(s.default,{className:m.default.spinner}):null==n?void 0:n.map((function(e){return a.createElement(a.Fragment,null,void 0!==e.header?b(f.Text,{variant:"text-md/normal",className:_.default.sectionHeader},void 0,e.header):null,b("div",{
className:m.default.cardsContainer},void 0,e.entries.map((function(e){return b(p.default,{entry:e},e.guildId)})),e.appendEndCard&&null!=r?T:null))}))))};T.displayName="GuildDirectoryLanding";var C=T;t.default=C},1698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateDirectoryRows=function(e,t){if(t!==o.DirectoryEntryCategories.ALL)return[{entries:(0,a.rankGuildEntries)(e),appendEndCard:!0}];var n=[],r=(0,a.rankByDateAdded)(e),u=new Set(r.map((function(e){return e.guildId})));r.length>0&&n.push({header:i.default.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var l=e.filter((function(e){return!u.has(e.guildId)}));(l=(0,a.orderByTotalMemberCount)(l)).length>0&&n.push({header:i.default.Messages.ALL_SERVERS,entries:l,appendEndCard:!0});return n};var r,a=n(448406),o=n(218044),i=(r=n(247001))&&r.__esModule?r:{default:r}},670539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=_(n(151097)),o=_(n(16941)),i=n(772575),u=_(n(535813)),l=_(n(80828)),s=n(645758),d=_(n(204014)),f=n(582945),c=_(n(923117)),p=_(n(247001)),v=_(n(447763)),y=_(n(885735)),m=_(n(123451));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n=e.searchQuery,r=e.setSearchQuery,_=e.mostRecentQuery,h=e.handleClearSearch,E=e.handleSearchKeyPress,S=e.handleCreateOrAddGuild,O=e.searchResults;if(e.searchFetching)t=g("div",{className:v.default.pageContainer},void 0,g(l.default,{className:v.default.spinner}));else if(0===O.length){var b=null!=S?p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return g(a.default,{onClick:S},t,e)}}):p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=g("div",{className:y.default.emptySearchWrapper},void 0,g("img",{className:y.default.emptySearchImage,alt:"",src:m.default}),g(i.Heading,{variant:"heading-xl/medium",color:"header-primary",className:y.default.emptySearchTitle,level:3
},void 0,p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE),g(s.Text,{variant:"text-md/normal",color:"header-secondary",className:y.default.emptySearchSubtitle},void 0,b))}else t=g("div",{className:v.default.cardsContainer},void 0,O.map((function(e){return g(c.default,{entry:e},e.guildId)})));return g("div",{className:v.default.pageContainer},void 0,g(f.ScrollerAuto,{className:v.default.scroller},void 0,g("div",{className:y.default.searchHeader},void 0,g("div",{className:y.default.headerTitleWrapper},void 0,g(o.default,{onClick:h,className:y.default.arrow},void 0,g(d.default,{direction:d.default.Directions.LEFT})),g(i.Heading,{variant:"heading-xl/medium",className:y.default.searchPageTitle,level:3},void 0,p.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:O.length,query:_}))),g(u.default,{searchTerm:n,className:y.default.searchPageBox,inputClassName:y.default.searchPageInput,label:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
placeholder:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:h,onKeyPress:E,cta:null!=n&&n.length>0?p.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),t))};E.displayName="GuildDirectorySearchResults";var S=E;t.default=S},523024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryInAppReportingExperiment=void 0;t.useCanSeeDiscoveryContextMenu=function(){var e=u.useExperiment({}).canSeeInAppReportingButtons,t=o.DeveloperMode.useSetting(),n=e||t;r.useEffect((function(){u.trackExposure({})}),[]);return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(894826);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});t.DiscoveryInAppReportingExperiment=u},328092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTagsExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,
label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]});t.DiscoveryTagsExperiment=r},332743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(803949)),i=m(n(965419)),u=m(n(161679)),l=m(n(450474)),s=m(n(167646)),d=m(n(332282)),f=m(n(890422)),c=m(n(97751)),p=n(71246),v=n(227445),y=m(n(596964));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=h(o.default,{}),E=h(i.default,{}),S=h(u.default,{}),O=h(l.default,{}),b=h(s.default,{}),I=h(d.default,{height:22,width:22}),T=h(f.default,{}),C=function(e){switch(e){case v.CategoryIcons.Activity:return g;case v.CategoryIcons.Discover:return E;case v.CategoryIcons.Education:return S;case v.CategoryIcons.Music:return O;case v.CategoryIcons.Science:return b;case v.CategoryIcons.Stage:return I;case v.CategoryIcons.Television:return T;default:(0,
p.assertNever)(e)}},A=function(e){var t=e.categories,n=e.currentCategoryId,r=e.handleCategorySelect,o=e.shouldDisplaySelectedCategory,i=void 0===o||o;return a.createElement(a.Fragment,null,t.map((function(e){return h(c.default,{avatar:C(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return r(e.categoryId)},wrapContent:!0,selected:i&&e.categoryId===n,className:y.default.categoryItem,selectedClassName:y.default.selectedCategoryItem,innerClassName:y.default.itemInner},e.categoryId)})))};A.Icons=v.CategoryIcons;var M=A;t.default=M},841354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoverySidebarHeader=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=n(772575),i=(r=n(45622))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.text;return l(o.Heading,{variant:"heading-xl/medium",className:i.default.discoverHeader,level:2},void 0,t)}s.displayName="DiscoverySidebarHeader"},734696:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(636602)),i=y(n(37039)),u=n(531254),l=y(n(275198)),s=y(n(2022)),d=n(772575),f=n(645758),c=y(n(684631)),p=n(770348),v=y(n(922179));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var g=[[1696,20],[1432,16],[1168,12],[0,8]],E=[[1696,30],[1432,24],[1168,18],[0,12]],S=function(e){var t=e.title,n=e.subtitle,r=e.guildsData,y=e.analyticsContext,m=e.theme,S=e.onViewGuild,O=e.fetchGuilds,b=e.onGuildCardSeen,I=e.currentCategoryId,T=e.loadId,C=e.onTagClick,A=e.showMoreCards,M=void 0!==A&&A;a.useEffect((function(){o.default.wait((function(){return O()}))}),[I]);var N=M?E:g,P=(0,c.default)(N),R=(0,i.default)().analyticsLocations;if(null==r)return null;var w=r.guilds,D=r.loading,L=null==w||0===w.length;if(!D&&L)return null;var k,j=function(){
var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isAtGuildCapAndNonPremium)()){e.next=4;break}(0,l.default)({analyticsSource:{page:p.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:p.AnalyticsPages.GUILD_DISCOVERY,section:p.AnalyticsSections.GUILD_CAP_UPSELL_MODAL},analyticsLocations:R});e.next=7;break;case 4:n=w.findIndex((function(e){return e.id===t}));e.next=7;return S(t,n,y,T);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(D||null==w){for(var U=[],G=0;G<P;G++)U.push(_(s.default.Placeholder,{},G));k=U}else k=w.slice(0,P).map((function(e){return _(s.default,{className:v.default.guildCard,guild:e,onView:j,theme:m,onGuildCardSeen:b,onTagClick:C},e.id)}))
;return _("section",{className:v.default.guildListSection},void 0,_(d.Heading,{className:v.default.title,variant:"heading-lg/medium",level:3},void 0,t),null!=n&&_(f.Text,{className:v.default.subtitle,variant:"text-sm/normal",color:"header-secondary"},void 0,n),_("div",{className:v.default.guildList},void 0,k))};S.displayName="DiscoverFeaturedGuildsSection";var O=S;t.default=O},473124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_GUILDS_PER_PAGE=void 0;var r,a=I(n(667294)),o=O(n(496486)),i=O(n(817673)),u=n(536211),l=I(n(598319)),s=O(n(815428)),d=O(n(651386)),f=O(n(55027)),c=n(139982),p=O(n(199846)),v=O(n(16941)),y=n(772575),m=n(645758),_=O(n(204014)),h=I(n(465537)),g=n(227445),E=O(n(247001)),S=O(n(691288));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=12;t.MAX_GUILDS_PER_PAGE=M;var N=function(){var e=(0,c.getHistory)().location.search
;return null!=e&&e.length>0&&e.startsWith("?")?i.default.parse(e):{}},P=function(e){var t=e.categoryId,n=e.categoryName,r=e.onClick,a=t===g.DISCOVERY_ALL_CATEGORIES_ID,o=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),i=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:r});return A("div",{className:S.default.emptyContainer},void 0,A("div",{className:S.default.emptyImage}),A(y.Heading,{variant:"heading-xl/medium",className:S.default.emptyHeader,level:3},void 0,o),A(m.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,i))};P.displayName="EmptySearchResults";var R=function(){return A("div",{className:S.default.emptyContainer},void 0,A("div",{className:S.default.errorImage}),A(m.Text,{variant:"text-md/normal",color:"header-secondary",className:S.default.emptyHeader
},void 0,E.default.Messages.GUILD_DISCOVERY_SEARCH_ERROR))};R.displayName="ErrorState";var w=A(R,{}),D=function(e){var t=e.loadId,n=e.searchResults,r=e.mostRecentQuery,i=e.defaultLanguage,c=e.availableLanguages,m=e.isFetchingSearch,O=e.scroller,b=e.loadingGuildId,I=e.theme,C=e.currentCategoryId,R=e.currentCategoryName,D=e.onViewGuild,L=e.onGuildCardSeen,k=e.placeholder,j=e.onTagClick,U=o.default.uniqueId("GuildDiscovery"),G=n.guilds,F=n.loading,x=n.total,B=T(a.useState(!1),2),H=B[0],W=B[1],V=N().tag,Y=T(a.useState(V),2),K=Y[0],z=Y[1],$=(0,u.useStateFromStores)([p.default],(function(){return p.default.hasSearchError()})),q=function(e,t,n){l.doAlgoliaSearch(r,{categoryId:n?g.DISCOVERY_ALL_CATEGORIES_ID:C,preferredLocale:i.code,offset:e,length:t,filters:{approximate_member_count:h.MINIMUM_MEMBER_COUNT}});W(!1)};a.useEffect((function(){var e=N(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/M)+1:1;z(!!n);1===r&&W(!0)}),[r])
;var X=C===g.DISCOVERY_ALL_CATEGORIES_ID?E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r}):E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r,category:R});return A("div",{className:S.default.container},void 0,A("div",{className:S.default.searchHeader},void 0,A(v.default,{onClick:function(){l.clearSearch();h.trackSearchClosed(t)},className:S.default.arrow,"aria-label":E.default.Messages.BACK},void 0,A(_.default,{direction:_.default.Directions.LEFT})),A(y.Heading,{variant:"heading-xl/medium",className:S.default.header,level:3},void 0,X)),A(d.default,{loadId:t,searchResults:n,mostRecentQuery:r,isFetchingSearch:m,defaultLanguage:i,placeholder:k,availableLanguages:c,isSearchPage:!0,currentCategoryId:C,isTagSearch:K}),$?w:x<=0?A(P,{categoryId:C,categoryName:R,onClick:function(){l.selectCategory(g.DISCOVERY_ALL_CATEGORIES_ID);q(0,M,!0)}}):A("div",{
className:S.default.results},void 0,A(s.default,{pageSize:M,totalCount:x,resetCurrentPage:H,onPageChange:function(e){q((e-1)*M,M);null==O||O.scrollTo({to:0})}},void 0,(function(e){var t=e.controller;return A("section",{"aria-labelledby":U},void 0,A(f.default,{guilds:G,loading:F,loadingPlaceholderCount:M,onViewGuild:D,loadingGuildId:b,theme:I,analyticsContext:h.AnalyticsContexts.SEARCH,onGuildCardSeen:L,onTagClick:j}),t)}))))};D.displayName="DiscoverSearchResults";var L=D;t.default=L},184767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildDiscoveryMenuPopout=void 0;t.default=S;g(n(667294));var r,a=n(536211),o=n(378158),i=_(n(730487)),u=n(837797),l=g(n(145122)),s=_(n(30098)),d=_(n(689389)),f=_(n(160629)),c=_(n(907509)),p=n(523024),v=n(770348),y=n(474477),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}
function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.guild,n=e.shiftId,r=e.onSelect,f=e.closePopout,_=e["aria-label"],h=(0,i.default)(t.id,n,void 0,f),g=(0,
a.useStateFromStores)([s.default],(function(){return s.default.getGuild(t.id)}),[t.id]),S=(0,a.useStateFromStores)([d.default],(function(){return d.default.can(v.Permissions.ADMINISTRATOR,g)})),O=p.DiscoveryInAppReportingExperiment.useExperiment({}).canSeeInAppReportingButtons;return E(l.default,{onSelect:r,navId:"guild-discovery-context-menu","aria-label":null!=_?_:m.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o.closeContextMenu},void 0,E(l.MenuGroup,{},void 0,!S&&O?E(l.MenuItem,{id:"report-guild-discovery-listing",label:m.default.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,u.showReportModalForDiscoverableGuild)(t);!function(){(0,o.closeContextMenu)();null==f||f()}()},icon:c.default,color:y.MenuItemColor.DANGER}):null),E(l.MenuGroup,{},void 0,h))}S.displayName="GuildDiscoveryContextMenu";var O=function(e){var t=e.guild,n=e.children,r=e.onRequestOpen,a=e.onRequestClose;return E(f.default,{onRequestOpen:r,onRequestClose:a,animation:f.default.Animation.NONE,
position:f.default.Positions.BOTTOM,spacing:4,align:f.default.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return E(S,{guild:t,closePopout:n})}},void 0,n)};t.GuildDiscoveryMenuPopout=O;O.displayName="GuildDiscoveryMenuPopout"},167739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(964285)),o=d(n(735172)),i=d(n(142024)),u=n(770348),l=d(n(247001)),s=d(n(722100));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c("img",{alt:"",src:d(n(694111)).default});function v(e){var t=e.guild,n=e.markAsDismissed;return c(i.default,{onComponentMount:function(){return o.default.trackExposure({guildId:t.id})},header:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:c("div",{className:s.default.image},void 0,p),buttonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:function(e){!function(e,t){
t&&a.default.open(e.id,u.GuildSettingsSections.DISCOVERY_LANDING_PAGE)}(t,!0)},secondaryButtonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}v.displayName="GuildDiscoveryLandingPageSettingsTooltip"},638098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=n(772575),u=n(645758),l=n(294126),s=n(583551),d=c(n(247001)),f=c(n(812099));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.onClick,n=e.onSecondaryClick,r=e.onComponentMount,c=e.markAsDismissed;a.useEffect((function(){null==r||r()}),[r]);var p=a.useCallback((function(e){t(e);null==c||c(s.ContentDismissActionType.PRIMARY)}),[t,c]),y=a.useCallback((function(){null==n||n();null==c||c(s.ContentDismissActionType.SECONDARY)}),[n,c]);return v("div",{className:f.default.tooltipWrapper},void 0,v(i.Heading,{className:f.default.tooltipHeader,
variant:"heading-md/medium",level:3},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE),v(u.Text,{className:f.default.tooltipText,variant:"text-sm/normal"},void 0,d.default.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:l.LOWERED_MINIMUM_SIZE})),v("div",{className:f.default.buttonsContainer},void 0,v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,color:o.default.Colors.BRAND,onClick:p},void 0,d.default.Messages.LEARN_MORE),v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,look:o.default.Looks.BLANK,onClick:y},void 0,d.default.Messages.NO_THANKS)))}y.displayName="GuildHeaderDiscoveryTooltip"},648831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.DiscoverSearchResultPlaceholder=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(294184)),i=n(378158),u=n(263996),l=M(n(37039)),s=n(800055),d=n(531254),f=M(n(275198)),c=M(n(16941)),p=M(n(189950)),v=n(772575),y=M(n(80828)),m=n(645758),_=M(n(272544)),h=M(n(692711)),g=n(465537),E=n(523024),S=n(328092),O=M(n(886836)),b=n(770348),I=M(n(247001)),T=M(n(895889)),C=M(n(860321)),A=M(n(145792));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=function(){return k("div",{className:T.default.placeholder})};t.DiscoverSearchResultPlaceholder=j;j.displayName="DiscoverSearchResultPlaceholder";var U=function(e){
var t,r,M,N,R=e.guild,L=e.theme,j=e.onView,U=e.onTagClick,G=R.id,F=R.discoverySplash,x=R.icon,B=R.name,H=R.description,W=R.presenceCount,V=R.memberCount,Y=R.keywords,K=D(a.useState(!1),2),z=K[0],$=K[1],q=D(a.useState(!1),2),X=q[0],Q=q[1],Z=(0,l.default)().analyticsLocations,J=h.default.getGuildDiscoverySplashURL({id:G,splash:F,size:240*(0,s.getDevicePixelRatio)()}),ee=null!=J?J:function(e){switch(e){case b.ThemeTypes.DARK:return C.default;case b.ThemeTypes.LIGHT:return A.default}}(L),te=null!==(t=h.default.getGuildIconURL({id:G,icon:x,size:32}))&&void 0!==t?t:void 0,ne=function(){var e=w(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target;if(!n.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:if(!(0,d.isAtGuildCapAndNonPremium)()){e.next=6;break}(0,f.default)({analyticsSource:{page:b.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:b.AnalyticsPages.GUILD_DISCOVERY,
section:b.AnalyticsSections.GUILD_CAP_UPSELL_MODAL},analyticsLocations:Z});return e.abrupt("return");case 6:Q(!0);e.prev=7;e.t0=null!=j;if(!e.t0){e.next=12;break}e.next=12;return j(R.id);case 12:e.prev=12;Q(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[7,,12,15]])})));return function(t){return e.apply(this,arguments)}}();a.useEffect((function(){return S.DiscoveryTagsExperiment.trackExposure({})}));var re=S.DiscoveryTagsExperiment.useExperiment({}).shouldDisplayTags,ae=(0,E.useCanSeeDiscoveryContextMenu)();return a.createElement(a.Fragment,null,k("div",{className:T.default.card},void 0,X?k(y.default,{type:y.default.Type.PULSING_ELLIPSIS,className:T.default.spinner}):null,k(c.default,{className:(0,o.default)(T.default.container,(r={},r[T.default.hover]=z,r[T.default.submitting]=X,r)),onClick:ne,onContextMenu:function(e){(0,i.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{guild:R}))}));case 5:case"end":return e.stop()}}),e)}))))},onMouseEnter:function(){return $(!0)},onMouseLeave:function(){return $(!1)}},void 0,k("div",{className:(0,o.default)(T.default.splashContainer,(M={},M[T.default.splashContainerWithTags]=re,M))},void 0,k("img",{src:ee,alt:"",className:T.default.splashImage,width:240})),k("div",{className:(0,o.default)(T.default.content,(N={},N[T.default.contentWithTags]=re,N))},void 0,k("div",{className:T.default.header},void 0,k(_.default,{mask:_.default.Masks.SQUIRCLE,width:32,height:32},void 0,k("img",{src:te,alt:"",className:T.default.avatar})),k("div",{className:T.default.headerName},void 0,k(p.default,{guild:R,className:T.default.guildBadge}),k(v.Heading,{variant:"heading-md/medium",className:T.default.headerTitle,level:3},void 0,B))),k(m.Text,{
className:T.default.description,variant:"text-sm/normal"},void 0,H),re&&Y&&U&&k(u.DiscoveryTags,{guildId:R.id,discoveryTagStyle:u.DiscoveryTagStyle.ALT,onTagClick:function(e){return U(e,R.id)},tags:Y,section:g.AnalyticsContexts.SEARCH}),k("div",{className:T.default.memberInfo},void 0,null!=W&&k("div",{className:T.default.memberCount},void 0,k(m.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:W}))),null!=V&&a.createElement(a.Fragment,null,k("div",{className:T.default.dotSeparator}),k("div",{className:T.default.memberCount},void 0,k(m.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:V})))))),ae?k("div",{className:T.default.actionButtons},void 0,k(O.default,{guild:R})):null)),k("hr",{className:T.default.separator}))};t.default=U},886836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=m(n(667294)),o=v(n(294184)),i=v(n(730977)),u=v(n(775803)),l=m(n(962989)),s=n(184767),d=v(n(247001)),f=v(n(498154)),c=["onClick"],p=["onClick"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)
}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n=e.guild,r=E(a.useState(!1),2),v=r[0],y=r[1],m=a.useCallback((function(){return y(!0)}),[y]),S=a.useCallback((function(){return y(!0)}),[y]);return h("div",{className:(0,o.default)(f.default.actionButtonsContainer,(t={},t[f.default.forceButtonsShow]=v,t))},void 0,h(l.default,{},void 0,h(s.GuildDiscoveryMenuPopout,{onRequestOpen:m,onRequestClose:S,guild:n},void 0,(function(e){var t=e.onClick,n=g(e,c)
;return h(i.default,{text:d.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=g(e,p);return a.createElement(l.Button,_({},n,o,{onClick:function(e){e.stopPropagation();null==r||r();t(e)},"aria-label":d.default.Messages.MORE}),h(u.default,{className:f.default.overflowIcon}))}))}))))}O.displayName="DiscoveryCardActionButtons";var b=O;t.default=b},684631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=o(r.useState(0),2),n=t[0],a=t[1],u=r.useCallback((function(){for(var t,n=window.innerWidth,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var u=o(t.value,2),l=u[0],s=u[1];if(n>=l){a(s);return}}}),[e]);r.useEffect((function(){u()}),[u]);r.useEffect((function(){window.addEventListener("resize",u);return function(){window.removeEventListener("resize",u)}}));return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}
function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730034:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(684769);var i={init:function(){a.default.subscribe("CONNECTION_OPEN",(function(){(0,o.reset)()}));a.default.subscribe("LOGOUT",(function(){(0,o.reset)()}))}};t.default=i},142721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(923387),u=n(828593),l=_(n(960441)),s=_(n(956117)),d=_(n(530250)),f=_(n(665759)),c=_(n(567668)),p=n(688388),v=_(n(114655)),y=n(925179),m=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.contents,n=e.content,r=(0,y.hasBit)(t,i.DismissibleContent[n]);return a.createElement(a.Fragment,null,S(c.default,{value:r,onChange:function(){r?(0,
u.removeDismissedContent)(i.DismissibleContent[n]):(0,u.addDismissedContent)(i.DismissibleContent[n])}},void 0,S(p.FormText,{size:v.default.Sizes.SIZE_16,className:m.default.marginTop4},void 0,n.toLowerCase()+" ("+i.DismissibleContent[n]+")")))}var b=S(p.FormTitle,{},void 0,"Available Dismissible Contents"),I=S("div",{},void 0,S(p.FormTitle,{},void 0,"Dismissed"));function T(){var e,t=g(a.useState(""),2),n=t[0],r=t[1],c=null!==(e=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.settings.userContent)||void 0===e?void 0:e.dismissedContents})))&&void 0!==e?e:new Uint8Array;return S(p.FormSection,{title:"Dismissible Contents",tag:p.FormTitleTags.H1},void 0,S(f.default,{className:m.default.marginBottom20,size:f.default.Sizes.LARGE,query:n,onChange:r,onClear:function(){return r("")}}),S(d.default,{className:m.default.marginBottom20},void 0,b,I),Object.keys(i.DismissibleContent).filter((function(e){return e.toLowerCase().includes(n.toLowerCase())
})).sort((function(e,t){return e.localeCompare(t)})).map((function(e){if(isNaN(Number(e)))return S(O,{contents:c,content:e},e)})),S(s.default,{look:s.default.Looks.LINK,onClick:u.clearDismissedContents},void 0,"Clear All Dismissed Contents"))}T.displayName="DismissibleContentConfiguration"},802922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DismissibleContentNotices=void 0;var r,a=A(n(667294)),o=n(536211),i=n(923387),u=n(483559),l=T(n(226800)),s=T(n(155502)),d=T(n(754416)),f=T(n(959487)),c=T(n(29864)),p=T(n(877454)),v=n(139982),y=T(n(296005)),m=T(n(41024)),_=T(n(11888)),h=n(194322),g=A(n(177101)),E=T(n(308920)),S=T(n(305081)),O=n(770348),b=T(n(247001)),I=T(n(202192));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=function(e){var t=e.dismissibleContent,r=e.noticeType,T=(0,o.useStateFromStores)([y.default],(function(){return y.default.getNotice()}));return R(S.default,{contentTypes:[t]},void 0,(function(e){var t=e.visibleContent,o=e.markAsDismissed;switch(t){case i.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD:return R(g.default,{color:g.NoticeColors.DEFAULT},void 0,R(g.NoticeCloseButton,{onClick:o,noticeType:r}),b.default.Messages.NOTICE_NATIVE_APPS_2020_06,R("i",{className:I.default.iconApple}),R("i",{className:I.default.iconAndroid}),R("i",{className:I.default.iconWindows}),R(g.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){(0,
h.openModalLazy)(P(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({source:"Top Bar Nag"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,b.default.Messages.DOWNLOAD));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY:return R(g.default,{color:g.NoticeColors.SPOTIFY},void 0,R(g.NoticeCloseButton,{onClick:o,noticeType:r}),R(_.default,{className:I.default.platformIcon}),b.default.Messages.NOTICE_CONNECT_SPOTIFY,R(g.PrimaryCTANoticeButton,{onClick:function(){return(0,d.default)(O.PlatformTypes.SPOTIFY,"Notice Bar")},noticeType:r},void 0,b.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return R(g.default,{color:g.NoticeColors.PLAYSTATION},void 0,R(g.NoticeCloseButton,{onClick:o}),R("img",{alt:"",
className:I.default.platformIcon,src:s.default.get(O.PlatformTypes.PLAYSTATION).icon.whiteSVG}),b.default.Messages.NOTICE_CONNECT_PLAYSTATION,R(g.NoticeButton,{onClick:function(){return(0,d.default)(O.PlatformTypes.PLAYSTATION,"Notice Bar")}},void 0,b.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP:return R(g.default,{color:g.NoticeColors.DEFAULT},void 0,R(g.NoticeCloseButton,{onClick:o,noticeType:r}),b.default.Messages.NOTICE_MFA_SMS_BACKUP,R(g.PrimaryCTANoticeButton,{onClick:function(){return l.default.open(O.UserSettingsSections.ACCOUNT)},noticeType:r},void 0,b.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO:return R(g.default,{color:g.NoticeColors.PREMIUM_TIER_2},void 0,R("span",{className:I.default.premiumLogo}),R("span",{className:I.default.premiumText},void 0,b.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),R(g.PrimaryCTANoticeButton,{className:I.default.premiumAction,noticeType:r,
onClick:function(){E.default.track(O.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:O.AnalyticsSections.NOTIFICATION_BAR,location_object:O.AnalyticsObjects.BUTTON_CTA});l.default.open(O.UserSettingsSections.PREMIUM)}},void 0,b.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),R(g.NoticeCloseButton,{onClick:function(){o();(0,u.setFlag)(O.UserFlags.PREMIUM_PROMO_DISMISSED,!0)},noticeType:r}));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return R(p.default,{dismissCurrentNotice:o});case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return R(g.default,{color:g.NoticeColors.PREMIUM_TIER_2},void 0,R(g.NoticeCloseButton,{noticeType:r,onClick:o}),b.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,R(g.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){o();l.default.open(O.UserSettingsSections.PREMIUM)}},void 0,b.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT))
;case i.DismissibleContent.NAGBAR_NOTICE_LOCALIZED_PRICING:return R(c.default,{notice:T,noticeType:r,dismissCurrentNotice:o});case i.DismissibleContent.DROPS_GO_LIVE_BANNER_NOTICE:return R(f.default,{noticeType:r,markAsDismissed:o});case i.DismissibleContent.PREMIUM_TIER_0_NOTICE:var y=T.metadata.monthlyPrice;return R(g.default,{color:g.NoticeColors.PREMIUM_TIER_2},void 0,R(g.NoticeCloseButton,{noticeType:r,onClick:o}),R(m.default,{className:I.default.premiumIcon}),b.default.Messages.PREMIUM_TIER_0_NOTICE_TEXT.format({monthlyPrice:y}),R(g.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){o();(0,v.transitionTo)(O.Routes.APPLICATION_STORE)}},void 0,b.default.Messages.LEARN_MORE))}}))};t.DismissibleContentNotices=w;w.displayName="DismissibleContentNotices"},528831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.allowMessagesFromSpamUser=function(e){a.default.dispatch({type:"ALLOW_SPAM_MESSAGES_FOR_USER",userId:e})};t.hideMessagesFromSpamUser=function(e){
a.default.dispatch({type:"HIDE_SPAM_MESSAGES_FOR_USER",userId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},448673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=new Set;var l=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(u=new Set(e))};n.hasAllowedSpamUser=function(e){return u.has(e)};n.getState=function(){return u};n.__getLocalVars=function(){return{allowedSpamUsers:u}};return t}(r.default.PersistedStore);l.displayName="SpamMessageAcceptStore";l.persistKey="SpamMessageAcceptStore";var s=new l(a.default,{ALLOW_SPAM_MESSAGES_FOR_USER:function(e){var t=e.userId;u.add(t)},
HIDE_SPAM_MESSAGES_FOR_USER:function(e){var t=e.userId;u.delete(t)}});t.default=s},78528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useDisplayDMSpamBanner=function(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=(0,r.useStateFromStores)([o.default],(function(){var t;return!0===(null===(t=o.default.getUser(e.getRecipientId()))||void 0===t?void 0:t.hasFlag(u.UserFlags.SPAMMER))}),[e]),l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getMessages(e.id).length>0}),[e]),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.hasAllowedSpamUser(e.getRecipientId())}),[e]);return t&&n&&l&&!s};var r=n(536211),a=l(n(201292)),o=l(n(728429)),i=l(n(448673)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},105149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SenderSpammerBanner=T;E(n(667294))
;var r,a=n(536211),o=h(n(190040)),i=h(n(709403)),u=h(n(237923)),l=n(960736),s=h(n(728429)),d=E(n(956117)),f=n(767019),c=n(143586),p=h(n(308920)),v=n(528831),y=n(770348),m=h(n(247001)),_=h(n(157358));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=n(513157);function T(e){var t=e.channel,n=t.getRecipientId(),r=(0,a.useStateFromStores)([s.default],(function(){var e=s.default.getUser(n);return null!=e?e.username:null})),h=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,
safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});e.next=3;return i.default.closePrivateChannel(t.id,!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});e.next=3;return u.default.addRelationship({userId:n,context:{location:"DMSpamModal"},type:y.RelationshipTypes.BLOCKED});case 3:e.next=5;return i.default.closePrivateChannel(t.id,!0);case 5:(0,c.showToast)((0,f.createToast)(m.default.Messages.SPAMMER_BLOCKED.format({username:r}),f.ToastType.SUCCESS));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(l.MessageNoticeBanner,{bannerIcon:I,
bannerHeader:m.default.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:m.default.Messages.ACCEPT_SPAM_DM_SUBTEXT},void 0,S(d.default,{className:_.default.largeButton,look:d.default.Looks.LINK,size:d.default.Sizes.SMALL,color:d.default.Colors.TRANSPARENT,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"not_spam"});(0,v.allowMessagesFromSpamUser)(n)}},void 0,m.default.Messages.REPORT_NOT_SPAM),S(d.default,{className:_.default.largeButton,look:d.default.Looks.FILLED,size:d.default.Sizes.SMALL,color:d.ButtonColors.RED,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"close_channel_click"});o.default.show({title:m.default.Messages.BLOCK_SPAMMER_HEADER,body:m.default.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:r}),onCancel:h,cancelText:m.default.Messages.CANCEL,onConfirm:g,
confirmText:m.default.Messages.BLOCK});i.default.closePrivateChannel(t.id,!0)}},void 0,m.default.Messages.CLOSE_DM))}T.displayName="SenderSpammerBanner"},916239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=[{keybinds:["Spacebar","Enter"],name:f.default.Messages.DND_OPERATION_LABEL_DROP},{keybinds:["up","down"],name:f.default.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],name:f.default.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),n=(0,d.useDndMode)();return(0,o.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},config:o.config.stiff})((function(t,n){return n?y("div",{className:c.default.positioner},void 0,y(o.animated.div,{className:c.default.container,style:t},void 0,e.map((function(t,n){var r=t.keybinds,o=t.name;return y(a.Fragment,{},o,y(s.Text,{variant:"text-md/normal",className:c.default.bindName
},void 0,o),r.map((function(e){return y(l.default,{shortcut:e,className:c.default.shortcut},e)})),n<e.length-1?y("span",{className:c.default.separator}):null)})))):null}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=n(536211),u=p(n(235879)),l=p(n(749666)),s=n(645758),d=n(412317),f=p(n(247001)),c=p(n(923947));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},436592:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DROPS_PLATFORMS=void 0;t.useDrops=function(){return{title:"Drops Placeholder Name",imagePath:"",endDate:"2022-12-31",termsAndConditions:"Terms and Conditions"}};t.DROPS_PLATFORMS=["XBOX","PLAYSTATION"]},204953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(972247)),i=v(n(226800)),u=v(n(956117)),l=n(772575),s=n(645758),d=n(169749),f=n(770348),c=n(583551),p=v(n(816043));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function _(e){var t=e.markAsDismissed;a.useEffect((function(){d.DropsForGoLiveExperiment.trackExposure({})}));return m("div",{className:p.default.container},void 0,m(l.Heading,{className:p.default.title,level:3,variant:"heading-md/bold"},void 0,"Sea of Thieves Battlepass"),m(s.Text,{variant:"text-sm/medium",className:p.default.subTitle},void 0,"Go Live in Sea of Thieves for [x] minutes to unlock a free battlepass!"),m(u.default,{innerClassName:p.default.button,look:u.default.Looks.INVERTED,fullWidth:!0,onClick:function(){o.default.set(d.STORAGE_GO_LIVE_ENROLLMENT_KEY,1);i.default.open(f.UserSettingsSections.INVENTORY);t(c.ContentDismissActionType.PRIMARY)}},void 0,"Enroll Account"),m(u.default,{className:p.default.linkButtonContainer,innerClassName:p.default.linkButton,onClick:function(){t(c.ContentDismissActionType.DISMISS)},look:u.default.Looks.LINK,fullWidth:!0,color:u.default.Colors.WHITE},void 0,"Not Right Now"),m("div",{className:p.default.pointer}))
}_.displayName="EligibilityEnrollmentTooltip"},959487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=_(n(667294)),o=y(n(954140)),i=y(n(644263)),u=y(n(211136)),l=y(n(790597)),s=y(n(956117)),d=n(194322),f=_(n(177101)),c=n(583551),p=y(n(247001)),v=y(n(494284));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=function(e){var t=e.noticeType,r=e.markAsDismissed
;return h(f.default,{className:v.default.colorGuildBlue},void 0,"You're enrolled! Go Live now for [x] minutes and unlock a free Sea of Thieves battlepass!",h(f.PrimaryCTANoticeButton,{onClick:function(){var e=i.default.getChannel(u.default.getVoiceChannelId()),t=l.default.getGuildId(),r=null!=e?e.getGuildId():t;(0,d.openModalLazy)(S(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15084)]).then(n.bind(n,815084));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return a.createElement(i,g({},e,{selectSource:!1,guildId:r,analyticsLocation:o.default.DROPS_GO_LIVE_BANNER_NOTICE}))}));case 5:case"end":return e.stop()}}),e)}))))},noticeType:t},void 0,p.default.Messages.GO_LIVE_MODAL_CTA),h(s.default,{className:v.default.button,size:s.default.Sizes.SMALL,onClick:function(){r(c.ContentDismissActionType.DISMISS)},look:s.default.Looks.LINK,
color:s.default.Colors.PRIMARY},void 0,"Stop reminding me"),h(f.NoticeCloseButton,{onClick:function(){r(c.ContentDismissActionType.SECONDARY)},noticeType:t}))};O.displayName="GoLiveExperimentBannerNotice";var b=O;t.default=b},245275:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(226800)),o=v(n(956117)),i=v(n(16941)),u=n(772575),l=n(645758),s=v(n(259530)),d=n(770348),f=n(583551),c=v(n(247001)),p=v(n(748594));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.markAsDismissed;return m("div",{className:p.default.container},void 0,m(i.default,{className:p.default.closeButtonContainer,onClick:function(){t(f.ContentDismissActionType.DISMISS)},"aria-label":c.default.Messages.DISMISS},void 0,m(s.default,{className:p.default.closeIcon,width:16,height:16,color:d.Colors.WHITE})),m(u.Heading,{className:p.default.title,level:3,variant:"heading-md/bold"},void 0,"YOU DID IT!"),m(l.Text,{
variant:"text-sm/medium",className:p.default.subTitle},void 0,"Go collect your free Sea of Thieves battlepass in your gift inventory."),m(o.default,{innerClassName:p.default.button,look:o.default.Looks.INVERTED,fullWidth:!0,onClick:function(){a.default.open(d.UserSettingsSections.INVENTORY);t(f.ContentDismissActionType.PRIMARY)}},void 0,"Claim Reward"),m("div",{className:p.default.pointer}))}_.displayName="QuestCompletionTooltip"},472183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TrackOnceExperiment=t.TrackOnChangeExperiment=t.TrackEveryRenderExperiment=t.GatedParentExperiment=t.GatedChildExperiment=void 0;t.useGatedExperimentTracking=function(){var e=l.useExperiment({}).treatment;a.useEffect((function(){l.trackExposure({});e>0&&s.trackExposure({})}),[e])};t.useTrackTimingExperimentTracking=function(){f.trackExposure({});a.useEffect((function(){d.trackExposure({})}),[]);var e=c.useExperiment({}).treatment;a.useEffect((function(){c.trackExposure({})}),[e])
};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(822350))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e){var t=e.id,n=e.label;return(0,o.default)({kind:"user",id:t,label:n,defaultConfig:{treatment:0},treatments:[{id:1,label:"Treatment 1",config:{treatment:1}},{id:2,label:"Treatment 2",config:{treatment:2}}]})}var l=u({id:"2022-07_debug_gated_parent_experiment",label:"[Debugging] Gated Parent Expriment"});t.GatedParentExperiment=l;var s=u({
id:"2022-07_debug_gated_child_experiment",label:"[Debugging] Gated Child Expriment"});t.GatedChildExperiment=s;var d=u({id:"2022-08_debug_track_once_experiment",label:"[Debugging] Track Once Expriment"});t.TrackOnceExperiment=d;var f=u({id:"2022-08_debug_track_every_render_experiment",label:"[Debugging] Track Every Render Expriment"});t.TrackEveryRenderExperiment=f;var c=u({id:"2022-08_debug_track_on_change_experiment",label:"[Debugging] Track On Change Expriment"});t.TrackOnChangeExperiment=c},480519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(177230)),o=n(754126);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}function l(e){var t=e.channel.id;(0,o.removeFavoriteChannel)(t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("CHANNEL_DELETE",l)};n._terminate=function(){r.default.unsubscribe("CHANNEL_DELETE",l)};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=s},978664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStoresObject)([o.default,a.default,i.default],(function(){if(e!==u.FAVORITES)return o.default.getVoiceStates(e);var t=i.default.getFavoriteChannels(),n={};for(var r in t){var l=a.default.getChannel(r);null!=l&&(n[r]=o.default.getVoiceStatesForChannel(l))}return n}),[e])};var r=n(536211),a=l(n(644263)),o=l(n(487372)),i=l(n(982879)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},265328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(956117)),u=n(645758),l=c(n(308920)),s=n(770348),d=c(n(247001)),f=c(n(495188));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=a.forwardRef((function(e,t){var n,r=e.closePopout,c=e.body,p=e.header,y=e.artClassName,m=e.tryItText,_=e.onTryFeature,h=e.analyticsName,g=e.analyticsSection,E=e.className;a.useEffect((function(){l.default.track(s.AnalyticEvents.UPSELL_VIEWED,{type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:h,location_section:g})}),[]);function S(e){l.default.track(s.AnalyticEvents.UPSELL_CLICKED,{type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:h,action:e,location_section:g})}return a.createElement("div",{className:(0,o.default)(f.default.container,E),ref:t},v("div",{className:(0,o.default)(f.default.content,(n={},n[f.default.contentNoArt]=null==y,n))},void 0,v("div",{className:(0,o.default)(y,f.default.art)}),v(u.Text,{className:f.default.headerText,variant:"text-md/normal",color:"none"},void 0,p),v("div",{className:f.default.bodyContainer},void 0,null==c?null:"string"==typeof c?v(u.Text,{className:f.default.bodyText,
variant:"text-sm/normal",color:"none"},void 0,c):c),null!=_?a.createElement(a.Fragment,null,v(i.default,{className:f.default.tryButton,size:i.default.Sizes.MAX,onClick:function(){r();_();S(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE},void 0,null!=m?m:d.default.Messages.EDUCATION_NEW_FEATURE_TRY_IT),v(i.default,{className:f.default.dismissButton,size:i.default.Sizes.MAX,onClick:function(){r();S(s.UpsellActionTypes.DISMISS)},color:i.default.Colors.BRAND},void 0,d.default.Messages.EDUCATION_NEW_FEATURE_DISMISS)):v(i.default,{className:f.default.confirmButton,size:i.default.Sizes.MAX,onClick:function(){r();S(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE},void 0,d.default.Messages.EDUCATION_NEW_FEATURE_CONFIRM),v("div",{className:f.default.pointer})))}));t.default=y},455002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackTypePrecedence=t.FeedbackType=t.FeedbackRating=t.FEEDBACK_FREEFORM_LENGTH=void 0;function n(){
n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return n.apply(this,arguments)}var r;t.FeedbackRating=r;!function(e){e.BAD="bad";e.NEUTRAL="neutral";e.GOOD="good"}(r||(t.FeedbackRating=r={}));var a;t.FEEDBACK_FREEFORM_LENGTH=1024;t.FeedbackType=a;!function(e){e[e.VOICE=0]="VOICE";e[e.STREAM=1]="STREAM";e[e.VIDEO_BACKGROUND=2]="VIDEO_BACKGROUND";e[e.ACTIVITY=3]="ACTIVITY"}(a||(t.FeedbackType=a={}));var o=[a.VIDEO_BACKGROUND,a.ACTIVITY,a.STREAM,a.VOICE].reduce((function(e,t,r){var a;return n({},e,((a={})[t]=r,a))}),{});t.FeedbackTypePrecedence=o},755540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=f(n(496486)),o=f(n(972247)),i=f(n(177230)),u=n(6505),l=f(n(652566)),s=f(n(893160)),d=n(455002);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={chance:.2,cooldown:864e5},y=((r={})[d.FeedbackType.VOICE]=p({},v,{hotspot:u.HotspotLocations.VOICE_CALL_FEEDBACK,storageKey:"lastVoiceFeedback",eligibilityChecks:[function(e){if(!s.default.getWasEverRtcConnected())return!0;return s.default.getWasEverMultiParticipant()}]}),r[d.FeedbackType.STREAM]=p({},v,{hotspot:u.HotspotLocations.REPORT_PROBLEM_POST_STREAM}),r[d.FeedbackType.VIDEO_BACKGROUND]=p({},v,{hotspot:u.HotspotLocations.VIDEO_BACKGROUND_FEEDBACK,storageKey:"lastVideoBackgroundFeedback"}),r[d.FeedbackType.ACTIVITY]={cooldown:0,chance:1,hotspot:u.HotspotLocations.POST_ACTIVITY_FEEDBACK,storageKey:"lastActivityFeedback"},r);function m(e){return l.default.hasHotspot(e.hotspot)}function _(e){return Math.random()<e.chance}function h(e){
if(null!=e.storageKey){var t=o.default.get(e.storageKey);if(null!=t&&Date.now()-t<e.cooldown)return!1}return!0}function g(e){var t=y[e];null!=t.storageKey&&o.default.set(t.storageKey,Date.now())}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).feedbackTypeToShow=null;t.showFeedbackModalDebounced=a.default.debounce((function(e){if(null!=t.feedbackTypeToShow){g(t.feedbackTypeToShow);t.feedbackTypeToShow=null;e()}}),200);return t}t.prototype.possiblyShowFeedbackModal=function(e,t){if(function(e){var t,n=y[e],r=[h,_,m],a=null!==(t=n.eligibilityChecks)&&void 0!==t?t:[];return r.every((function(e){return e(n)}))&&a.every((function(e){return e(n)}))}(e)&&!(null!=this.feedbackTypeToShow&&d.FeedbackTypePrecedence[this.feedbackTypeToShow]<d.FeedbackTypePrecedence[e])){this.feedbackTypeToShow=e
;this.showFeedbackModalDebounced(t)}};return t}(i.default);t.default=E},41194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.shuffleProblems=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};t.shuffleProblems=function(e,t){var n=a.default.shuffle(e),r=n.findIndex((function(e){return e.value===t}));if(r>-1){var o=n[r];n.splice(r,1);n.push(o)}return n}},697786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=S(n(667294)),a=g(n(636602)),o=n(747868),i=n(10614),u=g(n(902305)),l=g(n(423046)),s=g(n(644263)),d=g(n(288356)),f=g(n(788739)),c=g(n(893160)),p=g(n(359973)),v=S(n(194322)),y=g(n(755540)),m=n(455002),_=n(770348),h=n(371621);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var C=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,a=arguments.length,y=new Array(a),g=0;g<a;g++)y[g]=arguments[g];(t=e.call.apply(e,[this].concat(y))||this).handleVoiceChannelFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(m.FeedbackType.VOICE,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(11956).then(n.bind(n,411956));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleStreamClose=function(e){var a=e.streamKey,u=e.canShowFeedback,s=(0,o.decodeStreamKey)(a),d=(0,i.getStreamerApplication)(s,f.default),c={media_session_id:p.default.getActiveMediaSessionId(),rtc_connection_id:p.default.getActiveRTCConnectionId()}
;u&&t.possiblyShowFeedbackModal(m.FeedbackType.STREAM,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(20070).then(n.bind(n,20070));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({stream:s,streamApplication:d,isStreamer:s.ownerId===l.default.getId()},e,{analyticsData:c}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleVideoBackgroundShowFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(m.FeedbackType.VIDEO_BACKGROUND,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(95159).then(n.bind(n,995159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,O({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))
};t.handleActivityClose=function(e){var a=e.applicationId,o=e.channelId,i=e.showFeedback,l=d.default.getGame(a),f=s.default.getChannel(o),p={rtc_connection_id:c.default.getRTCConnectionId(),media_session_id:c.default.getMediaSessionId()},y=u.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?h.POPOUT_MODAL_CONTEXT:h.DEFAULT_MODAL_CONTEXT;null!=l&&null!=f&&i&&t.possiblyShowFeedbackModal(m.FeedbackType.ACTIVITY,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(79020).then(n.bind(n,879020));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,O({},e,{activityApplication:l,channel:f,analyticsData:p}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:y})}))};return t}var y=t.prototype;y._initialize=function(){a.default.subscribe("VOICE_CHANNEL_SHOW_FEEDBACK",this.handleVoiceChannelFeedback)
;a.default.subscribe("STREAM_CLOSE",this.handleStreamClose);a.default.subscribe("VIDEO_BACKGROUND_SHOW_FEEDBACK",this.handleVideoBackgroundShowFeedback);a.default.subscribe("EMBEDDED_ACTIVITY_CLOSE",this.handleActivityClose)};y._terminate=function(){a.default.unsubscribe("VOICE_CHANNEL_SHOW_FEEDBACK",this.handleVoiceChannelFeedback);a.default.unsubscribe("STREAM_CLOSE",this.handleStreamClose);a.default.unsubscribe("VIDEO_BACKGROUND_SHOW_FEEDBACK",this.handleVideoBackgroundShowFeedback);a.default.unsubscribe("EMBEDDED_ACTIVITY_CLOSE",this.handleActivityClose)};return t}(y.default));t.default=C},392110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RatingsSelector=R;t.default=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(294184)),i=T(n(496486)),u=T(n(145371)),l=T(n(956117)),s=T(n(789446)),d=T(n(168391)),f=T(n(16941)),c=T(n(530250)),p=n(645758),v=T(n(39118)),y=n(354479),m=n(688388),_=T(n(942575)),h=T(n(114655)),g=n(3400),E=T(n(550270)),S=n(41194),O=n(455002),b=T(n(247001)),I=T(n(839319));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0
;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=[{className:I.default.emojiSad,rating:O.FeedbackRating.BAD},{className:I.default.emojiNeutral,rating:O.FeedbackRating.NEUTRAL},{className:I.default.emojiHappy,rating:O.FeedbackRating.GOOD}];function R(e){var t=e.className,n=e.selectedRating,r=e.onChangeRating;return N(c.default,{justify:c.default.Justify.BETWEEN,align:c.default.Align.CENTER,className:(0,o.default)(I.default.ratingsSelector,t)},void 0,P.map((function(e){var t=e.rating,a=e.className;return N(f.default,{onClick:function(){return r(t)},"aria-label":t},t,N("div",{className:(0,o.default)(a,n===t?I.default.selected:null)}))})))}R.displayName="RatingsSelector";function w(){return N(p.Text,{className:I.default.helpdeskLink,variant:"text-xs/normal",color:"text-muted"},void 0,b.default.Messages.FEEDBACK_NEED_MORE_HELP.format({helpdeskURL:E.default.getSubmitRequestURL()}))}
w.displayName="HelpdeskLink";var D=N(w,{});function L(e){var t=e.header,n=e.body,r=e.problemTitle,o=e.problems,f=e.transitionState,E=e.feedbackProblems,T=void 0===E?[]:E,C=e.otherKey,M=e.onSubmit,P=e.onClose,w=(0,u.default)(o),L=A(a.useState(!1),2),k=L[0],j=L[1],U=A(a.useState(null),2),G=U[0],F=U[1],x=A(a.useState(null),2),B=x[0],H=x[1],W=A(a.useState(i.default.shuffle(o)),2),V=W[0],Y=W[1],K=A(a.useState(""),2),z=K[0],$=K[1],q=(0,y.useUID)(),X=(0,_.default)(G),Q=(0,_.default)(k),Z=(0,_.default)(B),J=(0,_.default)(M),ee=(0,_.default)(z),te=null!=B&&T.includes(B);a.useEffect((function(){i.default.isEqual(w,o)||Y((0,S.shuffleProblems)(o,C))}),[o,w,C]);a.useEffect((function(){return function(){J.current({rating:X.current,problem:Z.current,dontShowAgain:Q.current,feedback:ee.current})}}),[]);return N(g.ModalRoot,{transitionState:f,className:I.default.modalRoot,"aria-labelledby":q},void 0,N(g.ModalHeader,{separator:!1,className:I.default.headerContainer},void 0,N(h.default,{id:q,
className:I.default.header,color:h.default.Colors.CUSTOM,size:h.default.Sizes.SIZE_24},void 0,t),N(p.Text,{variant:"text-md/normal",color:"none",className:I.default.ratingBody},void 0,n),te?null:N(R,{className:I.default.emojis,selectedRating:G,onChangeRating:function(e){F(e);e===O.FeedbackRating.GOOD&&P()}})),N(g.ModalContent,{className:I.default.content},void 0,null==G||G===O.FeedbackRating.GOOD||te?null:N(m.FormItem,{title:r,className:I.default.problemInfo},void 0,N(d.default,{options:V,onClick:function(e){var t=e.value;H(t);T.includes(t)||P()}})),te?N(m.FormItem,{title:b.default.Messages.FEEDBACK_DESCRIBE_ISSUE,className:I.default.problemInfo},void 0,N(v.default,{value:z,maxLength:O.FEEDBACK_FREEFORM_LENGTH,onChange:$}),D):null),N(g.ModalFooter,{className:I.default.footer,direction:c.default.Direction.HORIZONTAL},void 0,te?a.createElement(a.Fragment,null,N(l.default,{size:l.default.Sizes.SMALL,look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:function(){H(null);$("")}
},void 0,b.default.Messages.BACK),N(l.default,{size:l.default.Sizes.SMALL,onClick:P},void 0,b.default.Messages.SUBMIT)):N(s.default,{type:s.default.Types.INVERTED,size:18,value:k,onChange:function(){return j(!k)}},void 0,N(p.Text,{variant:"text-sm/normal"},void 0,b.default.Messages.DONT_SHOW_AGAIN))))}L.displayName="FeedbackModal"},264426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_FORUM_TEMPLATE_LENGTH=t.MAX_FORUM_TAGS=t.MAX_FORUM_POST_TAGS=t.ForumOnboardingCTAs=t.FORUM_GUIDELINES_ACTION_SHEET=void 0;t.FORUM_GUIDELINES_ACTION_SHEET="forum-guidelines-action-sheet";t.MAX_FORUM_TAGS=20;t.MAX_FORUM_POST_TAGS=5;var n;t.MAX_FORUM_TEMPLATE_LENGTH=256;t.ForumOnboardingCTAs=n;!function(e){e.PERMISSIONS="Permissions";e.GUIDELINES="Guidelines";e.DEFAULT_REACTION="Default Reaction";e.CREATE_POST="Create Post"}(n||(t.ForumOnboardingCTAs=n={}))},475859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=o(n(972247)),a=o(n(177230));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u="formGuidelinesStorageKey",l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).seenForumGuidelines=new Set;return t}var n=t.prototype;n._initialize=function(){var e=r.default.get(u);null!=e&&(this.seenForumGuidelines=new Set(e))};n._terminate=function(){r.default.set(u,this.seenForumGuidelines)};n.markAsSeen=function(e){this.seenForumGuidelines.add(e);r.default.set(u,this.seenForumGuidelines)};n.hasSeen=function(e){return this.seenForumGuidelines.has(e)};n.__getLocalVars=function(){return{FORUM_GUIDELINES_STORAGE_KEY:u}};return t}(a.default));t.default=l},719192:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=u(n(644263)),i=n(988298);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("CHANNEL_PRELOAD",this.handleChannelPreload)};n._terminate=function(){r.default.unsubscribe("CHANNEL_PRELOAD",this.handleChannelPreload)};n.handleChannelPreload=function(e){var t=e.channelId,n=o.default.getChannel(t);null!=n&&n.isForumChannel()&&(0,i.preloadForumThreads)(n)};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=s},328798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(645758),o=u(n(417184)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=s(o.default,{width:14,height:14}),f=function(e,t){return s(a.Text,{color:"text-danger",style:{display:"flex",gap:"4px",margin:"8px 0 4px 0",alignItems:"center"},variant:"text-sm/normal"},t,d,e)};f.displayName="createPostsDisabledHook";var c={getForumChannelPermissionText:function(){return i.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT_DISABLED.format({warningHook:f})}};t.default=c},638534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.canCurrentUserSeeForumChannelUpsell=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(923387),o=y(n(636602)),i=y(n(177230)),u=n(844784),l=n(203847),s=y(n(30098)),d=y(n(689389)),f=n(194322),c=n(973523),p=n(770348),v=n(583551);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e,t){E=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return E(e,t)}var S=function(e,t){var n=(0,c.getEnableForumPermissions)(e),r=s.default.getGuild(e),o=Boolean(null==r?void 0:r.hasFeature(p.GuildFeatures.COMMUNITY)),i=d.default.can(p.Permissions.MANAGE_CHANNELS,r),u=(0,l.isDismissibleContentDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL),f=o&&i;f&&t&&c.GuildForumExperiment.trackExposure({guildId:e});return n&&f&&!u};t.canCurrentUserSeeForumChannelUpsell=function(e){return S(e,!1)};var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){o.default.subscribe("CHANNEL_SELECT",this.handleChannelSelect)};i._terminate=function(){o.default.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)};i.handleChannelSelect=function(e){var t=e.guildId;if(null!=t){if(S(t,!0)){(0,u.trackWithMetadata)(p.AnalyticEvents.OPEN_MODAL,{type:"Forum Channel Upsell Modal"});(0,
l.requestMarkDismissibleContentAsShown)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL);var o=function(e){void 0===e&&(e=v.ContentDismissActionType.DISMISS);(0,l.markDismissibleContentAsDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,f.openModalLazy)(g(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(83074)]).then(n.bind(n,583074));case 2:a=e.sent;i=a.default;return e.abrupt("return",(function(e){return r.createElement(i,_({},e,{onClose:function(t){o(t);e.onClose()},guildId:t,shouldUpsellCreation:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,l.markDismissibleContentAsDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:v.ContentDismissActionType.DISMISS})},onCloseRequest:p.NOOP_NULL})}}};i.__getLocalVars=function(){return{isEligibleForForumChannelExperiment:S}};return t
}(i.default));t.default=O},324935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=(0,o.useStateFromStores)([y.default],(function(){return y.default.getChannel(t)})),O=(0,o.useStateFromStores)([y.default],(function(){return y.default.getChannel(null==r?void 0:r.parent_id)})),b=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==r?void 0:r.getGuildId())})),T=(0,d.default)(r),M=a.useRef(!1);a.useEffect((function(){if(null!=r&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(y.default.getChannel(r.id),!0);(0,s.trackWithMetadata)(g.AnalyticEvents.CHANNEL_OPENED,A({},e,{channel_id:r.id,guild_id:r.guild_id,parent_id:r.parent_id,channel_view:"Split View"}))}}),[r]);if(null==r||null==b)return null;var N=I(v.default,{channel:r});return a.createElement(a.Fragment,null,I(l.default,{channel:r,draftType:m.DraftType.ChannelMessage}),I(h.default,{toolbar:N,
"aria-label":E.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:r,parentChannel:O,channelName:T,guild:b,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,C(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,A({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=r&&(0,p.transitionToGuild)(r.guild_id,r.id)}})),I("div",{className:S.default.chat},void 0,I(u.default,{channel:r,guild:b,chatInputType:f.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=O(n(914789)),l=O(n(805918)),s=n(844784),d=O(n(678928)),f=n(573285),c=n(451115),p=n(139982),v=O(n(621688)),y=O(n(644263)),m=n(687549),_=O(n(30098)),h=O(n(878556)),g=n(770348),E=O(n(247001)),S=O(n(452159));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}},651473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then((function(e){return a.default.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_SUCCESS",suggestions:e.body})}),(function(){
return a.default.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_FAILURE"})}))},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTION(e))}};t.default=u},677520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(496486)),a=s(n(536211)),o=s(n(636602)),i=s(n(759027)),u=s(n(728429)),l=s(n(651473));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={},y=0,m=!1,_=!1;function h(e){var t;return{key:e.suggested_user.id,name:null===(t=r.default.first(e.reasons))||void 0===t?void 0:t.name,user:new i.default(e.suggested_user)}}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default)};n.getSuggestionCount=function(){return y};n.getSuggestions=function(){return Object.entries(v).map((function(e){var t=d(e,2);t[0];return t[1]}))};n.getSuggestion=function(e){return v[e]};n.__getLocalVars=function(){return{suggestions:v,suggestionCount:y,fetching:m,shouldFetch:_}};return t}(a.default.Store);g.displayName="FriendSuggestionStore";var E=new g(o.default,{CONNECTION_OPEN:function(e){v={};if((y=e.friendSuggestionCount)>0){_=!0;!function(){if(!m&&_){m=!0;_=!1;l.default.fetch()}}()}},FRIEND_SUGGESTION_CREATE:function(e){var t,n=h(e.suggestion);if(null!=v[n.key])return!1;y++;v=p({},v,((t={})[n.key]=n,t))},FRIEND_SUGGESTION_DELETE:function(e){y=Math.max(0,--y);delete v[e.suggestedUserId]},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){m=!1;v=r.default.chain(e.suggestions).map(h).keyBy((function(e){return e.key})).value();y=r.default.keys(v).length},
LOAD_FRIEND_SUGGESTIONS_FAILURE:function(){m=!1;v={}}});t.default=E},979701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=h(n(441143)),a=n(91817),o=h(n(636602)),i=h(n(740207)),u=h(n(177230)),l=h(n(423046)),s=h(n(635014)),d=h(n(893160)),f=h(n(121441)),c=h(n(387692)),p=n(71246),v=n(689340),y=h(n(904577)),m=n(568429),_=n(376293);function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=3e3,S=3e4;function O(e){var t=d.default.getChannelId();(0,r.default)(null==t,"Syncing to remote while in voice!");e.selfMute!==s.default.isSelfMute()&&i.default.toggleSelfMute({syncRemote:!1});e.selfDeaf!==s.default.isSelfDeaf()&&i.default.toggleSelfDeaf({syncRemote:!1})}function b(e){var t=y.default.getAwaitingRemoteSessionType();return e.find((function(e){
var n=m.GAME_CONSOLE_SESSIONS.has(e.clientInfo.os),r=null!=c.default.getVoiceStateForSession(l.default.getId(),e.sessionId),a=null==t||t===e.clientInfo.os;return n&&a&&r}))}var I=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).rollbackCommandTimeout=new a.Timeout;t.awaitRemoteTimeout=new a.Timeout;t.maybeConnect=function(e){var n=b(e);if(null==n)return null;t.awaitRemoteTimeout.stop();(0,v.connectToRemote)(n.sessionId);var r=c.default.getVoiceStateForSession(l.default.getId(),n.sessionId);null!=r&&O(r)};t.handleAudioStateToggle=function(e){var n=e.syncRemote,r=e.context;if(n&&r===_.MediaEngineContextTypes.DEFAULT){var a=s.default.isSelfDeaf(),o=s.default.isSelfMute(),i=l.default.getId(),u=y.default.getRemoteSessionId();if(null!=u){var d=c.default.getVoiceStateForSession(i,u)
;if(null!=d&&(d.selfDeaf!==a||d.selfMute!==o)){(0,v.remoteVoiceStateUpdate)(u,{selfDeaf:a,selfMute:o});t.rollbackCommandTimeout.start(E,(function(){O(d)}))}}}};t.handleVoiceStateUpdates=function(e){var n=e.voiceStates,r=y.default.getRemoteSessionId();if(null==r){var a=n.map((function(e){var t=e.sessionId;return null!=t?f.default.getSessionById(t):null})).filter(p.isNotNullish);return t.maybeConnect(a)}var o=n.find((function(e){return e.sessionId===r}));if(null!=o){t.rollbackCommandTimeout.stop();O(o)}};t.handleSessionsChanged=function(e){var n=e.sessions,r=y.default.getRemoteSessionId();null!=r&&null==f.default.getSessionById(r)&&(0,v.disconnectRemote)();null==r&&t.maybeConnect(n)};t.handleWaitForRemoteSession=function(){t.awaitRemoteTimeout.start(S,(function(){(0,v.disconnectRemote)()}))};return t}var n=t.prototype;n._initialize=function(){o.default.subscribe("WAIT_FOR_REMOTE_SESSION",this.handleWaitForRemoteSession);o.default.subscribe("CONNECTION_OPEN",this.handleSessionsChanged)
;o.default.subscribe("SESSIONS_REPLACE",this.handleSessionsChanged);o.default.subscribe("AUDIO_TOGGLE_SELF_DEAF",this.handleAudioStateToggle);o.default.subscribe("AUDIO_TOGGLE_SELF_MUTE",this.handleAudioStateToggle);o.default.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};n._terminate=function(){o.default.unsubscribe("WAIT_FOR_REMOTE_SESSION",this.handleWaitForRemoteSession);o.default.unsubscribe("CONNECTION_OPEN",this.handleSessionsChanged);o.default.unsubscribe("SESSIONS_REPLACE",this.handleSessionsChanged);o.default.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this.handleAudioStateToggle);o.default.unsubscribe("AUDIO_TOGGLE_SELF_MUTE",this.handleAudioStateToggle);o.default.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};n.__getLocalVars=function(){return{ACTION_TIMEOUT_SECONDS:E,AWAIT_TIMEOUT_SECONDS:S}};return t}(u.default));t.default=I},717420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,
n(373505).createExperiment)({kind:"user",id:"2022-05_sprinkle_donut_experiment",label:"Sprinkle Donut Synergizer",defaultConfig:{allowSprinkleDonutSwitching:!1},treatments:[{id:1,label:"Donut Synergizer on",config:{allowSprinkleDonutSwitching:!0}}]});t.default=r},595955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.XboxVoiceExperiment=void 0;t.useAllowXboxSwitching=function(){var e=l.useExperiment({}).allowXboxSwitching,t=(0,a.useStateFromStores)([i.default],(function(){return i.default.getAccounts().some((function(e){var t=e.type,n=e.twoWayLink;return t===u.PlatformTypes.XBOX&&n}))}));return e||t};var r,a=n(536211),o=n(373505),i=(r=n(513266))&&r.__esModule?r:{default:r},u=n(770348);var l=(0,o.createExperiment)({kind:"user",id:"2022-04_donut_experiment",label:"Glazed Donut Synergizer",defaultConfig:{allowXboxSwitching:!1},treatments:[{id:1,label:"Donut Synergizer on",config:{allowXboxSwitching:!0}}]});t.XboxVoiceExperiment=l},337268:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.handoffRemote=function(e,t){var n,f,c,p=null!==(n=e.sessionId)&&void 0!==n?n:"";(0,s.remoteDisconnect)(p);(0,s.disconnectRemote)();var v=null!=t?t:e.channelId;e.selfMute!==i.default.isSelfMute()&&r.default.toggleSelfMute();e.selfDeaf!==i.default.isSelfDeaf()&&r.default.toggleSelfDeaf();l.default.track(d.AnalyticEvents.VOICE_CALL_TRANSFER,{source_platform:null===(f=u.default.getSessionById(p))||void 0===f?void 0:f.clientInfo.os,guild_id:null===(c=o.default.getChannel(v))||void 0===c?void 0:c.guild_id,channel_id:v,rtc_connection_id:null,target_platform:"discord_client"});a.default.selectVoiceChannel(v,!1)};var r=f(n(740207)),a=f(n(136873)),o=f(n(644263)),i=f(n(635014)),u=f(n(121441)),l=f(n(308920)),s=n(689340),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}},185490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([o.default],(function(){
return null!=o.default.getRemoteSessionId()||null!=o.default.getAwaitingRemoteSessionType()}))};var r,a=n(536211),o=(r=n(904577))&&r.__esModule?r:{default:r}},175881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){if(Math.random()<.05){var e=r.default.getSettings(),t=r.default.getSettings(i.MediaEngineContextTypes.STREAM);a.default.track(o.AnalyticEvents.LOCAL_VOICE_SETTINGS_LOADED,{num_user_volumes:Object.keys(e.localVolumes).length,num_local_user_mutes:Object.keys(e.localMutes).length,num_stream_volumes:Object.keys(t.localVolumes).length,num_stream_mutes:Object.keys(t.localMutes).length})}};var r=u(n(635014)),a=u(n(308920)),o=n(770348),i=n(376293);function u(e){return e&&e.__esModule?e:{default:e}}},713802:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return(0,a.useStateFromStoresArray)([o.default],(function(){
return[e?o.default.getAccount(null,u.PlatformTypes.XBOX):null].filter(i.isNotNullish)}))};var r,a=n(536211),o=(r=n(513266))&&r.__esModule?r:{default:r},i=n(71246),u=n(770348)},552681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(923387),u=A(n(825724)),l=A(n(305081)),s=A(n(145122)),d=A(n(222935)),f=A(n(143414)),c=A(n(122913)),p=A(n(121441)),v=A(n(160629)),y=n(194322),m=A(n(717420)),_=n(595955),h=A(n(970007)),g=A(n(713802)),E=A(n(402169)),S=A(n(403143)),O=A(n(263367)),b=n(568429),I=n(770348),T=A(n(247001)),C=["channel"];function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){var t=e.onClose,n=e.channel,r=(0,O.default)(n);return w(s.default,{onClose:t,onSelect:function(){return null},navId:"transfer-menu","aria-label":T.default.Messages.TRANSFER},void 0,r)}D.displayName="TransferMenu";function L(e){return null!=e?e===b.GameConsoleTypes.XBOX?T.default.Messages.XBOX_REMOTE_CONNECTED_RAW:T.default.Messages.DONUT_BAKED_SPRINKLES_RAW:T.default.Messages.CONSOLE_TRANSFER}function k(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,C),r=(0,h.default)(),s=(0,o.useStateFromStores)([p.default],(function(){var e,t;return null===(e=p.default.getSessionById(null!==(t=null==r?void 0:r.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os})),O=(0,
_.useAllowXboxSwitching)(),b=m.default.useExperiment({}).allowSprinkleDonutSwitching,T=(0,o.useStateFromStores)([c.default],(function(){return c.default.hasLayers()})),A=P((0,o.useStateFromStoresArray)([u.default],(function(){return[u.default.getMode(t.id),u.default.getLayout(t.id)]})),2),M=A[0],R=A[1],k=(0,y.useModalsStore)(y.hasAnyModalOpenSelector),j=(0,g.default)(O,b),U=P(a.useState(!1),2),G=U[0],F=U[1];if(null==r&&0===j.length)return null;var x=I.ChannelModes.VOICE!==M&&[I.ChannelLayouts.NO_CHAT,I.ChannelLayouts.FULL_SCREEN].includes(R)?v.default.Positions.TOP:v.default.Positions.BOTTOM;return w(l.default,{contentTypes:[i.DismissibleContent.DONUT_DESKTOP_NUX]},void 0,(function(e){var r=e.visibleContent,o=e.markAsDismissed,u=r===i.DismissibleContent.DONUT_DESKTOP_NUX,l=!T&&!k;return w(v.default,{position:x,spacing:u?16:void 0,positionKey:M+":"+R,onRequestClose:function(){return F(!1)},shouldShow:(u||G)&&l,renderPopout:function(e){var n=e.closePopout
;return w(d.default,{},void 0,u?w(E.default,{popoutPosition:x,onDismiss:o,onAccept:function(){o();F(!0)}}):w(D,{onClose:function(){n()},channel:t}))}},void 0,(function(e){return a.createElement(f.default,N({},e,{onClick:function(){return F(!0)},label:L(s),iconComponent:(0,S.default)(s)},n))}))}))}k.displayName="GameConsoleCallButton"},157836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(121441)),i=n(645758),u=c(n(303213)),l=c(n(545449)),s=n(568429),d=c(n(247001)),f=c(n(422916))
;function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.platform;return t===s.GameConsoleTypes.XBOX?v(u.default,{className:f.default.icon}):t===s.GameConsoleTypes.SPRINKLE?v(l.default,{className:f.default.icon}):null}function m(e){var t=e.voiceState,n=(0,a.useStateFromStores)([o.default],(function(){var e,n
;return null===(e=o.default.getSessionById(null!==(n=t.sessionId)&&void 0!==n?n:""))||void 0===e?void 0:e.clientInfo.os}));return v("div",{className:f.default.root},void 0,v(y,{platform:n}),v(i.Text,{color:"always-white",variant:"text-xs/medium"},void 0,d.default.Messages.XBOX_REMOTE_CONNECTED.format()))}m.displayName="GameConsoleConnectionStatus"},402169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;f(n(667294));var r,a=f(n(142024)),o=n(644105),i=s(n(247001)),u=s(n(236102)),l=s(n(206091));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.onDismiss,n=e.onAccept,r=e.popoutPosition;return c(a.default,{header:i.default.Messages.CONSOLE_NUX_TOOLTIP_HEADER,content:i.default.Messages.CONSOLE_NUX_TOOLTIP_BODY_XBOX,asset:c("img",{src:l.default,alt:"weird frog pointing at something",className:u.default.art}),onClick:n,onSecondaryClick:t,markAsDismissed:t,
buttonCTA:i.default.Messages.CONSOLE_NUX_TOOLTIP_ACCEPT,secondaryButtonCTA:i.default.Messages.CONSOLE_NUX_TOOLTIP_DISMISS,caretPosition:r===o.PopoutPositions.TOP?a.CaretPosition.BOTTOM_LEFT:a.CaretPosition.TOP_LEFT})}p.displayName="XboxNUXTooltip"},403143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(null!=e)return e===i.GameConsoleTypes.XBOX?a.default:o.default;return r.default};var r=u(n(557922)),a=u(n(303213)),o=u(n(545449)),i=n(568429);function u(e){return e&&e.__esModule?e:{default:e}}},263367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,s.useAllowXboxSwitching)(),r=(0,o.default)([u.default],(function(){return u.default.getChannelId()===e.id})),y=(0,f.default)(),m=(null==y?void 0:y.channelId)===e.id,h=(0,c.default)(t,!1);return m||0!==h.length?a.createElement(a.Fragment,null,m?E(i.MenuItem,{label:v.default.Messages.TRANSFER,id:"handoff",action:function(){(0,
d.handoffRemote)(y)},icon:(0,p.default)(void 0)}):h.map((function(t){return E(i.MenuItem,{id:"transfer-"+t.type+"-"+t.id,label:r?v.default.Messages.TRANSFER_VOICE_TO_XBOX:v.default.Messages.JOIN_ON_XBOX,action:function(){(0,l.openModalLazy)(g(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(81995)]).then(n.bind(n,981995));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,_({},t,{channel:e}))}));case 5:case"end":return t.stop()}}),t)}))))},icon:(0,p.default)(t.type)})}))):null};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(342518)),i=n(145122),u=y(n(893160)),l=n(194322),s=n(595955),d=n(337268),f=y(n(970007)),c=y(n(713802)),p=y(n(403143)),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}
function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},344368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(234161)),o=u(n(791548)),i=u(n(288356));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={};function f(e){var t=e.name,n=e.hash,r=e.missingData;i.default.markGameReported(t);for(var u,s=l(r);!(u=s()).done;){var f=u.value;if("icon"===f){var c=d[t];null!=c&&a.default.uploadIcon(t,n,c);return}new o.default("GameStoreIconManager").log("Could not find missing data key: "+f)}}function c(e){var t=e.gameName,n=e.icon;d[t]=n}var p={initialize:function(){r.default.subscribe("UNVERIFIED_GAME_UPDATE",f);r.default.subscribe("GAME_ICON_UPDATE",c)}};t.default=p},
735592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(234161)),o=n(671694),i=l(n(177230)),u=l(n(191839));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){u.default.fetched||(0,o.fetchLibrary)();a.default.getDetectableGames()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};n.__getLocalVars=function(){return{}};return t}(i.default));t.default=d},829392:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.checkLaunchableGame=l;t.default=void 0;var r=u(n(636602)),a=u(n(288356)),o=u(n(188023)),i=u(n(703124));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=i.default.launchableGames[e],n=a.default.getGame(e);return(null!=n?o.default.isLaunchable(n):o.default.isGameLaunchable(e)).then((function(n){n!==t&&r.default.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:e,isLaunchable:n})}))}function s(e){l(e.gameId)}var d={initialize:function(){r.default.subscribe("CHECK_LAUNCHABLE_GAME",s)}};t.default=d},519386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(446637),a=i(n(191839)),o=i(n(424099));function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.whenInitialized((function(){null!=o.default.testModeApplicationId&&(0,r.authorizeAndSetTestModeApplication)(o.default.testModeApplicationId,o.default.testModeOriginURL)}))}};t.default=u},
782950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(27555)),o=l(n(423046)),i=n(539331);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function s(){if((0,i.isSupportedPlatform)()){var e=o.default.getToken(),t=o.default.getId();if(null==e)throw new Error("missing user token");a.init(e,t)}}function d(){a.destroy()}var f={init:function(){
r.default.subscribe("CONNECTION_OPEN",s);r.default.subscribe("LOGOUT",d)}};t.default=f},279235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_instream_gifting",label:"In-stream gifting",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Shows in stream gifting upsell",config:{enabled:!0}}]});t.default=r},58659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=n(123516),i=v(n(607209)),u=v(n(423046)),l=v(n(644263)),s=v(n(290482)),d=v(n(211136)),f=v(n(359973)),c=n(747868),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=new r.Timeout,h=new r.Timeout,g=null;function E(e,t){var n=l.default.getChannel(e),r=i.default.getActiveStreamForUser(t);if((null==n?void 0:n.isDM())&&d.default.getVoiceChannelId()===e&&null==r){var a=i.default.getStreamForUser(t);if(null==a)return!1;var u=(0,c.encodeStreamKey)(a);if(u===g)return!1;g=u;(0,o.watchStream)(a,{noFocus:!0});return!0}return!1}function S(e,t){var n=null!=t?t:s.default.getPreferredRegion()
;null!=n&&n!==s.default.getRegion(f.default.getHostname())&&(0,o.changeStreamRegion)(e,n)}var O={init:function(){var e=function(e){f.default.getAllActiveStreamKeys().includes(e)||h.start(5e3,(function(){a.default.dispatch({type:"STREAM_TIMED_OUT",streamKey:e})}))};a.default.subscribe("STREAM_WATCH",(function(t){var n=t.streamKey;e(n)}));a.default.subscribe("STREAM_START",(function(t){var n=t.streamType,r=t.guildId,a=t.channelId;e((0,c.encodeStreamKey)({streamType:n,guildId:r,channelId:a,ownerId:u.default.getId()}))}));a.default.subscribe("STREAM_CREATE",(function(){h.stop()}));a.default.subscribe("STREAM_UPDATE",(function(){h.stop()}));a.default.subscribe("STREAM_DELETE",(function(){h.stop()}));a.default.subscribe("STREAM_CLOSE",(function(){_.stop();h.stop()}));a.default.subscribe("VOICE_CHANNEL_SELECT",(function(e){var t=e.channelId;if(null!=t){g=null;var n=i.default.getAllApplicationStreamsForChannel(t).filter((function(e){return e.ownerId!==u.default.getId()}))[0]
;null!=n&&E(t,n.ownerId)}}));a.default.subscribe("VOICE_STATE_UPDATES",(function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId,r=e.selfStream;if(t!==u.default.getId()&&null!=n){if(r&&E(n,t))return;var a=i.default.getActiveStreamForUser(t);if(null!=a&&a.channelId===n){r||a.state===p.ApplicationStreamStates.ENDED||_.start(18e4,(function(){return(0,o.closeStream)((0,c.encodeStreamKey)(a),!1)}));if(r&&a.state===p.ApplicationStreamStates.ENDED){_.stop();var l=i.default.getStreamForUser(t);if(null==l)return;(0,o.watchStream)(l)}}}}))}));a.default.subscribe("CALL_UPDATE",(function(e){var t=e.channelId,n=e.region,r=i.default.getActiveStreamForUser(u.default.getId());(null==r?void 0:r.channelId)===t&&S((0,c.encodeStreamKey)(r),n)}));a.default.subscribe("CHANNEL_UPDATES",(function(e){var t=e.updates,n=i.default.getActiveStreamForUser(u.default.getId());if(null!=n)for(var r,a=y(t);!(r=a()).done;){var o=r.value;n.channelId===o.channel.id&&S((0,
c.encodeStreamKey)(n),o.channel.rtcRegion)}}))}};t.default=O},910333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,u.getMaxQuality)(e),n=e.stream.ownerId;return(0,r.useStateFromStores)([i.default,o.default,a.default],(function(){return null!=n?(0,l.default)(i.default.getQuality(),i.default.getStatsHistory(n,n===a.default.getId()),null!=o.default.getHookError(s.MediaEngineHookTypes.SOUND),t):null}),[t,n])};var r=n(536211),a=d(n(423046)),o=d(n(438567)),i=d(n(359973)),u=n(143369),l=d(n(571425)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}},939790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;t.default=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t],o=e[a];if(null!=o&&null==o.error&&n.has(a))return!0}return!1};var n=new Set(["nvidia"]);t.SUPPORTED_HARDWARE_ACCEL_VENDORS=n},925013:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,i){if(e.state===a.ApplicationStreamStates.ENDED||e.state===a.ApplicationStreamStates.FAILED)return null;if(e.state===a.ApplicationStreamStates.RECONNECTING)return{mainText:o.default.Messages.STREAM_RECONNECTING_ERROR,supportingText:o.default.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT};if(e.state===a.ApplicationStreamStates.PAUSED)return n?{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS}:{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:r.default.getName(e.guildId,e.channelId,t)})};if(i)return{mainText:o.default.Messages.STREAM_PREVIEW_PAUSED,supportingText:o.default.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT};return null};var r=i(n(29652)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}},571425:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){if(n)return c(u.default.Messages.STREAM_SOUNDSHARE_FAILED,s.SOUNDSHARE_FAILED);if(null!=t){var a=f(t,5),o=f(t,30);if(o.numDatapoints>=5){var l;return null!==(l=p(a,null==r?void 0:r.maxFrameRate))&&void 0!==l?l:p(o,null==r?void 0:r.maxFrameRate)}}if(e===i.RTCConnectionQuality.BAD)return c(u.default.Messages.STREAM_NETWORK_QUALITY_ERROR,s.BAD_CONNECTION);return null};var r,a=n(862728),o=n(71246),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r};function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode";e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(s||(s={}));function d(e){void 0===e&&(e=30)
;return e<=5?3:e<=15?10:15}function f(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(o.isNotNullish);if(0===r.length)return l({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}));var a=r[0].type,i=r.length;return{type:a,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var c=(0,a.cachedFunction)((function(e,t){return{message:e,errorType:t}}));function p(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_STREAMER,s.PACKET_LOSS);if(e.frameRate<=d(t))return c(u.default.Messages.STREAM_BAD_STREAMER,s.FRAME_RATE_INPUT)
}else{if(100*e.packetLossRate>10)return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.PACKET_LOSS);if(e.frameRate<=d(t))return c(u.default.Messages.STREAM_BAD_SPECTATOR,s.FRAME_RATE_NETWORK)}return null}},729136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;t.default=function(e){var t=u[(0,i.getPlatform)()];if(null==t)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],l=e[a],s=t[a];if(null!=l&&null!=s&&null==l.error){var d=(c=void 0,p=void 0,(null!==(c=(f=l).major)&&void 0!==c?c:0)+"."+(null!==(p=f.minor)&&void 0!==p?p:0)+".0");if(!o.default.satisfies(d,s))return!0}}var f,c,p;return!1};var r,a,o=(r=n(236625))&&r.__esModule?r:{default:r},i=n(864489);var u=((a={})[i.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},a);t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=u},100223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=O(n(667294)),a=n(496486),o=E(n(636602)),i=E(n(740207)),u=n(123516),l=n(894826),s=E(n(607209)),d=E(n(423046)),f=E(n(311492)),c=E(n(893160)),p=E(n(728429)),v=O(n(194322)),y=E(n(58659)),m=n(747868),_=E(n(908921)),h=n(739898),g=n(770348);function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}var T=(0,a.debounce)(u.notifyStreamStart,1e3),C={init:function(){y.default.init();o.default.subscribe("MEDIA_ENGINE_VIDEO_STATE_CHANGED",(function(e){var t=e.videoState,n=s.default.getActiveStreamForUser(d.default.getId());if(null!=n){var r=t===g.MediaEngineVideoStates.PAUSED;(0,u.setStreamPaused)(n,r)}}));o.default.subscribe("STREAM_DELETE",(function(e){if(e.reason===g.ApplicationStreamDeleteReasons.STREAM_FULL){(0,u.closeStream)(e.streamKey,!1);v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(26495)]).then(n.bind(n,126495));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}}))
;o.default.subscribe("STREAM_WATCH",(function(e){var t=e.streamKey;if(!e.allowMultiple){var n=(0,m.decodeStreamKey)(t);s.default.getAllActiveStreams().forEach((function(e){if(e.ownerId!==n.ownerId&&e.ownerId!==d.default.getId()){e.ownerId===d.default.getId()&&i.default.setDesktopSource({sourceId:null});(0,u.closeStream)((0,m.encodeStreamKey)(e),!1)}}))}}));o.default.subscribe("VOICE_STATE_UPDATES",(function(e){e.voiceStates.forEach((function(e){if(e.userId===d.default.getId()){var t=s.default.getAllActiveStreams(),n=c.default.getChannelId();t.forEach((function(e){e.channelId!==n&&(0,_.default)(e,!1)}))}}))}));o.default.subscribe("STREAM_CREATE",(function(e){var t,n=e.streamKey,r=(0,m.decodeStreamKey)(n),a=r.ownerId,o=r.guildId;if(null!=o&&null!=a&&a===(null===(t=p.default.getCurrentUser())||void 0===t?void 0:t.id)){var i=f.default.getMemberCount(o);null==i||i<2||i>h.STREAM_NOTIFY_GUILD_MAX_SIZE||l.NotifyFriendsOnGoLive.getSetting()&&T(n)}}))}};t.default=C},57697:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=H(n(667294)),o=x(n(294184)),i=n(248088),u=n(425916),l=n(536211),s=n(556470),d=n(836233),f=x(n(954140)),c=x(n(37039)),p=n(6505),v=x(n(655205)),y=x(n(715419)),m=x(n(711195)),_=x(n(728429)),h=x(n(956117)),g=x(n(16941)),E=x(n(160629)),S=n(645758),O=x(n(730977)),b=x(n(447522)),I=x(n(41024)),T=x(n(436081)),C=x(n(114655)),A=n(194322),M=n(598671),N=H(n(528175)),P=x(n(308920)),R=x(n(838583)),w=n(143369),D=x(n(279235)),L=x(n(910333)),k=n(770348),j=n(265517),U=x(n(247001)),G=x(n(214156)),F=x(n(592551));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var q=(0,u.cssValueToNumber)(F.default.borderRadius),X={opacity:0,transform:"translate3d(100%, 0, 0)"},Q={opacity:1,transform:"translate3d(0%, 0, 0)"},Z={opacity:0},J={opacity:1},ee={borderRadius:q+"px "+q+"px "+q+"px "+q+"px"},te={borderRadius:"0px "+q+"px "+q+"px 0px"},ne={mass:1,tension:500,friction:18,clamp:!0},re=function(e){var t,r,i=e.participant,u=e.isUpsellEnabled,d=e.shape,f=e.size,p=e.didTrackUpsellViewed,v=e.setDidTrackUpsellViewed,y=e.inStreamGiftingEnabled,m=e.handleGiftingCheckout,h=e.className,E=(0,w.getMaxQuality)(i),S=(0,c.default)().analyticsLocations,b=null!=(0,L.default)(i);try{t=(0,w.isPremiumFPS)(E)}catch(e){t=!1}try{r=(0,w.isPremiumResolution)(E)}catch(e){r=!1}var T=t||r,C=(0,s.useAnalyticsContext)().location,D=(0,
l.useStateFromStores)([_.default],(function(){return _.default.getCurrentUser()})),F=u&&!R.default.isPremium(D,k.PremiumTypes.TIER_1),x=a.useCallback((function(){F&&T&&(0,A.openModalLazy)($(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(21438).then(n.bind(n,421438));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,K({},e,{analyticsSource:C}))}));case 5:case"end":return e.stop()}}),e)}))))}),[F,T,C]);a.useEffect((function(){if(!p&&T){P.default.track(k.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:j.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:r,location_stack:S});v(!0)}}),[t,r,T,p,v,S]);if(null==E)return null;var B=Y(O.default,{
text:y?null:b?U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:T?U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:O.default.Positions.BOTTOM,color:O.default.Colors.GREY},void 0,(function(e){var t;return a.createElement(g.default,K({},e,{onClick:y?m:x,className:(0,o.default)(G.default.qualityIndicator,f,N.LiveIndicatorShapes[d],b?G.default.qualityIndicatorLowQuality:G.default.qualityIndicatorFullQuality,(t={},t[G.default.clickable]=F&&T||y,t))}),T?Y(I.default,{className:G.default.premiumStreamIcon}):null,Y("span",{className:G.default.qualityResolution},void 0,(0,w.getResolutionText)(E.maxResolution)),Y("span",{},void 0,(0,w.getFPSText)(E.maxFrameRate)))}));return Y(M.TextBadge,{text:B,className:(0,o.default)(h,G.default.qualityIndicatorBadge),color:k.Colors.PRIMARY_DARK_500,shape:d})};re.displayName="StreamQualityIndicator";var ae=function(e){
var t=e.participant,n=e.showQuality,r=e.isUpsellEnabled,u=void 0===r||r,s=e.size,O=e.className,A=W(a.useState(!1),2),L=A[0],F=A[1],x=W(a.useState(!1),2),B=x[0],H=x[1],V=W(a.useState(!1),2),z=V[0],$=V[1],q=(0,c.default)(f.default.STREAM_QUALITY_INDICATOR).analyticsLocations,ae=(0,w.getMaxQuality)(t),oe=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,ie=n&&null!=ae,ue=D.default.useExperiment({}).enabled,le=(0,l.useStateFromStores)([_.default],(function(){return _.default.getCurrentUser()}));a.useEffect((function(){(0,m.default)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var se=(0,l.useStateFromStores)([y.default],(function(){return y.default.getUserProfile(t.stream.ownerId)}),[t.stream.ownerId]),de=R.default.isPremium(le)&&null!=se&&null==se.premiumSince;a.useEffect((function(){u&&de&&D.default.trackExposure({})}),[u,de]);var fe=u&&ue&&de,ce=ie&&fe&&p.HotspotStore.hasHotspot(p.HotspotLocations.IN_STREAM_GIFTING_UPSELL),pe=(0,
i.useTransition)(ie,{enter:{from:oe.enabled?Z:X,to:oe.enabled?J:Q},leave:oe.enabled?Z:X,config:ne}),ve=(0,i.useSpring)({to:ie?te:ee,config:ne}),ye=W(a.useState(!1),2),me=ye[0],_e=ye[1],he=W(a.useState(0),2),ge=he[0],Ee=he[1],Se=function(e){clearTimeout(ge);Ee(setTimeout((function(){_e(e)}),100))};if(fe&&!B){P.default.track(k.AnalyticEvents.PREMIUM_GIFT_UPSELL_VIEWED,{type:j.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,location_section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:k.AnalyticsObjectTypes.GIFT,location_object:k.AnalyticsObjects.BUTTON_ICON,location_stack:q});H(!0)}var Oe=function(e){be();(0,v.default)({isGift:!0,giftMessage:U.default.Messages.PREMIUM_PAYMENT_IS_GIFT_STREAM_QUALITY_UPSELL,initialPlanId:null,subscriptionTier:k.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:q,analyticsObject:{section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,object:e,objectType:k.AnalyticsObjectTypes.GIFT}})},be=function(){(0,
p.hideHotspot)(p.HotspotLocations.IN_STREAM_GIFTING_UPSELL)},Ie=function(e){var n=e.className,r=e.popoutProps;return a.createElement("div",K({className:(0,o.default)(G.default.streamQualityIndicator,n)},r),fe?Y(g.default,{onClick:function(){return Oe(k.AnalyticsObjects.BUTTON_ICON)},className:(0,o.default)(G.default.qualityIndicator,G.default.clickable)},void 0,Y(b.default,{className:G.default.giftIcon})):null,pe((function(e,n){return n?Y(i.animated.div,{style:e},void 0,Y(re,{className:G.default.liveQualityIndicator,participant:t,size:s,shape:M.BadgeShapes.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:L,setDidTrackUpsellViewed:F,inStreamGiftingEnabled:fe,handleGiftingCheckout:function(){return Oe(k.AnalyticsObjects.BUTTON_ICON)}})):null})),Y(i.animated.div,{style:ve,className:G.default.liveIndicator},void 0,Y(N.default,{look:N.LiveIndicatorLooks.RED,size:s,shape:ie?M.BadgeShapes.ROUND_RIGHT:M.BadgeShapes.ROUND})))};return ce?Y("div",{className:(0,
o.default)(O,G.default.qualityIndicatorHighlightWrapper),onMouseEnter:function(){return Se(!0)},onMouseLeave:function(){return Se(!1)}},void 0,Y(E.default,{shouldShow:me,animation:E.default.Animation.NONE,position:E.default.Positions.BOTTOM,align:E.default.Align.CENTER,autoInvert:!1,onRequestClose:function(){return _e(!1)},renderPopout:function(){if(!z){P.default.track(k.AnalyticEvents.TOOLTIP_VIEWED,{type:j.PremiumUpsellTypes.GIFT_STREAM_QUALITY_INDICATOR,location_section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:k.AnalyticsObjectTypes.GIFT,location_object:k.AnalyticsObjects.TOOLTIP});$(!0)}return Y("div",{className:G.default.streamGiftingPopout},void 0,Y("div",{className:G.default.streamGiftingPopoutHeader},void 0,Y(I.default,{className:G.default.premiumStreamIconLarge}),Y(T.default,{size:T.default.Sizes.SIZE_14,color:C.default.Colors.HEADER_PRIMARY},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_HEADER)),Y(S.Text,{
className:G.default.streamGiftingPopoutText,variant:"text-md/normal",color:"header-primary"},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_BODY),Y("div",{className:G.default.streamGiftingPopoutCTA},void 0,Y(h.default,{onClick:be,size:h.default.Sizes.SMALL},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_DISMISS),Y(h.default,{className:G.default.streamGiftingPopoutButton,innerClassName:G.default.giftButton,onClick:function(){return Oe(k.AnalyticsObjects.TOOLTIP)},size:h.default.Sizes.SMALL,color:h.default.Colors.WHITE},void 0,Y(b.default,{className:G.default.giftIconBrand}),Y(S.Text,{className:G.default.streamGiftingPopoutButtonText,variant:"text-sm/normal"},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_CTA))))}},void 0,(function(e){return Ie({popoutProps:e})}))):Ie({className:O})};t.default=ae},587840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=s(n(536211)),a=s(n(636602)),o=n(864489),i=s(n(922629)),u=s(n(939790)),l=s(n(729136));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=!1,p=!0;var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;o.isPlatformEmbedded&&!__OVERLAY__&&i.default.getGPUDriverVersions().then((function(t){c=(0,l.default)(t);p=(0,u.default)(t);e.emitChange()}))};n.getState=function(){return{GPUDriversOutdated:c,canUseHardwareAcceleration:p}};n.__getLocalVars=function(){return{GPUDriversOutdated:c,canUseHardwareAcceleration:p}};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n)
;Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"GPUDriversOutdated",get:function(){return c}},{key:"canUseHardwareAcceleration",get:function(){return p}}]);return t}(r.default.Store);v.displayName="StreamingCapabilitiesStore";var y=new v(a.default,{OVERLAY_INITIALIZE:function(e){var t=e.streamingCapabilitiesStoreState;c=t.GPUDriversOutdated;p=t.canUseHardwareAcceleration}});t.default=y},937196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){void 0===e&&(e=!0);var t=f.default.getCurrentUser();if(!(0,v.default)(u.default))return!1;if(null!=t&&null!=a.default.getActiveStreamForUser(t.id))return!1;var n=(0,y.default)(s.default,c.default);if(null==n)return!1;if(n.isLauncher&&!e)return!1;var m=d.default.getVoiceChannelId(),_=o.default.getChannel(m);if(null==_)return!1;var h=_.getGuildId();if(!(0,p.canStreamInChannel)(_,i.default,l.default,!1))return!1;(0,r.startStream)(h,_.id,{pid:n.pid});return!0}
;var r=n(123516),a=m(n(607209)),o=m(n(644263)),i=m(n(30098)),u=m(n(635014)),l=m(n(689389)),s=m(n(834162)),d=m(n(211136)),f=m(n(728429)),c=m(n(765287)),p=n(385753),v=m(n(379310)),y=m(n(343898));function m(e){return e&&e.__esModule?e:{default:e}}},460703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildPrompts=void 0;var r;var a=(0,((r=n(213192))&&r.__esModule?r:{default:r}).default)({REAL_NAME_PROMPT:null});t.GuildPrompts=a},689626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.viewPrompt=o;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};function o(e,t){a.default.wait((function(){a.default.dispatch({type:"GUILD_PROMPT_VIEWED",prompt:e,guildId:t})}))}var i={viewPrompt:o};t.default=i},81026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){
i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u={};var l=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){for(var t in e){var n=e[t];u[t]=new Set(n)}};n.hasViewedPrompt=function(e,t){var n=u[t];return null!=n&&!!n.has(e)};n.getState=function(){return u};n.__getLocalVars=function(){return{viewedPrompts:u}};return t}(r.default.PersistedStore);l.displayName="GuildPromptsStore";l.persistKey="GuildPromptsStore";var s=new l(a.default,{GUILD_PROMPT_VIEWED:function(e){var t=e.prompt,n=e.guildId,r=u[n];if(null==r){u[n]=new Set;u[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},GUILD_DELETE:function(e){var t=e.guild;if(null==u[t.id]||t.unavailable)return!1;delete u[t.id];return!0}});t.default=s},967523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,
a.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getChannels(e)[o.GUILD_SELECTABLE_CHANNELS_KEY])&&void 0!==t?t:[]}),[e]);return 0===t.length?0:t.filter((function(e){var t=e.channel;return i.default.can(r.default.combine(u.Permissions.SEND_MESSAGES,u.Permissions.VIEW_CHANNEL),t)})).length};var r=s(n(267258)),a=n(536211),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(517286)),i=s(n(689389)),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){
return e&&e.__esModule?e:{default:e}}},754452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(444693)),o=v(n(964285)),i=v(n(142024)),u=n(645758),l=v(n(164654)),s=v(n(628551)),d=n(914001),f=n(770348),c=v(n(247001)),p=v(n(894011));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){var e=(0,d.getAutomodAvatarURL)();return m("div",{},void 0,m(s.default,{src:e,size:s.default.Sizes.SIZE_40,"aria-label":c.default.Messages.GUILD_AUTOMOD_USERNAME}))}_.displayName="AutomodAvatar";var h=m(_,{});function g(e){var t=e.guildId,n=e.onDismissed;return m(i.default,{header:c.default.Messages.GUILD_AUTOMOD_UPSELL_HEADER,content:c.default.Messages.GUILD_AUTOMOD_UPSELL_CONTENT.format(),asset:m("div",{className:p.default.container},void 0,m("div",{className:p.default.card},void 0,h,m("div",{className:p.default.content},void 0,m("div",{className:p.default.name
},void 0,m(u.Text,{variant:"text-sm/semibold",color:"text-brand"},void 0,c.default.Messages.GUILD_AUTOMOD_UPSELL_ASSET_HEADER),m(l.default,{width:16,height:16,color:a.default.LINK,className:p.default.shield})),m("div",{className:p.default.spoiler})))),buttonCTA:c.default.Messages.GUILD_AUTOMOD_UPSELL_CTA,onClick:function(){n();o.default.open(t,f.GuildSettingsSections.GUILD_AUTOMOD)},secondaryButtonCTA:c.default.Messages.GUILD_AUTOMOD_UPSELL_DISMISSAL,onSecondaryClick:function(){},markAsDismissed:n})}g.displayName="GuildAutomodUpsellTooltip"},232207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a,o=c(n(667294)),i=c(n(145122)),u=n(194322),l=n(770348),s=n(474477),d=(r=n(247001))&&r.__esModule?r:{default:r};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){
try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e){var t=e.guildBoostSlot,r=e.onClose,a=e.hasCancelableGuildBoostSlot,f=e.premiumSubscription,c=e.onSelect;var y=f.status===l.SubscriptionStatusTypes.PAST_DUE;return p(i.default,{onSelect:c,navId:"subscription-context",style:i.MenuStyle.FIXED,"aria-label":d.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:r},void 0,p(i.MenuItem,{id:"apply",label:null!=t.premiumGuildSubscription?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,subtext:t.isOnCooldown()?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null,action:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){
var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(99431),n.e(95289)]).then(n.bind(n,195289));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,v({},e,{guildBoostSlots:[t],locationSection:l.AnalyticsSections.SETTINGS_PREMIUM}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:t.isOnCooldown()}),t.canceled?p(i.MenuItem,{id:"uncancel",label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,subtext:y?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null,action:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(82188)]).then(n.bind(n,282188));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,v({},e,{
guildBoostSlotId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:y}):p(i.MenuItem,{id:"cancel",label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,subtext:a?y?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,action:function(){(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(8906)]).then(n.bind(n,908906));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return o.createElement(a,v({},e,{guildBoostSlot:t}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:!a||y,color:s.MenuItemColor.DANGER}))}_.displayName="GuildBoostSlotPopout"},843675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,
u.useStateFromStores)([v.default],(function(){return v.default.getPremiumTypeSubscription()})),t=(0,u.useStateFromStores)([p.default],(function(){return p.default.boostSlots})),n=(0,i.default)(t).filter((function(e){return e.isAvailable()})).value(),r=(0,i.default)(t).groupBy((function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:x})).value(),o=r[0],l=Object.keys(r).filter((function(e){return e!==x}));if(0===l.length&&null==o||null==e)return null;var s=(0,i.default)(t).filter((function(e){return!e.canceled})).value().length,d=N.default.getNumIncludedPremiumGuildSubscriptionSlots(e.planId),f=s>d;return a.createElement(a.Fragment,null,G(S.Text,{variant:"text-sm/normal",className:k.default.blurb},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:M.default.getArticleURL(D.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),null!=o?G(Y,{guildId:x,guildBoostSlots:o,premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f
}):null,l.length>0?a.createElement(a.Fragment,null,G(h.Heading,{variant:"heading-sm/medium",className:k.default.subSectionHeader,level:3},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE),l.map((function(t){return G(Y,{guildId:t,guildBoostSlots:r[t],premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f},t)}))):null)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=j(n(294184)),i=j(n(496486)),u=n(536211),l=n(264720),s=j(n(683767)),d=j(n(37039)),f=n(95034),c=j(n(30098)),p=j(n(890535)),v=j(n(146771)),y=j(n(151097)),m=j(n(16941)),_=j(n(380439)),h=n(772575),g=j(n(160629)),E=j(n(638707)),S=n(645758),O=j(n(782732)),b=j(n(301927)),I=j(n(417184)),T=n(308920),C=j(n(692711)),A=n(682937),M=j(n(550270)),N=j(n(838583)),P=j(n(71636)),R=j(n(232207)),w=n(796274),D=n(770348),L=j(n(247001)),k=j(n(193655));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}var x="0";function B(e){var t=e.deadline,n=(0,s.default)(t,1e3),r=n.days,o=n.hours,i=n.minutes;return a.createElement(a.Fragment,null,L.default.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({days:r,hours:o,minutes:i}))}function H(e){var t=e.guild,n=e.guildBoostSlots,r=e.availableGuildBoostSlots,o=a.useContext(T.AnalyticsContext),i=(0,d.default)().analyticsLocations,u=t.premiumSubscriberCount,s=n.sort((function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)}))[0];if(null==s)return null;var c=null!=s.premiumGuildSubscription?P.default.extractTimestamp(s.premiumGuildSubscription.id):0,p=(0,
A.getAppliedGuildBoostMonths)(c);var v=null!=t.banner?C.default.getGuildBannerURL(t):null;return G("div",{className:k.default.guildHeader},void 0,G("div",{className:k.default.guildHeaderBackground,style:{backgroundImage:null!=v?"url("+v+")":void 0}}),G(_.default,{guild:t,className:k.default.guildIcon}),G("div",{className:k.default.guildHeaderContent},void 0,G(h.Heading,{variant:"heading-md/medium",className:k.default.guildName,level:3},void 0,t.name),G(S.Text,{variant:"text-xs/normal",className:k.default.guildSubscriptionDuration},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:p,date:new Date(c)})),G(S.Text,{variant:"text-xs/normal",className:k.default.guildSubscriberCount},void 0,G(O.default,{className:k.default.guildSubscriberCountIcon}),G("div",{},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})),0!==r.length?G(y.default,{onClick:function(){if(0!==r.length){var e=F({},o.location,{
section:D.AnalyticsSections.SETTINGS_PREMIUM});(0,w.addAppliedGuildBoosts)({analyticsLocations:i,analyticsLocation:e,guild:t})}},className:k.default.guildSubscribeButton},void 0,L.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER):null)),G("div",{className:k.default.guildGemIndicatorContainer},void 0,G(m.default,{onClick:function(){(0,f.transitionToGuild)(t.id);(0,l.popLayer)()}},void 0,G(E.default,{className:k.default.gemIndicator,subscriberCount:u,guildId:t.id}))))}H.displayName="BoostingTargetGuildHeader";var W=G(b.default,{});function V(e){var t,n=e.guildBoostSlot,r=e.premiumSubscription,i=e.hasCancelableGuildBoostSlot,u=null!=n.cooldownEndsAt?new Date(n.cooldownEndsAt):null,l=null!=u&&u>new Date,s=null!=n.premiumGuildSubscription?new Date(P.default.extractTimestamp(n.premiumGuildSubscription.id)):null,d=n.canceled;var f=d?I.default:O.default;return G("div",{className:k.default.guildSubscriptionSlot},void 0,G(f,{className:(0,
o.default)(k.default.guildSubscriptionSlotIcon,(t={},t[k.default.guildSubscriptionSlotIconCanceled]=d,t))}),G("div",{className:k.default.guildSubscriptionSlotContent},void 0,G(S.Text,{variant:"text-sm/normal",className:k.default.guildSubscriptionCreationDate},void 0,null!=s?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:s}):L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION),G(S.Text,{variant:"text-xs/normal",color:"text-muted"},void 0,l&&null!=u?G(B,{deadline:u.getTime()}):null,l&&d?" • ":null,d?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:r.currentPeriodEnd}):null)),G(g.default,{renderPopout:function(e){var t=e.closePopout;return G(R.default,{onClose:t,guildBoostSlot:n,premiumSubscription:r,hasCancelableGuildBoostSlot:i})},position:g.default.Positions.RIGHT,align:g.default.Align.CENTER},void 0,(function(e){return a.createElement(m.default,F({},e,{"aria-label":L.default.Messages.MORE_OPTIONS,
className:k.default.guildSubscriptionSlotMenuIcon}),W)})))}V.displayName="GuildBoostSlot";function Y(e){var t=e.guildId,n=e.guildBoostSlots,r=e.premiumSubscription,a=e.availableGuildBoostSlots,o=e.hasCancelableGuildBoostSlot,i=(0,u.useStateFromStores)([c.default],(function(){return t!==x?c.default.getGuild(t):null}));return null==i&&t!==x?null:G("div",{className:k.default.guild},void 0,null!=i?G(H,{guild:i,guildBoostSlots:n,availableGuildBoostSlots:a}):null,G("div",{className:k.default.guildSubscriptionSlots},void 0,n.map((function(e){return G(V,{guildBoostSlot:e,premiumSubscription:r,hasCancelableGuildBoostSlot:o},e.id)}))))}Y.displayName="BoostingTargetGuild"},408692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=y(n(964285)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),d=y(n(308920)),f=n(682937),c=n(770348),p=y(n(247001)),v=y(n(258771));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){
var t=e.guild,n=e.appliedGuildBoosts,r=t.id;a.useEffect((function(){d.default.track(c.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD,guild_id:r})}),[r]);return null==n||(0,f.appliedGuildBoostsRequiredForPerks)(n,r)<=0?null:_("div",{className:v.default.channelNotice},void 0,_(l.default,{onClick:function(){(0,o.hidePremiumGuildGracePeriodNotice)(r)},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,_(s.default,{className:v.default.closeIcon})),_("div",{className:v.default.message},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE),_(u.default,{fullWidth:!0,color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,onClick:function(){d.default.track(c.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:c.ChannelNoticeCtaSources.GRACE_PERIOD_NOTICE,guild_id:r,notice_type:c.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD});i.default.open(r,c.GuildSettingsSections.GUILD_PREMIUM)},
className:v.default.checkStatusButton},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON))};h.displayName="AppliedGuildBoostGracePeriodNotice";var g=h;t.default=g},578628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(954140)),o=p(n(37039)),i=p(n(918667)),u=p(n(58941)),l=n(682937),s=n(770348),d=n(665984),f=p(n(247001)),c=p(n(484771));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.guild,n=e.markAsDismissed,r=(0,l.getNumberOfAppliedBoostsNeededForTier)(t,s.BoostedGuildTiers.TIER_2),p=(0,o.default)(a.default.GUILD_BANNER_NOTICE).analyticsLocations;return y(i.default,{guild:t,onDismissed:n,cta:f.default.Messages.GUILD_BANNER_NOTICE_CTA,message:f.default.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:r}),type:s.ChannelNoticeTypes.GUILD_BANNER,image:c.default,onClick:function(){return(0,u.default)({analyticsLocations:p,analyticsSourceLocation:{
section:s.AnalyticsSections.CHANNEL_NOTICE,object:s.AnalyticsObjects.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,d.guildBannerUpsellPerks)()})},imageMarginTop:15,imageMarginX:22})}m.displayName="GuildBannerNotice"},559759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(536211)),i=c(n(918667)),u=n(75639),l=c(n(311492)),s=n(770348),d=c(n(247001)),f=c(n(727869));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(){var e=t.props.guild;(0,u.openGuildBoostingMarketingModal)({guildId:e.id,location:{section:s.AnalyticsSections.CHANNEL_NOTICE,
object:s.AnalyticsObjects.SERVER_STATUS_CTA}})};return t}t.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,r=e.markAsDismissed,a=null==n||n<s.SMALL_GUILD_MEMBER_THRESHOLD;return v(i.default,{guild:t,onDismissed:r,onClick:this.handleButtonClick,message:a?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:s.ChannelNoticeCtaSources.GUILD_SUBSCRIPTION_NOTICE,type:s.ChannelNoticeTypes.GUILD_BOOSTING,image:f.default,imageMarginX:26})};return t}(a.PureComponent);m.displayName="GuildBoostingNotice";var _=o.default.connectStores([l.default],(function(e){var t=e.guild;return{memberCount:l.default.getMemberCount(t.id)}}))(m);t.default=_},873113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=s(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(876874)),i=s(n(728429)),u=n(457676);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c=null,p=function(){var e=o.default.getCommunicationDisabledUserMap()
;Object.keys(e).forEach((function(t){var n=t,r=(0,o.getGuildIdFromCommunicationDisabledUserKey)(n),a=(0,o.getUserIdFromCommunicationDisabledUserKey)(n),i=e[n];(0,u.isCommunicationDisabled)(i)||v(r,a)}))},v=function(e,t){var n,a,l,s,d,c,p=o.default.getMember(e,t),v=i.default.getUser(t);if(null!=p&&null!=v&&!(0,u.isMemberCommunicationDisabled)(p)){var y=f({},p,{guildId:e,nick:null!==(n=p.nick)&&void 0!==n?n:v.username,avatar:null!==(a=p.avatar)&&void 0!==a?a:void 0,premiumSince:null!==(l=p.premiumSince)&&void 0!==l?l:void 0,isPending:null!==(s=p.isPending)&&void 0!==s&&s,user:f({},v,{email:null!==(d=v.email)&&void 0!==d?d:void 0,phone:null!==(c=v.phone)&&void 0!==c?c:void 0}),communicationDisabledUntil:null});r.default.dispatch(f({type:"GUILD_MEMBER_UPDATE"},y))}},y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).clearGuildMemberTimeout=v;return t}var n=t.prototype;n._initialize=function(){c=setInterval((function(){return p()}),1e4)};n._terminate=function(){clearInterval(c)};n.__getLocalVars=function(){return{COMMUNICATION_DISABLED_INTERVAL_MS:1e4,communicationDisabledIntervalRef:c,_checkAllGuildMemberTimeouts:p,clearGuildMemberTimeout:v}};return t}(a.default));t.default=y},646832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCommunicationDisabledCountdownCleanup=function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,i=t.userId,u=t.guildId,l=(0,a.default)(null!=n?Date.parse(n):Date.now()),s=l.seconds,d=(0,r.useRef)(null);(0,r.useEffect)((function(){if(null!=e&&null!=u&&null!=i){s<=0&&null==d.current&&(d.current=setTimeout((function(){o.default.clearGuildMemberTimeout(u,i)}),1e3));return function(){if(null!=d.current){clearTimeout(d.current);d.current=null}}}clearTimeout(d.current)}),[u,i,s,n,e]);return l}
;var r=n(667294),a=i(n(683767)),o=i(n(873113));function i(e){return e&&e.__esModule?e:{default:e}}},62017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CommunicationDisabledBanner=O;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(960736),i=_(n(423046)),u=_(n(876874)),l=_(n(240469)),s=n(645758),d=_(n(769752)),f=n(646832),c=n(576458),p=_(n(257917)),v=n(397769),y=_(n(247001)),m=_(n(146615));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.guild,n=e.disabledUntil,r=E((0,c.useCommunicationDisabledNoticeStore)(t.id),2),_=r[0],h=r[1],S=(0,a.useStateFromStores)([u.default,i.default],(function(){return u.default.getMember(t.id,i.default.getId())}),[t.id]);(0,f.useCommunicationDisabledCountdownCleanup)(S);return g("div",{},void 0,_?g(p.default,{onClose:function(){return h(t.id)},guildName:t.name}):null,g(o.MessageNoticeBanner,{bannerIcon:g(d.default,{className:m.default.bannerIcon}),
bannerHeader:y.default.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:y.default.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:v.GUILD_COMMUNICATION_DISABLED_RESOURCE_LINK}),containerStyles:m.default.bannerContainer,headerStyles:m.default.bannerHeader},void 0,g(s.Text,{variant:"text-sm/semibold"},void 0,g(l.default,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0}))))}O.displayName="CommunicationDisabledBanner"},257917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
}(n(667294));var r,a=d(n(956117)),o=n(772575),i=n(645758),u=d(n(769752)),l=d(n(247001)),s=d(n(430294));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.onClose,n=e.guildName;return c("div",{className:s.default.container},void 0,c("div",{className:s.default.iconContainer},void 0,c(u.default,{className:s.default.icon,width:20,height:20})),c("div",{className:s.default.header},void 0,c(o.Heading,{
variant:"heading-md/medium",className:s.default.headerText,level:3},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER),c(i.Text,{variant:"text-sm/normal"},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})),c(a.default,{onClick:t,className:s.default.button},void 0,l.default.Messages.OKAY)))}p.displayName="CommunicationDisabledPopout"},742965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.featureGuildFeedItem=function(e,t,n){return w.apply(this,arguments)};t.fetchGuildFeed=function(e){return M.apply(this,arguments)};t.fetchGuildFeedFeaturedItems=function(e){return R.apply(this,arguments)};t.flushSeenItems=j;t.hideItemFromGuildFeed=function(e,t){return P.apply(this,arguments)};t.markGuildFeedItemAsSeen=function(e,t,n){l.default.dispatch({type:"GUILD_FEED_ITEM_SEEN",guildId:e,itemId:t,timestampMillis:n})};t.markGuildFeedItemAsUnseen=function(e,t,n){l.default.dispatch({type:"GUILD_FEED_ITEM_UNSEEN",
guildId:e,itemId:t,timestampMillis:n})};t.removeItemFromGuildFeed=function(e){return N.apply(this,arguments)};t.sendFeedShownAnalytics=function(e){c.default.track(g.AnalyticEvents.FEED_SHOWN,{guild_id:e,load_id:y.default.getLoadId(e),home_session_id:d.default.getHomeSessionId(e)})};t.setFeedItemPreference=function(e,t){return k.apply(this,arguments)};t.trackFeedItemInteracted=function(e){var t=e.guild_id;null!=t&&j(t);c.default.track(g.AnalyticEvents.FEED_ITEM_INTERACTED,e)};t.unfeatureGuildFeedItem=function(e){return D.apply(this,arguments)};t.unhideItemFromGuildFeed=function(e,t){return L.apply(this,arguments)};var r=S(n(496486)),a=n(177661),o=n(582972),i=n(789666),u=S(n(118915)),l=S(n(636602)),s=S(n(568681)),d=S(n(173101)),f=S(n(290629)),c=S(n(308920)),p=n(71246),v=n(741645),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(968078)),m=S(n(4024)),_=S(n(676509)),h=n(124042),g=n(770348);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}
function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){return t.map((function(t){return y.default.getItem(e,t)})).filter((function(e){return null!=(null==e?void 0:e.message)&&!f.default.isBlocked(e.message.author.id)})).filter(p.isNotNullish).map((function(e){return(0,_.default)(e)}))}function C(e){var t=e.guildId,n=e.loadTime,r=e.startHomeSessionId,a=e.page,o=e.newUnreadFeedItemIds,i=e.newReadFeedItemIds;c.default.track(g.AnalyticEvents.FEED_LOADED,{guild_id:t,load_id:y.default.getLoadId(t),unread_feed_item_ids:T(t,o),read_feed_item_ids:T(t,i),load_time_millis:n,home_session_id:d.default.getHomeSessionId(t),start_home_session_id:r,page:a})}function A(e,t){var n=t.results.items.filter((function(e){return e.type===a.GuildFeedItemTypes.FORUM_POST}));n.length>0&&l.default.dispatch({type:"LOAD_THREADS_SUCCESS",threads:n.map((function(e){return e.thread})),firstMessages:n.map((function(e){return e.message})),guildId:e})}function M(){M=I(regeneratorRuntime.mark((function e(t){
var n,a,o,i,f,c,p,v,m,_,E,S,b,I,T,M,N,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.guildId,a=t.refresh,o=t.flushSeenItems,i=t.highlightedItemData,f=t.limit;c=Date.now();p=a?0:y.default.getPaginationStatus(n).offset;v=null==p||0===p;l.default.dispatch({type:v?"GUILD_FEED_FETCH_FRESH_START":"GUILD_FEED_FETCH_PAGE_START",guildId:n});m=d.default.getHomeSessionId(n);e.prev=6;e.next=9;return null==o?void 0:o();case 9:_=O({limit:null!=f?f:y.GUILD_FEED_FETCH_LIMIT,offset:v?0:p,load_id:v?null:y.default.getLoadId(n)},null!=i&&v&&{highlight_channel_id:i.channelId,highlight_message_id:i.messageId});e.next=12;return u.default.get({url:g.Endpoints.GUILD_FEED(n),query:_});case 12:E=e.sent;S=E.body;b=y.default.getFeedItemSection(n,h.GuildFeedSectionTypes.READ).map((function(e){return e.id}));I=y.default.getFeedItemSection(n,h.GuildFeedSectionTypes.UNREAD).map((function(e){return e.id}));l.default.dispatch({type:"GUILD_FEED_FETCH_SUCCESS",guildId:n,data:S,
fresh:v});T=y.default.getFeedItemSection(n,h.GuildFeedSectionTypes.READ).map((function(e){return e.id}));M=y.default.getFeedItemSection(n,h.GuildFeedSectionTypes.UNREAD).map((function(e){return e.id}));N=Date.now()-c;P=(null!=p?p:0)/y.GUILD_FEED_FETCH_LIMIT;C({guildId:n,loadTime:N,startHomeSessionId:m,page:P,newReadFeedItemIds:r.default.difference(T,b),newUnreadFeedItemIds:r.default.difference(M,I)});A(n,S);e.next=29;break;case 25:e.prev=25;e.t0=e.catch(6);l.default.dispatch({type:"GUILD_FEED_FETCH_FAILURE",guildId:n,error:new s.default(e.t0)});throw e.t0;case 29:case"end":return e.stop()}}),e,null,[[6,25]])})));return M.apply(this,arguments)}function N(){return(N=I(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.post({url:g.Endpoints.GUILD_FEED_MESSAGE_REMOVE(t.message.channel_id,t.message.id)});case 2:n=e.sent;l.default.dispatch({type:"GUILD_FEED_ITEM_REMOVE",item:t})
;return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=I(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.put({url:g.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,message_id:t.message.id,load_id:y.default.getLoadId(n),preference:i.GuildFeedPreferenceOptions.HIDDEN,entity_type:o.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:r=e.sent;l.default.dispatch({type:"GUILD_FEED_ITEM_HIDE",item:t});return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=I(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return u.default.get({url:g.Endpoints.GUILD_FEED_FEATURE_ITEM(t)});case 3:n=e.sent;r=n.body;l.default.dispatch({
type:"GUILD_FEED_FEATURED_ITEMS_FETCH_SUCCESS",guildId:t,data:r});e.next=12;break;case 8:e.prev=8;e.t0=e.catch(0);l.default.dispatch({type:"GUILD_FEED_FEATURED_ITEMS_FETCH_FAILURE",guildId:t,error:new s.default(e.t0)});throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(){return(w=I(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,s,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,m.default)(t),o=a.entityId,i=a.details,s=a.guildId,d=a.entityType;e.prev=1;e.next=4;return u.default.put({url:g.Endpoints.GUILD_FEED_FEATURE_ITEM(s),body:{entity_id:o,entity_type:d,expires_at:n,details:i}});case 4:f=e.sent;l.default.dispatch({type:"GUILD_FEED_FEATURE_ITEM",featureableItem:t,options:r});return e.abrupt("return",f);case 9:e.prev=9;e.t0=e.catch(1);throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function D(){return(D=I(regeneratorRuntime.mark((function e(t){
var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,m.default)(t),r=n.entityId,a=n.guildId,o=n.entityType;e.prev=1;e.next=4;return u.default.delete({url:g.Endpoints.GUILD_FEED_FEATURE_ITEM(a),body:{entity_id:r,entity_type:o}});case 4:i=e.sent;l.default.dispatch({type:"GUILD_FEED_UNFEATURE_ITEM",featureableItem:t});return e.abrupt("return",i);case 9:e.prev=9;e.t0=e.catch(1);throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function L(){return(L=I(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.delete({url:g.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,message_id:t.message.id,load_id:y.default.getLoadId(n),entity_type:o.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:r=e.sent;l.default.dispatch({type:"GUILD_FEED_ITEM_UNHIDE",item:t})
;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=I(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return u.default.put({url:g.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(t),body:O({},n,{load_id:y.default.getLoadId(t),preference:i.GuildFeedPreferenceOptions.DEMOTED})});case 2:r=e.sent;return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){void 0===t&&(t=v.ForceFlushType.IMMEDIATE_WITH_COOLDOWN);l.default.dispatch({type:"GUILD_FEED_FLUSH_SEEN",guildId:e,force:t})}},922748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=m(n(636602)),a=m(n(177230)),o=m(n(173101)),i=m(n(423046)),u=m(n(502546)),l=m(n(211136)),s=m(n(790597)),d=m(n(308920)),f=n(742965),c=m(n(968078)),p=n(124042),v=n(770348),y=n(173652);function m(e){
return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("MESSAGE_REACTION_ADD",this.handleReaction);r.default.subscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);r.default.subscribe("SIDEBAR_VIEW_THREAD",this.handleSidebarViewThread);r.default.subscribe("MESSAGE_CREATE",this.handleMessageCreate);r.default.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};n._terminate=function(){r.default.unsubscribe("MESSAGE_REACTION_ADD",this.handleReaction);r.default.unsubscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);r.default.unsubscribe("SIDEBAR_VIEW_THREAD",this.handleSidebarViewThread);r.default.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate)
;r.default.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};n.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,a=e.optimistic;if(n===i.default.getId()&&a){var u=s.default.getGuildId();if(null!=u){var d=l.default.getChannelId();if((0,y.isGuildHomeChannel)(d)){var v=c.default.getItemForMessageId(u,r);null!=v&&null!=v.message&&(0,f.trackFeedItemInteracted)({feed_item_type:v.type,load_id:c.default.getLoadId(u),action_type:"MESSAGE_REACTION_ADD"===t?p.FeedItemInteractionType.REACTION_ADDED:p.FeedItemInteractionType.REACTION_REMOVED,guild_id:u,channel_id:v.message.channel_id,message_id:v.message.id,home_session_id:o.default.getHomeSessionId(u)})}}}};n.handleSidebarViewThread=function(e){var t=e.channelId,n=e.baseChannelId;if((0,y.isGuildHomeChannel)(n)){var r=s.default.getGuildId();if(null!=r){var a=c.default.getItemForMessageId(r,t);null!=a&&null!=a.message&&(0,f.trackFeedItemInteracted)({feed_item_type:a.type,load_id:c.default.getLoadId(r),
action_type:p.FeedItemInteractionType.THREAD_EMBED_CLICKED,guild_id:r,channel_id:a.message.channel_id,message_id:a.message.id,home_session_id:o.default.getHomeSessionId(r)})}}};n.handleMessageCreate=function(e){var t=e.optimistic,n=e.message;if(t&&n.state===v.MessageStates.SENDING){var r=s.default.getGuildId();if(null!=r){var a=u.default.getSidebarState(y.StaticChannelRoute.GUILD_HOME);if(null!=a&&"initialMessageId"in a){var i=a.initialMessageId;if(null!=i){var l=c.default.getItemForMessageId(r,i);if(null!=l&&null!=l.message){var d;if(n.type===v.MessageTypes.DEFAULT)d=p.FeedItemInteractionType.MESSAGED_IN_SIDEBAR;else if(n.type===v.MessageTypes.REPLY){var m;d=(null===(m=n.message_reference)||void 0===m?void 0:m.message_id)===i?p.FeedItemInteractionType.REPLIED_TO_MESSAGE:p.FeedItemInteractionType.REPLIED_IN_SIDEBAR}null!=d&&(0,f.trackFeedItemInteracted)({feed_item_type:l.type,load_id:c.default.getLoadId(r),action_type:d,guild_id:r,channel_id:l.message.channel_id,
message_id:l.message.id,home_session_id:o.default.getHomeSessionId(r)})}}}}}};n.handleAppStateUpdate=function(e){if("background"===e.state){var t=s.default.getGuildId();null!=t&&d.default.track(v.AnalyticEvents.HOME_BACKGROUNDED,{guild_id:t,home_session_id:o.default.getHomeSessionId(t),load_id:c.default.getLoadId(t)})}};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=h},741645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ForceFlushType=void 0;var r=s(n(441143)),a=s(n(118915)),o=s(n(636602)),i=s(n(308920)),u=n(676509),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v;function y(e,t){for(var n,a=0,o=[],i=c(e);!(n=i()).done;){var u=n.value;if(null==u.endTimeMillis)if(t){var l=Date.now();a+=l-u.startTimeMillis;o.push({startTimeMillis:l})
}else o.push(u);else a+=u.endTimeMillis-u.startTimeMillis}(0,r.default)(o.length<2,"there should only be a single left over data");return{additionalSeenTimeMillis:Math.round(a),leftOverData:o}}function m(e){var t=e.guildId,n=e.loadId,r=e.homeSessionId,o=e.seenData,s=e.force,d={};for(var f in o){var c=y(o[f],s),p=c.additionalSeenTimeMillis,v=c.leftOverData;p>0&&(d[f]={additionalSeenTimeMillis:p});o[f]=v}if(0===Object.keys(d).length)return Promise.resolve();var m=[],_=[],h=[];for(var g in d){m.push(g);_.push(d[g].additionalSeenTimeMillis);d[g].additionalSeenTimeMillis>=1500&&h.push(g)}i.default.track(l.AnalyticEvents.FEED_ITEM_SEEN_BATCH,{guild_id:t,load_id:n,feed_item_ids:m,additional_seen_time_millis:_,home_session_id:r});return a.default.post({url:l.Endpoints.GUILD_FEED_MARK_SEEN(t),body:{item_ids:h.map((function(e){return(0,u.getSnowflakeFromGuildFeedItemId)(e)}))}})}t.ForceFlushType=v;!function(e){e[e.FORCE=0]="FORCE";e[e.IMMEDIATE=1]="IMMEDIATE"
;e[e.IMMEDIATE_WITH_COOLDOWN=2]="IMMEDIATE_WITH_COOLDOWN"}(v||(t.ForceFlushType=v={}));t.default=function(e,t,n){var r=this;this.maybeFlushSeenItems=function(e){var t=r.guildId,n=r.loadId,a=r.seenData,o=r.homeSessionId;if(null==n||null==o)return Promise.resolve();if(null==e&&Date.now()-r.lastFlushTimeMillis<6e4)return Promise.resolve();if(e===v.IMMEDIATE_WITH_COOLDOWN&&Date.now()-r.lastFlushTimeMillis<3e3)return Promise.resolve();r.lastFlushTimeMillis=Date.now();var i={guildId:t,loadId:n,seenData:a,force:null!=e,homeSessionId:o};return e===v.IMMEDIATE||e===v.IMMEDIATE_WITH_COOLDOWN?m(i):new Promise((function(e){setTimeout(f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return m(i);case 2:e();case 3:case"end":return t.stop()}}),t)}))),100)}))};this.getItemSeenDataList=function(e){null==r.seenData[e]&&(r.seenData[e]=[]);return r.seenData[e]};this.getLastSeenData=function(e){
if(null!=e&&0!==e.length)return e[e.length-1]};this.initialize=function(){o.default.subscribe("GUILD_FEED_ITEM_SEEN",r.handleSeen);o.default.subscribe("GUILD_FEED_ITEM_UNSEEN",r.handleUnseen);o.default.subscribe("APP_STATE_UPDATE",r.handleAppStateUpdate);o.default.subscribe("GUILD_FEED_FLUSH_SEEN",r.handleFlushSeen)};this.terminate=function(){o.default.unsubscribe("GUILD_FEED_ITEM_SEEN",r.handleSeen);o.default.unsubscribe("GUILD_FEED_ITEM_UNSEEN",r.handleUnseen);o.default.unsubscribe("APP_STATE_UPDATE",r.handleAppStateUpdate);o.default.unsubscribe("GUILD_FEED_FLUSH_SEEN",r.handleFlushSeen);r.maybeFlushSeenItems(v.FORCE)};this.handleSeen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null==i||null!=i.endTimeMillis){o.push({startTimeMillis:a});r.paused&&r.pausedItemIds.add(n)}}};this.handleUnseen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){
var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null!=i&&null==i.endTimeMillis){i.endTimeMillis=a;r.paused&&r.pausedItemIds.delete(n);r.maybeFlushSeenItems()}}};this.handleAppStateUpdate=function(e){var t=e.state;"active"===t&&r.isFocused&&r.resume(r.guildId);if("background"===t){r.isFocused&&r.pause(r.guildId);r.maybeFlushSeenItems(v.FORCE)}};this.handleFlushSeen=function(e){var t=e.guildId,n=e.force;r.guildId===t&&r.maybeFlushSeenItems(n)};this.clearPausedItemIds=function(){r.pausedItemIds=new Set;r.paused=!1};this.getSeenItemIds=function(){var e=new Set;for(var t in r.seenData){var n=r.getItemSeenDataList(t),a=r.getLastSeenData(n);null!=a&&null!=a.startTimeMillis&&null==a.endTimeMillis&&e.add(t)}return e};this.pause=function(e){if(e===r.guildId){if(!r.paused){r.paused=!0;var t=r.getSeenItemIds();t.forEach((function(t){r.handleUnseen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_UNSEEN"})}));r.pausedItemIds=t}}else r.clearPausedItemIds()}
;this.resume=function(e){if(e===r.guildId){if(r.paused){r.paused=!1;r.pausedItemIds.forEach((function(t){r.handleSeen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_SEEN"})}));r.clearPausedItemIds()}}else r.clearPausedItemIds()};this.handleFocus=function(e,t){r.isFocused=e;r.isFocused?r.resume(t):r.pause(t)};this.guildId=e;this.loadId=t;this.homeSessionId=n;this.seenData={};this.lastFlushTimeMillis=Date.now();this.paused=!1;this.pausedItemIds=new Set;this.isFocused=!0}},397898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,l=e.messageId,s=e.feedItemType,d=e.onChannelClick,f=e.onContentClick;return{handleMessageClick:function(e){e.stopPropagation();(0,o.trackFeedItemInteracted)({feed_item_type:s,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.MESSAGE_CLICKED,guild_id:t,channel_id:n,message_id:l,home_session_id:a.default.getHomeSessionId(t)});f()},
handleChannelClick:function(e){e.stopPropagation();(0,o.trackFeedItemInteracted)({feed_item_type:s,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.MESSAGE_CHANNEL_CLICKED,guild_id:t,channel_id:n,message_id:l,home_session_id:a.default.getHomeSessionId(t)});d()},handleCardClick:function(e,d,f){for(var c=e.target;(0,r.isElement)(c);){var p,v;if(c===d)break;var y=null!==(p=null===(v=c.getAttribute("data-role"))||void 0===v?void 0:v.toUpperCase())&&void 0!==p?p:c.tagName;if("A"===y){(0,o.trackFeedItemInteracted)({feed_item_type:s,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.LINK_CLICKED,guild_id:t,channel_id:n,message_id:l,home_session_id:a.default.getHomeSessionId(t)});return}if("IMG"===y){(0,o.trackFeedItemInteracted)({feed_item_type:s,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.IMAGE_CLICKED,guild_id:t,channel_id:n,message_id:l,home_session_id:a.default.getHomeSessionId(t)});return}
if("BUTTON"===y||"button"===c.getAttribute("role")){(0,o.trackFeedItemInteracted)({feed_item_type:s,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.BUTTON_CLICKED,guild_id:t,channel_id:n,message_id:l,home_session_id:a.default.getHomeSessionId(t)});return}c=c.parentNode}null==f||f()}}};var r=n(659779),a=l(n(173101)),o=n(742965),i=l(n(968078)),u=n(124042);function l(e){return e&&e.__esModule?e:{default:e}}},389666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.highlightedItemData,u=(0,a.useStateFromStores)([i.default],(function(){return i.default.getFetchStatus(t)}),[t]),l=u.loading,s=u.error,c=r.useCallback((function(e){var r=e.force,a=e.flushSeenItems;f(t,null!=r&&r)&&function(){i.apply(this,arguments)}();function i(){return(i=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,o.fetchGuildFeed)({
guildId:t,flushSeenItems:a,refresh:!0,highlightedItemData:n});case 3:e.next=8;break;case 5:e.prev=5;e.t0=e.catch(0);console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}),[t,n]),p=r.useCallback((function(){f(t,!0)&&function(){e.apply(this,arguments)}();function e(){return(e=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,o.fetchGuildFeed)({guildId:t,refresh:!1});case 3:e.next=8;break;case 5:e.prev=5;e.t0=e.catch(0);console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}}),[t]);r.useEffect((function(){c({force:null!=n})}),[c,n]);return{fetchFresh:c,fetchPage:p,loading:l,error:s}};t.shouldFetchGuildFeed=f;var r=l(n(667294)),a=n(536211),o=n(742965),i=l(n(968078));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}
function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(e,t){var n=i.default.getLastFetchedMillis(e);return!(!t&&null!=n&&Date.now()-n<72e5)&&i.default.getFetchStatus(e).loading===i.LoadingStatus.NONE}},47186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(294184)),o=s(n(244165)),i=s(n(16941)),u=s(n(617493)),l=["className","children","ariaLabel","onContextMenu","onCardClick","onItemClick","listItemProps","itemId","selected"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=r.forwardRef((function(e,t){var n,s=e.className,d=e.children,p=e.ariaLabel,v=e.onContextMenu,y=e.onCardClick,m=e.onItemClick,_=e.listItemProps,h=e.itemId,g=e.selected,E=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),S=c((0,o.default)(t),2),O=S[0],b=S[1],I=r.useRef(null);return r.createElement("div",f({ref:b,className:(0,a.default)(u.default.card,u.default.interactiveCard,(n={},n[u.default.selected]=g,n),s),"data-item-id":h,onContextMenu:v,onClick:function(e){return null==y?void 0:y(e,O.current,(function(){var e,t;return null===(e=I.current)||void 0===e||null===(t=e.click)||void 0===t?void 0:t.call(e)}))}},E),r.createElement(i.default,f({className:u.default.clickableTarget,innerRef:I,"aria-label":p,onClick:m},_)),d)}));t.default=v},952572:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(177661),i=n(536211),u=n(71246),l=n(742965),s=p(n(968078)),d=p(n(876859)),f=p(n(582652)),c=p(n(963481));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){for(var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(r=a()).done;){var o=r.value,i=o.target.dataset.itemId;if(null==i)return;var u=Date.now();o.intersectionRatio>=t?(0,l.markGuildFeedItemAsSeen)(e,i,u):(0,l.markGuildFeedItemAsUnseen)(e,i,u)}}var E=a.memo((function(e){var t=e.guildId,n=e.itemId,r=e.scrollerHeight,p=e.scrollerRef,v=m((0,
i.useStateFromStoresArray)([s.default],(function(){return[s.default.getItem(t,n),s.default.getIsItemHiding(t,n),s.default.getIsItemHidden(t,n)]})),3),_=v[0],h=v[1],E=v[2],S=a.useRef(null);a.useEffect((function(){var e,a=S.current;if(null!=a&&null!=r){var o=a.clientHeight,i=null===(e=p.current)||void 0===e?void 0:e.getScrollerNode();if(null!=i){var u=Math.min(.5,.5*r/o),s=new IntersectionObserver((function(e){return g(t,u,e)}),{root:i,rootMargin:"0px 100000px 0px 100000px",threshold:u});s.observe(a);return function(){s.disconnect()}}}else(0,l.markGuildFeedItemAsUnseen)(t,n,Date.now())}),[n,t,p,r,h,E]);if(null==_||E)return null;if(h)return y(d.default,{guildId:t,feedItem:_});switch(_.type){case o.GuildFeedItemTypes.FORUM_POST:return a.createElement(c.default,{ref:S,guildId:t,postItem:_});case o.GuildFeedItemTypes.MESSAGE:return a.createElement(f.default,{ref:S,guildId:t,messageItem:_});default:(0,u.assertNever)(_)}}));t.default=E},388884:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(25121));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t,n=e.children,r=e.hideBorder;return l("div",{className:(0,a.default)(o.default.feedItemHeader,(t={},t[o.default.hideBorder]=r,t))},void 0,n)}s.displayName="GuildFeedItemHeader"},876859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(393356),i=n(582972),u=n(536211),l=T(n(678928)),s=n(341186),d=T(n(644263)),f=T(n(876874)),c=T(n(290629)),p=T(n(728429)),v=T(n(956117)),y=T(n(16941)),m=n(645758),_=T(n(549998)),h=T(n(420303)),g=T(n(29652)),E=n(742965),S=T(n(47186)),O=T(n(388884)),b=T(n(247001)),I=T(n(469887));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e){var t=e.guildId,n=e.feedItem,r=e.onSendFeedback,a=n.message.channel_id,o=(0,
u.useStateFromStores)([d.default],(function(){return d.default.getChannel(a)})),v=(0,l.default)(o),h=(0,s.getChannelIconComponent)(o),S=(0,u.useStateFromStores)([p.default],(function(){return p.default.getUser(n.message.author.id)})),O=(0,u.useStateFromStores)([d.default,f.default,c.default],(function(){return g.default.getName(t,a,S)})),T=function(e){(0,E.setFeedItemPreference)(t,e);r()};return N("div",{className:I.default.options},void 0,N(y.default,{className:I.default.option,onClick:function(){return T({channel_id:a,message_id:n.message.id,entity_type:i.GuildFeedPreferenceEntityTypes.MESSAGE})}},void 0,N(m.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_NO_LIKE)),N(y.default,{className:I.default.option,onClick:function(){return T({channel_id:a,entity_type:i.GuildFeedPreferenceEntityTypes.CHANNEL})}},void 0,N(m.Text,{variant:"text-md/normal",color:"interactive-active"
},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_CHANNEL.format({channelName:v,channelNameHook:function(e,t){return N("span",{},t,null!=h&&N(h,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))),N(y.default,{className:I.default.option,onClick:function(){return T({user_id:n.message.author.id,entity_type:i.GuildFeedPreferenceEntityTypes.USER})}},void 0,N(m.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_USER.format({username:O,usernameHook:function(e,t){return N("span",{},t,N(_.default,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))))}P.displayName="GuildFeedItemFeedbackOptions";function R(e){var t=e.guildId,n=e.feedItem,r=A(a.useState(!1),2),i=r[0],u=r[1],l=(0,o.useListItem)(n.message.id);return N(S.default,{ariaLabel:b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM,listItemProps:l},void 0,N(O.default,{hideBorder:i},void 0,N(h.default,{
className:I.default.icon,width:16,height:16,foregroundColor:"currentColor"}),i?N("div",{className:I.default.title},void 0,N(m.Text,{className:I.default.title,variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_TITLE),N(m.Text,{className:I.default.title,variant:"text-xs/normal",color:"interactive-normal"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_SUBTITLE)):N(m.Text,{className:I.default.title,variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM),N(v.default,{size:v.default.Sizes.SMALL,color:v.default.Colors.PRIMARY,onClick:function(){(0,E.unhideItemFromGuildFeed)(n,t)}},void 0,b.default.Messages.UNDO)),!i&&N(P,{guildId:t,feedItem:n,onSendFeedback:function(){return u(!0)}}))}R.displayName="GuildFeedItemHidden"},514563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=n(160629),u=f(n(730977)),l=f(n(775803)),s=f(n(247001)),d=f(n(953346));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){e.stopPropagation()}function _(e){var t=e.renderContextPopout,n=v(a.useState(!1),2),r=n[0],f=n[1],c=a.useCallback((function(e){null==e||e.stopPropagation();f(!r)}),[r]),y=s.default.Messages.MORE;return p("div",{onClick:m,onContextMenu:m},void 0,p(i.LazyPopout,{renderPopout:function(){return t(c)},shouldShow:r,onRequestClose:c,position:i.Positions.LEFT,align:i.Align.TOP,animation:i.LazyPopout.Animation.NONE},void 0,(function(e,t){return p(u.default,{text:y,hideOnClick:!0},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave,r=e.onClick;return p(o.default,{onMouseEnter:t,onMouseLeave:n,look:o.default.Looks.BLANK,size:o.default.Sizes.NONE,onClick:function(e){null==r||r();c(e)},"aria-label":y,
className:d.default.overflowButton},void 0,p(l.default,{className:d.default.icon}))}))})))}_.displayName="GuildFeedItemOverflowMenuButton"},373893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=G(n(294184)),i=n(177661),u=n(536211),l=n(252404),s=G(n(173101)),d=G(n(477072)),f=G(n(907932)),c=n(377980),p=G(n(384792)),v=n(538105),y=G(n(316865)),m=G(n(507187)),_=G(n(691851)),h=G(n(326243)),g=G(n(227236)),E=G(n(749835)),S=G(n(86031)),O=G(n(546914)),b=G(n(644263)),I=G(n(16941)),T=G(n(383942)),C=G(n(152668)),A=G(n(293578)),M=n(742965),N=G(n(968078)),P=n(124042),R=n(770348),w=n(173652),D=n(100678),L=G(n(247001)),k=G(n(328203)),j=G(n(46427)),U=["guildId","message","className","channel","animateAvatar"];function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V=a.memo((function(e){var t=e.message,n=e.channel,r=e.animateAvatar,o=e.repliedMessage,i=(0,y.default)(t.id,D.DEFAULT_POPOUTS),u=i.popouts,s=i.setPopout,d=u.usernameProfile,c=u.avatarProfile,m=(0,v.useClickMessageAuthorUsername)(t,n,d,s),_=(0,v.useClickMessageAuthorAvatar)(c,s),h=a.useCallback((function(){return s({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[s]),g=(0,f.default)(t),E=(0,l.useRoleIcon)({guildId:n.guild_id,roleId:g.iconRoleId});return W(A.default,{guildId:n.guild_id,message:t,channel:n,repliedMessage:o,author:g,showTimestampOnHover:t.type!==R.MessageTypes.REPLY,renderPopout:p.default,showAvatarPopout:c,
showUsernamePopout:d,onClickAvatar:_,onClickUsername:m,onPopoutRequestClose:h,roleIcon:E,animate:r})}));function Y(e){var t,n,r=e.guildId,l=e.message,f=e.className,p=e.channel,v=e.animateAvatar,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,U),A=(0,m.default)(l,{renderMediaEmbeds:!0}),D=A.content,G=A.hasSpoilerEmbeds,F=B(a.useState(!1),2),H=F[0],Y=F[1],K=B(a.useState(!1),2),z=K[0],$=K[1],q=l.type===R.MessageTypes.REPLY?l.messageReference:void 0,X=(0,u.useStateFromStores)([S.default],(function(){return S.default.getMessageByReference(q)})),Q=(0,u.useStateFromStores)([b.default],(function(){return l.hasFlag(R.MessageFlags.HAS_THREAD)&&b.default.getChannel(l.id)})),Z=(0,c.getMessageAriaLabelledBy)(l),J=(0,c.getMessageAriaDescribedBy)(l),ee=l.attachments.length>0,te=null!=q?W(I.default,{onClick:function(e){if(null!=X.message){e.stopPropagation();(0,M.trackFeedItemInteracted)({
feed_item_type:i.GuildFeedItemTypes.MESSAGE,load_id:N.default.getLoadId(r),action_type:P.FeedItemInteractionType.REFERENCED_MESSAGE_CLICKED,guild_id:r,channel_id:p.id,message_id:X.message.id,home_session_id:s.default.getHomeSessionId(r)});O.default.openChannelAsSidebar({guildId:p.guild_id,channelId:p.id,messageId:X.message.id,baseChannelId:w.StaticChannelRoute.GUILD_HOME})}}},void 0,(0,E.default)(l,p,q,X,!1)):null,ne=(0,d.default)(l);return a.createElement(T.default,x({className:(0,o.default)(f,(t={},t[j.default.mentioned]=l.mentioned&&!(0,d.default)(l),t)),childrenRepliedMessage:te,childrenExecutedCommand:(0,g.default)(l,p,!1),childrenHeader:ne?null:W(V,{channel:p,message:l,animateAvatar:v,repliedMessage:X}),childrenAccessories:(0,_.default)({channelMessageProps:e,hasSpoilerEmbeds:G,isInteracting:!1,forceAddReactions:!0}),childrenMessageContent:a.createElement(a.Fragment,null,W(C.default,{className:(0,o.default)((n={},n[k.default.clampLarge]=!z&&!ee,n[k.default.clampSmall]=!z&&ee,n)),
message:l,content:D,contentRef:function(e){null!=e&&Y(e.scrollHeight>e.clientHeight)}}),H&&!z?W(I.default,{className:k.default.showMore,onClick:function(){return $(!0)},"aria-hidden":!0},void 0,L.default.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE):null),childrenSystemMessage:(0,h.default)(e),hasThread:null!=Q&&l.hasFlag(R.MessageFlags.HAS_THREAD),hasReply:l.type===R.MessageTypes.REPLY,isSystemMessage:ne,"aria-labelledby":Z,"aria-describedby":J},y))}Y.displayName="GuildFeedMessage";var K=a.memo(Y);t.default=K},582652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ReferenceMessagesBase=V;t.default=void 0
;var r,a=j(n(667294)),o=n(393356),i=n(177661),u=n(536211),l=n(378158),s=L(n(678928)),d=n(341186),f=L(n(187295)),c=L(n(546914)),p=L(n(502546)),v=L(n(644263)),y=L(n(290629)),m=L(n(16941)),_=n(645758),h=L(n(730977)),g=L(n(436081)),E=L(n(114655)),S=j(n(152731)),O=L(n(968078)),b=L(n(676509)),I=L(n(397898)),T=L(n(722556)),C=L(n(47186)),A=L(n(388884)),M=L(n(514563)),N=L(n(373893)),P=n(770348),R=n(173652),w=L(n(247001)),D=L(n(364022));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,u,"next",e)}function u(e){
B(o,r,a,i,u,"throw",e)}i(void 0)}))}}var W=function(){var e=H(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function V(e){var t=e.guildId,n=e.maxUsers,r=e.users,a=e.text;return x("div",{className:D.default.referenceMessagesText},void 0,x(S.default,{guildId:t,users:r,size:S.Sizes.SIZE_16,className:D.default.userSummaryItem,max:n,showDefaultAvatarsForNullUsers:!0}),x(_.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,a))}V.displayName="ReferenceMessagesBase";function Y(e){var t=e.referenceMessages,n=e.guildId,r=a.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),o=t.length
;return 0===o?null:x(V,{guildId:n,users:r,text:o>3?w.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):w.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o})})}Y.displayName="ReferenceMessages";var K=a.forwardRef((function(e,t){var n,r,S=e.guildId,L=e.messageItem,k=L.message.channel_id,j=L.message.id,F=(0,u.useStateFromStoresObject)([O.default],(function(){var e=O.default.getCachedMessage(S,k,j);return{message:e,isFeaturedMessage:null!=e&&O.default.getIsItemFeatured({guildId:S,entity:e,entityType:i.GuildFeedItemTypes.MESSAGE})}}),[S,k,j]),B=F.message,V=F.isFeaturedMessage,K=(0,u.useStateFromStores)([v.default],(function(){return v.default.getChannel(k)})),z=(0,d.getChannelIconComponent)(K),$=(0,d.getChannelIconTooltipText)(K),q=null!==(n=null==L?void 0:L.referenceMessages)&&void 0!==n?n:[],X=(0,s.default)(K),Q=G(a.useState(!1),2),Z=Q[0],J=Q[1],ee=(0,u.useStateFromStores)([y.default],(function(){
return null!=B&&y.default.isBlocked(null==B?void 0:B.author.id)})),te=(0,o.useListItem)(null!==(r=null==B?void 0:B.id)&&void 0!==r?r:j),ne=(0,b.default)(L),re=(0,u.useStateFromStores)([p.default],(function(){return p.default.getSidebarState(R.StaticChannelRoute.GUILD_HOME)})),ae=null!=re&&"initialMessageId"in re&&L.message.id===(null==re?void 0:re.initialMessageId),oe=L.highlighted?w.default.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:V?w.default.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,ie=(0,I.default)({guildId:S,channelId:k,messageId:j,feedItemType:i.GuildFeedItemTypes.MESSAGE,onChannelClick:function(){return(0,f.default)(P.Routes.CHANNEL(S,k,j))},onContentClick:function(){return c.default.openChannelAsSidebar({guildId:S,channelId:k,messageId:j,baseChannelId:R.StaticChannelRoute.GUILD_HOME})}}),ue=ie.handleMessageClick,le=ie.handleChannelClick,se=ie.handleCardClick;if(null==K||null==B||null==L||ee)return null;var de=function(){var e=H(regeneratorRuntime.mark((function e(t){var n,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return W();case 2:n=e.sent;r=x(n,{messageItem:L,message:B,channel:K,onSelect:t});return e.abrupt("return",(function(e){return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(C.default,{className:D.default.container,ref:t,selected:ae,onCardClick:se,onItemClick:ue,onContextMenu:function(e){e.stopPropagation();(0,l.openContextMenuLazy)(e,H(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return W();case 2:t=e.sent;return e.abrupt("return",(function(e){return a.createElement(t,U({},e,{messageItem:L,channel:K,message:B}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:ne,ariaLabel:w.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:X}),listItemProps:te,onMouseEnter:function(){return J(!0)},onMouseLeave:function(){
return J(!1)}},x(A.default,{},void 0,x("div",{className:D.default.messageHeaderMenuLeft},void 0,x(m.default,{className:D.default.channelNameContainer,onClick:le},void 0,null!=z?x(h.default,{text:$,delay:500},void 0,(function(e){return a.createElement(z,U({},e,{className:D.default.channelIcon,height:16,width:16}))})):null,x(g.default,{className:D.default.channelName,size:E.default.Sizes.SIZE_14},void 0,X)),null!=oe&&x("div",{className:D.default.featuredMessageContainer},void 0,x(T.default,{height:4,width:4,"aria-hidden":"true",className:D.default.featuredMessageIcon}),x(_.Text,{className:D.default.featuredMessageText,variant:"text-sm/normal",color:"header-secondary"},void 0,oe))),x("div",{className:D.default.messageHeaderMenuRight},void 0,x(M.default,{feedItem:L,guildId:S,renderContextPopout:de}))),x(N.default,{className:D.default.messageItemBody,guildId:S,animateAvatar:Z,channel:K,message:B}),x(Y,{referenceMessages:q,guildId:S}))}));t.default=K},963481:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=H(n(667294)),o=n(393356),i=n(177661),u=n(536211),l=n(378158),s=x(n(678928)),d=n(341186),f=n(973523),c=H(n(487213)),p=x(n(187295)),v=x(n(546914)),y=x(n(864061)),m=x(n(979674)),_=x(n(502546)),h=x(n(644263)),g=x(n(290629)),E=x(n(16941)),S=n(772575),O=n(645758),b=x(n(730977)),I=x(n(436081)),T=x(n(114655)),C=x(n(968078)),A=x(n(676509)),M=x(n(397898)),N=x(n(722556)),P=x(n(47186)),R=x(n(388884)),w=x(n(514563)),D=x(n(373893)),L=n(582652),k=n(770348),j=n(173652),U=n(64072),G=x(n(247001)),F=x(n(775039));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))}}var q=function(){var e=$(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function X(e){var t=e.channel,n=(0,u.useStateFromStores)([m.default],(function(){var e;return null!==(e=m.default.getCount(t.id))&&void 0!==e?e:0})),r=n>=U.MAX_THREAD_MESSAGE_COUNT?G.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:U.MAX_THREAD_MESSAGE_COUNT}):G.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:n}),a=(0,u.useStateFromStores)([y.default],(function(){return y.default.getMemberIdsPreview(t.id)})),o=(0,
f.useFacepileUsers)(t,null!=a?a:[]);return 0===n?null:K(L.ReferenceMessagesBase,{guildId:t.guild_id,maxUsers:5,users:o,text:r})}X.displayName="Replies";var Q=a.forwardRef((function(e,t){var n,r=e.guildId,y=e.postItem,m=y.thread,L=(0,u.useStateFromStoresObject)([C.default],(function(){return{message:C.default.getCachedMessage(r,m.id,y.message.id),isFeaturedPost:C.default.getIsItemFeatured({guildId:r,entity:m,entityType:i.GuildFeedItemTypes.FORUM_POST})}}),[r,y.message.id,m]),U=L.message,x=L.isFeaturedPost,B=(0,s.default)(m),H=(0,u.useStateFromStores)([g.default],(function(){return null!=U&&g.default.isBlocked(null==U?void 0:U.author.id)})),Y=(0,o.useListItem)(null!==(n=null==U?void 0:U.id)&&void 0!==n?n:y.message.id),z=(0,A.default)(y),Q=(0,d.getChannelIconTooltipText)(m),Z=(0,u.useStateFromStores)([h.default],(function(){return h.default.getChannel(m.parent_id)})),J=(0,s.default)(Z),ee=(0,d.getChannelIconComponent)(Z),te=V(a.useState(!1),2),ne=te[0],re=te[1],ae=(0,
u.useStateFromStores)([_.default],(function(){return _.default.getSidebarState(j.StaticChannelRoute.GUILD_HOME)})),oe=null!=ae&&"initialMessageId"in ae&&y.message.id===(null==ae?void 0:ae.initialMessageId),ie=y.highlighted?G.default.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:x?G.default.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,ue=(0,M.default)({guildId:r,channelId:m.id,messageId:y.message.id,feedItemType:i.GuildFeedItemTypes.FORUM_POST,onChannelClick:function(){return(0,p.default)(k.Routes.CHANNEL(r,m.parent_id))},onContentClick:function(){return v.default.openThreadAsSidebar({baseChannelId:j.StaticChannelRoute.GUILD_HOME,channelId:m.id,initialMessageId:m.id})}}),le=ue.handleMessageClick,se=ue.handleChannelClick,de=ue.handleCardClick,fe=V((0,f.useFirstAppliedTag)(m),2),ce=fe[0],pe=fe[1],ve=(0,f.useAppliedTags)(m).slice(1);if(null==m||null==U||null==y||H)return null;var ye=function(){var e=$(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return q();case 2:n=e.sent;r=K(n,{messageItem:y,message:U,channel:m,onSelect:t});return e.abrupt("return",(function(e){return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(P.default,{className:F.default.container,ref:t,selected:oe,onCardClick:de,onItemClick:le,onContextMenu:function(e){e.stopPropagation();(0,l.openContextMenuLazy)(e,$(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return q();case 2:t=e.sent;return e.abrupt("return",(function(e){return a.createElement(t,W({},e,{messageItem:y,channel:m,message:U}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:z,ariaLabel:G.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:B}),listItemProps:Y,onMouseEnter:function(){return re(!0)},onMouseLeave:function(){return re(!1)}},K(R.default,{},void 0,K("div",{
className:F.default.postHeaderMenuLeft},void 0,K(E.default,{className:F.default.channelNameContainer,onClick:se},void 0,null!=ee?K(b.default,{text:Q,delay:500},void 0,(function(e){return a.createElement(ee,W({},e,{className:F.default.channelIcon,height:16,width:16}))})):null,K(I.default,{className:F.default.channelName,size:T.default.Sizes.SIZE_14},void 0,J)),null!=ie&&K("div",{className:F.default.featuredPostContainer},void 0,K(N.default,{height:4,width:4,"aria-hidden":"true",className:F.default.featuredPostIcon}),K(O.Text,{className:F.default.featuredPostText,variant:"text-sm/normal",color:"header-secondary"},void 0,ie))),K("div",{className:F.default.postHeaderMenuRight},void 0,K(w.default,{feedItem:y,guildId:r,renderContextPopout:ye}))),K("div",{className:F.default.titleContainer},void 0,K(S.Heading,{className:F.default.title,variant:"heading-lg/medium"},void 0,m.name),null!=ce?K("div",{className:F.default.tags},void 0,K(c.default,{tag:ce,size:c.default.Sizes.SMALL
}),pe>0?K(c.ForumTagOverflow,{tags:ve,count:pe,size:c.default.Sizes.SMALL}):null):null),K(D.default,{className:F.default.messageItemBody,guildId:m.guild_id,animateAvatar:ne,channel:m,message:U}),K(X,{channel:m}))}));t.default=Q},722556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){
s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 4 4"}),d("circle",{cx:"2",cy:"2",
r:"2",fill:f}))}f.displayName="DotSpacer"},304242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_STORED_MESSAGES=void 0;var r=s(n(496486)),a=s(n(536211)),o=s(n(636602)),i=s(n(644263)),u=(s(n(790597)),s(n(71636))),l=n(173652);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=9e5,c=3e5;t.MAX_STORED_MESSAGES=26;var p={},v={},y={},m={};function _(e){var t=v[e];if(null!=t){var n=r.default.findIndex(t,(function(e){return u.default.compare(e.id,u.default.fromTimestamp(Date.now()-f))>0}));if(-1===n)v[e]=[];else{var a=Math.max(n,t.length-26);v[e]=r.default.slice(t,a)}y[e]=Date.now()}}function h(e,t,n,r){p[e].add(t);var a=y[t];(null==a||a+c>Date.now())&&_(t);null==v[t]&&(v[t]=[]);v[t].push({id:n,userId:r})}function g(e){var t=e.channel;delete v[t.id];delete y[t.id]}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getActiveChannelsFetchStatus=function(e){return m[e]};n.getActiveChannelIds=function(e){return p[e]};n.getChannelMessageData=function(e){return v[e]};n.shouldFetch=function(e){var t;return null==p[e]&&!(null===(t=m[e])||void 0===t?void 0:t.loading)};n.__getLocalVars=function(){return{LOOKBACK_PERIOD:f,TRUNCATION_RATE_LIMIT_PERIOD:c,activeChannelIdsByGuildId:p,recentMessageDataByChannelId:v,channelLastTruncationTime:y,fetchStatusByGuild:m}};return t}(a.default.Store);E.displayName="ActiveChannelsStore";var S=new E(o.default,{CHANNEL_SELECT:function(e){var t=e.channelId,n=e.guildId;if(!(0,l.isGuildHomeChannel)(t)||null==n)return!1;var a=p[n];if(null==a)return!1;a.forEach((function(e){var t;_(e);0===(null===(t=v[e])||void 0===t?void 0:t.length)&&delete v[e]}));var o=r.default.chain(Array.from(a)).filter((function(e){return e in v})).sortBy((function(e){var t,n
;return-(null!==(t=null===(n=v[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0)})).value();p[n]=new Set(o)},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=e.optimistic,a=e.isPushNotification;if(r||a)return!1;var o=i.default.getChannel(t);if(null==o)return!1;var u=o.guild_id;if(null==u)return!1;if(null==p[u])return!1;h(u,t,n.id,n.author.id)},GUILD_DELETE:function(e){var t=e.guild;delete p[t.id]},CHANNEL_DELETE:g,THREAD_DELETE:g,ACTIVE_CHANNELS_FETCH_START:function(e){var t=e.guildId;m[t]={loading:!0,error:null,fetchedAt:Date.now()}},ACTIVE_CHANNELS_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.channels;m[t]={loading:!1,error:null,fetchedAt:Date.now()};p[t]=new Set;n.forEach((function(e){var n=e.channel_id;e.messages.forEach((function(e){h(t,n,e.message_id,e.user_id)}))}))},ACTIVE_CHANNELS_FETCH_FAILURE:function(e){var t=e.guildId,n=e.error;m[t]={loading:!1,error:n,fetchedAt:null}},CONNECTION_OPEN:function(){}});t.default=S},134866:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.getHomeFeedbackSurvey=function(e,t){var n=a.default.getGuild(t),r=null!=n?encodeURIComponent(n.name):"unknown";return"https://survey.alchemer.com/s3/6852193/Home-Beta-Test-Feature-Feedback?user_id="+e+"&guild_id="+t+"&guild_name="+r};t.useHomeFeedbackCardInfo=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getSubmittedFeedback(e))&&void 0!==t?t:null})),n=(0,r.useStateFromStores)([o.default],(function(){return o.default.getNumCleanLoads(e)>10&&o.default.getNumCleanLoads(e)<=20&&!o.default.isGuildFeedbackFinished(e)})),u=(0,r.useStateFromStores)([a.default],(function(){var t;return null===(t=a.default.getGuild(e))||void 0===t?void 0:t.hasFeature(i.GuildFeatures.INTERNAL_EMPLOYEE_ONLY)}));return{shouldPrompt:n&&!u,submittedRating:t}};var r=n(536211),a=u(n(30098)),o=u(n(357762)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},352781:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-06_home_highlight_notification",label:"Home Highlight Notification",defaultConfig:{showHighlightOnGuildHome:!1},treatments:[{id:1,label:"Show highlight on guild home",config:{showHighlightOnGuildHome:!0}}]});t.default=r},1110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(636602)),a=d(n(177230)),o=n(143194),i=n(742965),u=n(389666),l=d(n(304242)),s=n(173652);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleChannelPreload=function(e){var t=e.guildId,n=e.channelId
;if(null==t)return!1;if(n!==s.StaticChannelRoute.GUILD_HOME)return!1;(0,u.shouldFetchGuildFeed)(t,!1)&&(0,i.fetchGuildFeed)({guildId:t,refresh:!0});l.default.shouldFetch(t)&&(0,o.fetchActiveChannels)(t)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe("CHANNEL_PRELOAD",this.handleChannelPreload)};n._terminate=function(){r.default.unsubscribe("CHANNEL_PRELOAD",this.handleChannelPreload)};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=c},674406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(536211)),a=l(n(636602)),o=l(n(790597)),i=l(n(308920)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=288e5,f={};function c(e){var t;if(null==e||e===u.ME||e===u.FAVORITES)return!1;var n=null!==(t=f[e])&&void 0!==t?t:0;if(Date.now()<=n+d)return!1;f[e]=Date.now()
;i.default.track(u.AnalyticEvents.HIGHLIGHTS_TEST_LOADED,{guild_id:e})}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(o.default);null!=e&&(f=e.lastHighlightsLoadMillis)};n.getState=function(){return{lastHighlightsLoadMillis:f}};n.__getLocalVars=function(){return{FETCH_HIGHLIGHTS_THRESHOLD_MILLIS:d,lastHighlightsLoadMillis:f}};return t}(r.default.PersistedStore);p.displayName="HighlightsTestStore";p.persistKey="HighlightsTestStore";var v=new p(a.default,{CONNECTION_OPEN:function(){return c(o.default.getGuildId())},CHANNEL_SELECT:function(e){return c(e.guildId)}});t.default=v},560942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveVoiceChannels=t.useActiveTextChannels=void 0
;var r=n(536211),a=n(567186),o=c(n(644263)),i=c(n(30098)),u=c(n(689389)),l=n(71246),s=c(n(304242)),d=n(770348),f=n(173652);function c(e){return e&&e.__esModule?e:{default:e}}t.useActiveTextChannels=function(e){var t=(0,r.useStateFromStoresArray)([s.default],(function(){var t=s.default.getActiveChannelIds(e);return null!=t?Array.from(t):[]}));return(0,r.useStateFromStoresArray)([o.default,u.default],(function(){return t.map((function(e){return o.default.getChannel(e)})).filter(l.isNotNullish).filter((function(e){if(null==e?void 0:e.hasFlag(f.ChannelFlags.ACTIVE_CHANNELS_REMOVED))return!1;if(!(0,a.isTextChannel)(e.type))return!1;if(!u.default.can(d.Permissions.VIEW_CHANNEL,e))return!1;var t=o.default.getChannel(e.parent_id);return!e.isThread()||null==t||!(null==t?void 0:t.hasFlag(f.ChannelFlags.ACTIVE_CHANNELS_REMOVED))}))}))};t.useActiveVoiceChannels=function(e,t,n){var a=(0,r.useStateFromStores)([i.default],(function(){var t
;return null===(t=i.default.getGuild(e))||void 0===t?void 0:t.afkChannelId})),s=Object.keys(t).filter((function(e){return t[e].length>0}));return(0,r.useStateFromStoresArray)([u.default,o.default],(function(){return s.filter((function(e){return e!==a&&e!==(null==n?void 0:n.channel_id)})).map((function(e){return o.default.getChannel(e)})).filter(l.isNotNullish).filter((function(e){return!(null==e?void 0:e.hasFlag(f.ChannelFlags.ACTIVE_CHANNELS_REMOVED))&&u.default.can(d.Permissions.VIEW_CHANNEL,e)}))}))}},490033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.default)(e);r.useEffect((function(){i.default.track(l.AnalyticEvents.HOME_EVENTS_LOADED,{guild_id:e,active_events_shown:t.some((function(e){return(0,a.isGuildScheduledEventActive)(e)}))?1:0,upcoming_events_shown:t.some((function(e){return!(0,a.isGuildScheduledEventActive)(e)}))?1:0,home_session_id:u.default.getHomeSessionId(e)})}),[e])};var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(330321),o=s(n(902399)),i=s(n(308920)),u=s(n(173101)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},22892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,o.useLocation)(),t=(0,a.parse)(e.search),n=t.highlight_channel_id,i=t.highlight_message_id;return r.useMemo((function(){return null!=i&&null!=n?{messageId:i,channelId:n}:null}),[n,i])}
;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(517563),o=n(473727);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},533705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannels(e)}))[i.GUILD_SELECTABLE_CHANNELS_KEY];return(0,o.useStateFromStoresArray)([u.default],(function(){return t.filter((function(e){var t=e.channel
;return a.ChannelTypesSets.READABLE.has(t.type)&&!a.ChannelTypesSets.GUILD_VOCAL.has(t.type)})).filter((function(t){var n=t.channel;return u.default.isChannelMuted(e,n.id)||u.default.isCategoryMuted(e,n.id)}))}),[e,t]).length};var r,a=n(723360),o=n(536211),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(517286)),u=(r=n(563621))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},866797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,
a.default)([i.default],(function(){return i.default.getTotalNumCleanLoads()<=2})),l=(0,a.default)([o.default],(function(){var e=o.default.getCurrentUser();return null==e||e.createdAt.getTime()<d.getTime()})),s=r.useMemo((function(){return null!=(null==e?void 0:e.joinedAt)&&d.getTime()>e.joinedAt.getTime()}),[null==e?void 0:e.joinedAt]),f=n&&l&&!s;r.useEffect((function(){f||t(u.ContentDismissActionType.AUTO)}),[f]);return f||!0};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(342518)),o=l(n(728429)),i=l(n(357762)),u=n(583551);function l(e){return e&&e.__esModule?e:{default:e
}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var d=new Date(Date.UTC(2022,7,6))},813092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){r.useEffect((function(){var t=o.default.getHomeSessionId(e);return function(){a.default.track(i.AnalyticEvents.HOME_EXITED,{guild_id:e,home_session_id:t})}}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(308920)),o=u(n(173101)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},574486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTIVE_NOW_ICON_SIZE=void 0;t.ActiveChannelBase=b;t.ActiveNowBase=O;t.ActiveNowFiller=I;t.DISPLAYED_PARTICIPANT_AVATARS=t.COLLAPSED_VIEW_DISPLAYED_PARTICIPANT_AVATARS=void 0;var r,a=g(n(667294)),o=_(n(294184)),i=_(n(876647)),u=n(341186),l=_(n(16941)),s=n(645758),d=_(n(730977)),f=_(n(436081)),c=g(n(152731)),p=n(124042),v=_(n(247001)),y=_(n(462298)),m=_(n(572274));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}t.DISPLAYED_PARTICIPANT_AVATARS=3;t.COLLAPSED_VIEW_DISPLAYED_PARTICIPANT_AVATARS=5;t.ACTIVE_NOW_ICON_SIZE=16;function O(e){
var t,n=e.shouldUseCollapsedLayout,r=void 0===n||n,u=e.onClick,s=e.icon,c=e.iconTooltipText,v=e.textNode,m=e.header,_=e.accessoryNode,h=e.children,g=(0,i.default)(p.COLLAPSED_SIZE_MEDIA_QUERY);return E("div",{className:(0,o.default)(y.default.container,(t={},t[y.default.containerCard]=g,t[y.default.collapsedLayout]=g&&r,t))},void 0,E(l.default,{className:y.default.body,onClick:u},void 0,E("div",{className:y.default.details},void 0,null!=s?E(d.default,{text:c,delay:500},void 0,(function(e){return a.createElement("div",S({},e,{className:y.default.iconContainer}),s)})):null,E(f.default,{className:y.default.title,size:f.default.Sizes.SIZE_14},void 0,m),E("div",{className:y.default.subtitle},void 0,v)),null!=_&&E("div",{className:y.default.accessoryContainer},void 0,_)),h)}O.displayName="ActiveNowBase";function b(e){var t=e.children,n=e.guildId,r=e.channel,a=e.text,o=e.activityIndicator,l=e.usersInSummary,d=e.onChannelClick,f=e.channelIconOptions,v=(0,
i.default)(p.COLLAPSED_SIZE_MEDIA_QUERY),y=(0,u.getChannelIconComponent)(r,null,f);return E(O,{textNode:null!=a?E(s.Text,{variant:"text-xs/normal"},void 0,a):null,accessoryNode:E(c.default,{guildId:n,users:l,size:v?c.Sizes.SIZE_24:c.Sizes.SIZE_16,max:v?5:3,extraDetail:o}),onClick:d,icon:null!=y&&E(y,{width:16,height:16}),iconTooltipText:(0,u.getChannelIconTooltipText)(r),header:r.name},void 0,t)}b.displayName="ActiveChannelBase";function I(){return E("div",{className:(0,o.default)(y.default.container,y.default.containerCard,y.default.fillerCard)},void 0,E("img",{src:m.default,className:y.default.spacerChannelImg,alt:"","aria-hidden":!0}),E("div",{className:y.default.fillerText},void 0,E(f.default,{className:y.default.title,size:f.default.Sizes.SIZE_14},void 0,v.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_TITLE),E(s.Text,{variant:"text-xs/normal"},void 0,v.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_SUBTITLE)))}I.displayName="ActiveNowFiller"},466366:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=Q;var r,a=x(n(667294)),o=G(n(294184)),i=x(n(496486)),u=n(393356),l=n(536211),s=G(n(876647)),d=G(n(213847)),f=n(143194),c=G(n(65770)),p=n(330321),v=x(n(902399)),y=G(n(751410)),m=G(n(487372)),_=G(n(16941)),h=n(772575),g=n(645758),E=G(n(69405)),S=n(235742),O=G(n(308920)),b=G(n(304242)),I=G(n(173101)),T=n(560942),C=n(574486),A=G(n(931108)),M=G(n(661129)),N=G(n(441626)),P=G(n(750931)),R=n(770348),w=n(124042),D=G(n(247001)),L=G(n(831689)),k=G(n(404024)),j=G(n(764728)),U=["ref"];function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function H(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1
;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=153;function $(){var e="dark"===(0,d.default)()?k.default:j.default;return K("div",{className:L.default.emptyStateContainer},void 0,K("img",{className:L.default.image,src:e,width:154,height:48,alt:""}),K(h.Heading,{className:L.default.title,variant:"heading-md/medium",level:3},void 0,D.default.Messages.ACTIVE_CHANNELS_EMPTY_TITLE),K(g.Text,{className:L.default.subtitle,color:"header-secondary",variant:"text-sm/normal"},void 0,D.default.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE))}$.displayName="ActiveChannelsEmpty";var q=K($,{}),X=K(C.ActiveNowFiller,{});function Q(e){var t=e.guildId,n=(0,l.useStateFromStores)([b.default],(function(){return b.default.getActiveChannelsFetchStatus(t)})),r=(0,T.useActiveTextChannels)(t),d=(0,v.useGuildActiveEvent)(t),C=(0,
l.useStateFromStores)([m.default],(function(){return m.default.getVoiceStates(t)})),k=(0,T.useActiveVoiceChannels)(t,C,d),j=r.length+k.length+(null!=d?1:0),G=j>0,F=a.useRef(null),x=(0,y.default)("active-channels",F),V=(0,v.default)(t).filter((function(e){return!(0,p.isGuildScheduledEventActive)(e)})),Y=W(a.useState(0===V.length),2),$=Y[0],Q=Y[1],Z=(0,s.default)(w.COLLAPSED_SIZE_MEDIA_QUERY),J=W(a.useState(!0),2),ee=J[0],te=J[1],ne=W(a.useState(!1),2),re=ne[0],ae=ne[1],oe=function(){var e=F.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth;te(n<=0);ae(n>=r-600-1)}},ie=a.useCallback((function(){var e=F.current;if(null!=e){var t=e.getScrollerState().scrollLeft,n=Math.ceil((t-612)/z)*z;e.scrollTo({to:Math.max(0,n),animate:!0})}}),[F]),ue=a.useCallback((function(){var e=F.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth,a=Math.floor((n+612)/z)*z;e.scrollTo({to:Math.min(r,a),animate:!0})}}),[F]);a.useEffect((function(){
b.default.shouldFetch(t)&&(0,f.fetchActiveChannels)(t)}),[t]);(0,c.default)(t,r,k);var le=a.useCallback((function(e){O.default.track(R.AnalyticEvents.ACTIVE_CHANNEL_CLICKED,{guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,text_channels_shown:r.length,voice_channels_shown:k.length,home_session_id:I.default.getHomeSessionId(e.guild_id)})}),[r,k]),se=r.map((function(e){return K(M.default,{guildId:t,channel:e,trackChannelClick:le},e.id)})),de=k.map((function(e){return K(N.default,{guildId:t,channel:e,voiceStates:C[e.id],trackChannelClick:le},e.id)})),fe=[];if(Z)fe=[].concat(H(se),H(de));else if($)fe=i.compact([null!=d&&K(P.default,{event:d},"event")].concat(H(se.slice(0,10)),H(de)));else{var ce=i.take(se,3-(de.length>0?1:0)-(null!=d?1:0)),pe=i.take(de,3-ce.length-(null!=d?1:0));fe=i.compact([null!=d&&K(P.default,{event:d},"event")].concat(H(ce),H(pe)))}return K("div",{className:L.default.container},void 0,K("div",{className:L.default.header},void 0,K(h.Heading,{
variant:"heading-md/medium",level:3},void 0,D.default.Messages.ACTIVE_CHANNELS_HEADER),!0!==(null==n?void 0:n.loading)&&j>3&&K(_.default,{onClick:function(){return Q(!$)}},void 0,K(g.Text,{className:L.default.showAll,variant:"text-sm/normal"},void 0,$?D.default.Messages.GUILD_HOME_SEE_LESS:D.default.Messages.GUILD_HOME_SEE_ALL.format({count:j})))),(null==n?void 0:n.loading)?K(S.AdvancedScrollerNone,{className:L.default.channelList,orientation:"horizontal",paddingFix:!1},void 0,K(A.default,{guildId:t})):G?K(u.ListNavigatorProvider,{navigator:x},void 0,K(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,U);return a.createElement(S.AdvancedScrollerNone,B({className:L.default.channelList,orientation:"horizontal",paddingFix:!1,onScroll:oe,ref:function(e){var n;F.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null
;oe()}},n),fe,Z&&j<4&&X)}))):q,Z&&G&&!ee&&K(_.default,{className:(0,o.default)(L.default.scrollIcon,L.default.left),onClick:ie,"aria-hidden":!0},void 0,K(E.default,{direction:E.default.Directions.LEFT,height:12,width:12})),Z&&G&&!re&&K(_.default,{className:(0,o.default)(L.default.scrollIcon,L.default.right),onClick:ue,"aria-hidden":!0},void 0,K(E.default,{direction:E.default.Directions.RIGHT,height:12,width:12})))}Q.displayName="ActiveChannels"},931108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=(0,u.default)(d.COLLAPSED_SIZE_MEDIA_QUERY);return a.createElement(a.Fragment,null,i.times(n?4:3,(function(e){var r;return y("div",{className:(0,o.default)(f.default.container,(r={},r[f.default.loadingContainer]=!0,r[f.default.containerCard]=n,r[f.default.collapsedLayout]=n,r))},e,y("div",{className:f.default.body},void 0,y("div",{className:f.default.details},void 0,y("div",{className:f.default.iconContainer}),y(l.ContentBlob,{
className:f.default.title,opacity:.2,width:72}),y(l.ContentBlob,{className:f.default.subtitle,opacity:.1,width:100})),y("div",{className:f.default.accessoryContainer},void 0,y(s.default,{guildId:t,renderUser:function(){return y("div",{className:f.default.loadingUser,style:{width:n?24:16,height:n?24:16}})},users:[null,null],size:n?s.Sizes.SIZE_24:s.Sizes.SIZE_16,extraDetail:y("div",{className:f.default.typingIndicator})}))),2===e&&y("div",{className:f.default.previewContainer}))})),m," ")};var r,a=v(n(667294)),o=c(n(294184)),i=v(n(496486)),u=c(n(876647)),l=n(114557),s=v(n(152731)),d=n(124042),f=c(n(462298));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=y("div",{})},661129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;g(n(667294))
;var r,a=_(n(496486)),o=n(536211),i=_(n(187295)),u=_(n(946447)),l=_(n(728429)),s=_(n(810919)),d=n(71246),f=_(n(71636)),c=g(n(304242)),p=n(574486),v=n(770348),y=_(n(247001)),m=_(n(462298));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.guildId,n=e.channel,r=e.trackChannelClick,_=(0,o.useStateFromStoresArray)([c.default],(function(){var e;return null!==(e=c.default.getChannelMessageData(n.id))&&void 0!==e?e:[]})),h=a.default.uniq(a.default.map(_,"userId")),g=(0,o.useStateFromStoresArray)([l.default],(function(){return h.map((function(e){return l.default.getUser(e)}))})),S=(0,o.useStateFromStores)([u.default],(function(){var e=u.default.getTypingUsers(n.id);return Object.keys(e).length>0}),[n.id]),O=_.length<c.MAX_STORED_MESSAGES?y.default.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:_.length}):y.default.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,b=S?E("div",{className:m.default.typingIndicator},void 0,E(s.default,{className:m.default.ellipsis,
dotRadius:2,themed:!0})):null;return E(p.ActiveChannelBase,{guildId:t,channel:n,usersInSummary:g.filter(d.isNotNullish),text:O,activityIndicator:b,onChannelClick:function(){r(n);(0,i.default)(v.Routes.CHANNEL(n.guild_id,n.id,f.default.fromTimestamp(Date.now())))}})}S.displayName="ActiveTextChannel"},441626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=I(n(496486)),o=n(536211),i=I(n(136873)),u=n(123516),l=I(n(631294)),s=n(385753),d=I(n(910999)),f=I(n(645923)),c=I(n(141776)),p=n(567186),v=I(n(607209)),y=I(n(423046)),m=I(n(689389)),_=I(n(211136)),h=I(n(16941)),g=n(645758),E=I(n(68259)),S=n(574486),O=n(770348),b=I(n(462298));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t,n=e.channel,r=e.voiceStates,l=(0,o.useStateFromStores)([v.default],(function(){
return v.default.getAllApplicationStreamsForChannel(n.id)[0]})),c=(0,o.useStateFromStores)([v.default],(function(){return null!=l?v.default.getActiveStreamForApplicationStream(l):null})),p=(0,o.useStateFromStores)([y.default],(function(){return y.default.getId()})),m=A((0,s.useCanWatchStream)(n),2),_=m[0],S=m[1];if(null==l)return null;var I=a.default.chain(r).map("member").find(["userId",l.ownerId]).value(),T=a.default.chain(r).map("user").find(["id",l.ownerId]).value(),M=null!==(t=null==I?void 0:I.nick)&&void 0!==t?t:T.username,N=null!=c&&null!=l&&c.state!==O.ApplicationStreamStates.ENDED&&c.ownerId===l.ownerId;return C(h.default,{onClick:function(){i.default.selectVoiceChannel(n.id);N||(0,u.watchStreamAndTransitionToStream)(l)},className:b.default.previewContainer},void 0,C(f.default,{className:b.default.previewImage,stream:l}),_?C("div",{className:b.default.previewHover},void 0,C(g.Text,{variant:"text-sm/normal",color:"none",className:b.default.previewButton},void 0,(0,
d.default)(l,c,p,S))):null,null!=M&&C("div",{className:b.default.previewName},void 0,C(E.default,{width:18,height:18,className:b.default.icon}),C(g.Text,{variant:"text-sm/normal",color:"none"},void 0,M)))}N.displayName="VoiceStreamPreview";function P(e){var t,n=e.guildId,r=e.channel,i=e.voiceStates,u=e.trackChannelClick,s=i.map((function(e){return e.user})),d=(0,c.default)(null!==(t=null==r?void 0:r.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,f=(0,o.useStateFromStores)([m.default],(function(){return!m.default.can(O.Permissions.CONNECT,r)})),v=a.default.map(i,(function(e){var t,n;return null!==(t=null===(n=e.member)||void 0===n?void 0:n.nick)&&void 0!==t?t:e.user.username})).join(", ");return C(S.ActiveChannelBase,{guildId:n,channel:r,text:v,usersInSummary:s,onChannelClick:function(){if((0,p.isGuildVocalChannelType)(r.type)){var e=_.default.getVoiceChannelId(),t=!m.default.can(O.Permissions.CONNECT,r);u(r);l.default.handleVoiceConnect({channel:r,locked:t,connected:e===r.id,
needSubscriptionToAccess:d})}},channelIconOptions:{locked:f}},void 0,C(N,{channel:r,voiceStates:i}))}P.displayName="ActiveVoiceChannel"},389396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=H;var r,a=A(n(667294)),o=n(536211),i=n(742965),u=T(n(922748)),l=A(n(741645)),s=A(n(968078)),d=n(676509),f=T(n(389666)),c=T(n(952572)),p=T(n(686305)),v=A(n(20902)),y=T(n(71636)),m=T(n(173101)),_=T(n(22892)),h=n(729869),g=T(n(429612)),E=T(n(541841)),S=T(n(377851)),O=n(124042),b=T(n(247001)),I=T(n(960251));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=D(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return L(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=a.memo((function(e){var t=e.guildId;return(0,o.useStateFromStores)([p.default],(function(){return p.default.isViewingRoles(t)}))?k(v.default,{messageType:v.HelpMessageTypes.WARNING
},void 0,b.default.Messages.GUILD_FEED_VIEW_AS_ROLE_WARNING):null}));var U=k(g.default,{}),G=k(g.default,{count:1}),F=k(g.default,{count:1}),x=k(S.default,{}),B=k(g.default,{count:1});function H(e){var t=e.guild,n=e.renderMode,r=e.scrollerRef,p=e.seenManagerRef,v=(0,_.default)(),g=w((0,o.useStateFromStoresArray)([s.default],(function(){return[O.GuildFeedSectionTypes.READ,O.GuildFeedSectionTypes.UNREAD,O.GuildFeedSectionTypes.HIGHLIGHTED,O.GuildFeedSectionTypes.ALL].map((function(e){return s.default.getFeedItemSection(t.id,e)}))})),4),S=g[0],b=g[1],T=g[2],C=g[3],A=(0,o.useStateFromStores)([s.default],(function(){return s.default.getLoadId(t.id)})),M=(0,o.useStateFromStores)([m.default],(function(){return m.default.getHomeSessionId(t.id)})),D=(0,f.default)({guildId:t.id,highlightedItemData:v}),L=D.loading,H=D.error,W=D.fetchFresh,V=D.fetchPage,Y=(0,o.useStateFromStores)([s.default],(function(){return s.default.getPaginationStatus(t.id)})).hasMoreItems,K=a.useRef(null)
;a.useEffect((function(){u.default.initialize();return function(){u.default.terminate()}}),[]);a.useEffect((function(){var e,t=K.current,n=null===(e=r.current)||void 0===e?void 0:e.getScrollerNode();if(null!=n&&null!=t&&Y){var a=new IntersectionObserver((function(e){for(var t,n=R(e);!(t=n()).done;){t.value.intersectionRatio>0&&V()}}),{root:n,rootMargin:"0px 0px 200px 0px",threshold:0});a.observe(t);return function(){a.disconnect()}}}),[r,K,V,t.id,Y]);a.useLayoutEffect((function(){if(null!=A&&null!=M){(0,i.sendFeedShownAnalytics)(t.id);var e=new l.default(t.id,A,M);e.initialize();p.current=e;return function(){e.terminate()}}}),[p,t.id,A,M]);var z=function(e){var t=w(a.useState(null),2),n=t[0],r=t[1];a.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){var a=new ResizeObserver((function(e){for(var t,n=R(e);!(t=n()).done;){var a=t.value;r(a.contentRect.height)}}));a.observe(n);return function(){a.disconnect()}}}),[e]);return n
}(r),$=a.useMemo((function(){return n!==O.GuildFeedRenderMode.NEW?[]:P(C).sort((function(e,t){return-y.default.compare((0,d.getSnowflakeFromGuildFeedItemId)(e.id),(0,d.getSnowflakeFromGuildFeedItemId)(t.id))}))}),[C,n]),q=a.useCallback(N(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return null===(t=p.current)||void 0===t?void 0:t.maybeFlushSeenItems(l.ForceFlushType.IMMEDIATE);case 2:W({force:!0,flushSeenItems:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.maybeFlushSeenItems(l.ForceFlushType.IMMEDIATE)}});case 3:case"end":return e.stop()}}),e)}))),[p,W]);a.useEffect((function(){if(L===s.LoadingStatus.LOADING_FRESH_FEED){var e;null===(e=r.current)||void 0===e||e.scrollToTop()}}),[L]);return 0===C.length?L===s.LoadingStatus.LOADING_FRESH_FEED?k("div",{className:I.default.container},void 0,U):k(null!=H?h.GuildFeedError:h.GuildFeedEmpty,{guildId:t.id,onReloadClick:q
}):n===O.GuildFeedRenderMode.TOP?k("div",{className:I.default.container},void 0,k(E.default,{guild:t}),C.map((function(e){return k(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:z,scrollerRef:r},e.id)})),Y?a.createElement("div",{className:I.default.container,ref:K},G):k(h.GuildFeedFooter,{guildId:t.id,onReloadClick:q})):n===O.GuildFeedRenderMode.NEW?k("div",{className:I.default.container},void 0,k(E.default,{guild:t}),$.map((function(e){return k(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:z,scrollerRef:r},e.id)})),Y?a.createElement("div",{className:I.default.container,ref:K},F):k(h.GuildFeedFooter,{guildId:t.id,onReloadClick:q})):k("div",{className:I.default.container},void 0,k(j,{guildId:t.id}),k(E.default,{guild:t}),T.map((function(e){return k(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:z,scrollerRef:r},e.id)})),b.map((function(e){return k(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:z,scrollerRef:r},e.id)})),S.length>0?x:null,S.map((function(e){
return k(c.default,{guildId:t.id,itemId:e.id,scrollerHeight:z,scrollerRef:r},e.id)})),Y?a.createElement("div",{className:I.default.container,ref:K},B):k(h.GuildFeedFooter,{guildId:t.id,onReloadClick:q}))}H.displayName="GuildFeedContainer"},729869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedFooter=t.GuildFeedError=t.GuildFeedEmpty=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(294184)),i=_(n(956117)),u=_(n(16941)),l=n(772575),s=n(645758),d=_(n(37985)),f=_(n(571830)),c=n(194322),p=_(n(533705)),v=n(770348),y=_(n(247001)),m=_(n(577084));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}
function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t,r){return g(u.default,{className:m.default.mutedChannelsHook,onClick:function(){(0,c.openModalLazy)(O(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(89843)]).then(n.bind(n,289843));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,E({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},t,e)}b.displayName="renderMutedChannelsHook";var I=a.memo((function(e){var t=e.guildId,n=e.onReloadClick,r=(0,p.default)(t);return g("div",{className:(0,
o.default)(m.default.container,m.default.footerContainer)},void 0,g("div",{className:m.default.iconContainer},void 0,g(d.default,{className:m.default.icon,width:20,height:20}),g(f.default,{className:m.default.stars,width:52,height:40})),g(l.Heading,{className:m.default.header,variant:"heading-md/medium",level:3},void 0,y.default.Messages.GUILD_FEED_FOOTER_TITLE),g(s.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,r>0?y.default.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:r,mutedChannelsHook:function(e,n){return b(e,n,t)}}):y.default.Messages.GUILD_FEED_FOOTER_SUBTITLE),g(i.default,{onClick:n,className:m.default.button},void 0,y.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedFooter=I;var T=a.memo((function(e){var t=e.guildId,n=e.onReloadClick,r=(0,p.default)(t);return g("div",{className:(0,o.default)(m.default.container,m.default.background)},void 0,g("div",{className:m.default.iconContainer},void 0,g(d.default,{className:m.default.icon,
width:36,height:36}),g(f.default,{className:m.default.stars})),g(l.Heading,{className:m.default.header,variant:"heading-md/medium",level:3},void 0,y.default.Messages.GUILD_FEED_EMPTY_TITLE),g(s.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,r>0?y.default.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:r,mutedChannelsHook:function(e,n){return b(e,n,t)}}):y.default.Messages.GUILD_FEED_EMPTY_SUBTITLE),g(i.default,{onClick:n,className:m.default.button},void 0,y.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedEmpty=T;var C=a.memo((function(e){var t=e.onReloadClick;return g("div",{className:(0,o.default)(m.default.container,m.default.background)},void 0,g("div",{className:m.default.iconContainer},void 0,g(d.default,{className:m.default.icon,width:36,height:36}),g(f.default,{className:m.default.stars})),g(l.Heading,{className:m.default.header,variant:"heading-md/medium",level:3},void 0,y.default.Messages.GUILD_FEED_ERROR_TITLE),g(s.Text,{
color:"header-secondary",variant:"text-sm/normal"},void 0,y.default.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:v.Links.STATUS})),g(i.default,{onClick:t,className:m.default.button},void 0,y.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedError=C},429612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(667294)),o=f(n(496486)),i=f(n(47186)),u=f(n(388884)),l=n(505280),s=p(n(114557)),d=f(n(266161));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(){var e=a.useMemo((function(){if(!(o.default.random(1)<.5))return y({},(0,l.generateAttachmentSpec)(),{last:!0})}),[]);return v(i.default,{"aria-hidden":!0,ariaLabel:""},void 0,v(u.default,{},void 0,v(s.ContentBlob,{className:d.default.channelName,opacity:.3,
width:80})),v("div",{className:d.default.body},void 0,v(s.default,{messages:5,attachmentSpecs:e})))}m.displayName="PlaceholderCard";var _=a.memo((function(e){var t=e.count;return a.createElement(a.Fragment,null,o.default.times(null!=t?t:5,(function(e){return v(m,{},e)})))}));t.default=_},521388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var r,a=b(n(667294)),o=S(n(294184)),i=n(536211),u=S(n(689389)),l=S(n(151097)),s=b(n(956117)),d=S(n(16941)),f=n(772575),c=n(645758),p=S(n(259530)),v=n(194322),y=S(n(550270)),m=S(n(866797)),_=n(770348),h=S(n(247001)),g=S(n(646756)),E=S(n(934104));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function A(e){var t=e.children,n=e.onClose;return C("div",{className:g.default.container},void 0,C(d.default,{className:g.default.closeButton,onClick:n},void 0,C(p.default,{className:g.default.closeIcon})),C("div",{className:g.default.textContainer},void 0,t),C("img",{className:g.default.image,src:E.default,alt:""}))}A.displayName="CardContainer";function M(e){return C(A,{onClose:e.onClose},void 0,C(f.Heading,{style:{color:"white"},level:2,variant:"heading-lg/medium",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_TITLE),C(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_1),C(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_2),C(l.default,{className:(0,o.default)(g.default.cta,g.default.ctaLink,(0,s.getButtonStyle)({look:s.default.Looks.LINK,color:s.default.Colors.WHITE})),
href:y.default.getArticleURL(_.HelpdeskArticles.GUILD_HOME)},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_3))}M.displayName="MemberCard";function N(){(0,v.openModalLazy)(T(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(96545)]).then(n.bind(n,996545));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}function P(e){return C(A,{onClose:e.onClose},void 0,C(f.Heading,{style:{color:"white"},level:2,variant:"heading-lg/medium",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MODERATOR_TITLE),C(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_1),C(c.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"
},void 0,h.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_2),C(s.default,{className:g.default.cta,look:s.default.Looks.INVERTED,color:s.default.Colors.BRAND,onClick:N},void 0,h.default.Messages.GUILD_FEED_NUX_MODERATOR_CTA))}P.displayName="ModeratorCard";function R(e){var t=e.guild,n=e.onClose,r=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(_.Permissions.MANAGE_MESSAGES,t)}));return(0,m.default)(t,n)?C(r?P:M,{onClose:n}):null}R.displayName="GuildFeedNuxCard"},541841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(923387),i=f(n(305081)),u=n(134866),l=f(n(521388)),s=n(554962),d=n(583551);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=[o.DismissibleContent.GUILD_FEED_NUX_CARD],y=a.memo((function(e){var t=e.guild,n=(0,u.useHomeFeedbackCardInfo)(t.id),r=n.shouldPrompt,a=n.submittedRating;return null!=a?p(s.GuildHomeReceivedFeedbackCard,{guildId:t.id,rating:a}):p(i.default,{contentTypes:v,
groupName:d.DismissibleContentGroupName.GUILD_FEED_TOP},void 0,(function(e){var n=e.visibleContent,a=e.markAsDismissed;return n===o.DismissibleContent.GUILD_FEED_NUX_CARD?p(l.default,{guild:t,onClose:a}):r?p(s.GuildHomeSubmitFeedbackCard,{guildId:t.id}):null}))}));t.default=y},377851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=s(n(992193)),u=s(n(247001)),l=s(n(12820));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=f(i.default,{height:24,width:24}),p=a.memo((function(){return f("div",{className:l.default.container},void 0,f("div",{className:l.default.divider},void 0,f("div",{className:l.default.line}),f("div",{className:l.default.icon},void 0,c),f("div",{className:l.default.line})),f(o.Text,{className:l.default.title,color:"header-primary",variant:"text-md/normal"},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE),f(o.Text,{className:l.default.subtitle,color:"header-secondary",
variant:"text-sm/normal"},void 0,u.default.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE))}));t.default=p},750931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Z;var r,a=H(n(667294)),o=x(n(294184)),i=n(723360),u=n(536211),l=x(n(876647)),s=n(341186),d=n(452453),f=n(330321),c=n(990374),p=n(549905),v=n(834547),y=x(n(60667)),m=x(n(930409)),_=n(139982),h=n(637356),g=x(n(897191)),E=n(921867),S=x(n(644263)),O=x(n(689389)),b=x(n(487372)),I=x(n(956117)),T=x(n(16941)),C=n(645758),A=x(n(32443)),M=x(n(134947)),N=x(n(934018)),P=x(n(114655)),R=H(n(152731)),w=x(n(308920)),D=x(n(173101)),L=n(574486),k=n(770348),j=n(124042),U=n(198756),G=x(n(247001)),F=x(n(120227));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function H(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=12,z=W(M.default,{width:K,height:K});function $(e){var t,n=e.event,r=n.scheduled_start_time,i=n.scheduled_end_time,u=(0,f.isGuildScheduledEventActive)(n),l=V(a.useState((0,
v.getEventTimeData)(r,i)),2),s=l[0],d=s.startDateTimeString,c=s.endDateTimeString,p=s.currentOrPastEvent,y=s.upcomingEvent,m=s.diffMinutes,_=l[1];a.useEffect((function(){var e=setInterval((function(){return _((0,v.getEventTimeData)(r,i))}),1e3);return function(){clearInterval(e)}}),[]);var h=d,g=P.default.Colors.HEADER_SECONDARY;if(u){h=G.default.Messages.STAGE_CHANNEL_LIVE_NOW;g=P.default.Colors.STATUS_GREEN}else if(p){h=G.default.Messages.STARTING_SOON;g=P.default.Colors.BRAND}else if(y){h=m>0?G.default.Messages.STARTING_IN_MINUTES.format({minutes:m}):G.default.Messages.STARTING_SOON;g=P.default.Colors.BRAND}else null!=c&&""!==c&&(h=G.default.Messages.START_DATE_TO_END_DATE.format({start:d,end:c}));return W("div",{className:(0,o.default)(F.default.eventTime,(t={},t[F.default.isActive]=u,t[F.default.isBrand]=p||y,t))},void 0,z,W(P.default,{color:g,size:P.default.Sizes.SIZE_12,className:F.default.eventTimeLabel},void 0,h,W("span",{className:F.default.separator},void 0,"•")))}
$.displayName="GuildEventTime";function q(e){var t=e.event,n=e.channel,r=e.isCollapsedSize,o=e.onEventClick,i=(0,u.useStateFromStores)([O.default],(function(){return O.default.can(k.Permissions.CONNECT,n)})),l=a.useCallback((function(){if(null!=n&&null!=n.getGuildId()&&i){(0,h.connectAndOpen)(n);(0,_.transitionToGuild)(n.getGuildId(),n.id)}}),[n,i]),s=(0,y.default)(t),d=t.entity_type===U.GuildScheduledEventEntityTypes.STAGE_INSTANCE?G.default.Messages.STAGE_CHANNEL_JOIN_BUTTON:G.default.Messages.JOIN;return null==t.image||r?null!=n&&i?W("div",{className:F.default.eventJoinContainer},void 0,W(I.default,{className:F.default.joinButton,onClick:l,fullWidth:!0,color:I.default.Colors.GREEN},void 0,d)):null:null!=n&&i?W(T.default,{onClick:l,className:F.default.eventJoinContainer},void 0,W("div",{className:F.default.eventImg,style:{backgroundImage:"url("+s+")"}}),W("div",{className:F.default.eventImgHover},void 0,W(C.Text,{variant:"text-sm/normal",color:"none",
className:F.default.eventImgJoinButton},void 0,d))):W(T.default,{onClick:o,className:F.default.eventJoinContainer},void 0,W("div",{className:F.default.eventImg,style:{backgroundImage:"url("+s+")"}}))}function X(e){var t,n=e.event,r=e.channel,i=e.isActive,u=e.isCollapsedSize,l=(0,s.getChannelIconComponent)(r);return W("div",{className:F.default.eventInfo},void 0,(!i||u)&&W($,{event:n}),W("div",{className:F.default.location},void 0,null!=r&&null!=l?a.createElement(a.Fragment,null,W(l,{width:K,height:K,className:F.default.icon}),W(C.Text,{variant:"text-xs/normal",className:F.default.locationLabel},void 0,r.name)):a.createElement(a.Fragment,null,W(N.default,{height:K,width:K,className:(0,o.default)(F.default.channelContainer,F.default.icon)}),W(C.Text,{variant:"text-xs/normal",className:F.default.locationLabel},void 0,(0,c.guildEventDetailsParser)(null!==(t=(0,p.getLocationFromEvent)(n))&&void 0!==t?t:void 0,!0)))))}X.displayName="GuildEventInfo";var Q=W(A.default,{
width:L.ACTIVE_NOW_ICON_SIZE,height:L.ACTIVE_NOW_ICON_SIZE});function Z(e){var t=e.event,n=t.guild_id,r=(0,l.default)(j.COLLAPSED_SIZE_MEDIA_QUERY),o=(0,f.isGuildScheduledEventActive)(t),s=(0,u.useStateFromStores)([S.default],(function(){return S.default.getChannel(t.channel_id)})),c=(0,u.useStateFromStores)([m.default],(function(){return m.default.isLurking(n)}),[n]),p=a.useCallback((function(){w.default.track(k.AnalyticEvents.HOME_EVENT_CLICKED,{guild_id:n,home_session_id:D.default.getHomeSessionId(n),guild_scheduled_event_id:t.id,is_active:o});(0,d.openGuildEventDetails)({eventId:t.id,parentGuildId:n})}),[t,n,o]),v=(0,u.useStateFromStoresArray)([b.default],(function(){return null==s?[]:b.default.getVoiceStatesForChannel(s).map((function(e){return e.user}))}),[s]),y=(0,u.useStateFromStores)([g.default],(function(){if(null!=s&&s.type===i.ChannelTypes.GUILD_STAGE_VOICE)return g.default.getParticipantCount(null==s?void 0:s.id,E.StageChannelParticipantNamedIndex.AUDIENCE)}),[s])
;return W(L.ActiveNowBase,{shouldUseCollapsedLayout:!1,onClick:c?void 0:p,icon:o?W("div",{className:F.default.liveNowIcon}):Q,iconTooltipText:G.default.Messages.GUILD_HOME_EVENTS_TOOLTIP_TEXT,header:t.name,textNode:W(X,{event:t,channel:s,isActive:o,isCollapsedSize:r}),accessoryNode:o?W(R.default,{guildId:n,users:v,count:y,size:R.Sizes.SIZE_16,max:L.DISPLAYED_PARTICIPANT_AVATARS}):null},void 0,o&&W(q,{event:t,channel:s,isCollapsedSize:r,onEventClick:p}))}Z.displayName="GuildHomeEvent"},663116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(496486)),i=E(n(730381)),u=n(923387),l=E(n(876647)),s=n(203847),d=n(330321),f=E(n(902399)),c=E(n(16941)),p=n(772575),v=n(645758),y=n(194322),m=E(n(750931)),_=n(124042),h=E(n(247001)),g=E(n(516682));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e){var t=e.guild,r=(0,l.default)(_.COLLAPSED_SIZE_MEDIA_QUERY),E=(0,f.default)(t.id),S=a.useMemo((function(){var e=E.filter((function(e){return(0,d.isGuildScheduledEventActive)(e)}));return r&&e.length>0?o.default.head(e):o.default.chain(E).filter((function(e){return!(0,d.isGuildScheduledEventActive)(e)})).minBy((function(e){return(0,i.default)(e.scheduled_start_time)})).value()}),[E,r]);if(null==S)return null;function I(){return(I=T(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,
y.openModalLazy)(T(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{guildId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))));case 2:(0,s.markDismissibleContentAsDismissed)(u.DismissibleContent.GUILD_HEADER_EVENT_UPSELL);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b("div",{className:g.default.container},void 0,b("div",{className:g.default.header},void 0,b(p.Heading,{variant:"heading-md/medium",level:3},void 0,r?h.default.Messages.GUILD_EVENTS:h.default.Messages.GUILD_HOME_EVENTS_TITLE),E.length>=2?b(c.default,{onClick:function(){return I.apply(this,arguments)}},void 0,b(v.Text,{className:g.default.showEvents,variant:"text-sm/normal"},void 0,h.default.Messages.GUILD_HOME_SEE_ALL.format({
count:E.length}))):null),b("div",{className:g.default.events},void 0,b(m.default,{event:S})))}C.displayName="GuildHomeEvents"},554962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildHomeReceivedFeedbackCard=C;t.GuildHomeSubmitFeedbackCard=T;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=E(n(294184)),u=n(392110),l=E(n(423046)),s=E(n(956117)),d=n(772575),f=n(645758),c=E(n(435012)),p=n(3400),v=n(82141),y=n(134866),m=n(455002),_=E(n(247001)),h=E(n(266827)),g=E(n(617493));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=((r={})[m.FeedbackRating.GOOD]=n(350115),r[m.FeedbackRating.NEUTRAL]=n(942473),r[m.FeedbackRating.BAD]=n(479307),r);function I(e){var t=e.className,n=e.guildId;return O(s.default,{color:s.default.Colors.PRIMARY,className:t,innerClassName:h.default.surveyContents,onClick:function(){var e=l.default.getId(),t=(0,y.getHomeFeedbackSurvey)(e,n);window.open(t,"_blank")}},void 0,_.default.Messages.GUILD_HOME_FEEDBACK_CARD_SURVEY_PROMPT,O(c.default,{
className:h.default.launchIcon,width:16,height:16}))}I.displayName="SurveyButton";function T(e){var t=e.guildId,n=o.useCallback((function(e){(0,v.reportGuildHomeFeedback)(t,e)}),[t]),r=o.useCallback((function(){(0,v.dismissGuildHomeFeedback)(t)}),[t]);o.useEffect((function(){(0,v.trackGuildHomeFeedbackShown)(t)}),[t]);return O("div",{className:(0,i.default)(g.default.card,h.default.submitContainer)},void 0,O(p.ModalCloseButton,{className:h.default.closeButton,onClick:r}),O(d.Heading,{variant:"heading-xl/medium",color:"header-primary"},void 0,_.default.Messages.GUILD_HOME_FEEDBACK_CARD_TITLE),O(f.Text,{variant:"text-md/normal",color:"text-normal",className:h.default.subtitle},void 0,_.default.Messages.GUILD_HOME_FEEDBACK_CARD_SUBTITLE),O(u.RatingsSelector,{className:h.default.ratings,selectedRating:null,onChangeRating:n}),O(I,{className:h.default.submitSurveyButton,guildId:t}))}T.displayName="GuildHomeSubmitFeedbackCard";function C(e){
var t=e.guildId,n=e.rating,r=n===m.FeedbackRating.GOOD?_.default.Messages.GUILD_HOME_FEEDBACK_CARD_GOOD_TITLE:_.default.Messages.GUILD_HOME_FEEDBACK_CARD_IMPROVE_TITLE,a=n===m.FeedbackRating.GOOD?_.default.Messages.GUILD_HOME_FEEDBACK_CARD_GOOD_SUBTITLE:_.default.Messages.GUILD_HOME_FEEDBACK_CARD_IMPROVE_SUBTITLE;return O("div",{className:(0,i.default)(g.default.card,h.default.receivedContainer)},void 0,O("img",{className:h.default.receivedImage,src:b[n],alt:""}),O("div",{className:h.default.receivedText},void 0,O(f.Text,{variant:"text-md/medium",color:"header-primary"},void 0,r),O(f.Text,{variant:"text-xs/normal",color:"text-normal"},void 0,a)),O(I,{className:h.default.receivedSurveyButton,guildId:t}))}C.displayName="GuildHomeReceivedFeedbackCard"},993407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(539011),u=p(n(784320)),l=p(n(380439)),s=n(772575),d=n(645758),f=p(n(247001)),c=p(n(383198));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.guild;a.useEffect((function(){(0,i.fetchGuildForPopout)(t.id)}),[t.id]);var n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t.id)}),[t]);return y("div",{className:c.default.memberInfo},void 0,null!=(null==n?void 0:n.presenceCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOnline}),y(d.Text,{variant:"text-sm/normal",className:c.default.memberText},void 0,f.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount}))):null,null!=(null==n?void 0:n.memberCount)?y("div",{className:c.default.memberCount},void 0,y("div",{className:c.default.dotOffline}),y(d.Text,{variant:"text-sm/normal",className:c.default.memberText},void 0,f.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount}))):null)}m.displayName="MemberCounts";function _(e){var t=e.guild;return y("div",{className:c.default.container
},void 0,y(l.default,{className:c.default.icon,guild:t,size:l.default.Sizes.LARGER,active:!0}),y(s.Heading,{className:c.default.name,variant:"heading-xl/medium",level:3},void 0,t.name),null!=t.description?y(d.Text,{className:c.default.description,variant:"text-md/normal"},void 0,t.description):null,y(m,{guild:t}))}_.displayName="GuildHomeInfoWidget"},928205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ae(n(667294)),o=ne(n(294184)),i=n(370405),u=n(393356),l=n(536211),s=ne(n(415275)),d=ae(n(174851)),f=ne(n(43233)),c=ne(n(864345)),p=ne(n(673997)),v=ne(n(876647)),y=ne(n(843314)),m=ne(n(216672)),_=ne(n(526098)),h=n(742965),g=n(741645),E=ne(n(968078)),S=ne(n(463024)),O=ne(n(751410)),b=n(391869),I=ne(n(225379)),T=ne(n(546914)),C=ne(n(252283)),A=ae(n(502546)),M=ne(n(956704)),N=ne(n(30098)),P=ne(n(205982)),R=n(772575),w=ne(n(226508)),D=ne(n(234069)),L=n(878556),k=ne(n(967965)),j=n(235742),U=n(82141),G=n(566627),F=ne(n(352781)),x=ne(n(173101)),B=n(463452),H=ne(n(490033)),W=ne(n(22892)),V=ne(n(813092)),Y=ne(n(466366)),K=ne(n(389396)),z=ne(n(663116)),$=ne(n(993407)),q=n(770348),X=n(173652),Q=n(124042),Z=ne(n(247001)),J=ne(n(738862)),ee=ne(n(149563)),te=["ref"];function ne(e){return e&&e.__esModule?e:{default:e}}function re(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(re=function(e){return e?n:t})(e)}function ae(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=re(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function oe(){oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return oe.apply(this,arguments)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}var se=le(S.default.Icon,{icon:w.default,"aria-hidden":!0}),de=le(_.default,{});function fe(e){var t=e.guildId,n=function(e,t){var n=G.GuildFeedRefreshButtonExperiment.useExperiment({}).showRefreshButton;a.useEffect((function(){G.GuildFeedRefreshButtonExperiment.trackExposure({})}),[]);return n?[le(L.Icon,{tooltip:Z.default.Messages.REFRESH,icon:D.default,onClick:function(){(0,h.fetchGuildFeed)({guildId:e,refresh:!0,flushSeenItems:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.maybeFlushSeenItems(g.ForceFlushType.IMMEDIATE)}})}})]:[]}(t,e.seenManagerRef);return le(S.default,{channelId:X.StaticChannelRoute.GUILD_HOME,guildId:t,className:(0,o.default)(ee.default.title,J.default.background),innerClassname:J.default.headerBarInner,toolbar:n},void 0,a.createElement(a.Fragment,null,se,le(y.default,{},void 0,Z.default.Messages.GUILD_HOME)),le(S.default.Title,{},void 0,Z.default.Messages.GUILD_HOME),de)}fe.displayName="GuildHomePageHeader"
;function ce(e){var t=e.guild,n=e.containerHeight,r=ie(a.useState(0),2),o=r[0],i=r[1],u=(0,p.default)(),l=u.ref,s=u.height;(0,H.default)(t.id);a.useEffect((function(){if(null!=s){i(s+128-n)}}),[n,s]);return le("div",{className:J.default.widgets,style:{top:Math.min(-o,0)}},void 0,a.createElement("div",{className:J.default.widgetsContainer,ref:l},le($.default,{guild:t}),le(Y.default,{guildId:t.id}),le(z.default,{guild:t})))}ce.displayName="GuildHomeWidgets";function pe(e){var t=e.pageWidth,n=e.onSidebarResize,r=(0,l.useStateFromStores)([A.default],(function(){return A.default.getSidebarState(X.StaticChannelRoute.GUILD_HOME)}));if(null==r)return null;var a,o=t-q.CHANNEL_SIDEBAR_WIDTH-632;r.type===A.SidebarType.VIEW_THREAD?a=le(C.default,{channelId:r.channelId,baseChannelId:X.StaticChannelRoute.GUILD_HOME}):r.type===A.SidebarType.VIEW_CHANNEL&&(a=le(m.default,{channelId:r.channelId,baseChannelId:X.StaticChannelRoute.GUILD_HOME}));return le(d.default,{
sidebarType:d.ChatSidebarType.ThreadSidebar,maxWidth:o,onWidthChange:n},void 0,a)}pe.displayName="GuildHomeSidebar";var ve=[{label:"Segment Reads",value:Q.GuildFeedRenderMode.SEGMENTED_READ},{label:"Top",value:Q.GuildFeedRenderMode.TOP},{label:"New",value:Q.GuildFeedRenderMode.NEW}];function ye(e){var t=e.renderMode,n=e.setRenderMode;return G.GuildFeedRenderSelectorExperiment.useExperiment({}).showSelector?le(k.default,{className:J.default.selector,options:ve,select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null}ye.displayName="GuildFeedRenderSelector";var me=(0,c.default)((function(e){var t,n=e.guild,r=e.width,d=e.height,f=n.id,c=(0,W.default)(),y=(0,l.useStateFromStores)([A.default],(function(){return A.default.getSection(X.StaticChannelRoute.GUILD_HOME)})),m=(0,l.useStateFromStores)([P.default],(function(){return P.default.getCurrentSearchId()
})),_=ie(a.useState(!1),2),h=_[0],g=_[1],S=ie(a.useState(q.DEFAULT_CHAT_SIDEBAR_WIDTH),2),C=S[0],N=S[1],w=y===q.ChannelSections.SEARCH,D=y===q.ChannelSections.SIDEBAR_CHAT,L=w||D,k=a.useRef(null),H=(0,O.default)("top-messages",k),Y=(0,p.default)().ref,z=ie(a.useState(Q.GuildFeedRenderMode.SEGMENTED_READ),2),$=z[0],ne=z[1],re=(0,v.default)(Q.COLLAPSED_SIZE_MEDIA_QUERY),ae=(0,l.useStateFromStores)([M.default],(function(){return M.default.hasLoadedExperiments})),ue=a.useRef(!1);a.useLayoutEffect((function(){(0,U.ensureGuildHomeSession)(f)}),[f]);a.useEffect((function(){ue.current=!1}),[f]);a.useEffect((function(){if(ae){var e=(0,G.canSeeGuildHome)(f),t=x.default.getHomeSessionSource(f);if(null!=c){var n=c.channelId,r=c.messageId;if(!e){(0,b.transitionToMessage)(n,r);return}var a=F.default.getCurrentConfig({}).showHighlightOnGuildHome;F.default.trackExposure({});if(!a){(0,b.transitionToMessage)(n,r);return}t=Q.GuildHomeLandingSource.HIGHLIGHTS}else if(!e){
s.default.escapeToDefaultChannel(f);return}(0,U.trackGuildHomeOpened)(f,t)}}),[f,c,ae]);a.useEffect((function(){null==E.default.getLoadId(f)&&T.default.closeChannelSidebar(X.StaticChannelRoute.GUILD_HOME)}),[f]);(0,V.default)(f);a.useLayoutEffect((function(){var e=x.default.getSavedScrollPosition(f);if(null!=e){var t;null===(t=k.current)||void 0===t||t.scrollTo({to:e})}return function(){var e,t=null===(e=k.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,U.saveGuildHomeScrollPosition)(f,t.scrollTop)}}),[f]);var se=r-q.CHANNEL_SIDEBAR_WIDTH-C,de=!(L&&se<1016)||re,ve=a.useRef(null),me=a.useCallback((function(){if(!ue.current){(0,B.ackGuildHome)(f);ue.current=!0}}),[f]),_e=le(ye,{renderMode:$,setRenderMode:ne}),he=le(K.default,{guild:n,renderMode:$,scrollerRef:k,seenManagerRef:ve}),ge=le(ce,{guild:n,containerHeight:d});return a.createElement(a.Fragment,null,le(i.Helmet,{title:Z.default.Messages.GUILD_HOME_HTML_TITLE.format({guildName:n.name})}),le("div",{className:(0,
o.default)(ee.default.chat,J.default.background,(t={},t[ee.default.threadSidebarOpen]=L,t[ee.default.threadSidebarFloating]=L&&h,t))},void 0,le(fe,{guildId:f,seenManagerRef:ve}),a.createElement("div",{ref:Y,className:ee.default.content},le(u.ListNavigatorProvider,{navigator:H},void 0,le(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,te);return a.createElement(j.AdvancedScrollerAuto,oe({onScroll:me,className:J.default.homeContainer,ref:function(e){var n;k.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},n),le("div",{className:J.default.homeContent},void 0,le("div",{className:J.default.topMessagesHeader},void 0,le(R.Heading,{variant:"heading-md/medium",level:3},void 0,Z.default.Messages.GUILD_FEED_TITLE),_e),he),de?ge:null)}))),w&&null!=m&&le(I.default,{searchId:m}))),D?le(pe,{pageWidth:r,
onSidebarResize:function(e,t){g(t);N(e)}}):null)})),_e=le(f.default,{channelId:void 0});function he(e){var t=e.guildId,n=(0,l.useStateFromStores)([N.default],(function(){return N.default.getGuild(t)}),[t]);return null==n?_e:le(me,{guild:n})}he.displayName="GuildHomePageGuard";var ge=he;t.default=ge},350957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(536211)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l,s,d,f,c,p,v,y,m=o.FormStates.CLOSED,_={},h=!1;function g(){m=o.FormStates.CLOSED;_={};p=null;v=void 0;y=[]}function E(){S();O();_={};m=o.FormStates.OPEN}function S(){l=void 0;c=void 0}function O(){s=void 0;d=void 0;f=void 0}var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n.getFormState=function(){return m};n.getErrors=function(){return _};n.showNotice=function(){return void 0!==l||void 0!==s||void 0!==d||void 0!==f||void 0!==c};n.getPendingAvatar=function(){return l};n.getPendingBanner=function(){return s};n.getPendingBio=function(){return d};n.getPendingNickname=function(){return c};n.getPendingPronouns=function(){return f};n.getPendingAccentColor=function(){return c};n.getAllPending=function(){return{pendingAvatar:l,pendingBanner:s,pendingBio:d,pendingPronouns:f,pendingNickname:c}};n.getGuild=function(){return p};n.getSource=function(){return v};n.getAnalyticsLocations=function(){return y};n.getIsDisableSubmit=function(){return h};n.__getLocalVars=function(){return{formState:m,errors:_,pendingAvatar:l,pendingBanner:s,pendingBio:d,pendingPronouns:f,pendingNickname:c,guild:p,source:v,analyticsLocations:y,disableSubmit:h}};return t}(r.default.Store);b.displayName="GuildIdentitySettingsStore";var I=new b(a.default,{
GUILD_IDENTITY_SETTINGS_INIT:function(e){p=e.guild;m=o.FormStates.OPEN;_={};v=e.source;y=e.analyticsLocations},GUILD_IDENTITY_SETTINGS_CLOSE:g,GUILD_IDENTITY_SETTINGS_RESET_AND_CLOSE_FORM:function(){E();g()},GUILD_IDENTITY_SETTINGS_SET_GUILD:function(e){p=e.guild;_={}},GUILD_IDENTITY_SETTINGS_SUBMIT:function(){m=o.FormStates.SUBMITTING;_={}},GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE:function(e){var t;if(m!==o.FormStates.SUBMITTING)return!1;m=o.FormStates.OPEN;_=null!==(t=e.errors)&&void 0!==t?t:{}},GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR:function(e){var t=e.avatar;l=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER:function(e){var t=e.banner;s=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO:function(e){var t=e.bio;d=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_PRONOUNS:function(e){var t=e.pronouns;f=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME:function(e){var t=e.nickname;c=t},GUILD_IDENTITY_SETTINGS_RESET_PENDING_MEMBER_CHANGES:S,GUILD_IDENTITY_SETTINGS_RESET_PENDING_PROFILE_CHANGES:O,
GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING:E,GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS:E,GUILD_IDENTITY_SETTINGS_CLEAR_ERRORS:function(){_={}},GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT:function(e){var t=e.disable;h=t}});t.default=I},839924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewPendingGuildIdentityBio=function(e,t){(0,r.setPendingBio)(e===t?void 0:e)};t.setNewPendingGuildIdentityPronouns=function(e,t){(0,r.setPendingPronouns)(e===t?void 0:e)};t.setNewPendingNickname=function(e,t){(0,r.setPendingNickname)(e===t?void 0:e)};var r=n(799393)},240196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=B;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=L(n(441143)),i=n(536211),u=L(n(135631)),l=L(n(37039)),s=L(n(953605)),d=L(n(482117)),f=L(n(498163)),c=L(n(561511)),p=L(n(777018)),v=L(n(913900)),y=L(n(876874)),m=L(n(728429)),_=L(n(956117)),h=L(n(60097)),g=n(645758),E=L(n(730977)),S=L(n(41024)),O=n(194322),b=L(n(308920)),I=L(n(838583)),T=n(799393),C=L(n(350957)),A=n(839924),M=L(n(65139)),N=L(n(113700)),P=n(770348),R=n(265517),w=L(n(247001)),D=L(n(923247));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,u,"next",e)}function u(e){G(o,r,a,i,u,"throw",e)}i(void 0)}))}}function x(e){var t=e.onUpsellClick,n=(0,l.default)().analyticsLocations;a.useEffect((function(){b.default.track(P.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:R.PremiumUpsellTypes.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE,location:{
page:P.AnalyticsPages.GUILD_CHANNEL,section:P.AnalyticsSections.PREMIUM_GUILD_MEMBER_PROFILE},location_stack:n})}),[n]);return j("div",{className:D.default.upsellContainer},void 0,j(g.Text,{variant:"text-sm/normal"},void 0,w.default.Messages.GUILD_IDENTITY_SETTINGS_UPSELL_NO_LINK),j(h.default,{size:_.default.Sizes.SMALL,onClick:t,color:_.default.Colors.GREEN,className:D.default.upsellButton,innerClassName:D.default.upsellButtonInner},void 0,j(S.default,{className:D.default.premiumIconButton}),w.default.Messages.CHANGE_IDENTITY_UPSELL))}x.displayName="InlineUpsell";function B(e){var t,r,l=e.guild,_=(0,i.useStateFromStores)([m.default],(function(){var e=m.default.getCurrentUser();(0,o.default)(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),h=(0,i.useStateFromStoresObject)([C.default],(function(){var e=C.default.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,a=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,
pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:a,errors:C.default.getErrors(),guild:C.default.getGuild()}})),g=h.pendingAvatar,b=h.pendingNickname,R=h.pendingBanner,L=h.pendingBio,k=h.pendingPronouns,G=h.errors,B=h.guild,H=null!=l?l:B;(0,o.default)(null!=H,"guild should not be null");var W=(0,i.useStateFromStores)([y.default],(function(){return null==H.id?null:y.default.getMember(H.id,_.id)})),V=(0,i.useStateFromStores)([v.default],(function(){return v.default.getGuildMemberProfile(_.id,H.id)})),Y=I.default.canUsePremiumProfileCustomization(_),K=void 0===g?null!=(null==W?void 0:W.avatar):null!=g,z=void 0===R?null!=(null==V?void 0:V.banner):null!=R,$=null!==(t=null==V?void 0:V.bio)&&void 0!==t?t:"",q=null!==(r=null==V?void 0:V.pronouns)&&void 0!==r?r:"",X=u.default.useExperiment({}).showPronouns,Q=s.default.useExperiment({},{autoTrackExposure:!Y}).showPremiumUpsellOverlay,Z=function(e,t,n){n(null!=e?e:null!=t?null:void 0)};return j("div",{},void 0,j(M.default,{
username:_.toString(),pendingNick:b,currentNick:null==W?void 0:W.nick,guild:H},"nick"),Q||Y?null:j(x,{onUpsellClick:function(){return e={object:P.AnalyticsObjects.BUTTON_CTA},void(0,O.openModalLazy)(F(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(83084).then(n.bind(n,858023));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,U({source:U({},e,{page:P.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS})},t))}));case 5:case"end":return t.stop()}}),t)}))));var e}}),j(N.default,{showOverlay:Q&&!Y},void 0,j(f.default,{sectionTitle:a.createElement(a.Fragment,null,w.default.Messages.USER_SETTINGS_AVATAR,j(E.default,{text:w.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return a.createElement(S.default,U({},e,{className:D.default.nitroWheel}))}))),showRemoveAvatarButton:K,onAvatarChange:function(e){
return Z(e,null==W?void 0:W.avatar,T.setPendingAvatar)},errors:G.avatar,guildId:H.id,disabled:!Y},"avatar"),j(c.default,{sectionTitle:w.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:Y,showRemoveBannerButton:z,errors:G.banner,upsellButton:null,onBannerChange:function(e){return Z(e,null==V?void 0:V.banner,T.setPendingBanner)},guildId:null==H?void 0:H.id,disabled:!Y},"banner"),X&&j(p.default,{sectionTitle:w.default.Messages.USER_SETTINGS_PRONOUNS,errors:G.pronouns,onPronounsChange:function(e){(0,A.setNewPendingGuildIdentityPronouns)(e,q)},pendingPronouns:k,currentPronouns:q},"pronouns"),j(d.default,{placeholder:w.default.Messages.CHANGE_IDENTITY_BIO_PLACEHOLDER,sectionTitle:a.createElement(a.Fragment,null,w.default.Messages.USER_PROFILE_ABOUT_ME,j(E.default,{text:w.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return a.createElement(S.default,U({},e,{className:D.default.nitroWheel}))}))),onBioChange:function(e){(0,
A.setNewPendingGuildIdentityBio)(e,$);(0,T.setDisableSubmit)(null!=e&&e.length>P.BIO_MAX_LENGTH)},errors:G.bio,pendingBio:L,currentBio:$,disabled:!Y},"about")))}B.displayName="GuildIdentityCustomizationSections"},862976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=c(n(669879)),u=n(388139),l=n(401648),s=c(n(871778)),d=n(799393),f=c(n(350957));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.theme})),t=(0,o.useStateFromStores)([f.default],(function(){return f.default.getIsDisableSubmit()})),n=(0,
o.useStateFromStores)([f.default],(function(){return f.default.getGuild()})),r=_(a.useState(!1),2),c=r[0],p=r[1],y=a.useCallback(m(regeneratorRuntime.mark((function e(){var t,r,a,o,i,s,c,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0);t=f.default.getAllPending();r=(0,u.getGuildMemberChangesForUpdateRequest)(t);a=(0,u.getProfileChangesForUpdateRequest)(t);o=!0;if(!(Object.keys(r).length>0)){e.next=11;break}e.next=8;return(0,d.saveGuildIdentityChanges)(null==n?void 0:n.id,r);case 8:s=e.sent;o=o&&null!==(i=null==s?void 0:s.ok)&&void 0!==i&&i;(null==s?void 0:s.ok)&&(0,d.resetPendingMemberChanges)();case 11:if(!(Object.keys(a).length>0)){e.next=17;break}e.next=14;return(0,l.saveProfileChanges)(a,null==n?void 0:n.id);case 14:v=e.sent;o=o&&null!==(c=null==v?void 0:v.ok)&&void 0!==c&&c;(null==v?void 0:v.ok)&&(0,d.resetPendingProfileChanges)();case 17:o&&(0,d.clearErrors)();p(!1);case 19:case"end":return e.stop()}}),e)
}))),[null==n?void 0:n.id]),h=a.useCallback((function(){(0,d.resetAllPending)()}),[]);return v(i.default,{theme:e,submitting:c,onSave:y,onReset:h,disabled:t})}g.displayName="GuildIdentitySettingsNotice"},799017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=K;var r,a=k(n(667294)),o=D(n(441143)),i=n(235234),u=n(536211),l=D(n(636602)),s=D(n(226800)),d=D(n(844784)),f=k(n(125478)),c=D(n(931059)),p=n(102975),v=D(n(468532)),y=D(n(845176)),m=D(n(377579)),_=D(n(421338)),h=D(n(711195)),g=D(n(784073)),E=D(n(728429)),S=D(n(380439)),O=D(n(80828)),b=n(645758),I=n(194322),T=D(n(308920)),C=D(n(838583)),A=n(799393),M=D(n(350957)),N=D(n(240196)),P=n(770348),R=D(n(247001)),w=D(n(923247));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return F.apply(this,arguments)}function x(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,u,"next",e)}function u(e){x(o,r,a,i,u,"throw",e)}i(void 0)}))}}function H(){T.default.track(P.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:P.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS,location_object:P.AnalyticsObjects.BADGE});(0,A.closeGuildIdentitySettings)();s.default.open(P.UserSettingsSections.PREMIUM)}function W(e){(0,I.openModalLazy)(B(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(83084).then(n.bind(n,858023));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,F({source:F({},e,{page:P.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS})},t))}));case 5:
case"end":return t.stop()}}),t)}))))}var V=j(O.default,{}),Y=j(N.default,{});function K(){var e,t,n=U(a.useState(!1),2),r=n[0],s=n[1],O=(0,u.useStateFromStores)([E.default],(function(){var e=E.default.getCurrentUser();(0,o.default)(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),I=(0,u.useStateFromStoresObject)([M.default],(function(){var e=M.default.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,a=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:a,errors:M.default.getErrors(),guild:M.default.getGuild(),source:M.default.getSource(),analyticsLocations:M.default.getAnalyticsLocations()}})),T=I.pendingAvatar,N=I.pendingNickname,D=I.pendingBanner,L=I.pendingBio,k=I.pendingPronouns,G=I.guild,x=I.source,K=I.analyticsLocations,z=(0,g.default)(O.id,null==G?void 0:G.id),$=c.default.useExperiment({},{autoTrackExposure:!0,trackExposureOptions:{analyticsLocations:K}
}).enabled,q=_.default.useExperiment({}).showProfileSkins;a.useEffect((function(){return function(){return l.default.wait(A.resetAllPending)}}),[]);a.useEffect((function(){null!=x&&d.default.trackWithMetadata(P.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",destination_pane:P.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,source:x})}),[x]);var X=void 0===T?O.getAvatarURL(null==G?void 0:G.id,80,!0):T,Q=null!==(e=(0,i.hex2int)((0,f.default)(X,P.Colors.PRIMARY_DARK_530,f.ColorFormats.HEX)))&&void 0!==e?e:0;a.useEffect((function(){function e(){return(e=B(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==X){e.next=4;break}e.next=3;return(0,h.default)(O.id,X,{guildId:null==G?void 0:G.id});case 3:s(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[X,G,O.id]);var Z=C.default.canUsePremiumProfileCustomization(O);if(null==G)return null
;if(!r)return V;var J=j("span",{className:w.default.title},void 0,R.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE),ee=j(b.Text,{className:w.default.guildInfo,variant:"text-sm/normal"},void 0,j(S.default,{className:w.default.guildIconInline,guild:G,size:S.default.Sizes.MINI},"guild-icon"),j("span",{},void 0,G.name)),te={user:O,guild:G,canUsePremiumCustomization:Z,onAvatarChange:A.setPendingAvatar,onBannerChange:A.setPendingBanner,onUpsellClick:W,pendingAvatar:T,pendingBanner:D,pendingBio:L,pendingPronouns:k,pendingNickname:N,activityName:R.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:p.FakeActivityCharacter.PHIBI,openPremiumSettings:H};return j(v.default,{title:$?null:J,description:$?null:ee,previewTitle:R.default.Messages.CHANGE_IDENTITY_PREVIEW_WITH_GUILD_NAME.format({guildName:G.name}),profilePreview:q?a.createElement(m.default,te):a.createElement(y.default,F({},te,{bannerColor:null!==(t=null==z?void 0:z.primaryColor)&&void 0!==t?t:Q}))},void 0,Y)}
K.displayName="GuildIdentitySettingsPage"},65139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(456701)),i=p(n(689389)),u=p(n(279950)),l=n(688388),s=n(839924),d=n(770348),f=p(n(247001)),c=p(n(514049));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.errors,n=e.pendingNick,r=e.currentNick,p=e.username,v=e.guild,m=null!=n?n:r,_=(0,a.useStateFromStores)([i.default],(function(){return i.default.can(d.Permissions.CHANGE_NICKNAME,v)||i.default.can(d.Permissions.MANAGE_NICKNAMES,v)}));return y(o.default,{title:f.default.Messages.NICKNAME,errors:t},void 0,y(u.default,{value:null!=m?m:"",placeholder:p,maxLength:d.USERNAME_MAX_LENGTH,onChange:function(e){(0,s.setNewPendingNickname)(e,r)},disabled:!_}),!_&&y(l.FormText,{className:c.default.nicknameDisabled,type:l.FormText.Types.DESCRIPTION},void 0,f.default.Messages.CHANGE_IDENTITY_NICKNAME_PERMISSIONS_DISABLED))}m.displayName="NicknameSection"},
113700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(213847)),i=h(n(954140)),u=h(n(37039)),l=h(n(314182)),s=h(n(956117)),d=n(645758),f=h(n(308920)),c=n(770348),p=n(265517),v=h(n(247001)),y=h(n(71528)),m=h(n(652951)),_=h(n(207357));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){switch(e){case c.ThemeTypes.DARK:return m.default;case c.ThemeTypes.LIGHT:return _.default}}function O(e){var t=e.showOverlay,n=e.children,r=(0,o.default)(),m=(0,u.default)(i.default.PREMIUM_UPSELL_OVERLAY).analyticsLocations;a.useEffect((function(){t&&f.default.track(c.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{location_stack:m,type:p.PremiumUpsellTypes.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE})}),[t,m]);return t?E("div",{className:y.default.upsellOverlayContainer},void 0,E("div",{},void 0,n),E("div",{className:y.default.upsellOverlay},void 0,E("img",{
className:y.default.upsellImage,alt:v.default.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_IMAGE_ALT,src:S(r)}),E("div",{className:y.default.upsellTextContainer},void 0,E(d.Text,{variant:"text-lg/semibold",color:"always-white"},void 0,v.default.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_TITLE),E(d.Text,{variant:"text-sm/normal",color:"always-white"},void 0,v.default.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_DESCRIPTION)),E(l.default,{size:s.default.Sizes.LARGE,color:s.default.Colors.GREEN,buttonText:v.default.Messages.CHANGE_IDENTITY_UPSELL,subscriptionTier:c.PremiumSubscriptionSKUs.TIER_2}))):a.createElement(a.Fragment,null,n)}O.displayName="PremiumUpsellOverlay"},83e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.usePaginatedMemberApplications=function(e){var t=e.guildId,n=e.guildJoinRequests,a=r.useRef(!1),o=(h=r.useState(null),g=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(h,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(h,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1],d=r.useRef(null),m=r.useRef(!1),_=r.useCallback(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var c,p,_,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(!a.current){e.next=2;break}return e.abrupt("return");case 2:p=!1;if((c=r+"-"+o)!==d.current){d.current=c;m.current=!1;p=!0}if(!m.current){e.next=7;break}return e.abrupt("return");case 7:null!=l&&s(null);_=y(n,r,o,p);e.prev=9;a.current=!0;e.next=13;return u.default.fetchGuildJoinRequests(f({guildId:t,status:o,limit:v},_));case 13:null!=(h=e.sent)&&h.body.guild_join_requests.length<v&&(m.current=!0);e.next=21;break;case 17:e.prev=17;e.t0=e.catch(9);g=new i.APIError(e.t0);s(g.getAnyErrorMessage());case 21:e.prev=21;a.current=!1;return e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,17,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[l,t,n]);var h,g;return{fetchNextPage:_,error:l}};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(730381)),o=s(n(795715)),i=n(327269),u=s(n(868073)),l=n(237639);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=l.MAX_RESULTS_PER_PAGE*l.MAX_VISIBLE_PAGES;function y(e,t,n,r){var i=n===l.GuildJoinRequestApplicationStatuses.SUBMITTED;if(t===l.GuildJoinRequestSortOrders.TIMESTAMP_DESC){if(r){return{before:o.default.fromTimestamp((new Date).getTime())}}var u=e[e.length-1];return{before:i?u.id:u.actionedAt}}if(r){return{after:o.default.fromTimestamp((0,a.default)().subtract(180,"days").valueOf())}}var s=e[e.length-1];return{after:i?s.id:s.actionedAt}}},912958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedApplicationStatus=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedApplicationStatus(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},519589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedGuildJoinRequest=function(e){var t=e.guildId;return(0,
a.useStateFromStores)([o.default],(function(){return o.default.getSelectedGuildJoinRequest(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},322865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedSortOrder=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedSortOrder(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},912322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSortedMemberApplications=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,l=(0,o.useStateFromStores)([i.default],(function(){return i.default.getRequests(t,n)}),[n,t]);return{guildJoinRequests:a.useMemo((function(){return r===u.GuildJoinRequestSortOrders.TIMESTAMP_DESC?(e=l,function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)
}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse():l;var e}),[r,l])}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=(r=n(499098))&&r.__esModule?r:{default:r},u=n(237639);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},267762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=c(n(380439)),u=n(772575),l=n(645758),s=c(n(247001)),d=c(n(133766)),f=c(n(946137));function c(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.reapplyText,n=e.onReapply,r=e.confirmText,c=e.onConfirm,p=e.rejectionReason,y=void 0===p?null:p,m=e.guild,_=void 0===m?null:m;return v("div",{className:d.default.confirmation},void 0,v("div",{className:d.default.confirmationContent},void 0,null!==_?v(i.default,{size:i.default.Sizes.LARGER,guild:_,className:d.default.guildIcon}):v("img",{
alt:s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:f.default,className:d.default.verificationStateIcon}),v(u.Heading,{variant:"heading-xl/medium",className:d.default.header,level:3},void 0,null!=(null==_?void 0:_.name)?s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:_.name}):s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE),null!=y&&""!==y?a.createElement(a.Fragment,null,v(l.Text,{variant:"text-sm/normal"},void 0,v("span",{className:d.default.rejectionReasonLabel},void 0,s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON),v("span",{className:d.default.rejectionReason},void 0,y))):null),v("div",{className:d.default.confirmationButtonRow},void 0,v(o.default,{onClick:n,color:o.default.Colors.PRIMARY,className:d.default.confirmationButton},void 0,t),v(o.default,{onClick:c,color:o.default.Colors.PRIMARY,className:d.default.confirmationButton},void 0,r)))}
;y.displayName="MemberVerificationApplicationRejected";var m=y;t.default=m},332996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(956117)),o=f(n(380439)),i=n(772575),u=n(645758),l=f(n(247001)),s=f(n(133766)),d=f(n(692760));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.onCancel,n=e.onLeave,r=e.guild,f=void 0===r?null:r;return p("div",{className:s.default.confirmation},void 0,p("div",{className:s.default.confirmationContent},void 0,null!==f?p(o.default,{size:o.default.Sizes.LARGER,guild:f,className:s.default.guildIcon}):p("img",{alt:l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:d.default,className:s.default.verificationStateIcon}),p(i.Heading,{variant:"heading-xl/medium",className:s.default.header,level:3
},void 0,null!=(null==f?void 0:f.name)?l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:f.name}):l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE),p(u.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE)),p("div",{className:s.default.confirmationButtonColumn},void 0,p(a.default,{onClick:t,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION),p(a.default,{onClick:n,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE)))};v.displayName="MemberVerificationApplicationSubmitConfirmation";var y=v;t.default=y},545130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=t.MemberVerificationPreviewDisabled=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(139982),u=A(n(30098)),l=A(n(956117)),s=n(645758),d=A(n(194815)),f=A(n(502197)),c=n(194322),p=n(549186),v=A(n(692711)),y=A(n(868073)),m=A(n(542307)),_=A(n(849997)),h=n(237639),g=A(n(943819)),E=A(n(267762)),S=A(n(332996)),O=A(n(757349)),b=n(770348),I=n(99043),T=A(n(247001)),C=A(n(613599));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}
function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,n=e.guildId,r=e.inviteCode,A=w(a.useState(I.WaveStates.INITIAL),2),M=A[0],D=A[1],L=(0,o.useStateFromStores)([_.default],(function(){return _.default.get(n)})),k=(0,
o.useStateFromStores)([g.default],(function(){return g.default.getRequest(n)})),j=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(n)})),U=(0,o.useStateFromStoresObject)([g.default],(function(){return{hasFetchedRequestToJoinGuilds:g.default.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:g.default.getJoinRequestGuild(n)}})),G=U.hasFetchedRequestToJoinGuilds,F=U.guildPreviewDisabled;a.useEffect((function(){null!=j&&(0,i.transitionTo)(b.Routes.CHANNEL(n))}),[j,n]);a.useEffect((function(){G||y.default.fetchRequestToJoinGuilds()}),[G]);var x=a.useCallback((function(e){D((function(t){return Math.max(t,e)}))}),[]),B=function(e,t){var n=P(s.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,e);return function(){(0,c.openModal)((function(e){return a.createElement(f.default,R({header:T.default.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:T.default.Messages.NEVERMIND,onConfirm:t,confirmText:T.default.Messages.YES_TEXT,
confirmButtonColor:l.default.Colors.RED},e),n)}))}},H=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return m.default.submitVerificationForm(n,t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),W=function(){y.default.resetGuildJoinRequest(n)},V=B(T.default.Messages.LEAVE_SERVER_BODY.format({name:null==j?void 0:j.toString()}),(function(){D(Math.max(M,I.WaveStates.FILLING));y.default.removeGuildJoinRequest(n);(0,i.transitionTo)(b.Routes.ME)})),Y=P(O.default,{guildId:n,inviteCode:r,onComplete:H}),K=null!=(null==L||null===(t=L.guild)||void 0===t?void 0:t.splash)?v.default.getGuildSplashURL({id:L.guild.id,splash:L.guild.splash}):(0,p.getArtForPath)();return P("div",{
className:C.default.page},void 0,P(d.default,{embedded:!0,splash:K,waveState:M,showLogo:!1,updateWaveState:x},void 0,P("div",{className:C.default.dragRegion}),P("div",{className:C.default.contentWrapper},void 0,function(){switch(null==k?void 0:k.applicationStatus){case h.GuildJoinRequestApplicationStatuses.SUBMITTED:return P(S.default,{onCancel:B(T.default.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,W),onLeave:V,guild:F});case h.GuildJoinRequestApplicationStatuses.REJECTED:return P(E.default,{reapplyText:T.default.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:W,confirmText:T.default.Messages.LEAVE_SERVER,onConfirm:V,rejectionReason:null==k?void 0:k.rejectionReason,guild:F});default:return Y}}())))};t.MemberVerificationPreviewDisabled=L;L.displayName="MemberVerificationPreviewDisabled";var k=L;t.default=k},757349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=K(n(667294)),o=V(n(294184)),i=n(536211),u=V(n(939949)),l=n(825185),s=V(n(235879)),d=V(n(268660)),f=V(n(539563)),c=V(n(433385)),p=V(n(311492)),v=V(n(876874)),y=V(n(30098)),m=V(n(728429)),_=V(n(956117)),h=V(n(530250)),g=V(n(380439)),E=n(772575),S=V(n(230047)),O=n(645758),b=V(n(279950)),I=V(n(730977)),T=n(688388),C=V(n(662197)),A=n(3400),M=V(n(308920)),N=V(n(692711)),P=V(n(542307)),R=K(n(849997)),w=n(237639),D=n(41787),L=n(327769),k=V(n(233915)),j=n(602175),U=n(770348),G=V(n(247001)),F=V(n(133766)),x=V(n(698242)),B=V(n(483683)),H=V(n(63685)),W=V(n(634737));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return z.apply(this,arguments)}function $(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,u,"next",e)}function u(e){$(o,r,a,i,u,"throw",e)}i(void 0)}))}}function X(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te;!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(te||(te={}));var ne=function(e){var t=e.email,n=e.password,r=e.setEmail,a=e.setPassword,o=e.emailError,i=e.passwordError;return ee("div",{className:F.default.content},void 0,ee("img",{
alt:G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:x.default,className:F.default.applicationIcon}),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE),ee(O.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE),ee("hr",{className:F.default.divider}),ee(T.FormItem,{title:G.default.Messages.FORM_LABEL_EMAIL,className:F.default.formItem},void 0,ee(b.default,{value:t,error:o,onChange:r,autoFocus:!0})),ee(T.FormItem,{title:G.default.Messages.FORM_LABEL_PASSWORD,className:F.default.formItem},void 0,ee(b.default,{type:"password",value:n,error:i,onChange:a})))};ne.displayName="MemberVerificationClaimAccountStep";var re=function(e){var t=e.email;return ee("div",{className:F.default.content},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:W.default,className:F.default.applicationIcon
}),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:t})),ee(O.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE),ee(_.default,{className:F.default.resendButton,size:_.default.Sizes.NONE,look:_.default.Looks.LINK,onClick:function(){return u.default.verifyResend()}},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_RESEND))};re.displayName="MemberVerificationEmailConfirmationStep";var ae=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))},oe=function(e){var t=e.guildId,n=e.formState,r=e.updateFormState,a=e.useReducedMotion,i=e.isPreview,u=void 0!==i&&i;return ee("div",{className:F.default.content},void 0,ee("div",{className:F.default.animationAndSparklesContainer},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,
src:H.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleBottom)}),ee(S.default,{importData:ae,shouldAnimate:!a,className:F.default.animation}),ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:B.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleTop)})),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_TITLE),ee(O.Text,{variant:"text-sm/normal",color:"header-secondary",className:F.default.subheader},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE),ee("hr",{className:F.default.divider}),ee(k.default,{className:F.default.verificationForm,guildId:t,formState:n,updateFormState:r,isPreview:u}))};oe.displayName="MemberVerificationFormStep";var ie=function(e){var t,n,r,u=e.guildId,S=e.onClose,b=e.onComplete,T=e.inviteCode,k=e.isPreview,x=void 0!==k&&k,B=(0,L.useMemberVerificationFormNoticeStore)((function(e){
return e.hasUnsubmittedChanges})),H=(0,i.useStateFromStores)([y.default],(function(){return y.default.getGuild(u)})),W=(0,i.useStateFromStores)([R.default],(function(){return R.default.get(u)})),V=(0,i.useStateFromStores)([m.default],(function(){return m.default.getCurrentUser()})),Y=!(null==V?void 0:V.isClaimed()),K=null==V?void 0:V.verified,$=null==V?void 0:V.isPhoneVerified(),Z=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuildEmoji(u)})),J=(0,i.useStateFromStoresObject)([p.default],(function(){return{storeMemberCount:p.default.getMemberCount(u),storeOnlineCount:p.default.getOnlineCount(u)}
})),ae=J.storeMemberCount,ie=J.storeOnlineCount,ue=Q(a.useState(null!==(t=null==W?void 0:W.formFields)&&void 0!==t?t:[]),2),le=ue[0],se=ue[1],de=Q(a.useState(!1),2),fe=de[0],ce=de[1],pe=Q(a.useState(null),2),ve=pe[0],ye=pe[1],me=Q(a.useState(Y?te.CLAIM_ACCOUNT:te.VERIFICATION_FORM),2),_e=me[0],he=me[1],ge=Q(a.useState(""),2),Ee=ge[0],Se=ge[1],Oe=Q(a.useState(""),2),be=Oe[0],Ie=Oe[1],Te=Q(a.useState(null),2),Ce=Te[0],Ae=Te[1],Me=Q(a.useState(null),2),Ne=Me[0],Pe=Me[1],Re=null==W?void 0:W.guild,we=a.useMemo((function(){return null!=H?H:null!=Re?new f.default(Re):null}),[H,Re]),De=a.useMemo((function(){var e,t=X(null!==(e=0===Z.length?null==Re?void 0:Re.emojis:Z)&&void 0!==e?e:[]).reverse(),n=0,r=t.length;if(r>12&&null!=t){t=t.slice(0,11);n=Math.min(r-t.length,99)}return{emojisToRender:t,remainingEmojis:n,numGuildEmoji:r}
}),[Re,Z]),Le=De.emojisToRender,ke=De.remainingEmojis,je=De.numGuildEmoji,Ue=null!=ae?ae:null==Re?void 0:Re.approximate_member_count,Ge=null!=ie?ie:null==Re?void 0:Re.approximate_presence_count;a.useEffect((function(){(0,L.setHasUnsubmittedChanges)(!1);return function(){(0,L.setHasUnsubmittedChanges)(!1)}}),[]);a.useEffect((function(){P.default.fetchVerificationForm(u,T)}),[u,T]);a.useEffect((function(){null!=W&&se(W.formFields)}),[W]);a.useEffect((function(){null!=V&&V.isClaimed()&&he(te.VERIFICATION_FORM)}),[V]);a.useEffect((function(){_e===te.EMAIL_CONFIRMATION&&K&&he(te.VERIFICATION_FORM)}),[_e,K]);a.useEffect((function(){null!=u&&M.default.track(U.AnalyticEvents.OPEN_MODAL,{type:j.MEMBER_VERIFICATION_TYPE,guild_id:u})}),[u]);a.useEffect((function(){var e=le.some((function(e){return e.field_type!==w.VerificationFormFieldTypes.TERMS&&(0,D.isValidFormResponse)(e)}));e&&!B?(0,L.setHasUnsubmittedChanges)(!0):!e&&B&&(0,L.setHasUnsubmittedChanges)(!1)}),[le,B])
;var Fe=a.useMemo((function(){return!(((null==we?void 0:we.verificationLevel)!==U.VerificationLevels.VERY_HIGH||(null==V?void 0:V.isStaff()))&&K||$)||le.some((function(e){return!(0,D.isValidFormResponse)(e)}))}),[le,we,$,K,V]),xe=(0,i.useStateFromStores)([s.default],(function(){return s.default.useReducedMotion}));if(null==we)return null;var Be=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);Ae(null);Pe(null);e.prev=3;e.next=6;return(0,l.saveAccountRequest)({email:Ee,password:be});case 6:ce(!1);he(te.EMAIL_CONFIRMATION);e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);Ae(null===e.t0||void 0===e.t0||null===(t=e.t0.body)||void 0===t?void 0:t.email);Pe(null===e.t0||void 0===e.t0||null===(n=e.t0.body)||void 0===n?void 0:n.password);case 14:e.prev=14;ce(!1);return e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)
}}(),He=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(!0);ye(null);if(null==(t=null!=V?v.default.getMember(u,V.id):null)||t.isPending){e.next=6;break}null==S||S(!0);return e.abrupt("return");case 6:e.prev=6;e.next=9;return null==b?void 0:b(z({},null!=W?W:R.NO_MEMBER_VERIFICATION_FORM,{formFields:le}));case 9:null==S||S(!0);e.next=17;break;case 12:e.prev=12;e.t0=e.catch(6);null!=(null==(a=null===e.t0||void 0===e.t0?void 0:e.t0.body)||null===(n=a.errors)||void 0===n?void 0:n.version)||null!=(null==a||null===(r=a.errors)||void 0===r?void 0:r.form_fields)?ye(G.default.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):ye(null==a?void 0:a.message);ce(!1);case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),We=ee(ne,{email:Ee,password:be,setEmail:Se,setPassword:Ie,emailError:Ce,passwordError:Ne}),Ve=ee(re,{email:Ee}),Ye=ee(oe,{
guildId:u,formState:le,updateFormState:se,isPreview:x,useReducedMotion:xe}),Ke=ee(O.Text,{variant:"text-xs/normal",color:"text-danger"},void 0,ve);return a.createElement(a.Fragment,null,ee(h.default,{direction:h.default.Direction.VERTICAL,justify:h.default.Justify.BETWEEN,className:F.default.guildSidebar,shrink:0},void 0,ee("div",{},void 0,ee(g.default,{guild:we,active:!0,className:(0,o.default)(F.default.guildIcon,(n={},n[F.default.guildIconNoIcon]=null==we.icon,n))}),ee(E.Heading,{variant:"heading-lg/medium",className:F.default.guildName,level:3},void 0,null==we?void 0:we.name),ee(O.Text,{className:F.default.guildDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,null==W?void 0:W.description),null!=Le&&Le.length>0?a.createElement(a.Fragment,null,ee("hr",{className:F.default.divider}),ee(C.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:je})),ee("div",{className:F.default.emojisContainer},void 0,Le.map((function(e){
var t=N.default.getEmojiURL({id:e.id,animated:!1,size:24});return ee(I.default,{text:":"+e.name+":"},e.id,(function(e){return a.createElement("img",z({},e,{width:24,height:24,src:t,className:F.default.emoji,alt:""}))}))})),null!=ke&&ke>0?ee(E.Heading,{variant:"heading-sm/medium",className:F.default.emoji,color:"header-secondary",level:3},void 0,"+"+ke):null)):null),ee("div",{},void 0,null!=Ge&&ee(h.default,{align:h.default.Align.CENTER,className:F.default.onlineCount},void 0,ee("div",{className:F.default.dotOnline}),ee(O.Text,{variant:"text-sm/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:Ge}))),null!=Ue&&ee(h.default,{align:h.default.Align.CENTER},void 0,ee("div",{className:F.default.dotMembers}),ee(O.Text,{variant:"text-sm/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:Ue}))))),ee("div",{className:F.default.modal},void 0,ee(A.ModalContent,{className:F.default.modalContent},void 0,ee(d.default,{className:(0,
o.default)(F.default.sequencer,(r={},r[F.default.centerContent]=_e!==te.VERIFICATION_FORM,r)),steps:[te.CLAIM_ACCOUNT,te.EMAIL_CONFIRMATION,te.VERIFICATION_FORM],step:_e},void 0,function(){switch(_e){case te.CLAIM_ACCOUNT:return We;case te.EMAIL_CONFIRMATION:return Ve;case te.VERIFICATION_FORM:return Ye}}())),function(){switch(_e){case te.CLAIM_ACCOUNT:return ee(A.ModalFooter,{className:F.default.footer},void 0,ee(_.default,{className:F.default.submitButton,type:"submit",submitting:fe,onClick:Be,disabled:0===Ee.length||0===be.length},void 0,G.default.Messages.NEXT),ee(O.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO));case te.EMAIL_CONFIRMATION:return null;case te.VERIFICATION_FORM:return ee(A.ModalFooter,{className:F.default.footer},void 0,ee(_.default,{className:F.default.submitButton,type:"submit",submitting:fe,onClick:He,color:_.default.Colors.GREEN,disabled:null==b||Fe
},void 0,G.default.Messages.SUBMIT),null!=ve?Ke:ee(O.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_WARNING))}}()))};t.default=ie},796015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=I(n(294184)),i=n(505977),u=n(473727),l=n(536211),s=I(n(30098)),d=I(n(790597)),f=I(n(956117)),c=n(645758),p=I(n(502197)),v=n(194322),y=I(n(868073)),m=n(237639),_=I(n(943819)),h=I(n(678875)),g=n(770348),E=n(173652),S=I(n(247001)),O=I(n(407829)),b=I(n(944659));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(){var e,t,r=(0,l.useStateFromStores)([d.default],(function(){return d.default.getGuildId()}),[]),I=(0,l.useStateFromStores)([s.default],(function(){return s.default.getGuild(r)}),[r]),T=(0,l.useStateFromStores)([_.default],(function(){return null!=r?_.default.getRequest(r):null}),[r]),C=(0,u.useLocation)(),P=!0===(null===(e=(0,i.matchPath)(C.pathname,g.Routes.CHANNEL(null==I?void 0:I.id,E.StaticChannelRoute.GUILD_ONBOARDING)))||void 0===e?void 0:e.isExact);if(null==I||!I.hasVerificationGate()||P)return null
;var R=null!==(t=null==T?void 0:T.applicationStatus)&&void 0!==t?t:m.GuildJoinRequestApplicationStatuses.STARTED,w=null,D=null,L=null,k=[O.default.notice,b.default.notice];switch(R){case m.GuildJoinRequestApplicationStatuses.SUBMITTED:w=S.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;D=S.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;L=function(){(0,v.openModal)((function(e){return a.createElement(p.default,M({header:S.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:S.default.Messages.CONFIRM,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return y.default.removeGuildJoinRequest(I.id)},confirmButtonColor:f.default.Colors.BRAND},e),N(c.Text,{variant:"text-md/normal"},void 0,S.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE))}))};break;case m.GuildJoinRequestApplicationStatuses.REJECTED:w=S.default.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;D=S.default.Messages.MEMBER_VERIFICATION_LEARN_MORE;L=function(){(0,
v.openModalLazy)(A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(13554).then(n.bind(n,838303));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,M({guildId:I.id},e))}));case 5:case"end":return e.stop()}}),e)}))))};k.push(O.default.error);break;default:w=S.default.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;D=S.default.Messages.MEMBER_VERIFICATION_NOTICE_CTA;L=function(){(0,h.default)(I.id)}}return N("div",{className:o.default.apply(void 0,k)},void 0,N(c.Text,{className:O.default.header,variant:"text-sm/normal"},void 0,w),N(f.default,{className:O.default.button,look:f.default.Looks.OUTLINED,color:f.default.Colors.WHITE,size:f.default.Sizes.NONE,onClick:L},void 0,D))};P.displayName="PendingGuildMemberNotice";var R=P;t.default=R},710483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(370405),i=n(536211),u=m(n(759027)),l=m(n(30098)),s=m(n(868073)),d=m(n(542307)),f=n(519589),c=m(n(191265)),p=m(n(611408)),v=m(n(247001)),y=m(n(851007));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guildId,n=(0,f.useSelectedGuildJoinRequest)({guildId:t}),r=(null!=n?n:{}).user,m=a.useMemo((function(){return null!=r?new u.default(r):null}),[r]),_=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}),[t]);a.useEffect((function(){d.default.fetchVerificationForm(t)}),[t]);return a.createElement(a.Fragment,null,h(o.Helmet,{title:v.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS}),h("div",{className:y.default.content},void 0,h(c.default,{guildId:t})),null!=n&&null!=_&&null!=m&&h("section",{className:y.default.sidebar},void 0,h(p.default,{guild:_,guildJoinRequest:n,guildJoinRequestUser:m,onClose:function(){return s.default.setSelectedGuildJoinRequest(t,null)}})))};t.default=g},254048:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(967965),u=n(237639),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.className,n=e.sortOrder,r=e.onSortChange,a=o.useMemo((function(){return[{value:u.GuildJoinRequestSortOrders.TIMESTAMP_DESC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:u.GuildJoinRequestSortOrders.TIMESTAMP_ASC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return d(i.SingleSelect,{className:t,onChange:r,value:n,options:a})}f.displayName="MemberApplicationSortSelect";var c=f;t.default=c},191265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=h(n(868073)),u=n(83e3),l=n(912958),s=n(519589),d=n(322865),f=n(912322),c=n(181945),p=h(n(254048)),v=h(n(969804)),y=h(n(882793)),m=h(n(247001)),_=h(n(690919));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}var b=a.memo((function(e){var t=e.guildId,n=a.useRef(null),r=(0,l.useSelectedApplicationStatus)({guildId:t}),h=(0,d.useSelectedSortOrder)({guildId:t}),g=(0,s.useSelectedGuildJoinRequest)({guildId:t}),S=(0,c.useSubmittedGuildJoinRequestTotal)({guildId:t}),b=(0,f.useSortedMemberApplications)({guildId:t,applicationStatus:r,sortOrder:h}).guildJoinRequests,I=(0,u.usePaginatedMemberApplications)({guildId:t,guildJoinRequests:b}).fetchNextPage,T=a.useRef(!1);if(!T.current){T.current=!0;I(h,r)}var C=a.useRef(!1);a.useEffect((function(){C.current=!0}),[h,r]);a.useEffect((function(){if(C.current&&0!==b.length){var e;C.current=!1;i.default.setSelectedGuildJoinRequest(t,b[0])
;null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,b,g]);var A=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedSortOrder(t,n);e.next=5;return I(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,h,t,I]),M=a.useCallback(function(){var e=O(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedApplicationStatus(t,n);i.default.setSelectedGuildJoinRequest(t,null);e.next=6;return I(h,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,h,t,I]),N=a.useCallback(O(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(null!=(a=null===(t=n.current)||void 0===t?void 0:t.getScrollerState())){e.next=3;break}return e.abrupt("return");case 3:if(!(a.scrollHeight-a.scrollTop-a.offsetHeight<200)){e.next=7;break}e.next=7;return I(h,r);case 7:case"end":return e.stop()}}),e)}))),[r,h,I]);return a.createElement(a.Fragment,null,E(v.default,{applicationStatus:r,onTabItemSelect:M,pendingGuildJoinRequestsTotal:S}),E("div",{className:_.default.content},void 0,E("div",{className:_.default.listControls},void 0,E(p.default,{className:_.default.sortSelect,sortOrder:h,onSortChange:A})),E(o.Text,{className:_.default.description,variant:"text-xs/normal",color:"header-secondary"},void 0,m.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION),E(y.default,{applicationStatus:r,guildJoinRequests:b,guildId:t,onScroll:N,listRef:n})))}));t.default=b},969804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294))
;var r,a=d(n(463024)),o=c(n(186465)),i=d(n(214402)),u=n(237639),l=d(n(247001)),s=d(n(624774));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p("div",{});function y(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,r=e.onTabItemSelect;return p(a.default,{className:s.default.container,hideSearch:!0,toolbar:v},void 0,p(a.default.Icon,{icon:i.default,disabled:!0,"aria-label":l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),p(a.default.Title,{className:s.default.title},void 0,l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS),p(a.default.Divider,{className:s.default.divider}),p(o.default,{"aria-label":l.default.Messages.FRIENDS,selectedItem:n,type:o.Types.TOP_PILL,onItemSelect:r,className:s.default.tabBar},void 0,p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.SUBMITTED},void 0,0===t?l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})),p(o.Item,{
id:u.GuildJoinRequestApplicationStatuses.APPROVED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.REJECTED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED)))}y.displayName="MemberApplicationsHeader";var m=y;t.default=m},882793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=O(n(294184)),i=n(798628),u=n(536211),l=O(n(415391)),s=O(n(30098)),d=n(645758),f=O(n(521358)),c=O(n(868073)),p=O(n(499098)),v=n(237639),y=n(519589),m=n(181945),_=n(985577),h=n(423277),g=O(n(247001)),E=O(n(631447)),S=["ref","role"];function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=function(){return null};var A=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,r=e.guildId,O=e.onScroll,b=e.listRef,A=(0,u.useStateFromStores)([s.default],(function(){return s.default.getGuild(r)}),[r]),M=(0,u.useStateFromStores)([p.default],(function(){return p.default.isFetching()})),N=M?[n.length+25]:[n.length],P=(0,y.useSelectedGuildJoinRequest)({guildId:r}),R=(0,m.useSubmittedGuildJoinRequestTotal)({guildId:r}),w=(0,l.default)("guild-join-requests"),D=function(e){var a,i=e.row,u=n[i];return null==u?T(h.MemberApplicationsListRowPlaceholder,{},i):T(h.MemberApplicationsListRow,{className:(0,o.default)((a={},a[E.default.selected]=P===u,a[E.default.siblingSelected]=P===n[i-1],a)),guild:A,guildJoinRequest:u,onClick:function(){return c.default.setSelectedGuildJoinRequest(r,u)},applicationStatus:t},u.userId+"-"+u.applicationStatus+"-"+i)}
;return M||0!==n.length?a.createElement(a.Fragment,null,0!==R&&t===v.GuildJoinRequestApplicationStatuses.SUBMITTED&&T(d.Text,{className:E.default.title,variant:"text-xs/semibold",color:"header-secondary"},void 0,function(e,t){var n=t.toLocaleString();switch(e){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.REJECTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.APPROVED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}(t,R).toUpperCase()),T(i.ListNavigatorProvider,{navigator:w},void 0,T(i.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=e.role,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(e,S);return a.createElement(f.default,I({key:"guild-application-review",innerRole:n,innerAriaLabel:g.default.Messages.MEMBERS,ref:function(e){var n;b.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:C,renderRow:D,sections:N,onScroll:O,fade:!0},r))})))):T(_.ApplicationsEmptyState,{status:t})};t.default=A},423277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MemberApplicationsListRow=D;t.MemberApplicationsListRowPlaceholder=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(294184)),i=I(n(730381)),u=n(378158),l=I(n(759027)),s=I(n(16941)),d=n(645758),f=I(n(992193)),c=I(n(259530)),p=I(n(775803)),v=n(57744),y=I(n(628551)),m=I(n(810919)),_=n(767019),h=n(143586),g=I(n(692711)),E=I(n(868073)),S=n(237639),O=I(n(247001)),b=I(n(631447));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}
i(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e){var t,n=e.icon,r=e.onClick,a=e.submitting,i=e.disabled;return R(s.default,{className:(0,o.default)(b.default.actionIconContainer,(t={},t[b.default.disabled]=i||a,t)),onClick:r},void 0,a?R(m.default,{className:b.default.icon,dotRadius:2,themed:!0}):R(n,{className:b.default.icon,height:12,width:12}))}w.displayName="ActionButton";function D(e){var t,r=e.applicationStatus,m=e.guild,I=e.guildJoinRequest,T=e.className,A=e.onClick,P=N(a.useState(null),2),D=P[0],L=P[1],k=I.user,j=I.createdAt
;if(null==k)throw new Error("Missing user on this guild join request!");var U=a.useMemo((function(){return new l.default(k)}),[k]),G=g.default.getUserAvatarURL(U),F=r===S.GuildJoinRequestApplicationStatuses.SUBMITTED,x=a.useCallback(function(){var e=M(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.guildId,a=t.userId;if(null==D){e.next=3;break}return e.abrupt("return");case 3:L(n);e.prev=4;e.next=7;return E.default.updateGuildJoinRequest(r,a,n);case 7:e.next=13;break;case 9:e.prev=9;e.t0=e.catch(4);(0,h.showToast)((0,_.createToast)(O.default.Messages.ERROR_GENERIC_TITLE,_.ToastType.FAILURE));L(null);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[D]),B=function(){var e=M(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return x(I,S.GuildJoinRequestApplicationStatuses.APPROVED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=M(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,S.GuildJoinRequestApplicationStatuses.REJECTED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R(s.default,{className:(0,o.default)(b.default.container,T),onClick:A},void 0,R(y.default,{src:G,size:y.default.Sizes.SIZE_40,"aria-label":k.username,className:b.default.spacer}),R("div",{className:b.default.userDetails},void 0,R(d.Text,{variant:"text-md/semibold",color:"header-primary"},void 0,k.username),R(d.Text,{className:b.default.createdAt,variant:"text-sm/normal",color:"header-secondary"},void 0,(0,i.default)(j).format("lll"))),F&&R(w,{icon:f.default,onClick:B,submitting:D===S.GuildJoinRequestApplicationStatuses.APPROVED,
disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.APPROVED}),F&&R(w,{icon:c.default,onClick:H,submitting:D===S.GuildJoinRequestApplicationStatuses.REJECTED,disabled:null!=D&&D!==S.GuildJoinRequestApplicationStatuses.REJECTED}),R(s.default,{className:(0,o.default)(b.default.overflowMenuContainer,(t={},t[b.default.disabled]=null!=D,t)),onClick:function(e){(0,u.openContextMenuLazy)(e,M(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,C({},e,{guild:m,user:U}))}));case 5:case"end":return e.stop()}}),e)}))),{position:v.Positions.BOTTOM,align:v.Align.RIGHT})}},void 0,R(p.default,{className:b.default.icon,width:18})))}D.displayName="MemberApplicationsListRow";function L(){var e=Math.floor(50*Math.random())+100+"px",t=Math.floor(25*Math.random())+50+"px";return R("div",{
className:b.default.placeholder},void 0,R("div",{className:(0,o.default)(b.default.placeholderAvatar)}),R("div",{className:b.default.userDetails},void 0,R("div",{className:b.default.placeholderUsername,style:{maxWidth:e}}),R("div",{className:b.default.placeholderCreatedAt,style:{maxWidth:t}})))}L.displayName="MemberApplicationsListRowPlaceholder"},831051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=M(n(730381)),i=M(n(795715)),u=n(536211),l=n(378158),s=n(910992),d=M(n(876874)),f=M(n(728429)),c=M(n(956117)),p=M(n(16941)),v=n(772575),y=n(645758),m=M(n(474026)),_=M(n(930600)),h=M(n(946750)),g=M(n(775803)),E=n(194322),S=n(767019),O=n(143586),b=M(n(868073)),I=n(237639),T=n(770348),C=M(n(247001)),A=M(n(328690));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=24;function U(e){var t,r=e.guildJoinRequest,M=e.guild,N=e.guildJoinRequestUser,w=L(a.useState(!1),2),k=w[0],U=w[1],G=r.createdAt,F=r.actionedAt,x=r.guildId,B=r.userId,H=null===(t=r.actionedByUser)||void 0===t?void 0:t.id,W=(0,u.useStateFromStores)([f.default],(function(){return f.default.getUser(H)})),V=(0,u.useStateFromStores)([d.default],(function(){return null!=H?d.default.getMember(x,H):null}),[H,x]),Y=a.useCallback((function(){(0,O.showToast)((0,
S.createToast)(C.default.Messages.ERROR_GENERIC_TITLE,S.ToastType.FAILURE))}),[]),K=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:U(!0);e.prev=3;e.next=6;return b.default.updateGuildJoinRequest(x,B,I.GuildJoinRequestApplicationStatuses.APPROVED);case 6:e.next=11;break;case 8:e.prev=8;e.t0=e.catch(3);Y();case 11:e.prev=11;U(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),z=C.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,$=R(h.default,{width:j,height:j,className:A.default.icon});if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.APPROVED){z=C.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;$=R(m.default,{width:j,height:j,className:A.default.iconApproved,backgroundColor:T.Colors.WHITE})
}else if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED){z=C.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;$=R(_.default,{width:j,height:j,className:A.default.iconRejected,backgroundColor:T.Colors.WHITE})}var q=null!=W&&null!=F?C.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:(0,o.default)(i.default.extractTimestamp(F)).format("ll"),usernameHook:function(){var e;return R(p.default,{className:A.default.actionedByUser,onClick:function(){return(0,s.openUserProfileModal)({userId:W.id,guildId:x,analyticsLocation:{section:T.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:T.AnalyticsObjects.ACTIONED_BY_USER}})},tag:"div",role:"link"},"username-hook",R(y.Text,{variant:"text-xs/normal",color:"header-primary"},void 0,null!==(e=null==V?void 0:V.nick)&&void 0!==e?e:W.username))}}):(0,o.default)(G).format("lll");return R("div",{className:A.default.container},void 0,R("div",{className:A.default.wrapper
},void 0,R("div",{className:A.default.inline},void 0,$,R("div",{},void 0,R(v.Heading,{variant:"heading-deprecated-14/medium",level:3},void 0,z),R(y.Text,{className:A.default.headerSubtext,variant:"text-xs/normal",color:"header-secondary"},void 0,q))),R("div",{className:A.default.inline},void 0,r.applicationStatus===I.GuildJoinRequestApplicationStatuses.SUBMITTED&&R("div",{className:A.default.buttons},void 0,R(c.default,{color:c.default.Colors.GREEN,submitting:k,onClick:function(){return K()}},void 0,C.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION),R(c.default,{color:c.default.Colors.RED,onClick:function(){(0,E.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(68689).then(n.bind(n,868689));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return R(r,{modalProps:e,guildId:x,userId:B,onError:Y})}));case 5:case"end":return e.stop()}}),e)
}))))},disabled:k},void 0,C.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION)),R(p.default,{onClick:function(e){(0,l.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{guild:M,user:N}))}));case 5:case"end":return e.stop()}}),e)}))))},className:A.default.overflow},void 0,R(g.default,{width:20,height:20,className:A.default.iconInteractive})))),r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED&&null!=r.rejectionReason&&R("div",{className:A.default.rejectionReason},void 0,R(y.Text,{variant:"text-sm/normal"},void 0,r.rejectionReason)))}U.displayName="ActionBar"},574274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(294184)),o=n(910992),i=v(n(151097)),u=n(772575),l=n(645758),s=v(n(628551)),d=v(n(692711)),f=n(770348),c=v(n(247001)),p=v(n(734787));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.user,n=e.className,r=t.discriminator,v=t.username,y=d.default.getUserAvatarURL(t);return m("div",{className:(0,a.default)(p.default.container,n)},void 0,m(s.default,{src:y,size:s.default.Sizes.SIZE_80,"aria-label":v,className:p.default.avatar}),m("div",{className:p.default.username},void 0,m(u.Heading,{variant:"heading-xl/medium",level:3},void 0,v),m(l.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,"#",r)),m(i.default,{onClick:function(){(0,o.openUserProfileModal)({userId:t.id,analyticsLocation:{section:f.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:f.AnalyticsObjects.JOIN_REQUEST}})}},void 0,c.default.Messages.VIEW_PROFILE))}_.displayName="GuildJoinRequestUserProfile"},611408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(772575),i=y(n(259530)),u=y(n(190178)),l=y(n(878556)),s=y(n(582945)),d=y(n(341394)),f=y(n(831051)),c=y(n(574274)),p=y(n(247001)),v=y(n(800660));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.guild,n=e.guildJoinRequest,r=e.guildJoinRequestUser,y=e.onClose,m=a.useMemo((function(){var e;return null!==(e=n.formResponses)&&void 0!==e?e:[]}),[n.formResponses]);return a.createElement(a.Fragment,null,_(l.default,{toolbar:_(l.default.Icon,{icon:i.default,onClick:y,tooltip:p.default.Messages.CLOSE})},void 0,_(l.default.Icon,{icon:u.default,disabled:!0,"aria-label":p.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),_(o.Heading,{variant:"heading-md/medium",level:3},void 0,r.toString())),_(f.default,{guildJoinRequest:n,guildJoinRequestUser:r,guild:t}),_(s.default,{},void 0,_(c.default,{user:r,className:v.default.container}),_("div",{className:v.default.disabledFormRenderer},void 0,_(d.default,{guildId:t.id,
formFields:m,user:r}))))};t.default=h},341394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(728429)),u=y(n(311591)),l=n(237639),s=n(820379),d=n(86309),f=n(317258),c=n(759085),p=n(129277),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.formFields,n=e.user;return null==(0,o.useStateFromStores)([i.default],(function(){return null!=n?n:i.default.getCurrentUser()}))?null:a.createElement(a.Fragment,null,_(s.RequirementRenderer,{icon:u.default,text:v.default.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,passesRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case l.VerificationFormFieldTypes.TERMS:return _(c.DisabledTermsRequirementFormField,{formField:e},t);case l.VerificationFormFieldTypes.TEXT_INPUT:return _(p.DisabledTextInputFormField,{formField:e},t)
;case l.VerificationFormFieldTypes.PARAGRAPH:return _(f.DisabledParagraphFormField,{formField:e},t);case l.VerificationFormFieldTypes.MULTIPLE_CHOICE:return _(d.DisabledMultipleChoiceFormField,{formField:e},t)}}(e,t)})))};t.default=h},946676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=g(n(496486)),a=g(n(118915)),o=g(n(636602)),i=g(n(415275)),u=g(n(23170)),l=n(566627),s=n(450446),d=g(n(964285)),f=n(951255),c=n(139982),p=g(n(876874)),v=g(n(728429)),y=n(685677),m=g(n(408476)),_=n(770348),h=n(173652);function g(e){return e&&e.__esModule?e:{default:e}}var E={completeOnboarding:function(e){var t=e.guildId,n=e.selectedChannelIds,g=e.selectedRoleIds;null!=n&&(0,f.bulkOptInChannels)(t,Array.from(n),!0,{page:_.AnalyticsPages.GUILD_ONBOARDING});null!=g&&function(e,t){var n=v.default.getCurrentUser();if(null!=n){var a=p.default.getMember(e,n.id);if(null==a)return[];var o=r.default.union(a.roles,t),i=r.default.difference(t,a.roles)
;d.default.updateMemberRoles(e,n.id,o,i,[])}}(t,Array.from(g));var E=v.default.getCurrentUser();if(null!=E){var S,O,b=null!==(S=null===(O=p.default.getMember(t,E.id))||void 0===O?void 0:O.flags)&&void 0!==S?S:0;a.default.patch({url:_.Endpoints.SET_GUILD_MEMBER(t),body:{flags:(0,y.setFlag)(b,s.GuildMemberFlags.COMPLETED_ONBOARDING,!0)},oldFormErrors:!0})}o.default.dispatch({type:"GUILD_ONBOARDING_COMPLETE",guildId:t});var I=m.default.getInvite(t);if(null!=I)u.default.transitionToInviteSync(I);else{if((0,l.canSeeGuildHome)(t))return(0,c.transitionTo)(_.Routes.CHANNEL(t,h.StaticChannelRoute.GUILD_HOME));i.default.escapeToDefaultChannel(t)}}};t.default=E},660204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=v(n(177230)),o=n(450446),i=v(n(876874)),u=v(n(30098)),l=v(n(728429)),s=n(685677),d=v(n(850403)),f=n(280371),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(408476));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=3e5;function _(e,t){var n,a;if(!(0,s.hasFlag)(null!==(n=null===(a=i.default.getMember(e,t))||void 0===a?void 0:a.flags)&&void 0!==n?n:0,o.GuildMemberFlags.COMPLETED_ONBOARDING)){var u=d.default.getCurrentConfig({guildId:e}).enableOnboardingPrompts;d.default.trackExposure({guildId:e});if(u){r.default.dispatch({type:"GUILD_ONBOARDING_START",guildId:e});(0,
f.fetchOnboardingPrompts)(e)}}}function h(e){return Date.now()-new Date(e).getTime()<=m}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("GUILD_MEMBER_ADD",this.handleMemberAdd);r.default.subscribe("GUILD_JOIN",this.handleGuildJoin);r.default.subscribe("GUILD_CREATE",this.handleGuildCreate);r.default.subscribe("GUILD_MEMBER_UPDATE",this.handleGuildMemberUpdate)};n._terminate=function(){r.default.unsubscribe("GUILD_MEMBER_ADD",this.handleMemberAdd);r.default.unsubscribe("GUILD_JOIN",this.handleGuildJoin);r.default.unsubscribe("GUILD_CREATE",this.handleGuildCreate);r.default.unsubscribe("GUILD_MEMBER_UPDATE",this.handleGuildMemberUpdate)};n.handleMemberAdd=function(e){var t=e.joinedAt,n=e.guildId,r=e.user;if(null!=c.default.getOnboardingStatus(n))return!1;var a=u.default.getGuild(n),o=l.default.getCurrentUser()
;if(null==t||(null==o?void 0:o.id)!==r.id||null==a)return!1;if(!h(t))return!1;_(n,r.id)};n.handleGuildJoin=function(e){var t=e.lurker,n=e.guildId;if(null!=c.default.getOnboardingStatus(n))return!1;var r=u.default.getGuild(n),a=l.default.getCurrentUser();if(!t||null==r||null==r.joinedAt||null==a)return!1;if(!h(r.joinedAt))return!1;_(n,a.id)};n.handleGuildCreate=function(e){var t=e.guild;if(null!=c.default.getOnboardingStatus(t.id))return!1;var n=l.default.getCurrentUser();if(null==n||null==t.joined_at||t.owner_id===n.id)return!1;if(!h(t.joined_at))return!1;_(t.id,n.id)};n.handleGuildMemberUpdate=function(e){var t=e.guildId,n=e.user,a=e.flags,i=l.default.getCurrentUser();if(n.id!==(null==i?void 0:i.id)||null==a)return!1;if(!(0,s.hasFlag)(a,o.GuildMemberFlags.COMPLETED_ONBOARDING))return!1;if(c.default.getOnboardingStatus(t)===c.GuildOnboardingStatus.COMPLETED)return!1;r.default.dispatch({type:"GUILD_ONBOARDING_COMPLETE",guildId:t})};n.__getLocalVars=function(){return{FIVE_MINUTES_MS:m}}
;return t}(a.default));t.default=g},841971:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(p=a.useState({}),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()),r=n[0],o=n[1],u=a.useCallback((function(e,n,a){var i,u;void 0===a&&(a=!0);var s=t[e];if(null!=s){var d=null!==(i=new Set(r[s.id]))&&void 0!==i?i:new Set;if(a){s.singleSelect&&d.clear();d.add(n.id)}else d.delete(n.id);o(l({},r,((u={})[s.id]=d,u)))}}),[t,r]),c=a.useCallback((function(){var n=t.map((function(e){return e.options.filter((function(t){var n;return null===(n=r[e.id])||void 0===n?void 0:n.has(t.id)}))})).flat(),a=d(n),o=f(n);i.default.completeOnboarding({guildId:e,selectedRoleIds:a,selectedChannelIds:o})}),[e,t,r]);var p,v;return{onboardingState:r,selectOption:u,finishOnboarding:c}};t.getSelectedChannelIds=f;t.getSelectedRoleIds=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(71246),i=(r=n(946676))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return new Set(e.map((function(e){return e.roleIds})).flat().filter(o.isNotNullish))}function f(e){return new Set(e.map((function(e){return e.channelIds})).flat().filter(o.isNotNullish))}},708076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.guild,n=e.prompt,d=e.selectedRoleIds,c=e.selectedChannelIds,p=e.itemHook,v=(0,r.useStateFromStoresArray)([o.default,u.default,i.default],(function(){return Array.from(c).map((function(e){return o.default.getChannel(e)})).filter(l.isNotNullish).map((function(e){return(0,a.computeChannelName)(e,u.default,i.default,!0)}))})),y=Array.from(d).map((function(e){var n,r;return null===(n=(null!==(r=null==t?void 0:t.roles)&&void 0!==r?r:{})[e])||void 0===n?void 0:n.name})).filter(l.isNotNullish).map((function(e){return"@"+e})),m=n.singleSelect?"":s.default.Messages.ONBOARDING_CHOOSE_ALL_OPTIONS,_=null;if(0===v.length&&y.length>0)m=f(y,p);else if(v.length>0){m=function(e,t){return 0===e.length?"":s.default.Messages.ONBOARDING_HELP_TEXT_ADD_CHANNELS.format({count:e.length,extraCount:Math.max(e.length-2,0),channel1:e[0],channel2:e[1],itemHook:t})}(v,p);y.length>0&&(_=f(y,p,!0))}return{helpText:m,helpTextAdditional:_}}
;var r=n(536211),a=n(678928),o=d(n(644263)),i=d(n(290629)),u=d(n(728429)),l=n(71246),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return 0===e.length?"":(n?s.default.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES_ALSO:s.default.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES).format({count:e.length,extraCount:Math.max(e.length-2,0),role1:e[0],role2:e[1],itemHook:t})}},883703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=_(n(728429)),i=_(n(956117)),u=_(n(380439)),l=n(772575),s=_(n(80828)),d=n(645758),f=_(n(272544)),c=_(n(336947)),p=n(408476),v=_(n(247001)),y=_(n(488723)),m=_(n(318906));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=100;function S(e){var t=e.guild,n=e.onStart,r=e.onboardingStatus,_=e.headerId,h=(0,a.useStateFromStores)([o.default],(function(){return o.default.getCurrentUser()})),S=(0,
a.useStateFromStores)([c.default],(function(){return c.default.isLoading()}));return g("div",{className:y.default.coverContent},void 0,null!=h&&g("div",{className:y.default.avatarContainer},void 0,g("img",{src:m.default,className:y.default.avatarCloud,alt:"","aria-hidden":!0}),g(f.default,{className:y.default.userIconMask,mask:f.default.Masks.VOICE_USER_SUMMARY_ITEM,width:E,height:E},void 0,g("img",{className:y.default.userIcon,width:E,height:E,src:h.getAvatarURL(t.id,E),alt:h.username})),g(u.default,{className:y.default.guildIcon,guild:t,size:u.default.Sizes.XLARGE})),g(l.Heading,{className:y.default.coverTitle,variant:"heading-xl/medium",color:"header-primary",id:_},void 0,v.default.Messages.ONBOARDING_COVER_WELCOME_TITLE.format({guildName:null==t?void 0:t.name,userName:null==h?void 0:h.username})),S?g(s.default,{className:y.default.subtitle}):r===p.GuildOnboardingStatus.NOT_APPLICABLE?g(d.Text,{className:y.default.subtitle,variant:"text-md/normal",color:"header-secondary"
},void 0,v.default.Messages.ONBOARDING_NO_PROMPTS):g(d.Text,{className:y.default.subtitle,variant:"text-md/normal",color:"header-secondary"},void 0,v.default.Messages.ONBOARDING_COVER_WELCOME_SUBTITLE),g(i.default,{disabled:S,className:y.default.coverButton,onClick:n,fullWidth:!0,size:i.default.Sizes.LARGE,look:i.default.Looks.FILLED,color:i.default.Colors.BRAND},void 0,v.default.Messages.LETS_GO))}S.displayName="GuildOnboardingCover"},64718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildOnboardingPreview=U;t.default=j;var r,a=R(n(667294)),o=N(n(294184)),i=N(n(441143)),u=n(536211),l=N(n(415275)),s=N(n(29082)),d=N(n(673997)),f=N(n(30098)),c=N(n(956117)),p=n(772575),v=N(n(562006)),y=n(645758),m=N(n(730977)),_=n(354479),h=n(3400),g=N(n(692711)),E=N(n(946676)),S=N(n(336947)),O=R(n(408476)),b=R(n(841971)),I=N(n(708076)),T=N(n(883703)),C=N(n(334062)),A=N(n(247001)),M=N(n(488723));function N(e){return e&&e.__esModule?e:{default:e}}function P(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){
var t,n=e.guild,r=e.prompts,o=e.onFinishOnboardingOverride,u=e.headerId;(0,i.default)(r.length>0,"There must be at least one prompt");var l=D(a.useState(0),2),s=l[0],d=l[1],f=(0,b.default)(n.id,r),v=f.onboardingState,_=f.selectOption,h=f.finishOnboarding,g=r[s],E=null!==(t=v[g.id])&&void 0!==t?t:new Set,S=0===E.size&&(null==g?void 0:g.required),O=s+1>=r.length,T=null==g?void 0:g.options.filter((function(e){return E.has(e.id)})),N=(0,b.getSelectedRoleIds)(T),P=(0,b.getSelectedChannelIds)(T);var R=(0,I.default)({guild:n,prompt:g,selectedRoleIds:N,selectedChannelIds:P,itemHook:function(e,t){return w("span",{className:M.default.helpTextItem},t,e)}}),L=R.helpText,k=R.helpTextAdditional,j=a.useCallback((function(){d(Math.min(s+1,r.length-1))}),[s,r.length]),U=a.useCallback((function(){d(Math.max(0,s-1))}),[s]);return a.createElement(a.Fragment,null,w(y.Text,{variant:"text-sm/medium",color:"text-muted"},void 0,A.default.Messages.ONBOARDING_QUESTION_COUNT.format({currentQuestion:s+1,
questionCount:r.length})),w(p.Heading,{className:M.default.title,variant:"heading-xl/medium",color:"header-primary",id:u},void 0,g.title),w("div",{className:M.default.promptOptions},void 0,g.options.map((function(e){var t;return w(C.default,{option:e,onSelect:function(t){return _(s,e,t)},selected:null===(t=v[g.id])||void 0===t?void 0:t.has(e.id)},e.id)}))),w(y.Text,{className:M.default.helpText,variant:"text-xs/normal",color:"text-muted"},void 0,L," ",k),w("div",{className:M.default.navButtons},void 0,s>0&&w(c.default,{onClick:U,size:c.default.Sizes.LARGE,look:c.default.Looks.OUTLINED,grow:!1,color:c.default.Colors.PRIMARY},void 0,A.default.Messages.BACK),w(m.default,{text:S?A.default.Messages.ONBOARDING_REQUIRED_QUESTION:null},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return w(c.default,{onMouseEnter:t,onMouseLeave:n,onClick:O?null!=o?o:h:j,disabled:S,size:c.default.Sizes.LARGE,look:c.default.Looks.FILLED,grow:!1,color:c.default.Colors.BRAND
},void 0,O?a.createElement(a.Fragment,null,A.default.Messages.FINISH,w("span",{className:M.default.finishEmoji,role:"img","aria-label":"finish"},void 0,"🎉")):0===E.size?A.default.Messages.SKIP:A.default.Messages.NEXT)}))))}function j(e){var t=e.guildId,n=(0,d.default)(),r=n.ref,i=n.width,c=n.height,p=(0,u.useStateFromStoresArray)([S.default],(function(){return S.default.getOnboardingPrompts(t)})),y=(0,u.useStateFromStores)([f.default],(function(){return f.default.getGuild(t)})),m=D(a.useState(!1),2),_=m[0],h=m[1],b=a.useMemo((function(){return null==y?null:g.default.getGuildSplashURL({id:y.id,splash:y.splash})}),[y]),I=(0,u.useStateFromStores)([O.default],(function(){return O.default.getOnboardingStatus(t)}));a.useEffect((function(){if(!O.default.shouldShowOnboarding(t))return l.default.escapeToDefaultChannel(t);h(!1)}),[t]);var C=a.useCallback((function(){(0,O.isOnboarding)(I)?h(!0):E.default.completeOnboarding({guildId:t})}),[t,I]);return null==y?null:a.createElement("div",{
className:M.default.main,ref:r},null!=b?w(v.default,{className:(0,o.default)(M.default.artwork),src:b,width:i,height:c,onLoad:function(){}}):w(s.default,{className:M.default.artwork,preserveAspectRatio:"xMinYMin slice"}),w("div",{className:M.default.content},void 0,!_&&w(T.default,{guild:y,onboardingStatus:I,onStart:C}),null!=p&&p.length>0&&_&&w(k,{guild:y,prompts:p})))}j.displayName="GuildOnboardingPage";function U(e){var t=e.transitionState,n=e.onClose,r=e.guildId,o=e.prompts,i=(0,_.useUID)(),l=(0,u.useStateFromStores)([f.default],(function(){return f.default.getGuild(r)})),s=D(a.useState(!1),2),d=s[0],c=s[1],p=a.useCallback((function(){c(!0)}),[]);return null==l?null:w(h.ModalRoot,{transitionState:t,"aria-labelledby":i,size:h.ModalSize.DYNAMIC},void 0,w("div",{className:M.default.content},void 0,d?w(k,{guild:l,prompts:o,onFinishOnboardingOverride:n,headerId:i}):w(T.default,{guild:l,onboardingStatus:O.GuildOnboardingStatus.READY,onStart:p,headerId:i})))}
U.displayName="GuildOnboardingPreview"},334062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=n(248088),u=v(n(498773)),l=n(836233),s=v(n(16941)),d=n(645758),f=v(n(869184)),c=n(770348),p=v(n(488723));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t,n=e.option,r=e.selected,v=e.onSelect,y=a.useContext(l.AccessibilityPreferencesContext).reducedMotion,_=(0,i.useSpring)({transform:r||y.enabled?"scale(1)":"scale(0.7)",config:{tension:300,friction:10}}).transform,h=(0,i.useSpring)({opacity:r?1:0,config:{duration:150}}).opacity;return m(s.default,{className:(0,o.default)(p.default.optionButton,(t={},t[p.default.selected]=r,t)),onClick:function(){return v(!r)}},void 0,null!=(null!=n.emojiId||n.emojiName)&&m(u.default,{className:p.default.buttonEmoji,emojiId:n.emojiId,emojiName:n.emojiName}),m("div",{className:p.default.buttonText},void 0,m(d.Text,{variant:"text-md/medium",color:"header-primary"
},void 0,n.title),m(d.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,n.description)),m(i.animated.div,{className:p.default.checkIcon,style:{opacity:h,transform:_}},void 0,m(f.default,{width:10,height:10,color:c.Colors.WHITE})))}_.displayName="PromptOptionButton"},828339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(536211)),a=l(n(636602)),o=l(n(423046)),i=l(n(644263)),u=n(155787);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={};function p(e,t){var n=c[e];if(null==n)return!1;if(n.has(t))return!1;c[e]=new Set(n.add(t));return!0}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(o.default);c={};null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(c[t]=new Set(n))}))};n.getProgress=function(e){return c[e]}
;n.hasProgress=function(e){var t=c[e];return null!=t&&!t.has(u.Steps.DISMISSED)};n.getState=function(){return c};n.__getLocalVars=function(){return{guildProgress:c}};return t}(r.default.PersistedStore);v.displayName="GuildProgressStore";v.persistKey="GuildProgressStore";var y=new v(a.default,{CONNECTION_OPEN:function(){var e=[];Object.keys(c).forEach((function(t){c[t].has(u.Steps.COMPLETED)&&e.push(t)}));e.forEach((function(e){return p(e,u.Steps.DISMISSED)}))},GUILD_PROGRESS_INITIALIZE:function(e){var t=e.guildId;null==c[t]&&(c[t]=new Set);c[t].has(u.Steps.COMPLETED)||c[t].delete(u.Steps.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){var t=e.guildId;if(null==c[t])return!1;c[t]=new Set(c[t].add(u.Steps.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){return p(e.guildId,u.Steps.DISMISSED)},GUILD_CREATE:function(e){var t=e.guild;if(t.owner_id===o.default.getId()&&null!=c[t.id]){null!=t.icon&&c[t.id].add(u.Steps.AVATAR);t.member_count>1&&c[t.id].add(u.Steps.INVITE)}},
CHANNEL_CREATE:function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=c[t.guild_id]&&p(t.guild_id,u.Steps.CHANNEL)},CHANNEL_UPDATES:function(e){for(var t,n=!1,r=d(e.updates);!(t=r()).done;){var a=t.value.channel;null!=a&&null!=a.guild_id&&null!=c[a.guild_id]&&!1!==p(a.guild_id,u.Steps.CHANNEL)&&(n=!0)}return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){var t=e.guild;return null!=t&&(null!=t.id&&null!=c[t.id]&&null!=t.icon&&p(t.id,u.Steps.AVATAR))},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=i.default.getChannel(t);return n.author.id===o.default.getId()&&null!=r&&null!=c[r.guild_id]&&p(r.guild_id,u.Steps.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){var t=e.guildId,n=e.memberCount;return null!=c[t]&&n>1&&p(t,u.Steps.INVITE)}});t.default=y},473250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildRecommendations=function(e){return c.apply(this,arguments)}
;var r,a=s(n(118915)),o=s(n(636602)),i=n(864489),u=s(n(768535)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}!function(e){e[e.DESKTOP=1]="DESKTOP";e[e.MOBILE=2]="MOBILE";e[e.WEB=3]="WEB"}(r||(r={}));function c(){return(c=f(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t={});if(!u.default.isFetching()){e.next=3;break}return e.abrupt("return");case 3:o.default.dispatch({type:"GUILD_RECOMMENDATION_FETCH"});n=(0,i.isDesktop)()?r.DESKTOP:r.WEB;e.prev=5;e.next=8;return a.default.get({url:l.Endpoints.GUILD_RECOMMENDATIONS(),query:{
personalization_disabled:t.personalization_disabled,client_type:n}});case 8:s=e.sent;o.default.dispatch({type:"GUILD_RECOMMENDATION_FETCH_SUCCESS",recommendedGuilds:s.body.recommended_guilds,loadId:s.body.load_id});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(5);o.default.dispatch({type:"GUILD_RECOMMENDATION_FETCH_FAILURE"});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}},822871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCanSeeSubscriptionRoleEmojiDismissableUpsell=function(e){var t=(0,r.useStateFromStores)([a.default],(function(){return a.default.getGuild(e)})),n=(0,r.useStateFromStores)([o.default],(function(){return o.default.can(u.Permissions.MANAGE_GUILD,t)})),l=!0===(null==t?void 0:t.hasFeature(u.GuildFeatures.ROLE_SUBSCRIPTIONS_ENABLED)),s=(0,i.useGuildEligibleForRoleSubscriptionEmoji)(e);return l&&s&&n};var r=n(536211),a=l(n(30098)),o=l(n(689389)),i=n(403008),u=n(770348);function l(e){
return e&&e.__esModule?e:{default:e}}},465775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,d.getRoleSubscriptionPlanId)(e),n=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSubscriptionListingForPlan(t)})),p=(0,o.useStateFromStores)([s.default],(function(){return null!=n?s.default.getSubscriptionGroupListingForSubscriptionListing(n.id):null})),v=(0,o.useStateFromStores)([i.default],(function(){return i.default.getGuild(null==p?void 0:p.guild_id)})),h=(O=r.useState(!1),b=2,function(e){if(Array.isArray(e))return e}(O)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(O,b)||function(e,t){if(e){if("string"==typeof e)return y(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(O,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=h[0],E=h[1],S=(0,l.useFetchSubscriptionsSettings)().fetchSubscriptionsSettings;var O,b;r.useEffect((function(){g&&null!=v&&S(v.id)}),[g,v,S]);var I=null==n?void 0:function(e){var t=e.listing,n=e.subscription,r=(0,a.default)(n.currentPeriodEnd).format(m),o=t.subscription_plans[0],i=(0,u.formatPrice)(o.price,o.currency),l=(0,a.default)(n.createdAt).format(_),s=n.status===f.SubscriptionStatusTypes.CANCELED,d=n.status===f.SubscriptionStatusTypes.PAST_DUE,p=null!=n.trialId;return{memberSince:l,nextRenewalDate:r,
nextRenewalLabel:s?c.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBERSHIP_ENDS:c.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_NEXT_RENEWAL,subscriptionPlanPrice:i,isCancelled:s,isPastDue:d,isTrial:p}}({listing:n,subscription:e});return{guild:v,expanded:g,handleToggleExpanded:function(){return E((function(e){return!e}))},listing:n,groupListing:p,subscriptionInfo:I}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(730381)),o=n(536211),i=p(n(30098)),u=n(243277),l=n(547642),s=p(n(523754)),d=n(251349),f=n(770348),c=p(n(247001));function p(e){
return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="M/D/YY",_="M/D/YY"},580756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(l=(0,a.default)(),s=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(l,s)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],u=null!=(null==e?void 0:e.application_id)&&null!=r?(0,o.getAssetURL)(e.application_id,e,r):void 0;var l,s;return[n,u]};var r,a=(r=n(606306))&&r.__esModule?r:{default:r},o=n(204785);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},995837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t,n=e.includeFlairAsBenefit,l=e.listing,s=e.guildId,f=0,c=0,p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(l.role_benefits.benefits);!(t=p()).done;){var v=t.value;(0,o.isChannelBenefit)(v)?f+=1:(0,o.isIntangibleBenefit)(v)&&(c+=1)}var y=l.role_id,m=(0,i.default)(s).filter((function(e){return e.roles.includes(y)})).length;return r.useMemo((function(){var e=[];!0===n&&e.push(u.default.Messages.GUILD_ROLE_SUBSCRIPTION_BENEFIT_VISUAL_FLAIR);0!==f&&e.push(u.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({channelCount:f}))
;0!==c&&e.push(u.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({benefitCount:c}));0!==m&&e.push(u.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EMOJIS_SUBTITLE.format({emojiCount:m}));return new a.default(e)}),[f,c,m,n])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(781865)),o=n(293773),i=l(n(141049)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}
function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},678951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(void 0===e?{}:e).ensureFresh,n=void 0!==t&&t,s=(0,u.default)()===l.UserGuildRoleSubscriptionRelationship.SUBSCRIBED,d=(0,a.useStateFromStores)([i.default],(function(){return i.default.getActiveGuildSubscriptions()})),f=r.useRef(!1);r.useEffect((function(){if(function(e){var t,n=e.ensureFresh,r=e.hasFetched,a=e.hasRoleSubscriptions,o=i.default.getActiveGuildSubscriptions();if(0===(null!==(t=null==o?void 0:o.length)&&void 0!==t?t:0)&&a)return!0;if(n&&!r)return!0;return!r&&!i.default.hasFetchedSubscriptions()}({ensureFresh:n,hasRoleSubscriptions:s,hasFetched:f.current})){f.current=!0;o.fetchSubscriptions()}}),[n,s]);return null!=d?d:c};var r=f(n(667294)),a=n(536211),o=f(n(832635)),i=s(n(146771)),u=s(n(342126)),l=n(92557);function s(e){return e&&e.__esModule?e:{default:e}}
function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}var c=[]},678075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSubscriptions()})),n=r.useMemo((function(){if(null==t)return{};for(var e={},n=0,r=Object.values(t);n<r.length;n++){var a=r[n];if(a.type===d.SubscriptionTypes.GUILD){e[(0,s.getRoleSubscriptionPlanId)(a)]=a}}return e}),[t]),f=(0,
a.useStateFromStoresObject)([l.default],(function(){for(var t,r,a,o=null,i=null!=e?l.default.getSubscriptionGroupListing(e):null,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(null!==(t=null==i?void 0:i.subscription_listings_ids)&&void 0!==t?t:[]);!(a=u()).done;){
var s=a.value,d=l.default.getSubscriptionListing(s),f=null==d?void 0:d.subscription_plans[0].id;if(null!=f){var c=n[f];if(null!=c){o=c;r=d;break}}}return{activeSubscription:o,activeSubscriptionListing:r}})),c=f.activeSubscription,v=f.activeSubscriptionListing,y=null==v?void 0:v.subscription_plans[0],m=null==y?void 0:y.id,_=null==y?void 0:y.sku_id,h=(0,a.useStateFromStores)([i.default],(function(){return null!=m?i.default.get(m):null})),g=null==v?void 0:v.soft_deleted;r.useEffect((function(){null!=h||null==_||i.default.isFetchingForSKU(_)||(0,o.fetchSubscriptionPlansForSKU)(_,void 0,void 0,g)}),[h,_,g]);return{activeSubscription:c,activeSubscriptionListing:v,activeSubscriptionPlanFromStore:h}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(856259),i=f(n(909584)),u=f(n(146771)),l=f(n(523754)),s=n(251349),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},11114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGetTrialPurchaseEligibility=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(327269),o=n(947428);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.useGetTrialPurchaseEligibility=function(){var e=l(r.useState(!1),2),t=e[0],n=e[1],i=l(r.useState(null),2),s=i[0],d=i[1],f=r.useCallback(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,i){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);d(null);e.prev=2;e.next=5;return(0,o.getGuildRoleSubscriptionTrialEligibility)(t,r,i);case 5:u=e.sent;return e.abrupt("return",u);case 9:e.prev=9;e.t0=e.catch(2)
;d(new a.APIError(e.t0));case 12:e.prev=12;n(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),[]);return{loading:t,error:s,getTrialPurchaseEligibility:f}}},896238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,a.useSubscriptionTrial)(t);return r.useMemo((function(){var e;return null!=n&&(null==n.max_num_active_trial_users||n.max_num_active_trial_users>(null!==(e=n.num_active_trial_users)&&void 0!==e?e:0))}),[n])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(547642);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},30209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),r=(null==e?void 0:e.ownerId)===(null==n?void 0:n.id),s=(0,u.useGuildEligibleForRoleSubscriptions)(null==e?void 0:e.id),d=(0,o.useIsUserInCreatorMonetizationEligibleCountry)();return r&&null!==(t=null==e?void 0:e.hasFeature(l.GuildFeatures.COMMUNITY))&&void 0!==t&&t&&s&&d&&!((null==e?void 0:e.hasFeature(l.GuildFeatures.CREATOR_MONETIZABLE))||(null==e?void 0:e.hasFeature(l.GuildFeatures.CREATOR_MONETIZABLE_DISABLED)))}
;var r,a=n(536211),o=n(412473),i=(r=n(728429))&&r.__esModule?r:{default:r},u=n(403008),l=n(770348)},58846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSubscriptionListingsForChannel=function(e){var t=e.guildId,n=e.channelId,f=(0,l.useSubscriptionListingsForGuild)(t);return(0,a.useStateFromStoresArray)([i.default,u.default,o.default],(function(){var e=i.default.getChannel(n),a=u.default.getGuild(t),l=o.default.isViewingRoles(t);return null!=a&&null!=e?f.filter((function(t){return function(e,t,n,a){var o=(void 0===a?{}:a).isPreviewingRoles;if(!(void 0!==o&&o||e.published))return!1;var i=n.permissionOverwrites[e.role_id];if((0,s.isChannelAccessGrantedBy)(n,i))return!0;var u=t.getRole(t.id),l=null!=u&&!r.default.has(u.permissions,d.Permissions.VIEW_CHANNEL),f=(0,s.isChannelAccessDeniedBy)(n,n.permissionOverwrites[t.id]),c=t.getRole(e.role_id);return l&&!f&&null!=c&&(0,s.isAllChannelsRole)(c)&&!(0,s.isChannelAccessDeniedBy)(n,i)}(t,a,e,{isPreviewingRoles:l})
})):[]}),[t,n,f])};var r=f(n(267258)),a=n(536211),o=f(n(686305)),i=f(n(644263)),u=f(n(30098)),l=n(547642),s=n(243078),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}},381777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.guildId,p=e.groupListingId,v=e.location,m=e.relevantSubscriptionListingIds,_=(0,s.useFetchListingsForGuild)(n,{refetchOnMount:!1}).listingsLoaded,h=null!=(0,f.default)(p).activeSubscription,g=(0,a.useStateFromStoresArray)([d.default],(function(){return(null!=m?m:[]).filter((function(e){var t;return!0===(null===(t=d.default.getSubscriptionListing(e))||void 0===t?void 0:t.published)}))}),[m]),E=(0,i.default)(null!==(t=(0,u.getLastRouteChangeSourceLocationStack)())&&void 0!==t?t:[]).analyticsLocations,S=r.useRef(!1);r.useEffect((function(){if(_&&null!=p&&null!=g&&!S.current){S.current=!0;l.default.track(c.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,y({
role_subscription_group_listing_id:p,role_subscription_listing_ids:g,is_premium_member:h,location_stack:E},(0,o.collectGuildAnalyticsMetadata)(n)))}}),[n,p,_,v,g,h,E])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(844784),i=p(n(37039)),u=n(139982),l=p(n(308920)),s=n(547642),d=p(n(523754)),f=p(n(678075)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}},342126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([o.default],(function(){return o.default.getGuildIdsWithPurchasableRoles()}));if((0,a.useStateFromStores)([o.default],(function(){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,
value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var r=t.value;if(o.default.getUserSubscriptionRoles(r).size>0)return!0}return!1}),[e]))return i.UserGuildRoleSubscriptionRelationship.SUBSCRIBED;return 0===e.size?i.UserGuildRoleSubscriptionRelationship.NONE:i.UserGuildRoleSubscriptionRelationship.IN_SUBSCRIPTION_SERVER};var r,a=n(536211),o=(r=n(816962))&&r.__esModule?r:{default:r},i=n(92557);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},365365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=d(n(956117)),i=d(n(873376)),u=n(645758),l=d(n(417184)),s=d(n(580543));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(i.default,{size:10,horizontal:!0}),v=c(i.default,{size:1
}),y=c(i.default,{size:16,horizontal:!0});function m(e){var t=e.message,n=e.error,r=e.onClick,i=e.submitting,d=e.className,f=e.ctaMessage;return c("div",{className:(0,a.default)(s.default.container,d)},void 0,c("div",{className:s.default.textContainer},void 0,c(l.default,{className:s.default.warningIcon}),p,c("div",{},void 0,v,c(u.Text,{className:s.default.info,variant:"text-sm/normal"},void 0,t),null!=n&&c(u.Text,{className:(0,a.default)(s.default.info,s.default.error),variant:"text-sm/normal"},void 0,n))),y,c(o.default,{className:s.default.undoButton,color:o.default.Colors.LINK,look:o.default.Looks.LINK,size:o.default.Sizes.ICON,onClick:r,submitting:i},void 0,f))}m.displayName="ActionableNotice"},49222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(964285)),o=f(n(142024)),i=n(383550),u=n(770348),l=f(n(247001)),s=f(n(669535)),d=f(n(58241));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function v(e){var t=e.guildId,n=e.markAsDismissed;return p(o.default,{onComponentMount:function(){return i.GuildRoleSubscriptionEmojiExperiment.trackExposure({guildId:t})},header:l.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_EMOJI_UPSELL_HEADER,content:l.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_EMOJI_UPSELL_BODY,asset:p("div",{className:s.default.imageContainer},void 0,p("img",{alt:l.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_EMOJI_UPSELL_ASSET_ALT,src:d.default,className:s.default.image})),buttonCTA:l.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_EMOJI_UPSELL_CTA,onClick:function(){a.default.open(t,u.GuildSettingsSections.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:l.default.Messages.DISMISS,markAsDismissed:n})}v.displayName="GuildRoleSubscriptionEmojiUpsell"},104805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(47354),o=y(n(342518)),i=y(n(185948)),u=y(n(964285)),l=y(n(142024)),s=y(n(30098)),d=y(n(728429)),f=n(770348),c=y(n(247001)),p=y(n(743861)),v=y(n(691634));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guildId,n=e.markAsDismissed,r=(0,o.default)([s.default,d.default],(function(){var e=d.default.getCurrentUser(),n=s.default.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,i.default)({type:a.ImpressionTypes.POPOUT,name:a.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:r}});return _("div",{className:p.default.container},void 0,_(l.default,{header:c.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:c.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:_("div",{className:p.default.image},void 0,_("img",{alt:c.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:v.default,className:p.default.image})),buttonCTA:c.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:function(){
u.default.open(t,f.GuildSettingsSections.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:c.default.Messages.DISMISS,markAsDismissed:n}))}h.displayName="GuildRoleSubscriptionUpsell"},439802:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=c(a.useState(),2),n=t[0],r=t[1],o=c(a.useState(),2),i=o[0],s=o[1],d=c(a.useState(!1),2),f=d[0],p=d[1],m=c(a.useState(!1),2),_=m[0],h=m[1],g=(0,u.useRoleSubscriptionMaxTiersExperiment)(e).enabled;a.useEffect((function(){p(!(!g||null==n||null==i)&&n<i)}),[g,n,i]);return{horizontalScrollNotice:a.useMemo((function(){return f?v(y,{text:l.default.Messages.GUILD_ROLE_SUBSCRIPTION_LISTINGS_SCROLLABLE_NOTICE,hasScrolled:_}):null}),[f,_]),handleScroll:function(){return h(!0)},handleSetScrollerRef:function(e){var t;return s(null==e||null===(t=e.getScrollerState())||void 0===t?void 0:t.scrollWidth)},handleSetContainerRef:function(e){return r(null==e?void 0:e.clientWidth)}}};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=n(645758),u=n(403008),l=d(n(247001)),s=d(n(242924));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0
;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t,n=e.text,r=e.hasScrolled;return v("div",{className:(0,o.default)(s.default.container,(t={},t[s.default.containerHide]=r,t))},void 0,v("div",{className:s.default.notice},void 0,v(i.Text,{className:s.default.label,variant:"text-md/medium",color:"header-primary"},void 0,n)),v("div",{className:s.default.noticeArrow}))}y.displayName="HorizontalScrollNotice"},675176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(730381)),i=n(832635),u=c(n(954140)),l=c(n(37039)),s=n(547642),d=c(n(365365)),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){
var t=m(a.useState(!1),2),n=t[0],r=t[1],o=m(a.useState(null),2),u=o[0],l=o[1],s=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0);l(null);t.prev=2;t.next=5;return(0,i.deleteRenewalMutation)(n,e);case 5:t.next=10;break;case 7:t.prev=7;t.t0=t.catch(2);l(t.t0);case 10:t.prev=10;r(!1);return t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[2,7,10,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return{resetRenewalMutation:s,submitting:n,error:u}};function g(e){var t=e.groupListingId,n=e.subscription,r=e.className,i=(0,l.default)(u.default.PENDING_PLAN_CHANGE_NOTICE).analyticsLocations,c=h(i),p=c.resetRenewalMutation,y=c.submitting,m=c.error,_=(0,s.useSubscriptionListingsForGroup)(t,{
includeSoftDeleted:!0}),g=a.useMemo((function(){if(null==(null==n?void 0:n.renewalMutations))return{currentListing:void 0,nextListing:void 0};var e=n.items[0].planId,t=n.renewalMutations.items[0].planId;return{currentListing:_.find((function(t){return t.subscription_plans[0].id===e})),nextListing:_.find((function(e){return e.subscription_plans[0].id===t}))}}),[n,_]),E=g.currentListing,S=g.nextListing;if(null==n||null==E||null==S)return null;var O=(0,o.default)(n.currentPeriodEnd).format("MMM DD, YYYY");return v(d.default,{message:f.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_DESCRIPTION.format({currentListing:E.name,nextListing:S.name,changeDate:O}),error:null==m?void 0:m.message,onClick:function(){return p(n)},submitting:y,ctaMessage:f.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_CTA,className:r})}g.displayName="PendingPlanChangeNotice"},985795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=n(171236),u=d(n(235742)),l=d(n(439802)),s=d(n(313973));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.guildId,n=e.children,r=e.className,d=(0,l.default)(t),f=d.horizontalScrollNotice,p=d.handleScroll,v=d.handleSetScrollerRef,y=d.handleSetContainerRef,m=c("div",{className:s.default.tierPreviewsContainer},void 0,c("div",{className:(0,o.default)(s.default.tierPreviews,r)},void 0,n));i.isMobile||(m=a.createElement(a.Fragment,null,f,a.createElement(u.default,{className:s.default.scroller,orientation:"horizontal",ref:v,onScroll:p},m)));return a.createElement("div",{className:s.default.carouselMaxWidth,ref:y},m)}p.displayName="SubscriptionListingPreviewsCarousel"},123880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openModal=t.default=void 0
;var r,a=b(n(667294)),o=S(n(730381)),i=b(n(832635)),u=S(n(954140)),l=S(n(37039)),s=S(n(956117)),d=S(n(682473)),f=n(645758),c=n(354479),p=n(3400),v=b(n(194322)),y=n(204785),m=n(547642),_=n(500985),h=n(92557),g=S(n(247001)),E=S(n(666309));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){
var t,n=e.transitionState,r=e.groupListing,v=e.guildId,S=e.listing,O=e.subscription,b=e.onClose,I=(0,c.useUID)(),C=(0,m.useSubscriptionsSettings)(v),N=null!=(null==C||null===(t=C.cover_image_asset)||void 0===t?void 0:t.application_id)?(0,y.getAssetURL)(C.cover_image_asset.application_id,C.cover_image_asset,440):void 0,P=function(e){var t=M(a.useState(!1),2),n=t[0],r=t[1],o=M(a.useState(null),2),u=o[0],l=o[1],s=function(){var t=A(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;r(!0);t.next=4;return i.cancelSubscription(n,e);case 4:return t.abrupt("return",!0);case 7:t.prev=7;t.t0=t.catch(0);l(t.t0);case 10:t.prev=10;r(!1);return t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(e){return t.apply(this,arguments)}}();return{cancelSubscription:s,error:u,submitting:n}}((0,
l.default)(u.default.GUILD_ROLE_SUBSCRIPTION_CANCELLATION_MODAL).analyticsLocations),R=P.cancelSubscription,w=P.error,D=P.submitting,L=function(){var e=A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return R(O.id);case 2:e.sent&&b();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=S.role_benefits.benefits.filter((function(e){return e.ref_type===h.GuildRoleSubscriptionBenefitTypes.CHANNEL})),j=S.role_benefits.benefits.filter((function(e){return e.ref_type===h.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})),U=(0,o.default)(O.currentPeriodEnd).format("MMMM Do, YYYY"),G=g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_DESCRIPTION.format({numChannels:k.length,numAdditionalBenefits:j.length,subscriptionEndDate:U});return T(p.ModalRoot,{transitionState:n,className:E.default.modal,"aria-labelledby":I},void 0,T("div",{},void 0,T("img",{src:N,alt:"",
className:E.default.headerImage}),T(p.ModalCloseButton,{withCircleBackground:!0,className:E.default.closeButton,onClick:b})),null!=w?T(d.default,{},void 0,w.message):null,T(p.ModalContent,{className:E.default.content},void 0,T(f.Text,{variant:"text-md/normal",className:E.default.title},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_TITLE),T(f.Text,{className:E.default.description,variant:"text-sm/normal"},void 0,G),T(_.GuildRoleSubscriptionBenefits,{listing:S,guildId:r.guild_id,className:E.default.benefits})),T(p.ModalFooter,{className:E.default.footer},void 0,T(s.default,{color:s.default.Colors.RED,onClick:L,submitting:D},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_CANCEL_CTA),T(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.WHITE,className:E.default.goBackButton,onClick:b},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_NEVERMIND_CTA)))};P.displayName="CancelSubscriptionModal";t.openModal=function(e){
v.openModal((function(t){return a.createElement(P,I({},t,e))}))};var R=P;t.default=R},45738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=h(n(754295)),l=h(n(146771)),s=h(n(956117)),d=n(772575),f=h(n(873376)),c=n(645758),p=n(770348),v=h(n(247001)),y=h(n(58131)),m=h(n(56397)),_=h(n(709804));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}
function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=E(f.default,{size:4}),O=E(f.default,{size:24});function b(e){var t=e.onClickManageSubscription,n=(0,i.useStateFromStores)([l.default],(function(){return l.default.getSubscriptions()})),r=a.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===p.SubscriptionTypes.GUILD})).filter((function(e){return e.status!==p.SubscriptionStatusTypes.ENDED}))}),[n]);return 0===r.length?null:E("div",{className:y.default.container},void 0,E(d.Heading,{variant:"heading-md/medium",className:y.default.sectionTitle,level:3
},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),S,E(c.Text,{variant:"text-sm/normal",className:y.default.sectionDescription},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_DESCRIPTION),O,E("div",{className:(0,o.default)(m.default.guildBoostingSubscriptionRow,y.default.card)},void 0,E("img",{src:_.default,alt:"",className:y.default.handImage}),E("div",{className:y.default.textContainer},void 0,E(d.Heading,{variant:"heading-xl/medium",className:y.default.header,level:3},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),E(c.Text,{variant:"text-md/normal",className:y.default.description},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:r.length}))),E(u.default,{color:s.default.Colors.BRAND,onClick:t},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_BUTTON)))}b.displayName="GuildRoleSubscriptionsSection"},266211:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=W(n(667294)),o=B(n(294184)),i=B(n(444693)),u=n(536211),l=W(n(832635)),s=n(264720),d=B(n(445377)),f=B(n(226800)),c=B(n(37039)),p=n(511217),v=B(n(337309)),y=n(139982),m=B(n(748826)),_=B(n(956117)),h=B(n(16941)),g=B(n(380439)),E=n(772575),S=B(n(926197)),O=B(n(873376)),b=B(n(80828)),I=n(645758),T=B(n(730977)),C=n(354479),A=n(688388),M=B(n(738133)),N=B(n(700113)),P=n(598671),R=B(n(465775)),w=B(n(168058)),D=B(n(675176)),L=n(123880),k=n(76447),j=n(770348),U=n(173652),G=n(840433),F=B(n(247001)),x=B(n(779383));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return z.apply(this,arguments)}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}var q=function(e){var t=e.label,n=e.value,r=e.showInfoIcon,o=e.infoIconTooltipText;return $("div",{className:x.default.infoCard},void 0,$("div",{className:x.default.infoCardLabelContainer},void 0,$(E.Heading,{variant:"heading-sm/medium",className:x.default.infoCardLabel,level:3},void 0,t),r&&$(T.default,{clickableOnMobile:!0,text:o},void 0,(function(e){return a.createElement(N.default,z({},e,{className:x.default.infoCardIcon}))}))),$(E.Heading,{variant:"heading-xl/medium",className:x.default.infoCardValue,level:3},void 0,n))};q.displayName="SubscriptionInfoCard";var X=$(b.default,{}),Q=function(e){var t=e.subscription,n=Y((0,p.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0],r=(0,u.useStateFromStores)([m.default],(function(){return m.default.hasFetchedPaymentSources}));return null!=n&&r?$(v.default,{subscription:t,currentInvoicePreview:n,dropdownClassName:x.default.paymentSourceDropdown}):X};Q.displayName="SubscriptionPaymentSourceWithInvoice"
;var Z=function(e){var t=e.isTrial,n=e.isCancelled,r=e.isResubscribing,o=e.onCancelSubscriptionClick,i=e.onResubscribeClick,u=e.onChangePlanClick;return n&&t?null:$("div",{},void 0,$(A.FormTitle,{},void 0,F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL),$("div",{className:x.default.rowButtons},void 0,n?$(_.default,{onClick:i,submitting:r},void 0,F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_RESTART_SUBSCRIPTION):a.createElement(a.Fragment,null,!t&&$(S.default,{label:F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CHANGE_TIER,onClick:u}),$(S.default,{label:F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:o}))))};Z.displayName="ManageSubscriptionOptions";var J=$(O.default,{size:16}),ee=function(e){var t=e.subscription,n=(0,R.default)(t),r=n.listing,u=n.groupListing,p=n.guild,v=n.expanded,m=n.handleToggleExpanded,_=n.subscriptionInfo,E=Y(a.useState(!1),2),S=E[0],O=E[1],b=(0,C.useUID)(),N=(0,
c.default)().analyticsLocations;if(null==u||null==r||null==_)return null;var B=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;O(!0);e.next=4;return l.resubscribeToSubscription(t,N);case 4:(0,k.openModal)();case 5:e.prev=5;O(!1);return e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,u,"next",e)}function u(e){V(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),H=_.isCancelled,W=_.isPastDue,K=_.subscriptionPlanPrice,z=_.memberSince,X=_.nextRenewalDate,ee=_.nextRenewalLabel,te=_.isTrial,ne=r.soft_deleted||null==p,re=$(q,{label:ee,value:X}),ae=$(Q,{subscription:t}),oe=$(Z,{isTrial:te,isCancelled:H,isResubscribing:S,onCancelSubscriptionClick:function(){null!=p&&(0,L.openModal)({guildId:p.id,groupListing:u,listing:r,
subscription:t})},onChangePlanClick:function(){if(null!=p){(0,y.transitionTo)(j.Routes.CHANNEL(p.id,U.StaticChannelRoute.ROLE_SUBSCRIPTIONS));(0,s.popLayer)();d.default.show(j.NoticeTypes.BACK_TO_PREVIOUS_SCREEN,void 0,F.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_SUBSCRIPTION_USER_SETTING_CTA,(function(){return f.default.open(j.UserSettingsSections.SUBSCRIPTIONS,G.ROLE_SUBSCRIPTION_SUBSECTION)}))}},onResubscribeClick:B});return $("div",{className:x.default.container},void 0,$(w.default,{onClick:m,className:x.default.headerContainer},void 0,(function(e){var t,n=e.areaRef,u=e.handleStopPropagation;return a.createElement(a.Fragment,null,null!=p&&$(g.default,{guild:p,active:!0,size:g.default.Sizes.MEDIUM}),$("div",{className:x.default.headerTextContainer},void 0,$(I.Text,{variant:"text-md/normal",className:x.default.guildName},void 0,null!=p?p.name:F.default.Messages.GUILD_ROLE_SUBSCRIPTION_SERVER_NAME_UNAVAILABLE),$("div",{className:x.default.headerSubtitleContainer
},void 0,$(I.Text,{variant:"text-sm/normal",className:x.default.tierName},void 0,r.name),H?$(P.TextBadge,{text:F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_CANCELLED}):te?$(P.TextBadge,{text:F.default.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FREE_TRIAL_TITLE,color:i.default.BRAND_500}):W?$(T.default,{text:F.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING},void 0,(function(e){return a.createElement("div",e,$(P.TextBadge,{className:x.default.paymentDueBadge,text:F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAST_DUE,color:i.default.STATUS_YELLOW_500}))})):null)),$(h.default,{onClick:u(m),"aria-label":F.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_TOGGLE_SECTION_LABEL,"aria-controls":b,"aria-expanded":v,focusProps:{ringTarget:n}},void 0,$(M.default,{className:(0,o.default)(x.default.arrowIcon,(t={},t[x.default.arrowIconExpanded]=v,t))})))})),v?$("div",{id:b},void 0,$("div",{className:x.default.divider}),$(D.default,{groupListingId:u.id,subscription:t,
className:x.default.changePlanNotice}),$("div",{className:x.default.subscriptionInfoCards},void 0,re,$(q,{label:F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_PRICE,value:K,showInfoIcon:te,infoIconTooltipText:te?F.default.Messages.GUILD_ROLE_SUBSCRIPTION_MANAGE_SUBSCRIPTION_PAGE_TRIAL_PRICE_INFO:void 0}),$(q,{label:F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBER_SINCE,value:z})),J,!H&&a.createElement(a.Fragment,null,$(A.FormTitle,{},void 0,F.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL),ae),!ne&&oe):null)};ee.displayName="ManageSubscriptionCard";var te=ee;t.default=te},76447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openModal=void 0;var r=n(14621),a=i(n(323667)),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}t.openModal=function(){(0,r.openActionCompleteSuccessModal)({title:o.default.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_TITLE,
body:o.default.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_DESCRIPTION,Icon:a.default})}},252730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(171236),o=_(n(296285)),i=_(n(956117)),u=_(n(873376)),l=_(n(80828)),s=n(645758),d=n(688388),f=_(n(571649)),c=n(547642),p=_(n(678951)),v=_(n(266211)),y=_(n(247001)),m=_(n(670578));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}
function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(l.default,{}),S=g(u.default,{size:10}),O=function(e){var t=e.onGoBack,n=(0,p.default)(),r=(0,c.useFetchListingsForSubscriptions)(n).loading;(0,o.default)(a.isMobile?"role-subscriptions-user-setting":void 0);return r?E:0===n.length?null:g("div",{className:m.default.container},void 0,g(i.default,{look:i.default.Looks.BLANK,innerClassName:m.default.backButtonContents,onClick:t},void 0,g(f.default,{className:m.default.arrowIcon}),y.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_PAGE_BACK_BUTTON_CTA),S,g(d.FormTitle,{tag:d.FormTitle.Tags.H1
},void 0,y.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_TITLE),g(s.Text,{variant:"text-sm/normal",className:m.default.pageDescription},void 0,y.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION),g("div",{className:m.default.subscriptionsContainer},void 0,n.map((function(e){return g(v.default,{subscription:e},e.id)}))))};O.displayName="UserSettingsGuildRoleSubscriptions";var b=O;t.default=b},935102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(636602)),a=s(n(30098)),o=s(n(689389)),i=s(n(298698)),u=n(403008),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.syncWith([a.default,o.default],l.NOOP)}
;n.channelNoticePredicate=function(e,t){return Date.now()-t>=l.CHANNEL_NOTICE_SHOW_DELAY&&e.hasFeature(l.GuildFeatures.CREATOR_MONETIZABLE)&&e.hasFeature(l.GuildFeatures.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&o.default.can(l.Permissions.MANAGE_GUILD,e)&&(0,u.isGuildEligibleForRoleSubscriptionMobileWebPurchasePage)(e.id)};return t}(i.default))(r.default);t.default=f},191868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BackToPreviousScreenNotice=p;f(n(667294));var r,a=s(n(956117)),o=s(n(204014)),i=f(n(177101)),u=n(770348),l=s(n(258507));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.buttonText,n=e.onGoBack,r=e.onDismiss,s=e.showCloseButton;return c(i.default,{className:l.default.backNotice},void 0,s&&c(i.NoticeCloseButton,{onClick:r,noticeType:u.NoticeTypes.BACK_TO_PREVIOUS_SCREEN}),c(a.default,{className:l.default.backButton,innerClassName:l.default.backButtonInner,look:a.default.Looks.OUTLINED,
color:a.default.Colors.WHITE,size:a.default.Sizes.NONE,onClick:n},void 0,c(o.default,{width:16,height:16,direction:o.default.Directions.LEFT,className:l.default.backArrow}),t))}p.displayName="BackToPreviousScreenNotice"},615030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(294184)),o=f(n(16941)),i=n(645758),u=f(n(981714)),l=f(n(604091)),s=f(n(199317)),d=f(n(768084));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.benefit,n=e.guildId,r=(0,s.default)(n,t.ref_id),f=p(u.default,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name}),c=null!=r?p(o.default,{className:d.default.channelLink,onClick:r.navigateToChannel,"aria-label":r.ariaLabel,role:"link"},void 0,p(i.Text,{variant:"text-md/medium",color:"header-primary",className:(0,a.default)(d.default.name,d.default.linkedName)},void 0,(0,l.default)(t))):p(i.Text,{variant:"text-md/medium",color:"header-primary",className:d.default.name
},void 0,(0,l.default)(t));return p("div",{className:d.default.container},void 0,p("div",{className:d.default.emojiContainer},void 0,f),p("div",{className:d.default.infoContainer},void 0,c,p(i.Text,{color:"interactive-normal",variant:"text-sm/normal"},void 0,t.description)))}v.displayName="BenefitItem"},500985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.GuildRoleSubscriptionBenefits=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=j(n(294184)),i=n(536211),u=j(n(876647)),l=j(n(686305)),s=j(n(697952)),d=j(n(956117)),f=n(772575),c=j(n(873376)),p=n(645758),v=j(n(730977)),y=j(n(738133)),m=j(n(228315)),_=j(n(700113)),h=j(n(692711)),g=n(293773),E=n(403008),S=n(547642),O=j(n(678075)),b=j(n(896238)),I=j(n(141049)),T=j(n(150759)),C=j(n(235637)),A=j(n(811207)),M=j(n(615030)),N=n(480339),P=n(638223),R=j(n(704261)),w=n(92557),D=n(770348),L=j(n(247001)),k=j(n(793397));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var H=B(c.default,{size:12}),W=function(e){var t=e.benefits,n=e.header,r=e.guildId;return 0===t.length?null:B("div",{className:k.default.benefitsSection},void 0,B(f.Heading,{level:3,variant:"text-xs/bold",color:"header-secondary",className:k.default.sectionHeader},void 0,n),H,B("div",{className:k.default.benefitsList},void 0,t.map((function(e){return B(M.default,{guildId:r,benefit:e},(0,g.getBenefitKey)(e))}))))};W.displayName="BenefitsSection";var V=B(c.default,{size:12}),Y=function(e){var t=e.guildId,n=e.subscriptionRoleId,r=(0,I.default)(t),o=a.useMemo((function(){return r.filter((function(e){return e.roles.includes(n)}))}),[r,n]);function i(e){return h.default.getEmojiURL({id:e.id,animated:e.animated,size:24})}
return 0===o.length?null:B("div",{className:k.default.benefitsSection},void 0,B(f.Heading,{level:3,variant:"text-xs/bold",color:"header-secondary",className:k.default.sectionHeader},void 0,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({count:o.length})),V,B("div",{className:k.default.emojiList},void 0,o.map((function(e){return B(v.default,{text:e.name,"aria-label":!1},void 0,(function(t){return a.createElement("img",x({},t,{src:i(e),width:24,height:24,alt:e.name}))}))}))))};Y.displayName="EmojiSection";var K=B(c.default,{size:8}),z=function(e){var t=e.listing,n=e.guildId,r=e.className,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===w.GuildRoleSubscriptionBenefitTypes.CHANNEL})),u=t.role_benefits.benefits.filter((function(e){return e.ref_type===w.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})),l=(0,T.default)(n,t.id);return B("div",{className:(0,o.default)(k.default.subscriptionPerks,r)
},void 0,null!=l&&a.createElement(a.Fragment,null,B(f.Heading,{variant:"text-xs/bold",color:"header-secondary",className:k.default.sectionHeader},void 0,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW),K,B(A.default,{role:l,guildId:n,className:k.default.roleMessagePreview})),B(W,{header:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,benefits:i,guildId:n}),B(W,{header:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,benefits:u,guildId:n}),B(Y,{guildId:n,subscriptionRoleId:t.role_id}))};t.GuildRoleSubscriptionBenefits=z;z.displayName="GuildRoleSubscriptionBenefits";var $=function(e){var t,n=e.onToggle;t=e.isViewAll?a.createElement(a.Fragment,null,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION,B(m.default,{className:k.default.toggleTruncationButtonIcon})):a.createElement(a.Fragment,null,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION,B(y.default,{
className:k.default.toggleTruncationButtonIcon}));return B(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,className:k.default.toggleTruncationButton,innerClassName:k.default.toggleTruncationButtonInner,onClick:n},void 0,t)};$.displayName="ToggleTruncationButton";var q=B(c.default,{size:16}),X=function(e){var t,n,r=e.listingId,f=e.guildId,c=e.groupListingId,y=e.analyticsLocation,m=(0,S.useSubscriptionListing)(r),h=(0,R.default)(m,f,c,y),I=h.openModal,T=h.canOpenModal,A=h.cannotOpenReason,M=h.isCheckingTrialEligibility,j=(0,i.useStateFromStores)([s.default],(function(){return s.default.isSyncing})),U=(0,O.default)(c),F=U.activeSubscription,H=U.activeSubscriptionListing,W=(null==H?void 0:H.id)===r,V=(null==F?void 0:F.status)===D.SubscriptionStatusTypes.CANCELED,Y=(0,i.useStateFromStores)([l.default],(function(){return l.default.isViewingRoles(f)})),K=G(a.useState(!1),2),X=K[0],Q=K[1],Z=G(a.useState(!1),2),J=Z[0],ee=Z[1],te=a.useCallback((function(e){var t=!1
;null!=e&&(t=e.scrollHeight>e.clientHeight);ee(t)}),[]),ne=(0,S.useSubscriptionTrial)(r),re=(0,b.default)(f,r),ae=null==ne?void 0:ne.active_trial,oe=(0,E.useGuildEligibleForRoleSubscriptionTrials)(f)&&null!=ae&&null==F&&re,ie=(0,u.default)(w.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY),ue=G(a.useState(!1),2),le=ue[0],se=ue[1],de=le||!ie;if(null==m||!m.published&&!Y||m.soft_deleted)return null;var fe=m.subscription_plans[0];return B("div",{className:k.default.container},void 0,oe&&B("div",{className:(0,o.default)(k.default.tierTrialIndicator,k.default.tierTopIndicator)},void 0,L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({trialPeriodDuration:(0,g.formatPlanIntervalDuration)({interval:ae.interval,interval_count:ae.interval_count})}),B(v.default,{clickableOnMobile:!0,text:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({activeTrialUserLimit:null!==(t=null==ne?void 0:ne.max_num_active_trial_users)&&void 0!==t?t:0})},void 0,(function(e){
return a.createElement(_.default,x({className:k.default.tierTrialIndicatorIcon},e))}))),B("div",{className:oe?void 0:k.default.cardContainerWithoutTopIndicator},void 0,B("div",{className:k.default.tierInfoContainer},void 0,ie?B(P.GuildRoleSubscriptionCollapsibleCardBasicInfo,{listing:m,subscriptionPlan:fe,expanded:de,onToggleExpanded:function(){return se((function(e){return!e}))}}):B(N.GuildRoleSubscriptionCardBasicInfo,{listing:m,subscriptionPlan:fe}),de&&a.createElement(a.Fragment,null,ie&&B("div",{className:k.default.divider}),W?B(d.default,{fullWidth:!0,look:d.default.Looks.OUTLINED,color:d.default.Colors.PRIMARY,disabled:!0},void 0,V?L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL:L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL):B(v.default,{text:T?null:A,"aria-label":null!==(n=T&&A)&&void 0!==n&&n},void 0,(function(e){return a.createElement(C.default,x({},e,{fullWidth:!0,disabled:!T||j,submitting:M,onClick:I
}),L.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL)})),q,B(p.Text,{variant:"text-sm/normal",color:"text-normal",className:(0,o.default)((!J||!X)&&k.default.tierDescriptionTruncate)},void 0,a.createElement("div",{ref:te},m.description)),J&&B($,{isViewAll:X,onToggle:function(){return Q((function(e){return!e}))}}))),de&&B(z,{listing:m,guildId:f})))};X.displayName="GuildRoleSubscriptionCard";var Q=X;t.default=Q},480339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildRoleSubscriptionCardDraftTierBadge=t.GuildRoleSubscriptionCardBasicInfo=void 0;t.GuildRoleSubscriptionCardTierImage=b;t.GuildRoleSubscriptionCardTierName=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(425916),i=_(n(876647)),u=n(772575),l=n(645758),s=n(598671),d=n(243277),f=n(204785),c=n(293773),p=n(92557),v=n(770348),y=_(n(247001)),m=_(n(371116));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=(0,o.cssValueToNumber)(m.default.tierImageSize),S=(0,
o.cssValueToNumber)(m.default.tierImageSizeMobile),O=function(e){var t=e.listingName;return g(l.Text,{variant:"text-md/normal",color:"interactive-active",className:m.default.tierName},void 0,t)};t.GuildRoleSubscriptionCardTierName=O;O.displayName="GuildRoleSubscriptionCardTierName";function b(e){var t=e.listing,n=(0,i.default)(p.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY)?S:E;return g("img",{src:(0,f.getAssetURL)(t.application_id,t.image_asset,n),alt:"",className:m.default.tierImage})}b.displayName="GuildRoleSubscriptionCardTierImage";var I=function(){return g(s.TextBadge,{color:v.Colors.STATUS_YELLOW_500,text:y.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,className:m.default.draftBadge})};t.GuildRoleSubscriptionCardDraftTierBadge=I;I.displayName="GuildRoleSubscriptionCardDraftTierBadge";var T=g(I,{});t.GuildRoleSubscriptionCardBasicInfo=function(e){var t=e.listing,n=e.subscriptionPlan;return a.createElement(a.Fragment,null,g(O,{listingName:t.name}),g(b,{listing:t
}),!t.published&&g("div",{className:m.default.draftBadgeContainer},void 0,T),g(u.Heading,{variant:"heading-xl/medium",className:m.default.tierPrice},void 0,(0,d.formatPrice)(n.price,v.CurrencyCodes.USD)),g(l.Text,{variant:"text-xs/normal",color:"interactive-normal",className:m.default.tierPeriod},void 0,y.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,c.formatPlanInterval)(n)})))}},638223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildRoleSubscriptionCollapsibleCardBasicInfo=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=v(n(16941)),o=n(645758),i=v(n(738133)),u=v(n(228315)),l=n(243277),s=n(293773),d=n(480339),f=n(770348),c=v(n(247001)),p=v(n(88957));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=m(d.GuildRoleSubscriptionCardDraftTierBadge,{}),h=function(e){var t=e.listing,n=e.subscriptionPlan,r=e.expanded,v=e.onToggleExpanded;return m("div",{className:p.default.container},void 0,m(d.GuildRoleSubscriptionCardTierImage,{listing:t
}),m("div",{className:p.default.tierTextInfoContainer},void 0,m(d.GuildRoleSubscriptionCardTierName,{listingName:t.name}),m("div",{className:p.default.tierPriceContainer},void 0,!t.published&&_,m(o.Text,{variant:"text-xs/normal",className:p.default.tierPrice},void 0,(0,l.formatPrice)(n.price,f.CurrencyCodes.USD)," ",c.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,s.formatPlanInterval)(n)})))),m(a.default,{onClick:v},void 0,m(r?u.default:i.default,{className:p.default.toggleButton})))};t.GuildRoleSubscriptionCollapsibleCardBasicInfo=h;h.displayName="GuildRoleSubscriptionCollapsibleCardBasicInfo"},740997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=b(n(876647)),u=b(n(686305)),l=b(n(956117)),s=n(772575),d=b(n(873376)),f=n(645758),c=b(n(562796)),p=b(n(119503)),v=n(243277),y=n(204785),m=n(293773),_=n(547642),h=b(n(500985)),g=n(92557),E=n(770348),S=b(n(247001)),O=b(n(514047));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){var t,n,r=e.value,a=e.type;if(0===r)return null;if(a===g.GuildRoleSubscriptionBenefitTypes.CHANNEL){t=c.default;n=S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:r})}else{if(a!==g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE)throw new Error("Unsupported benefit type");t=p.default;n=S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:r})}return T(f.Text,{variant:"text-sm/normal",color:"interactive-normal",className:O.default.benefitSummary},void 0,T(t,{className:O.default.benefitIcon})," ",n)}C.displayName="BenefitSummary";var A=T(d.default,{size:2}),M=T(d.default,{size:12});function N(e){var t=e.listing,n=t.subscription_plans[0],r=(0,y.getAssetURL)(t.application_id,t.image_asset,40),o=t.role_benefits.benefits.filter((function(e){return e.ref_type===g.GuildRoleSubscriptionBenefitTypes.CHANNEL
})).length,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})).length,u=o+i>0;return T("div",{className:O.default.listingPreview},void 0,T("img",{src:r,alt:t.name,className:O.default.listingPreviewImage}),T("div",{className:O.default.listingPreviewText},void 0,T(f.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,t.name),A,T(f.Text,{variant:"text-sm/normal",color:"interactive-normal"},void 0,(0,v.formatPrice)(n.price,n.currency)," / ",(0,m.formatPlanInterval)(n)),u&&a.createElement(a.Fragment,null,M,T("div",{className:O.default.benefitSummaries},void 0,T(C,{type:g.GuildRoleSubscriptionBenefitTypes.CHANNEL,value:o}),T(C,{type:g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE,value:i})))))}N.displayName="ListingPreviewItem";var P=T(d.default,{size:8}),R=T(d.default,{size:24});function w(e){var t=e.groupListing,n=e.onSelectGroup,r=(0,_.useSubscriptionListingsForGroup)(t.id),d=(0,
o.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(t.guild_id)})),c=r.filter((function(e){return d||e.published})),p=(0,i.default)(g.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);return 0===c.length?null:T("div",{className:O.default.container},void 0,T(s.Heading,{variant:"heading-lg/medium",level:3},void 0,t.name),P,T(f.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,t.description),T("div",{className:O.default.divider}),T(s.Heading,{variant:"heading-sm/medium",className:O.default.sectionHeader,level:3},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:c.length})),p?T("div",{className:O.default.subscriptionCardContainer},void 0,c.map((function(e){return T(h.default,{guildId:t.guild_id,groupListingId:t.id,listingId:e.id,analyticsLocation:E.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e.id)}))):a.createElement(a.Fragment,null,T("div",{className:O.default.listingPreviews},void 0,c.map((function(e){return T(N,{
listing:e},e.id)}))),R,T(l.default,{onClick:n,fullWidth:!0},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA)))}w.displayName="GuildRoleSubscriptionGroupCard"},105699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r=e.guild,o=(0,l.useSubscriptionsSettings)(r.id),f=(0,l.useGroupListingsForGuild)(r.id),y=E(a.useState(null),2),h=y[0],g=y[1],O=f.find((function(e){return e.id===h})),T=1===f.length,C=null!=O?O:T?f[0]:null,A=(0,i.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(r.id)})),M=E(a.useState(!1),2),N=M[0],P=M[1],R=(0,i.useStateFromStoresArray)([s.default],(function(){return f.filter((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.subscription_listings_ids);!(t=n()).done;){var r=t.value,a=s.default.getSubscriptionListing(r);if(null!=a&&(A||a.published))return!0}return!1}))}),[f,A]);if(null!=C)return a.createElement(a.Fragment,null,!T&&!N&&b(I,{onGoBack:function(){return g(null)},onDismiss:function(){return P(!0)}}),b(p.default,{guild:r,groupListing:C,singleGroupView:T}));return a.createElement(a.Fragment,null,b(v.default,{title:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:r.toString()}),description:null!==(t=null==o?void 0:o.description)&&void 0!==t?t:null,coverImageAsset:null!==(n=null==o?void 0:o.cover_image_asset)&&void 0!==n?n:null,guild:r}),b(d.default,{className:_.default.groupListings,guildId:r.id},void 0,R.map((function(e){return b(c.default,{groupListing:e,onSelectGroup:function(){return g(e.id)}},e.id)
}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(973935)),i=n(536211),u=h(n(686305)),l=n(547642),s=h(n(523754)),d=h(n(985795)),f=n(191868),c=h(n(740997)),p=h(n(973153)),v=h(n(779515)),y=n(287735),m=h(n(247001)),_=h(n(991938));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.onGoBack,n=e.onDismiss,r=a.useMemo((function(){return document.getElementById(y.OVERVIEW_NOTICE_ROOT)}),[]);return null==r?null:o.default.createPortal(b(f.BackToPreviousScreenNotice,{buttonText:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA,onGoBack:t,onDismiss:n,showCloseButton:!1}),r)}},973153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(226800)),i=g(n(873376)),u=n(547642),l=g(n(678075)),s=g(n(381777)),d=g(n(365365)),f=g(n(675176)),c=g(n(985795)),p=g(n(500985)),v=g(n(779515)),y=n(770348),m=n(840433),_=g(n(247001)),h=g(n(633485));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=S(i.default,{size:16
}),b=function(e){var t=e.subscription;if(null==t)return null;if(t.status===y.SubscriptionStatusTypes.PAST_DUE){return a.createElement(a.Fragment,null,O,S(d.default,{message:_.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,ctaMessage:_.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_CTA,onClick:function(){o.default.open(y.UserSettingsSections.SUBSCRIPTIONS,m.ROLE_SUBSCRIPTION_SUBSECTION)}}))}return null},I=function(e){var t,n=e.guild,r=e.groupListing,o=e.singleGroupView;(0,s.default)({guildId:n.id,groupListingId:r.id,location:y.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:r.subscription_listings_ids});var i=(0,l.default)(r.id).activeSubscription,d=(0,u.useSubscriptionsSettings)(n.id),m=o?null==d?void 0:d.description:null==r?void 0:r.description;return a.createElement(a.Fragment,null,S(v.default,{title:_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:n.toString()}),
description:null!=m?m:null,coverImageAsset:null!==(t=null==d?void 0:d.cover_image_asset)&&void 0!==t?t:null,guild:n},void 0,S(f.default,{className:h.default.pendingPlanChangeNotice,groupListingId:r.id,subscription:i}),S(b,{subscription:i})),S(c.default,{guildId:n.id},void 0,r.subscription_listings_ids.map((function(e){return S(p.default,{guildId:n.id,groupListingId:r.id,listingId:e,analyticsLocation:y.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e)}))))};t.default=I},231590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildRoleSubscriptionsOverviewErrorType=t.GuildRoleSubscriptionsOverviewErrorPage=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=n(47354),i=c(n(185948)),u=n(772575),l=n(645758),s=c(n(247001)),d=c(n(913412)),f=c(n(302147));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.GuildRoleSubscriptionsOverviewErrorType=a;!function(e){e.GUILD_NOT_ELIGIBLE="guild_not_eligible";e.NOT_GUILD_MEMBER="not_guild_member"}(a||(t.GuildRoleSubscriptionsOverviewErrorType=a={}))
;var y=function(e){var t=e.errorType;(0,i.default)({type:o.ImpressionTypes.PAGE,name:o.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}});return v("div",{className:d.default.errorPageContainer},void 0,v("div",{className:d.default.errorPageContent},void 0,v("img",{src:f.default,alt:"",className:d.default.errorPageIllo}),v(u.Heading,{variant:"heading-xl/bold",className:d.default.errorPageTitle},void 0,t===a.GUILD_NOT_ELIGIBLE?s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_TITLE:s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_TITLE),v(l.Text,{variant:"text-md/normal",className:d.default.errorPagSubtitle},void 0,t===a.GUILD_NOT_ELIGIBLE?s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_SUBTITLE:s.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_SUBTITLE)))};t.GuildRoleSubscriptionsOverviewErrorPage=y
;y.displayName="GuildRoleSubscriptionsOverviewErrorPage"},594807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=k(n(667294)),o=n(370405),i=n(171236),u=n(536211),l=k(n(832635)),s=D(n(296285)),d=D(n(881584)),f=D(n(463024)),c=n(139982),p=D(n(544196)),v=D(n(23535)),y=D(n(517286)),m=D(n(30098)),_=D(n(211136)),h=D(n(697952)),g=D(n(80828)),E=n(194322),S=n(582945),O=n(547642),b=D(n(125125)),I=D(n(437270)),T=D(n(105699)),C=n(231590),A=D(n(802831)),M=n(287735),N=n(770348),P=n(173652),R=D(n(247001)),w=D(n(536261));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,u,"next",e)}function u(e){U(o,r,a,i,u,"throw",e)}i(void 0)}))}}
var F=j(a.Fragment,{}),x=j(f.default.Icon,{icon:I.default,"aria-hidden":!0}),B=j("div",{id:M.OVERVIEW_NOTICE_ROOT}),H=j(A.default,{}),W=j(g.default,{});function V(e){var t=e.guildId,r=(0,u.useStateFromStores)([m.default],(function(){return m.default.getGuild(t)}),[t]),g=(0,u.useStateFromStores)([v.default],(function(){return v.default.isConnected()})),I=(0,d.default)(t),A=(0,b.default)(t),M=(0,u.useStateFromStores)([h.default],(function(){return h.default.isSubscriptionFetching})),D=(0,O.useFetchListingsForGuild)(null==r?void 0:r.id,{refetchOnMount:!0}).listingsLoaded,L=null==r||!D||M;(0,s.default)(i.isMobile?"role-subscriptions-overview":void 0);var k=g&&(null==r||!(I||A));a.useEffect((function(){l.fetchSubscriptions()}),[]);a.useEffect((function(){if(k&&!i.isMobile){(0,E.openModalLazy)(G(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(72649)]).then(n.bind(n,172649));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));if(_.default.getChannelId(t)===P.StaticChannelRoute.ROLE_SUBSCRIPTIONS){var e;(0,c.replaceWith)(N.Routes.CHANNEL(t,null===(e=y.default.getDefaultChannel(t))||void 0===e?void 0:e.id))}else(0,c.replaceWith)(p.default.defaultRoute)}}),[t,k]);if(i.isMobile&&k){var U=null==r?C.GuildRoleSubscriptionsOverviewErrorType.NOT_GUILD_MEMBER:C.GuildRoleSubscriptionsOverviewErrorType.GUILD_NOT_ELIGIBLE;return j(C.GuildRoleSubscriptionsOverviewErrorPage,{errorType:U})}return j("div",{className:w.default.container},void 0,j(o.Helmet,{title:R.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL}),j(f.default,{toolbar:F,className:w.default.headerBar},void 0,x,j(f.default.Title,{},void 0,R.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL)),B,j("div",{className:w.default.content
},void 0,I?j(S.ScrollerNone,{className:w.default.scroller},void 0,j("div",{className:w.default.scrollerContent},void 0,L?W:j(T.default,{guild:r}))):H))}V.displayName="GuildRoleSubscriptionsOverviewPage";var Y=V;t.default=Y},802831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(772575),o=d(n(873376)),i=n(645758),u=d(n(247001)),l=d(n(896574)),s=d(n(691634));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(o.default,{size:12}),v=c(o.default,{size:8});function y(){return c("div",{className:l.default.container},void 0,c("div",{className:l.default.content},void 0,c("img",{src:s.default,alt:u.default.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),p,c(a.Heading,{className:l.default.header,variant:"heading-lg/medium",level:3},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE),v,c(i.Text,{color:"header-secondary",variant:"text-sm/normal"
},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION)))}y.displayName="MonetizationDisabledNotice"},287735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OVERVIEW_NOTICE_ROOT=void 0;t.OVERVIEW_NOTICE_ROOT="guild-role-subscription-overview-notice"},779515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(380439)),i=n(772575),u=n(645758),l=d(n(580756)),s=d(n(355457));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.coverImageAsset,n=e.title,r=e.guild,d=e.description,f=e.children,v=p((0,l.default)(null!=t?t:void 0),2),y=v[0],m=v[1];return c("div",{className:s.default.container},void 0,a.createElement("div",{ref:y,className:s.default.coverImageContainer},null!=m&&c("img",{src:m,alt:"",className:s.default.coverImage})),c("div",{className:s.default.guildIconContainer},void 0,c(o.default,{guild:r,size:o.default.Sizes.XLARGE})),c(i.Heading,{
variant:"heading-xl/medium",className:s.default.ctaTitle,level:3},void 0,n),c(u.Text,{className:s.default.ctaSubtitle,variant:"text-md/normal",color:"header-secondary"},void 0,d),f)}y.displayName="OverviewHero"},802058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PurchaseConfirmationLite=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(285629)),i=p(n(30098)),u=p(n(956117)),l=n(772575),s=n(645758),d=p(n(995837)),f=p(n(247001)),c=p(n(200655));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.onClose,n=e.listing,r=e.guildId,p=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(r)}),[r]),v=(0,d.default)({listing:n,guildId:r});return y("div",{className:c.default.confirmationContainer},void 0,y(l.Heading,{className:c.default.confirmationHeader,variant:"heading-lg/bold"},void 0,f.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE.format({
serverName:null==p?void 0:p.toString(),tierName:n.name})),!v.isEmpty()&&y(s.Text,{className:c.default.confirmationSubtitle,variant:"text-sm/normal",color:"header-secondary"},void 0,f.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({benefits:v.asString()})),y(u.default,{className:c.default.openDiscordButton,onClick:function(){return(0,o.default)("role_sub_mweb_success_modal")}},void 0,f.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON),y(u.default,{className:c.default.doneButton,look:u.default.Looks.BLANK,onClick:function(){return t(!0)}},void 0,f.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON))};t.PurchaseConfirmationLite=m;m.displayName="PurchaseConfirmationLite"},167214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PurchaseConfirmation=t.Header=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(294184)),i=n(536211),u=I(n(498773)),l=I(n(876647)),s=n(361673),d=I(n(30098)),f=I(n(956117)),c=I(n(16941)),p=n(772575),v=n(645758),y=I(n(259530)),m=n(204785),_=n(293773),h=n(547642),g=I(n(141049)),E=I(n(984615)),S=n(92557),O=I(n(247001)),b=I(n(557647));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=function(e){var t,n,r=e.onClose,a=e.listing,i=e.step,u=e.guildId,d=(0,h.useSubscriptionsSettings)(u),f=(0,l.default)(S.RESPONSIVE_MOBILE_HEIGHT_SMALL_QUERY);return C("div",{className:(0,o.default)(b.default.headerContainer,(t={},t[b.default.headerEmpty]=f,t))},void 0,f?null:C("img",{src:null!=(null==d||null===(n=d.cover_image_asset)||void 0===n?void 0:n.application_id)?(0,m.getAssetURL)(d.cover_image_asset.application_id,d.cover_image_asset,440):void 0,alt:"",className:b.default.headerImage}),function(){if(i!==s.Step.CONFIRM)return null;var e=(0,m.getAssetURL)(a.application_id,a.image_asset,80);return C("div",{className:b.default.tierImageContainer},void 0,C("img",{src:e,alt:"",
className:b.default.tierImage}))}(),C(c.default,{className:b.default.closeContainer,onClick:function(){return r(!1)},"aria-label":O.default.Messages.CLOSE},void 0,C(y.default,{className:b.default.closeIcon})))};t.Header=A;A.displayName="Header";var M=function(e){var t=e.onClose,n=e.listing,r=e.guildId,o=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuild(r)}),[r]),l=(0,g.default)(r).filter((function(e){return e.roles.includes(n.role_id)})),s=n.role_benefits.benefits.filter((function(e){return e.ref_type===S.GuildRoleSubscriptionBenefitTypes.CHANNEL})).slice(0,null===l.length?4:3);return C("div",{className:b.default.confirmationContainer},void 0,C(p.Heading,{className:b.default.confirmationHeader,variant:"heading-xl/medium",color:"header-secondary"},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({serverName:null==o?void 0:o.toString()})),C(v.Text,{className:b.default.confirmationSubtitle,variant:"text-md/normal",
color:"header-secondary"},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({tier:n.name})),s.length>0&&a.createElement(a.Fragment,null,C(v.Text,{variant:"text-xs/normal",color:"header-secondary",className:b.default.confirmationSectionLabel},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW),C("div",{className:b.default.confirmationBenefits},void 0,s.map((function(e){return C(E.default,{benefit:e,guildId:r,onClick:function(){return t(!0)}},(0,_.getBenefitKey)(e))})))),function(){var e;if(0===l.length)return null;var t=l[0];return a.createElement(a.Fragment,null,C(v.Text,{variant:"text-xs/normal",color:"header-secondary",className:b.default.confirmationSectionLabel},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_PREVIEW_TITLE),C("div",{className:b.default.emojiBenefitsRow},void 0,C(u.default,{emojiId:t.id,emojiName:t.name,
animated:null!==(e=t.animated)&&void 0!==e&&e,className:b.default.emojiImage}),C("div",{},void 0,C(v.Text,{variant:"text-md/normal",color:"header-primary",className:b.default.emojiName},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_TEXT),C(v.Text,{color:"interactive-normal",variant:"text-sm/normal"},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_DESCRIPTION.format({count:l.length})))))}(),C(f.default,{className:b.default.confirmationButton,onClick:function(){return t(!0)}},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON))};t.PurchaseConfirmation=M;M.displayName="PurchaseConfirmation"},984615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(16941)),o=n(645758),i=f(n(69405)),u=f(n(981714)),l=f(n(604091)),s=f(n(199317)),d=f(n(840743));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}
}function v(e){var t=e.benefit,n=e.guildId,r=e.onClick,f=(0,s.default)(n,t.ref_id),c=p(u.default,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name});return p(a.default,{className:d.default.container,onClick:function(){null==f||f.navigateToChannel();r()},"aria-label":null==f?void 0:f.ariaLabel,role:"link"},void 0,p("div",{className:d.default.emojiContainer},void 0,c),p("div",{className:d.default.infoContainer},void 0,p(o.Text,{variant:"text-md/normal",color:"header-primary",className:d.default.name},void 0,(0,l.default)(t)),p(o.Text,{color:"interactive-normal",variant:"text-sm/normal"},void 0,t.description)),p(i.default,{direction:i.default.Directions.RIGHT,className:d.default.caret}))}v.displayName="PurchaseModalBenefitItem"},704261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(441143)),i=R(n(730381)),u=n(536211),l=R(n(636602)),s=n(856259),d=R(n(876647)),f=R(n(37039)),c=n(237639),p=R(n(943819)),v=n(897502),y=R(n(678875)),m=R(n(930409)),_=R(n(696632)),h=R(n(909584)),g=R(n(550270)),E=n(293773),S=n(403008),O=n(547642),b=n(251349),I=R(n(678075)),T=n(11114),C=n(802058),A=n(167214),M=n(92557),N=n(770348),P=R(n(247001));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}var j=function(e,t,n,r){var R,w=(0,u.useStateFromStores)([m.default],(function(){return m.default.isLurking(t)})),L=(0,v.useShowMemberVerificationGate)(t),j=(0,u.useStateFromStores)([p.default],(function(){return null!=t?p.default.getRequest(t):null
})),U=(null==j?void 0:j.applicationStatus)===c.GuildJoinRequestApplicationStatuses.SUBMITTED,G=null==e?void 0:e.subscription_plans[0],F=null==G?void 0:G.id,x=!0===(null==e?void 0:e.published),B=null==G?void 0:G.sku_id,H=(0,u.useStateFromStores)([h.default],(function(){return null!=F?h.default.get(F):null})),W=(0,I.default)(n),V=W.activeSubscription,Y=W.activeSubscriptionPlanFromStore,K=null==V||null!=Y,z=(0,O.useSubscriptionListingsForGroup)(n,{includeSoftDeleted:!0}).map((function(e){return e.subscription_plans[0].id})),$=(0,b.getRoleSubscriptionMutationPlanId)(V),q=null!=$,X=null!=(null==V?void 0:V.trialId),Q=(0,T.useGetTrialPurchaseEligibility)(),Z=Q.loading,J=Q.getTrialPurchaseEligibility,ee=(0,S.useGuildEligibleForRoleSubscriptionTrials)(t),te=(0,O.useSubscriptionTrial)(null==e?void 0:e.id),ne=(0,f.default)().analyticsLocations,re=!w&&null!=H&&K&&!U&&!q&&!X
;U||w&&!L?R=P.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER:$===F?R=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({changeDate:null!=V?(0,i.default)(V.currentPeriodEnd).format("MMM DD, YYYY"):""}):q?R=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION:X&&(R=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL);var ae=(0,d.default)(M.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);a.useEffect((function(){x&&null!=B&&l.default.wait((function(){(0,s.fetchSubscriptionPlansForSKU)(B)}))}),[x,B]);var oe=a.useCallback(k(regeneratorRuntime.mark((function n(){var a,i,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,o.default)(null!=e,"No subscription listing");(0,o.default)(null!=G,"No subscription plan");(0,o.default)(x,"Cannot purchase this unpublished plan");if(null==(null==te?void 0:te.active_trial)||!ee){n.next=8;break}n.next=6;return J(t,e.id,te.active_trial.id)
;case 6:!0===(null==(u=n.sent)?void 0:u.is_eligible)?a=null==te||null===(l=te.active_trial)||void 0===l?void 0:l.id:i=P.default.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER;case 8:(0,_.default)({activeSubscription:V,analyticsSubscriptionType:N.SubscriptionTypes.GUILD,trialId:a,trialFooterMessageOverride:null!=(null==te?void 0:te.active_trial)?P.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER.format({trialInterval:(0,E.formatPlanIntervalDuration)(te.active_trial),days:1,contactLink:N.MarketingURLs.CONTACT,helpdeskArticle:g.default.getArticleURL(N.HelpdeskArticles.ROLE_SUBSCRIPTION_TRIAL)}):void 0,analyticsLocations:ne,analyticsLocation:r,renderHeader:function(n,r,a){return D(A.Header,{onClose:r,listing:e,step:a,guildId:t})},initialPlanId:G.id,skuId:G.sku_id,planGroup:z,renderPurchaseConfirmation:function(n,r){return D(ae?C.PurchaseConfirmationLite:A.PurchaseConfirmation,{listing:e,onClose:r,guildId:t})},reviewWarningMessage:i});case 9:case"end":
return n.stop()}}),n)}))),[x,e,G,V,z,t,ne,r,J,ee,te,ae]),ie=a.useCallback((function(){(0,y.default)(t)}),[t]);return{openModal:L?ie:oe,canOpenModal:re,cannotOpenReason:R,isCheckingTrialEligibility:Z}};t.default=j},540330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(644263)),u=E(n(30098)),l=n(772575),s=E(n(80828)),d=n(645758),f=n(582945),c=n(547642),p=n(58846),v=E(n(381777)),y=E(n(985795)),m=E(n(500985)),_=n(770348),h=E(n(247001)),g=E(n(344048));function E(e){
return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.guildId,n=e.channelId,r=(0,p.useSubscriptionListingsForChannel)({guildId:t,channelId:n}),E=(0,c.useGroupListingsForGuild)(t),S=(0,c.useSubscriptionsSettings)(t),I=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),T=null==I?void 0:I.name,C=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(n)})),A=a.useMemo((function(){for(var e,t={},n=b(E);!(e=n()).done;)for(var r,a=e.value,o=b(a.subscription_listings_ids);!(r=o()).done;){t[r.value]=a.id
}return t}),[E]);(0,v.default)({guildId:t,location:_.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:r.map((function(e){return e.id}))});return null==I?O("div",{className:g.default.spinnerContainer},void 0,O(s.default,{className:g.default.spinner})):O(f.ScrollerAuto,{className:g.default.pageContainer},void 0,O(l.Heading,{variant:"heading-xl/medium",className:g.default.joinCtaTitle,level:3},void 0,h.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:T,channelName:null==C?void 0:C.name})),O(d.Text,{className:g.default.joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary"},void 0,null==S?void 0:S.description),O(y.default,{guildId:t},void 0,r.filter((function(e){return null!=A[e.id]})).map((function(e){return O(m.default,{guildId:t,listingId:e.id,groupListingId:A[e.id],analyticsLocation:_.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))))}T.displayName="PremiumChannelUpsell"},199317:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([u.default],(function(){return u.default.getChannel(t)})),f=(0,s.default)(null==n?void 0:n.id).needSubscriptionToAccess;if(null==n||f)return null;var c=n.isGuildVocal();return{navigateToChannel:function(){c?o.default.handleVoiceConnect({channel:n,connected:l.default.isInChannel(n.id),needSubscriptionToAccess:!1,routeDirectlyToChannel:!0}):(0,i.transitionTo)(d.Routes.CHANNEL(e,n.id))},ariaLabel:(0,a.default)({channel:n})}};var r=n(536211),a=f(n(357400)),o=f(n(631294)),i=n(139982),u=f(n(644263)),l=f(n(387692)),s=f(n(141776)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}},986175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.hideLiveChannelNotice=function(e){var t=e.eventId,n=e.stageId;if(null==t&&null==n)return;a.default.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}
;var r=i(n(536211)),a=i(n(636602)),o=n(198756);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l={hiddenEventsAndStages:[]};var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(l=e)};n.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId;return!(null==n||!l.hiddenEventsAndStages.includes("stage-"+n))||null!=t&&l.hiddenEventsAndStages.includes("event-"+t)};n.getState=function(){return l};n.__getLocalVars=function(){return{state:l}};return t}(r.default.PersistedStore);s.displayName="LiveChannelNoticesStore";s.persistKey="liveChannelNotices_v2";var d=new s(a.default,{LIVE_CHANNEL_NOTICE_HIDE:function(e){var t=e.eventId,n=e.stageId
;null!=t?l.hiddenEventsAndStages.push("event-"+t):null!=n&&l.hiddenEventsAndStages.push("stage-"+n)},GUILD_SCHEDULED_EVENT_UPDATE:function(e){var t=e.guildScheduledEvent,n="event-"+t.id;!l.hiddenEventsAndStages.includes(n)||t.status!==o.GuildScheduledEventStatus.CANCELED&&t.status!==o.GuildScheduledEventStatus.COMPLETED||(l.hiddenEventsAndStages=l.hiddenEventsAndStages.filter((function(e){return e!==n})))},GUILD_SCHEDULED_EVENT_DELETE:function(e){var t="event-"+e.guildScheduledEvent.id;l.hiddenEventsAndStages.includes(t)&&(l.hiddenEventsAndStages=l.hiddenEventsAndStages.filter((function(e){return e!==t})))},STAGE_INSTANCE_DELETE:function(e){var t="stage-"+e.instance.id;l.hiddenEventsAndStages.includes(t)&&(l.hiddenEventsAndStages=l.hiddenEventsAndStages.filter((function(e){return e!==t})))}});t.default=d},990374:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.guildEventDetailsParser=void 0;var r;var a=((r=n(268389))&&r.__esModule?r:{default:r
}).default.parseGuildEventDescription;t.guildEventDetailsParser=a},435903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildVoice())return!1;if(u.default.getGuildScheduledEventsByIndex(u.StaticGuildEventIndexes.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1;if(!a.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,e))return!1;for(var t,n=new Set(o.default.getVoiceStatesForChannel(e).map((function(e){return e.user.id}))),s=r.default.getId(),d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
;var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(t=d()).done;){var c=t.value;if(c!==s&&i.default.can({permission:l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,user:c,context:e}))return!1}return!0};var r=d(n(423046)),a=d(n(689389)),o=d(n(487372)),i=d(n(656016)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(330321)),l=n(432040);function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},780688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveEventOrStageInstanceChannel=function(e){var t,n=(0,o.useFirstActiveEventChannel)(e),i=(0,r.default)(e),u=a.default.getChannel(null===(t=i[0])||void 0===t?void 0:t.id);return null!=n?n:u};var r=i(n(483431)),a=i(n(644263)),o=n(902399);function i(e){return e&&e.__esModule?e:{default:e}}},668516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCanCreateEditDeleteEvent=function(e,t){return(0,r.useStateFromStores)([o.default,a.default],(function(){return(0,i.canCreateEditDeleteGuildEvent)(e,t,[o.default,a.default])}),[t,e])};var r=n(536211),a=u(n(30098)),o=u(n(689389)),i=n(836490);function u(e){return e&&e.__esModule?e:{default:e}}},
157949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHasLiveChannelNotice=function(e){var t,n=(0,o.default)(e),s=i.default.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),d=(0,r.useStateFromStores)([a.default],(function(){return a.default.getStageInstanceByChannel(null==s?void 0:s.id)}),[s]),f=(0,l.useGuildActiveEvent)(e),c=(0,r.useStateFromStoresObject)([u.default],(function(){return{isStageNoticeHidden:u.default.isLiveChannelNoticeHidden({stageId:null==d?void 0:d.id}),isEventNoticeHidden:u.default.isLiveChannelNoticeHidden({eventId:null==f?void 0:f.id})}}),[d,f]),p=c.isStageNoticeHidden,v=c.isEventNoticeHidden;if(null!=f)return null!=d?!p:!v;return null!=d&&!p};var r=n(536211),a=s(n(217964)),o=s(n(483431)),i=s(n(644263)),u=s(n(986175)),l=n(902399);function s(e){return e&&e.__esModule?e:{default:e}}},604686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.guildId,n=e.channelId,r=e.onClick,S=(0,o.useAppContext)(),O=(0,_.useActiveEvent)(n),b=(0,a.useStateFromStores)([s.default],(function(){return s.default.getChannel(n)}),[n]),T=(0,m.useCanCreateEditDeleteEvent)(t,b);if(null==O)return null;var C=function(){null!=b&&(0,y.default)(b)?(0,p.openEndEventModal)(b,S):r()},A=function(){v.default.endEvent(O.id,O.guild_id)};return T?I(d.default,{renderPopout:function(e){var t=e.closePopout;return I(u.default,{},void 0,I(i.default,{navId:"exit-options",onSelect:function(){},"aria-label":g.default.Messages.DISCONNECT_MENU,onClose:t},void 0,I(i.MenuItem,{id:"end-voice-event",color:h.MenuItemColor.DANGER,action:A,label:g.default.Messages.END_EVENT,icon:c.default})))},align:d.default.Align.CENTER,position:d.default.Positions.TOP,animation:d.default.Animation.FADE},void 0,(function(e){var t=e.onClick;return I(l.CenterControlButton,{label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:C,onPopoutClick:t,
className:E.default.buttonSpacing})})):I(l.CenterControlButton,{className:E.default.buttonSpacing,label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:f.default,onClick:r})};b(n(667294));var r,a=n(536211),o=n(433383),i=b(n(145122)),u=S(n(222935)),l=n(143414),s=S(n(644263)),d=S(n(160629)),f=S(n(331546)),c=S(n(930600)),p=n(452453),v=S(n(736428)),y=S(n(435903)),m=n(668516),_=n(902399),h=n(474477),g=S(n(247001)),E=S(n(135582));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},891036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildEvent;if(null==t)return null;return a.createElement(a.Fragment,null,p(i.default.Divider,{className:d.default.divider}),p(l.GuildEventTimeStatus,{startTime:t.scheduled_start_time,isActive:(0,u.isGuildScheduledEventActive)(t),isEnded:(0,u.isGuildEventEnded)(t),liveText:s.default.Messages.LIVE_EVENT,className:d.default.eventSchedule,
textVariant:"text-lg/semibold",eventType:t.entity_type}),p(o.Text,{color:"header-secondary",variant:"text-md/normal",className:d.default.eventName},void 0,t.name))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=f(n(878556)),u=n(330321),l=n(811634),s=f(n(247001)),d=f(n(348786));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},513696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNoticeBody=void 0;t.LiveVoiceOrStageChannelNotice=X;t.default=t.VoiceChannelType=void 0;var r,a=U(n(667294)),o=n(536211),i=n(341186),u=n(139982),l=n(637356),s=k(n(897191)),d=n(921867),f=n(411315),c=k(n(217964)),p=k(n(724571)),v=k(n(689389)),y=k(n(487372)),m=k(n(956117)),_=k(n(16941)),h=n(645758),g=k(n(259530)),E=k(n(878338)),S=k(n(934018)),O=k(n(332282)),b=U(n(152731)),I=n(71246),T=n(452453),C=U(n(986175)),A=n(647261),M=n(780688),N=n(902399),P=n(549905),R=n(198756),w=n(770348),D=k(n(247001)),L=k(n(139875));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var B,H=16,W=x(g.default,{height:16,width:16}),V=a.memo((function(e){var t=e.heading,n=e.location,r=e.locationIcon,o=e.details,i=e.detailsIcon,u=e.topic,l=e.onClickCloseIcon,s=e.children;return x("div",{
className:L.default.channelNotice},void 0,x("div",{className:L.default.textBlock},void 0,x("div",{className:L.default.liveIndicator}),x(h.Text,{color:"text-positive",variant:"text-xs/normal",className:L.default.liveNowText},void 0,t),null!=l&&x(_.default,{onClick:l,className:L.default.closeIcon,"aria-label":D.default.Messages.CLOSE},void 0,W)),x(h.Text,{color:"header-primary",variant:"text-md/normal",className:L.default.eventName},void 0,u),x("div",{className:L.default.textBlock},void 0,r,x(h.Text,{color:"header-secondary",variant:"text-xs/normal",className:L.default.channelName},void 0,n),null!=o&&null!=i&&a.createElement(a.Fragment,null,x(h.Text,{className:L.default.dotDivider,color:"header-secondary",variant:"text-xs/normal"},void 0,"•"),i,x(h.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,o))),s)}));t.GuildNoticeBody=V;function Y(e){var t=e.guildEvent,n=e.channel,r=(0,o.useStateFromStoresArray)([y.default],(function(){
return y.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),a=(0,i.getChannelIconComponent)(n);return x(V,{onClickCloseIcon:function(){return(0,C.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=a?x(a,{width:H,height:H,className:L.default.stageIcon}):null},void 0,x(X,{channel:n,speakers:r,voiceType:B.VOICE}))}Y.displayName="GuildVoiceEventNotice";function K(e){var t=e.guildEvent,n=(0,P.getLocationFromEvent)(t);return null==n?null:x(V,{onClickCloseIcon:function(){return(0,C.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.HAPPENING_NOW,topic:t.name,location:(0,A.guildEventDetailsParser)(n,!0),locationIcon:x(S.default,{width:H,height:H,className:L.default.stageIcon})},void 0,x(z,{guildEvent:t}))}K.displayName="GuildExternalEventNotice";function z(e){var t=e.guildEvent,n=a.useCallback((function(){(0,T.openGuildEventDetails)({
eventId:t.id})}),[t]);return x(m.default,{fullWidth:!0,className:L.default.joinButton,onClick:n,color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL},void 0,D.default.Messages.SEE_DETAIL)}z.displayName="SeeDetailButton";function $(e){var t=e.channel,n=e.label;return x(m.default,{fullWidth:!0,className:L.default.joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,l.connectAndOpen)(t);(0,u.transitionToGuild)(t.getGuildId(),t.id)}},color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL},void 0,n)}$.displayName="JoinChannelButton";function q(e){var t=e.stageInstance,n=e.channel,r=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMutableParticipants(n.id,d.StageChannelParticipantNamedIndex.SPEAKER),t=s.default.getParticipantCount(n.id,d.StageChannelParticipantNamedIndex.AUDIENCE);return{speakers:G(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[n.id]),a=r.speakers,i=r.listenerCount,u=D.default.Messages.LISTENING_COUNT.format({
count:""+i});return x(V,{onClickCloseIcon:function(){return(0,C.hideLiveChannelNotice)({stageId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:u,detailsIcon:x(E.default,{width:14,height:14,className:L.default.stageIcon}),locationIcon:x(O.default,{width:H,height:H,className:L.default.stageIcon}),topic:t.topic},void 0,x(X,{channel:n,speakers:a,voiceType:B.STAGE}))}q.displayName="GuildLiveStageNotice";t.VoiceChannelType=B;!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(B||(t.VoiceChannelType=B={}));function X(e){var t=e.channel,n=e.speakers,r=e.voiceType,i=t.getGuildId(),u=a.useMemo((function(){return n.slice(0,3)}),[n]),l=(0,o.useStateFromStores)([v.default],(function(){return v.default.can(w.Permissions.CONNECT,t)})),s=(0,p.default)(t.id),d=D.default.Messages.JOIN;switch(r){case B.VOICE:d=D.default.Messages.JOIN;break;case B.STAGE:d=D.default.Messages.STAGE_CHANNEL_JOIN_BUTTON
;(null==s?void 0:s.speaker)?d=D.default.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=s&&(d=D.default.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case B.STUDY_ROOM:d=D.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,I.assertNever)(r)}return null==i?null:a.createElement(a.Fragment,null,u.length>0?x("div",{className:L.default.textBlock},void 0,x(b.default,{guildId:i,users:u,showUserPopout:!0,size:b.Sizes.SIZE_16}),x(h.Text,{color:"header-secondary",variant:"text-xs/normal",className:L.default.userNames},void 0,(0,f.summarizeUsernamesParticipating)(i,u,null==t?void 0:t.id,n.length))):null,l&&null==s&&x($,{channel:t,label:d}))}var Q=a.memo((function(e){var t=e.guild,n=(0,M.useActiveEventOrStageInstanceChannel)(t.id),r=(0,N.useGuildActiveEvent)(t.id),a=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(null==n?void 0:n.id)}),[n]),i=(0,o.useStateFromStoresObject)([C.default],(function(){return{
isStageNoticeHidden:C.default.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:C.default.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}}),[a,r]),u=i.isStageNoticeHidden,l=i.isEventNoticeHidden,s=null,d=null!=a&&null!=n&&!u;null==r||l?d&&(s=x(q,{stageInstance:a,channel:n})):r.entity_type===R.GuildScheduledEventEntityTypes.STAGE_INSTANCE&&d?s=x(q,{stageInstance:a,channel:n}):r.entity_type===R.GuildScheduledEventEntityTypes.EXTERNAL?s=x(K,{guildEvent:r}):r.entity_type===R.GuildScheduledEventEntityTypes.VOICE&&null!=n&&(s=x(Y,{guildEvent:r,channel:n}));return s}));t.default=Q},176079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=n(772575),l=n(645758),s=c(n(863771)),d=c(n(247001)),f=c(n(178494));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){
var t,n=e.className,r=e.iconContainerClassName,c=e.icon,p=e.color,y=e.title,m=e.description,_=e.userCount,h=e.onClick,g=e.highlight;return v(i.default,{className:(0,o.default)(f.default.container,n,null!=g&&(t={},t[f.default.pulse]=g,t)),onClick:h},void 0,v("div",{style:{backgroundColor:p},className:(0,o.default)(f.default.icon,r)},void 0,c),v("div",{className:f.default.textContainer},void 0,v(u.Heading,{variant:"heading-md/medium",level:3},void 0,y),v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:f.default.inline},void 0,m),null!=_&&_>0?a.createElement(a.Fragment,null,v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:f.default.dot},void 0,"•"),v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:f.default.inline},void 0,d.default.Messages.GUILD_EVENT_INTERESTED.format({count:_}))):null),v(s.default,{height:16,width:16,className:f.default.caret}))}y.displayName="GuildEventPrompt"},5031:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(32443)),i=n(194322),u=f(n(880783)),l=f(n(176079)),s=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _=p(o.default,{height:20,width:20});function h(e){var t=e.className,r=e.guildId,o=(0,u.default)();return p(l.default,{className:t,icon:_,color:s.Colors.BRAND_NEW,title:d.default.Messages.SCHEDULE_EVENT,description:d.default.Messages.SCHEDULE_EVENT_DESCRIPTION,
onClick:function(){(0,i.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(15198),n.e(1025),n.e(75659)]).then(n.bind(n,901025));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),o)}})}h.displayName="ScheduleStageEventPrompt"},620859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,r=e.channelId,u=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(r)}),[r]),m=(0,d.useImminentUpcomingGuildEvents)(r),_=null!=(0,d.useActiveEvent)(r),E=(0,s.useCanCreateEditDeleteEvent)(t,u);if(m.length<1||_||!E)return null;return a.createElement(a.Fragment,null,m.map((function(e){return h(c.default,{icon:O,color:p.Colors.STATUS_GREEN_600,
title:v.default.Messages.GUILD_EVENT_START_PROMPT.format({eventName:e.name}),description:v.default.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,f.getEventTimeData)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return function(e){(0,l.openModalLazy)(S(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(46734)]).then(n.bind(n,746734));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,g({},t,{event:e}))}));case 5:case"end":return t.stop()}}),t)}))))}(e)},userCount:e.user_count,className:y.default.eventPrompt},e.id)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(644263)),u=m(n(32443)),l=n(194322),s=n(668516),d=n(902399),f=n(834547),c=m(n(176079)),p=n(770348),v=m(n(247001)),y=m(n(407770));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){
g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=h(u.default,{height:20,width:20})},473842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(433383),o=n(559133),i=d(n(332282)),u=d(n(176079)),l=n(478036),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=c(i.default,{height:20,width:20});function v(e){var t=e.className,n=e.channel,r=e.highlight,i=(0,a.useAppContext)();return c(u.default,{highlight:null!=r&&r,className:t,icon:p,
color:l.Colors.STATUS_GREEN_600,title:s.default.Messages.STAGE_CHANNEL_START_TITLE,description:s.default.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,o.openStageChannelSettings)(n,i)}})}v.displayName="StartStageChannelEventPrompt"},802337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TutorialType=t.EmbeddedActivityTutorial=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=n(536211),u=n(433383),l=n(746920),s=O(n(151120)),d=O(n(37039)),f=O(n(644263)),c=O(n(151097)),p=O(n(956117)),v=n(772575),y=n(645758),m=n(598671),_=O(n(865725)),h=O(n(308920)),g=n(770348),E=O(n(247001)),S=O(n(741093));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.TutorialType=a;!function(e){e.BOOSTING="BOOSTING";e.NITRO="NITRO"}(a||(t.TutorialType=a={}));var T=function(e){
var t=e.channelId,n=e.markAsDismissed,r=e.tutorialType,O=(0,d.default)().analyticsLocations;o.useEffect((function(){h.default.track(g.AnalyticEvents.TOOLTIP_VIEWED,{type:r===a.BOOSTING?"embedded_activity_discovery_tutorial":"embedded_activity_nitro_discovery_tutorial"})}),[r]);var b=(0,u.useAppContext)()===g.AppContext.POPOUT,T=(0,i.useStateFromStores)([f.default],(function(){return f.default.getChannel(t)}),[t]);return I("div",{className:S.default.wrapper},void 0,I("div",{className:S.default.container},void 0,I("div",{className:S.default.content},void 0,I(_.default,{className:S.default.video,src:"https://cdn.discordapp.com/attachments/953335097694756924/953335335566327908/wtp_upsell_v2.mp4",poster:"https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png",width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),I("div",{className:S.default.header},void 0,I(v.Heading,{level:1,className:S.default.headerText,variant:"text-sm/bold",
color:"always-white"},void 0,r===a.BOOSTING?E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE:E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_TITLE),I(m.TextBadge,{text:E.default.Messages.BETA,disableColor:!0,className:S.default.betaTag})),I(y.Text,{className:S.default.subheaderText,variant:"text-xs/normal",color:"always-white"},void 0,r===a.BOOSTING?E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION:E.default.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_DESCRIPTION," ",I(c.default,{className:S.default.learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759"},void 0,E.default.Messages.LEARN_MORE)),I("div",{className:S.default.ctaActionWrapper},void 0,I(p.default,{color:p.default.Colors.BRAND,onClick:function(){n()}},void 0,E.default.Messages.DISMISS),I(p.default,{color:p.default.Colors.BRAND,look:p.default.Looks.INVERTED,onClick:function(){n();if(null!=T){(0,s.default)({channel:T.isGuildVoice()?T:void 0,guildId:T.guild_id,locationObject:{
page:g.AnalyticsPages.GUILD_CHANNEL,section:g.AnalyticsSections.GUILD_CHANNEL_LIST,object:g.AnalyticsObjects.ACTIVITIES_COACH_MARK,objectType:g.AnalyticsObjectTypes.ACTIVITY},openInPopout:b,analyticsLocations:O});(0,l.fetchShelf)(T.guild_id)}}},void 0,E.default.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT)))))};t.EmbeddedActivityTutorial=T;T.displayName="EmbeddedActivityTutorial"},884960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(923387),i=w(n(37039)),u=w(n(167739)),l=w(n(638098)),s=w(n(305081)),d=w(n(754452)),f=w(n(58941)),c=w(n(49222)),p=w(n(104805)),v=w(n(964285)),y=w(n(142024)),m=w(n(160629)),_=w(n(308920)),h=n(682937),g=n(770348),E=n(583551),S=n(665984),O=n(265517),b=n(478036),I=w(n(247001)),T=w(n(636443)),C=w(n(135849)),A=w(n(998240)),M=w(n(705206)),N=w(n(567012)),P=w(n(862470)),R=w(n(140577));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}
}function k(e){null!=e&&v.default.open(e.id,g.GuildSettingsSections.OVERVIEW,{section:g.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR},g.GuildSettingsSubsections.DISPLAY)}function j(e,t){t&&v.default.open(e.id,g.GuildSettingsSections.DISCOVERY)}function U(e,t){null!=t&&((0,h.isTierUnlocked)(t,g.BoostedGuildTiers.TIER_1)?v.default.open(t.id,g.GuildSettingsSections.OVERVIEW,{section:g.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH},g.GuildSettingsSubsections.INVITE):(0,f.default)({analyticsLocations:e,analyticsSourceLocation:g.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,S.guildInviteUpsellPerks)()}))}function G(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return L(m.default,{renderPopout:function(){return L("div",{onClick:function(e){return e.stopPropagation()}},void 0,t)},position:m.default.Positions.BOTTOM,align:m.default.Align.CENTER,animation:m.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return n()}))}G.displayName="GuildHeaderPopout"
;var F=a.memo((function(e){var t=e.contentTypes,n=e.theme,r=e.guild,a=e.renderGuildHeaderDropdownButton,f=(0,i.default)().analyticsLocations,m=function(){_.default.track(g.AnalyticEvents.TOOLTIP_VIEWED,{type:O.PremiumUpsellTypes.PREMIUM_PROGRESS_BAR,location:{page:g.AnalyticsPages.GUILD_CHANNEL}})},S=function(){_.default.track(g.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:O.PremiumUpsellTypes.INVITE_SPLASH_UPSELL,location:{page:g.AnalyticsPages.GUILD_CHANNEL},location_stack:f})},w=n===b.ThemeTypes.DARK?N.default:P.default;return L(s.default,{contentTypes:t,groupName:E.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case o.DismissibleContent.GUILD_AUTOMOD_UPSELL:return L(G,{renderPopout:L(d.default,{guildId:r.id,onDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return L(G,{renderPopout:L(y.default,{onComponentMount:m,
header:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:L("img",{alt:"",src:w,className:C.default.fullWidthImage}),content:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return k()},onClick:function(){return k(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return L(G,{renderPopout:L(y.default,{onComponentMount:m,header:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:L("img",{alt:"",src:w,className:C.default.fullWidthImage}),content:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),
buttonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:I.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return k()},onClick:function(){return k(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return L(G,{renderPopout:L(p.default,{guildId:r.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_ROLE_SUBSCRIPTION_EMOJI_UPSELL:return L(G,{renderPopout:L(c.default,{guildId:r.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return L(G,{renderPopout:L(l.default,{onClick:function(){return j(r,!0)},onSecondaryClick:function(){return j(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return L(G,{
renderPopout:L(u.default,{guild:r,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_INVITE_SPLASH:var i=(0,h.isTierUnlocked)(r,g.BoostedGuildTiers.TIER_1)?I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,h.getNumberOfAppliedBoostsNeededForTier)(r,g.BoostedGuildTiers.TIER_1)}),s=(0,h.isTierUnlocked)(r,g.BoostedGuildTiers.TIER_1)?I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:I.default.Messages.LEARN_MORE;return L(G,{renderPopout:L(y.default,{onComponentMount:S,header:I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:L("img",{alt:"",src:M.default,className:C.default.fullWidthImage}),content:i,buttonCTA:s,secondaryButtonCTA:I.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return U(f)},onClick:function(){return U(f,r)},markAsDismissed:n}),
renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS:return L(G,{renderPopout:L(y.default,{header:I.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_HEADER,asset:L("img",{alt:"",src:A.default,className:T.default.tooltipIntegrationsPermissionsAsset}),content:I.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CONTENT,buttonCTA:I.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,onClick:function(){v.default.open(r.id,g.GuildSettingsSections.INTEGRATIONS)},secondaryButtonCTA:I.default.Messages.DISMISS,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case o.DismissibleContent.GUILD_HEADER_FREE_STICKER_SLOTS_TOOLTIP:return L(G,{renderPopout:L(y.default,{header:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_HEADER,asset:L("img",{alt:"",src:R.default,className:T.default.wumpusStickerAsset}),content:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_BODY.format(),buttonCTA:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_CTA,
secondaryButtonCTA:I.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_DISMISS,onClick:function(){return v.default.open(r.id,g.GuildSettingsSections.STICKERS)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});default:return a()}}))}));t.default=F},14638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Ge
;var r,a=Ie(n(667294)),o=n(248088),i=n(536211),u=n(923387),l=n(91817),s=Oe(n(636602)),d=n(378158),f=Oe(n(562341)),c=Oe(n(145371)),p=Oe(n(235879)),v=n(631735),y=n(698462),m=Oe(n(954140)),_=Oe(n(37039)),h=n(444272),g=n(370639),E=Oe(n(684769)),S=Oe(n(305081)),O=Oe(n(978664)),b=n(638534),I=n(780815),T=n(279682),C=n(822871),A=Oe(n(30209)),M=n(157949),N=Oe(n(735172)),P=Oe(n(845957)),R=Oe(n(491523)),w=n(954481),D=Oe(n(348308)),L=Oe(n(126515)),k=Oe(n(329697)),j=Oe(n(527820)),U=Oe(n(282619)),G=Oe(n(142024)),F=Oe(n(928034)),x=Oe(n(644263)),B=Oe(n(986711)),H=Oe(n(250650)),W=Oe(n(517286)),V=Oe(n(311492)),Y=Oe(n(30098)),K=Oe(n(122913)),z=Oe(n(689389)),$=Oe(n(893160)),q=Oe(n(871778)),X=Oe(n(728429)),Q=Oe(n(329669)),Z=Oe(n(535711)),J=Oe(n(24e4)),ee=n(644105),te=Ie(n(160629)),ne=Ie(n(730977)),re=n(57744),ae=n(194322),oe=n(42031),ie=n(908010),ue=n(210098),le=n(802337),se=Oe(n(328831)),de=Oe(n(884960)),fe=Oe(n(608568)),ce=Oe(n(421797)),pe=n(242096),ve=n(770348),ye=n(7812),me=n(583551),_e=n(790315),he=Oe(n(247001)),ge=Oe(n(636443)),Ee=["onClick"],Se=["isUnavailable","guild","selectedChannel","enableStudyGroup","showCommunityInfo"]
;function Oe(e){return e&&e.__esModule?e:{default:e}}function be(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(be=function(e){return e?n:t})(e)}function Ie(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=be(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Me(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ne(){Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ne.apply(this,arguments)}function Pe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pe(o,r,a,i,u,"next",e)}function u(e){Pe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function we(e,t){we=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return we(e,t)}var De=88,Le=1e3,ke="server-settings",je={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},Ue=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;we(e,t)}(t,e);function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];(t=e.call.apply(e,[this].concat(i))||this).historyUnlisten=function(){};t.showTimeout=new l.Timeout;t.state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:De,hasGuildSubheader:!1};t.handleHistoryChange=function(e){null!=e.state&&e.state.shouldShowSubscribeTooltip&&t.showTimeout.start(Le,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};t.handleHeaderMenuToggle=function(e){var n=t.props.isHeaderPopoutOpen;e.stopPropagation();(0,I.showGuildHeaderPopout)(!n);t.closeAllHeaderNotices()};t.handleContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,Re(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return n.e(18974).then(n.bind(n,418974));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Ne({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleHeaderContextMenu=function(e){var r=t.props.guild;null!=r&&(0,d.openContextMenuLazy)(e,Re(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74862),n.e(23127)]).then(n.bind(n,853734));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Ne({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.closeAllHeaderNotices=function(){t.handleCloseSubscribeTooltip();t.handleCloseTemplateDirtyTooltip()};t.handleCloseSubscribeTooltip=function(){t.showTimeout.stop();t.state.shouldShowSubscribeTooltip&&t.setState({shouldShowSubscribeTooltip:!1})};t.handleCloseTemplateDirtyTooltip=function(){
var e=t.props,n=e.guild,r=e.showGuildTemplateDirtyTooltip;null!=n&&r&&P.default.hideGuildTemplateDirtyTooltip(n.id)};t.renderMenuPopout=Re(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74862),n.e(11976)]).then(n.bind(n,611976));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){var n=e.closePopout,r=t.props.guild;return null!=r&&Me(a,{onClose:n,guild:r})}));case 5:case"end":return e.stop()}}),e)})));t.renderGuildHeaderUpsellPopout=function(e){var n=t.props,r=n.showGuildBoostingProgressBarUpsell,a=n.showGuildBoostingProgressBarSizeUpsell,o=n.showRoleSubscriptionUpsell,i=n.showSubscriptionRoleEmojiUpsell,l=n.showDiscoveryTooltip,s=n.showInviteSplashUpsell,d=n.showIntegrationPermissionTooltip,f=n.showDiscoveryLandingPageSettingsUpsell,c=n.showFreeStickerSlotsTooltip,p=n.guild,v=n.theme;if(null==p)return t.renderGuildHeaderDropdownButton(e);var y=[]
;r&&y.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);a&&y.push(u.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK);o&&y.push(u.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL);s&&y.push(u.DismissibleContent.GUILD_HEADER_INVITE_SPLASH);l&&y.push(u.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);f&&y.push(u.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL);d&&y.push(u.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS);c&&y.push(u.DismissibleContent.GUILD_HEADER_FREE_STICKER_SLOTS_TOOLTIP);(0,T.canCurrentUserSeeAutomodUpsell)(p.id)&&!(0,b.canCurrentUserSeeForumChannelUpsell)(p.id)&&y.push(u.DismissibleContent.GUILD_AUTOMOD_UPSELL);i&&y.push(u.DismissibleContent.GUILD_ROLE_SUBSCRIPTION_EMOJI_UPSELL);return 0===y.length?t.renderGuildHeaderDropdownButton(e):Me(de.default,{contentTypes:y,theme:v,guild:p,renderGuildHeaderDropdownButton:function(){return t.renderGuildHeaderDropdownButton(e)}})}
;t.pinBannerOrGuildInfo=function(e){var n=e.scrollTop;t.setAnimatedValue(n)};return t}t.getDerivedStateFromProps=function(e){var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};var r=t.prototype;r.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);s.default.subscribe("LAYER_PUSH",this.closeAllHeaderNotices);this.historyUnlisten=k.default.addRouteChangeListener(this.handleHistoryChange);(null===(e=k.default.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(Le,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};r.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten();s.default.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)};r.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};r.renderGuildHeaderDropdownButton=function(e){
return Me(f.default,{open:e,className:ge.default.dropdown})};r.renderGuildHeaderNotices=function(e){var t=this,n=this.props,r=n.showGuildTemplateDirtyTooltip,a=n.showGuildHeaderTutorial,o=n.anyLayerOpen,i=this.state.shouldShowSubscribeTooltip;return a?Me("div",{onClick:function(t){return e?null:t.stopPropagation()}},void 0,Me(j.default,{tutorialId:ke,position:ee.PopoutPositions.BOTTOM,inlineSpecs:je},void 0,this.renderGuildHeaderDropdownButton(e))):r?Me(ne.default,{forceOpen:!0,color:ne.TooltipColors.BRAND,position:re.Positions.BOTTOM,shouldShow:!e&&!o,text:he.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":he.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):o||e?this.renderGuildHeaderDropdownButton(e):i?Me(te.default,{renderPopout:function(){return Me("div",{onClick:function(e){return e.stopPropagation()}},void 0,Me(G.default,{
header:he.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:he.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:he.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip}))},position:te.default.Positions.BOTTOM,align:te.default.Align.CENTER,animation:te.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):this.renderGuildHeaderUpsellPopout(e)};r.renderGuildHeader=function(e){var t=this,n=this.props,r=n.guild,o=n.isHeaderPopoutOpen,i=n.showGuildHeaderTutorial,u=n.showGuildTemplateDirtyTooltip,l=n.isGuildHeaderDismissibleTooltipShown,s=n.showCommunityInfo,d=n.HeaderAnalyticsLocationProvider,f=this.state,c=f.controller,p=f.renderBanner,v=f.bannerVisible,y=f.bannerVisibleHeight,m=f.communityInfoVisible,_=i||u||l;return null==r?null:Me(d,{},void 0,Me(te.LazyPopout,{renderPopout:this.renderMenuPopout,
position:te.default.Positions.BOTTOM,align:te.default.Align.CENTER,animation:te.default.Animation.SCALE,shouldShow:o,onRequestClose:function(){return(0,I.showGuildHeaderPopout)(!1)}},void 0,(function(n){n.onClick;var i=Ae(n,Ee);return a.createElement(se.default,Ne({guild:r,controller:c,renderBanner:p,hasSubheader:e,bannerVisible:v,communityInfoVisible:m,showCommunityInfo:s,guildBanner:t.getGuildBannerHash(),onClick:t.handleHeaderMenuToggle,onContextMenu:t.handleHeaderContextMenu,disableBannerAnimation:_,animationOverlayHeight:y},i),t.renderGuildHeaderNotices(o))})))};r.setAnimatedValue=function(e){var t=this.props,n=t.guild,r=t.showCommunityInfo,a=null!=this.getGuildBannerHash(),o=r&&(null==n?void 0:n.hasCommunityInfoSubheader());null!=n&&(a||o)&&(a?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))};r.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,a=t.bannerVisible,o=t.bannerVisibleHeight,i=t.controller
;(e>=64&&a||e<64&&!a)&&(a=!a);(e>=De&&!n||e<De&&n)&&(n=!n);o=Math.max(De-e,0);r=a;n===this.state.renderBanner&&a===this.state.bannerVisible&&o===this.state.bannerVisibleHeight&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:a,bannerVisibleHeight:o,communityInfoVisible:r});i.update({value:Math.min(1,Math.max(0,1-e/De)),immediate:!0}).start()};r.setAnimatedValueForGuildInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&(n=!n);n!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};r.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,r=e.selectedChannel,o=e.enableStudyGroup,i=e.showCommunityInfo,u=Ae(e,Se);if(t||null==n)return Me(ce.default,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()});if(n.hasFeature(ve.GuildFeatures.HUB)&&!o)return Me("div",{className:ge.default.hubContainer
},void 0,Me(D.default,{guild:n,channel:null!=r?r:W.default.getDefaultChannel(n.id)}));var l=n.id===_e.FAVORITES_RAW_GUILD_ID?ue.FavoritesChannelList:ue.GuildChannelList;return a.createElement(l,Ne({guild:n},u,{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=n&&(null!=this.getGuildBannerHash()||i&&n.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null}))};r.render=function(){var e=this,t=this.props,n=t.guild,r=t.activitiesBebEnabled,o=t.activitiesNitroEnabled,i=t.canShowCoachMarkAtBottom,l=t.selectedChannelId,s=t.FooterAnalyticsLocationProvider,d=t.voiceChannelEffectsEnabled,f=[];r&&i?f.push(u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK):o&&i&&f.push(u.DismissibleContent.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2);i&&d&&f.push(u.DismissibleContent.VOICE_CHANNEL_EFFECTS_TUTORIAL_COACH_MARK);return Me("nav",{className:ge.default.container,onContextMenu:this.handleContextMenu,
"aria-label":he.default.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=n?n.toString():""})},void 0,null!=n&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=n&&Me(fe.default,{guild:n,setHasSubheader:function(t){return e.setState({hasGuildSubheader:t})}}),this.renderChannelList(),Me(s,{},void 0,Me(S.default,{contentTypes:f},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK:return Me(le.EmbeddedActivityTutorial,{channelId:null!=l?l:void 0,markAsDismissed:n,tutorialType:le.TutorialType.BOOSTING});case u.DismissibleContent.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2:return Me(le.EmbeddedActivityTutorial,{channelId:null!=l?l:void 0,markAsDismissed:n,tutorialType:le.TutorialType.NITRO});case u.DismissibleContent.VOICE_CHANNEL_EFFECTS_TUTORIAL_COACH_MARK:return Me(pe.VoiceChannelEffectsTutorial,{markAsDismissed:n});default:return a.createElement(a.Fragment,null)}}))))};return t}(a.PureComponent)
;Ue.displayName="GuildSidebar";function Ge(e){var t,n=e.guildId,r=e.hideSelectedChannel,o=e.selectedChannelId,l=(0,i.useStateFromStores)([Y.default],(function(){return Y.default.getGuild(n)})),s=(0,O.default)(n),d=(0,i.useStateFromStores)([B.default],(function(){return B.default.getGuildDimensions(n).scrollTo})),f=(0,i.useStateFromStores)([$.default],(function(){return $.default.getChannelId()})),S=Te((0,i.useStateFromStoresArray)([z.default],(function(){return[z.default.can(ve.Permissions.MANAGE_GUILD,l),z.default.can(ve.Permissions.MANAGE_ROLES,l),z.default.can(ve.Permissions.MANAGE_GUILD_EXPRESSIONS,l)]})),3),b=S[0],T=S[1],P=S[2],D=(0,i.useStateFromStores)([H.default],(function(){return H.default.isUnavailable(n)})),k=(0,i.useStateFromStores)([X.default],(function(){return X.default.getCurrentUser()})),j=(0,i.useStateFromStores)([p.default,q.default],(function(){return p.default.darkSidebar?ve.ThemeTypes.DARK:q.default.theme})),G=(0,
M.useGuildHasLiveChannelNotice)(null!==(t=null==l?void 0:l.id)&&void 0!==t?t:""),W=(0,y.useBeb)(n),ee=v.ActivitiesNitroExperiment.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,te=(0,E.default)((function(e){return e.currentlyShown.has(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),ne=Te(a.useState(!te),2),re=ne[0],ue=ne[1],le=(0,c.default)(n),se=(0,_.default)(m.default.GUILD_HEADER).AnalyticsLocationProvider,de=(0,_.default)(m.default.GUILD_CHANNEL_LIST_FOOTER).AnalyticsLocationProvider;a.useEffect((function(){n!==le&&ue(!te)}),[n,le,te]);var fe=Te((0,E.default)((function(e){return[ye.CHANNEL_NOTICES.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(me.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS)]})),2),ce=fe[0],pe=fe[1],_e=(0,i.useStateFromStores)([Z.default,J.default,L.default,Q.default],(function(){
return Z.default.isVisible(l)||Q.default.isVisible(null!=l?l.id:null)||L.default.isVisible(l)||J.default.isVisible(l)||G}))||ce,he=(0,ae.useModalsStore)(ae.hasAnyModalOpenSelector),ge=(0,i.useStateFromStores)([K.default],(function(){return K.default.hasLayers()})),Ee=(0,i.useStateFromStores)([U.default],(function(){return U.default.shouldShow(ke)})),Se=b&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!oe.ProcessArgs.isDisallowPopupsSet(),Oe=(0,i.useStateFromStores)([V.default],(function(){return V.default.getMemberCount(n)})),be=b&&null!=Oe&&Oe>=30&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!oe.ProcessArgs.isDisallowPopupsSet(),Ie=(0,A.default)(l),Ce=(0,C.useCanSeeSubscriptionRoleEmojiDismissableUpsell)(n),Ae=(0,g.useLowerMemberCountRequirements)(n),Ne=b&&T,Pe=P&&(null==l?void 0:l.premiumTier)===ve.BoostedGuildTiers.NONE,Re=N.default.useExperiment({guildId:n}).enabled,we=b&&"en-US"===(null==l?void 0:l.preferredLocale)&&l.hasFeature(ve.GuildFeatures.DISCOVERABLE)
;!0===we&&(we=we&&Re);var De=(0,h.useBlockedPaymentsConfig)(),Le=(b||(null==l?void 0:l.premiumTier)===ve.BoostedGuildTiers.NONE)&&!oe.ProcessArgs.isDisallowPopupsSet()&&!De,je=(0,i.useStateFromStores)([R.default,K.default],(function(){return null!=l&&null!=k&&b&&!K.default.hasLayers()&&R.default.shouldShowGuildTemplateDirtyTooltip(n)})),Ge=(0,i.useStateFromStores)([x.default],(function(){return x.default.getChannel(o)})),Fe=(0,I.useGuildHeaderPopoutStore)().isPopoutOpen,xe=(0,w.useHubStudyGroupExperiment)(l).enableStudyGroup,Be=ie.GuildCommunityInfoExperiment.useExperiment({guildId:n}).showCommunityInfo,He=F.default.useExperiment({guildId:n},{autoTrackExposure:!0}).enabled;return Me(Ue,{guildId:n,hideSelectedChannel:r,guild:l,scrollToChannel:d,selectedChannelId:r?null:o,selectedChannel:Ge,selectedVoiceChannelId:f,voiceStates:s,isUnavailable:D,theme:j,user:k,hasChannelNotice:_e,anyLayerOpen:he||ge,showGuildBoostingProgressBarUpsell:Se,showGuildBoostingProgressBarSizeUpsell:be,
showInviteSplashUpsell:Le,showDiscoveryLandingPageSettingsUpsell:we,showGuildHeaderTutorial:Ee,showGuildTemplateDirtyTooltip:je,showRoleSubscriptionUpsell:Ie,showSubscriptionRoleEmojiUpsell:Ce,showDiscoveryTooltip:Ae,showIntegrationPermissionTooltip:Ne,showFreeStickerSlotsTooltip:Pe,showCommunityInfo:Be,isHeaderPopoutOpen:Fe,enableStudyGroup:xe,isGuildHeaderDismissibleTooltipShown:pe,activitiesBebEnabled:W,activitiesNitroEnabled:ee,canShowCoachMarkAtBottom:re,HeaderAnalyticsLocationProvider:se,FooterAnalyticsLocationProvider:de,voiceChannelEffectsEnabled:He})}Ge.displayName="ConnectedGuildSidebar"},608568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(35333)),i=n(954481),u=d(n(199808)),l=n(770348),s=d(n(462179));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.guild,n=e.setHasSubheader,r=(0,
i.useHubStudyGroupExperiment)(t).enableStudyGroup;if(t.hasFeature(l.GuildFeatures.HUB)){if(r){n(!0);return c(u.default,{guild:t})}n(!1);return null}return c(o.default,{guild:t,setHasSubheader:n})}p.displayName="SubheaderContent";function v(e){return c("div",{className:s.default.container},void 0,a.createElement(p,e))}v.displayName="GuildSubheader"},421797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(101545));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(){return l("div",{className:o.default.spacer})};s.displayName="Spacer";var d=function(){return l("div",{className:o.default.category})};d.displayName="Category";var f=function(e){var t=e.width;return l("div",{className:o.default.channel},void 0,l("div",{className:o.default.channelIcon}),l("div",{className:o.default.channelName,style:{width:t+"px"}}))};f.displayName="Channel";var c=l(d,{}),p=l(f,{width:100}),v=l(f,{width:74}),y=l(f,{
width:100}),m=l(f,{width:70}),_=l(f,{width:112}),h=l(f,{width:175}),g=l(s,{}),E=l(d,{}),S=l(f,{width:100}),O=l(f,{width:74}),b=l(f,{width:100}),I=l(f,{width:70}),T=l(f,{width:112}),C=l(f,{width:56}),A=function(e){var t,n=e.withBannerPadding;return l("div",{className:(0,a.default)(o.default.container,(t={},t[o.default.bannerPadding]=n,t))},void 0,c,p,v,y,m,_,h,g,E,S,O,b,I,T,C)};A.displayName="PlaceholderChannelList";var M=A;t.default=M},242096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VoiceChannelEffectsTutorial=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),o=p(n(956117)),i=n(772575),u=n(645758),l=p(n(308920)),s=n(770348),d=p(n(247001)),f=p(n(133546)),c=p(n(383947));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.markAsDismissed;a.useEffect((function(){l.default.track(s.AnalyticEvents.TOOLTIP_VIEWED,{type:"voice_channel_effects_discovery_tutorial"})}),[]);return y("div",{className:f.default.wrapper},void 0,y("div",{
className:f.default.container},void 0,y("div",{className:f.default.content},void 0,y("img",{src:c.default,alt:"",className:f.default.image}),y("div",{className:f.default.header},void 0,y(i.Heading,{level:1,className:f.default.headerText,variant:"text-md/semibold",color:"always-white"},void 0,d.default.Messages.VOICE_CHANNEL_EFFECTS_NOTICE_TITLE)),y(u.Text,{variant:"text-sm/normal",color:"always-white",className:f.default.description},void 0,d.default.Messages.VOICE_CHANNEL_EFFECTS_NOTICE_DESCRIPTION),y(o.default,{color:o.default.Colors.BRAND,look:o.default.Looks.INVERTED,onClick:function(){t()}},void 0,d.default.Messages.TUTORIAL_CLOSE))))};t.VoiceChannelEffectsTutorial=m;m.displayName="VoiceChannelEffectsTutorial"},491523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(536211)),a=i(n(972247)),o=i(n(636602));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return u(e,t)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s="hasSeenGuildTemplatePromotionTooltip",d={},f=!0===a.default.get(s);function c(e){var t,n=e.guildId;d=l({},d,((t={})[n]=!1,t))}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=d[e])&&void 0!==t&&t};n.shouldShowGuildTemplatePromotionTooltip=function(){return!f};n.__getLocalVars=function(){return{HAS_SEEN_GUILD_TEMPLATE_PROMOTION_TOOLTIP_KEY:s,showGuildTemplateDirtyTooltipFlags:d,seenGuildTemplatePromotionTooltip:f}};return t}(r.default.Store);p.displayName="GuildTemplateTooltipStore";var v=new p(o.default,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){
var t,n=e.guildTemplate;d=l({},d,((t={})[n.source_guild_id]=n.is_dirty||!1,t))},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){a.default.set(s,!0);f=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){var t;d=l({},d,((t={})[e.guildTemplate.source_guild_id]=!1,t))},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:c,GUILD_TEMPLATE_DELETE_SUCCESS:c});t.default=v},920061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(138864),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),o=n(919094),i=f(n(562882)),u=f(n(308920)),l=f(n(924117)),s=f(n(233689)),d=n(770348)
;function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v="template",y=p({},s.default,{openNativeAppModal:function(e){i.default.openNativeAppModal(e,d.RPCCommands.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.getGuildTemplateDynamicLinkTemplate)(e):(0,r.getDefaultDynamicLinkTemplate)(),i=(0,a.generateAttemptId)(),s=(0,a.default)(n,{utmSource:v,fingerprint:t,attemptId:i});u.default.track(d.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,o.maybeExtractId)(t),attempt_id:i,source:v,guild_template_code:e});l.default.launch(s,(function(){}))}}});t.default=y},
542322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(368767)),i=p(n(844784)),u=p(n(502546)),l=p(n(790597)),s=p(n(547282)),d=n(878556),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.channelId,n=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSection(t)})),r=(0,a.useStateFromStores)([l.default],(function(){return l.default.getGuildId()})),p=n===f.ChannelSections.MEMBERS;return y(d.Icon,{tooltip:p?c.default.Messages.MEMBER_LIST_SHOWN:c.default.Messages.MEMBER_LIST_HIDDEN,icon:s.default,onClick:function(){i.default.trackWithMetadata(f.AnalyticEvents.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:r,member_list_open:!p});o.default.toggleMembersSection()},selected:p})}m.displayName="ChannelMembersButton"},818378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=_(n(770549)),u=_(n(563621)),l=_(n(160629)),s=_(n(91424)),d=_(n(811198)),f=_(n(878556)),c=n(956506),p=_(n(405622)),v=n(770348),y=_(n(247001)),m=_(n(750322));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=S((0,o.useStateFromStoresArray)([u.default],(function(){return[u.default.isChannelMuted(t.getGuildId(),t.id),u.default.resolvedMessageNotifications(t)]}),[t]),2),r=n[0],_=n[1],h=S(a.useState(!1),2),O=h[0],b=h[1];a.useEffect((function(){var e=function(){return b(!0)};c.ComponentDispatch.subscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){c.ComponentDispatch.unsubscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var I=function(e){
e.shiftKey?i.default.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!r}):b((function(e){return!e}))},T=y.default.Messages.NOTIFICATION_SETTINGS;return g(l.default,{shouldShow:O,animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return b(!1)},renderPopout:function(e){return a.createElement(p.default,E({},e,{channel:t,navId:"channel-context",label:y.default.Messages.CHANNEL_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.default.Icon,E({},e,{onClick:I,tooltip:n?null:T,icon:r||_!==v.UserNotificationSettings.ALL_MESSAGES?d.default:s.default,foreground:r?m.default.strikethrough:null,"aria-label":T,selected:n}))}))}b.displayName="ChannelNotificationSettingsButton"},764423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=_(n(83887)),u=n(433383),l=_(n(137438)),s=_(n(191391)),d=_(n(728429)),f=_(n(160629)),c=_(n(126344)),p=n(878556),v=n(956506),y=n(770348),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=(0,o.useStateFromStores)([l.default,d.default],(function(){var e=d.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!l.default.didAgree(t.getGuildId()))}),[t]),r=S(a.useState(!1),2),_=r[0],h=r[1],O=(0,o.useStateFromStores)([s.default],(function(){return s.default.hasUnreadPins(t.id)}),[t]),b=(0,u.useWindowDispatch)(),I=a.useCallback((function(){n||h((function(e){return!e}))}),[n]);a.useEffect((function(){v.ComponentDispatch.subscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I);return function(){
v.ComponentDispatch.unsubscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I)}}),[I]);function T(e){(null==e?void 0:e.shiftKey)||b.dispatch(y.ComponentActions.POPOUT_CLOSE)}return g(f.default,{shouldShow:_,animation:f.default.Animation.NONE,position:f.default.Positions.BOTTOM,align:f.default.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return h(!1)},renderPopout:function(e){return a.createElement(i.default,E({},e,{onJump:T,channel:t}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(p.Icon,E({},e,{onClick:I,tooltip:r?null:m.default.Messages.PINNED_MESSAGES,icon:c.default,"aria-label":m.default.Messages.PINNED_MESSAGES,disabled:n,showBadge:O,selected:r}))}))}b.displayName="ChannelPinsButton";var I=b;t.default=I},92332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=P;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=T(n(88500)),u=T(n(136873)),l=n(433383),s=T(n(825724)),d=T(n(185490)),f=T(n(493051)),c=T(n(30269)),p=T(n(27245)),v=T(n(635014)),y=T(n(290629)),m=T(n(387692)),_=T(n(730977)),h=T(n(119431)),g=T(n(79027)),E=T(n(878556)),S=n(956506),O=n(770348),b=n(376293),I=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,u=r.appContext,l=o?a.getRecipientId():null,s=function(){return i.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,l)};n?(0,c.default)(s,u):s()};t.handleJoinCall=function(e){u.default.selectVoiceChannel(t.props.channel.id,e)};t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)}
;t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)};t.handleJoinVideoCall=function(){var e=t.props.appContext;(0,c.default)((function(){return t.handleJoinCall(!0)}),e)};t.handleBrowserNotSupported=function(){(0,f.default)()};return t}var n=t.prototype;n.componentDidMount=function(){S.ComponentDispatch.subscribe(O.ComponentActions.CALL_START,this.handleVoiceClick)};n.componentWillUnmount=function(){S.ComponentDispatch.unsubscribe(O.ComponentActions.CALL_START,this.handleVoiceClick)};n.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===O.ChannelModes.VOICE)return null;var i,u=a.isManaged(),l=null,s=!1;if(v.default.supports(b.Features.VIDEO))if(n&&o===O.ChannelModes.VIDEO){i=this.handleJoinVideoCall;l=u?I.default.Messages.CONNECT:I.default.Messages.JOIN_VIDEO_CALL}else{i=this.handleStartVideoCall;l=u?I.default.Messages.CONNECT:I.default.Messages.START_VIDEO_CALL}else{s=!0
;i=this.handleBrowserNotSupported;l=I.default.Messages.BROWSER_NOT_SUPPORTED}return A(E.default.Icon,{icon:g.default,onClick:i,disabled:s||r,tooltip:l})};n.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel;if(t)return null;var o,i=a.isManaged(),u="",l=!1;if(r){u=i?I.default.Messages.VOICE_UNAVAILABLE:I.default.Messages.CALL_UNAVAILABLE;o=_.default.Colors.RED;l=!0}else u=n?i?I.default.Messages.CONNECT:I.default.Messages.JOIN_VOICE_CALL:i?I.default.Messages.CONNECT:I.default.Messages.START_VOICE_CALL;return A(E.default.Icon,{icon:h.default,onClick:this.handleVoiceClick,disabled:l,tooltip:u,tooltipColor:o})};n.render=function(){return A(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())};return t}(a.PureComponent);N.displayName="PrivateChannelCallButton";function P(e){var t=e.channel,n=(0,d.default)(),r=(0,o.useStateFromStores)([s.default],(function(){return s.default.getMode(t.id)})),a=(0,
o.useStateFromStores)([m.default],(function(){return m.default.isInChannel(t.id)})),i=(0,o.useStateFromStoresObject)([p.default],(function(){return{callActive:p.default.isCallActive(t.id),callUnavailable:p.default.isCallUnavailable(t.id)}})),u=i.callActive,f=i.callUnavailable,c=t.getRecipientId(),v=t.type===O.ChannelTypes.DM&&null!=c&&!y.default.isFriend(c),_=(0,l.useAppContext)();return n?null:A(N,{channel:t,mode:r,inCall:a,callActive:u,callUnavailable:f,notFriend:v,appContext:_})}P.displayName="ConnectedPrivateChannelCallButton"},789620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(278352)),i=n(439142);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l={init:function(){a.default.subscribe("VOICE_CHANNEL_SELECT",(function(e){null==e.channelId&&o.hideHotspot(i.HotspotLocations.VOICE_PANEL_INTRODUCTION)}))}};t.default=l},954481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useHubStudyGroupExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null
;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]});t.useHubStudyGroupExperiment=function(e){var t;r.useEffect((function(){null!=e&&e.hasFeature(o.GuildFeatures.HUB)&&u.trackExposure({guildId:e.id})}),[e]);return u.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(o.GuildFeatures.HUB)})};var l=u;t.default=l},241813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(689626)),i=f(n(81026)),u=f(n(876874)),l=f(n(728429)),s=n(770348),d=n(460703);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=function(e){var t=(0,a.useStateFromStores)([i.default],(function(){return(null==e?void 0:e.hasFeature(s.GuildFeatures.HUB))?i.default.hasViewedPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id):null})),n=(0,a.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()})),f=(0,a.useStateFromStores)([u.default],(function(){
return null!=(null==e?void 0:e.id)&&null!=n?u.default.getMember(null==e?void 0:e.id,n.id):null})),c=null!=(null==f?void 0:f.nick);r.useEffect((function(){c&&null!=e&&!1===t&&o.default.viewPrompt(d.GuildPrompts.REAL_NAME_PROMPT,e.id)}),[c,e,t]);return!1===t&&!c};t.default=p},404922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(956117)),i=n(645758),u=n(194322),l=d(n(247001)),s=d(n(773022));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.hasHub;return v("div",{className:s.default.container},void 0,v("div",{className:s.default.iconContainer},void 0,v("div",{
className:s.default.icon})),v(i.Text,{color:"header-primary",variant:"text-lg/semibold",className:s.default.header},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER),v(i.Text,{color:"header-secondary",variant:"text-sm/normal",className:s.default.description},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_CARD_DESCRIPTION),v("div",{className:s.default.gap}),v(o.default,{size:o.default.Sizes.LARGE,color:t?o.default.Colors.PRIMARY:o.default.Colors.GREEN,onClick:function(){return(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,v(i.Text,{variant:"text-sm/normal",
className:s.default.addButton,color:"none"},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL)))};y.displayName="HubDiscoveryAddHubCard";var m=y;t.default=m},562200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=c(n(415275)),i=c(n(871778)),u=c(n(2022)),l=n(772575),s=c(n(404922)),d=c(n(247001)),f=c(n(258199));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var m=v(s.default,{hasHub:!0}),_=v(s.default,{hasHub:!1}),h=function(e){var t=e.guilds,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.theme})),r=t.map((function(e){return v(u.default,{className:f.default.guildCard,onView:function(){
return o.default.transitionToGuildSync(e.id)},guild:y({},e,{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return v("section",{className:f.default.guildListSection},void 0,t.length>0?v("div",{},void 0,v(l.Heading,{className:f.default.title,variant:"heading-lg/medium",level:3},void 0,d.default.Messages.YOUR_HUB),v("div",{className:f.default.guildList},void 0,r,m)):v("div",{className:f.default.guildList},void 0,_))};h.displayName="HubDiscoveryGuildList";var g=h;t.default=g},666895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(6505),i=v(n(652566)),u=n(19652),l=n(645758),s=v(n(252004)),d=v(n(97751)),f=n(227445),c=v(n(247001)),p=v(n(596964));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=m(s.default,{}),h=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,r=e.currentCategoryId,s=(0,
a.useStateFromStores)([i.default],(function(){return i.default.hasHotspot(o.HotspotLocations.HUB_NEW)}));return m(d.default,{avatar:_,name:c.default.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){if((0,u.canShowAppUpsellModal)())(0,u.openAppUpsellModal)("Student Hubs");else{t(f.DISCORD_HUB_ID);(0,o.hideHotspot)(o.HotspotLocations.HUB_NEW)}},wrapContent:!0,selected:n&&f.DISCORD_HUB_ID===r,className:p.default.categoryItem,selectedClassName:p.default.selectedCategoryItem,innerClassName:p.default.itemInner},f.DISCORD_HUB_ID,s&&m("div",{className:p.default.new},void 0,m(l.Text,{color:"none",variant:"text-xs/semibold",className:p.default.newText},void 0,c.default.Messages.NEW)))};h.displayName="HubDiscoveryListItem";var g=h;t.default=g},39365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(772575),i=n(645758),u=y(n(582945)),l=n(465537),s=y(n(283642)),d=y(n(562200)),f=n(227445),c=y(n(247001)),p=y(n(250926)),v=y(n(237018));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.loadId,n=(0,s.default)();a.useEffect((function(){(0,l.trackDiscoveryViewed)({loadId:t,gamesYouPlayGuilds:[],allGuilds:[],categoryId:f.DISCORD_HUB_ID})}),[t]);return _(u.default,{className:p.default.scroller},void 0,_("div",{className:p.default.viewWrapper},void 0,_("div",{className:p.default.headerContainer},void 0,_("img",{alt:"",className:p.default.headerImage,src:v.default}),_("div",{className:p.default.headerContent},void 0,_(o.Heading,{className:p.default.headerText,variant:"heading-xl/medium",level:3},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),_(i.Text,{className:p.default.headerDescription,variant:"text-md/normal",color:"none"},void 0,c.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE))),_(d.default,{guilds:n}),_("div",{className:p.default.divider}),_(i.Text,{className:p.default.footerDescription,
variant:"text-md/medium",color:"header-secondary"},void 0,c.default.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION)))};h.displayName="HubDiscoveryPage";var g=h;t.default=g},529295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.HubEmailConnectionRoute=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(23170)),u=n(139982),l=m(n(30098)),s=m(n(795741)),d=m(n(194815)),f=n(549186),c=n(376022),p=n(770348),v=n(99043),y=m(n(400110));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.guildId,n=e.inviteCode,r=g(a.useState(v.WaveStates.INITIAL),2),m=r[0],_=r[1],E=g(a.useState(null!=n),2),S=E[0],O=E[1];a.useEffect((function(){null!=n&&i.default.resolveInvite(n,"Hub").finally((function(){return O(!1)}))}),[n]);var b=(0,o.useStateFromStores)([s.default],(function(){return null!=n?s.default.getInvite(n):null})),I=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}));a.useEffect((function(){null!=I&&(0,
u.transitionTo)(p.Routes.CHANNEL(t))}),[I,t]);var T=a.useCallback((function(e){_((function(t){return Math.max(t,e)}))}),[]),C=(0,f.getArtForPath)();return h("div",{className:y.default.page},void 0,h(d.default,{embedded:!0,splash:C,waveState:m,showLogo:!1,updateWaveState:T},void 0,h("div",{className:y.default.dragRegion}),h("div",{className:y.default.contentWrapper},void 0,!S&&h(c.HubEmailConnectionModalView,{invite:b}))))};t.HubEmailConnectionRoute=S;S.displayName="HubEmailConnectionRoute";var O=S;t.default=O},185836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(918667)),i=n(194322),u=n(770348),l=d(n(247001)),s=d(n(140561));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}function y(e){var t=e.guild,r=e.markAsDismissed;return c(o.default,{guild:t,onDismissed:r,onClick:function(){(0,i.openModalLazy)(v(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))},message:l.default.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:l.default.Messages.LEARN_MORE,trackingSource:u.ChannelNoticeCtaSources.HUB_LINK_NOTICE,type:u.ChannelNoticeTypes.HUB_LINK,image:s.default})}y.displayName="HubLinkChannelNotice"},283642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([o.default],(function(){var e=o.default.getGuilds()
;return Object.entries(e).filter((function(e){var t=u(e,2);t[0];return t[1].hasFeature(i.GuildFeatures.HUB)})).map((function(e){var t=u(e,2);t[0];return t[1]}))}))};var r,a=n(536211),o=(r=n(30098))&&r.__esModule?r:{default:r},i=n(770348);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},199808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;y(n(667294));var r,a=n(248088),o=n(536211),i=n(6505),u=y(n(517286)),l=p(n(689389)),s=p(n(365397)),d=p(n(782256)),f=n(864227),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getChannels(t.id)[u.GUILD_VOCAL_CHANNELS_KEY][0]})),r=(0,o.useStateFromStores)([l.default],(function(){return null!=n&&l.default.can(c.Permissions.CONNECT,n.channel)}));return t.hasFeature(c.GuildFeatures.HUB)?null==n?null:r?m(h,{channel:n.channel}):null:null};_.displayName="HubStudyRoomNoticeGuard";var h=function(e){
var t=e.channel,n=(0,o.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.HUB_STUDY_ROOM_NOTICE)})),r=(0,f.useConnectedInCurrentHub)(t.guild_id),u=(0,a.useSpring)({maxHeight:r?0:300,overflow:"hidden",delay:400});return m(a.animated.div,{style:u},void 0,n?m(s.default,{channel:t}):m(d.default,{name:"📚☕ "+t.name,channel:t}))};h.displayName="HubStudyRoomNotice";var g=_;t.default=g},365397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(294184)),o=n(6505),i=n(139982),u=n(637356),l=p(n(956117)),s=p(n(16941)),d=p(n(259530)),f=p(n(247001)),c=p(n(76889));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.channel;return y("div",{className:(0,a.default)(c.default.channelNotice,c.default.hubStudyGroup)},void 0,y(s.default,{onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE)},className:c.default.close,
"aria-label":f.default.Messages.DISMISS},void 0,y(d.default,{className:c.default.closeIcon})),y("div",{className:c.default.message},void 0,y("div",{className:c.default.title},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_TITLE),y("div",{className:c.default.description},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION),y(l.default,{className:c.default.btn,onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,u.connectAndOpen)(t);(0,i.transitionToGuild)(t.getGuildId(),t.id)}},color:l.default.Colors.GREEN},void 0,f.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA)))};m.displayName="HubStudyRoomNoticeOnboard";var _=m;t.default=_},782256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(341186),i=n(513696),u=d(n(487372)),l=d(n(247001)),s=d(n(692657));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t=e.name,n=e.channel,r=(0,a.useStateFromStoresArray)([u.default],(function(){return u.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),d=(0,o.getChannelIconComponent)(n);return c(i.GuildNoticeBody,{heading:l.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,location:l.default.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=d?c(d,{width:16,height:16,className:s.default.icon}):null},void 0,c(i.LiveVoiceOrStageChannelNotice,{channel:n,speakers:r,voiceType:i.VoiceChannelType.STUDY_ROOM}))}p.displayName="HubStudyRoomNoticeVoice";var v=p;t.default=v},42562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(918667)),o=d(n(68705)),i=d(n(966678)),u=n(770348),l=d(n(247001)),s=d(n(404474));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.guild,n=function(){return o.default.dismissNotice(t.id)};return c(a.default,{guild:t,onDismissed:n,
cta:l.default.Messages.COMMANDS_SCOPE_MIGRATION_CHANNEL_NOTICE_CTA,message:l.default.Messages.COMMANDS_SCOPE_MIGRATION_CHANNEL_NOTICE_CONTENT,type:u.ChannelNoticeTypes.COMMANDS_MIGRATION,image:s.default,onClick:function(){n();i.default.openModal(t.id,"notice")},imageMarginTop:15,imageMarginX:22})}p.displayName="CommandsMigrationChannelNotice"},936747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(308920));n(497655);var o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(e){return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t){var r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93212)]).then(n.bind(n,693212));case 2:r=e.sent;(0,r.openInteractionModal)(t);a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"interaction_modal",application_id:t.application.id});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={init:function(){r.default.subscribe("INTERACTION_MODAL_CREATE",s)},terminate:function(){r.default.unsubscribe("INTERACTION_MODAL_CREATE",s)}};t.default=f},497655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InteractionModalState=void 0;var r,a,o,i,u,l,s=y(n(441143)),d=y(n(536211)),f=y(n(636602)),c=y(n(786345)),p=n(81069),v=n(741464);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}t.InteractionModalState=r;!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED"
;e[e.SUCCEEDED=2]="SUCCEEDED"}(r||(t.InteractionModalState=r={}));var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getModalState=function(e){return e!==a?null:o};n.__getLocalVars=function(){return{currentNonce:a,currentState:o,queuedMessageId:i,queuedMessageChannelId:u,queuedMessageNonce:l}};return t}(d.default.Store);_.displayName="InteractionModalStore";var h=new _(f.default,{LOGOUT:function(){a=null;o=null;i=null;u=null;l=null;return!0},INTERACTION_MODAL_CREATE:function(e){if(e.nonce===l){c.default.deleteMessage(u,i,!0);i=null;u=null;l=null}return!1},INTERACTION_QUEUE:function(e){var t=e.messageId,n=e.nonce,d=e.data;switch(d.interactionType){case p.InteractionTypes.APPLICATION_COMMAND:i=t;u=d.channelId;l=n;return!1;case p.InteractionTypes.MODAL_SUBMIT:(0,s.default)(null==a||o===r.ERRORED||o===r.SUCCEEDED,"cannot submit multiple modals at once");a=n
;o=r.IN_FLIGHT;setTimeout((function(){a===n&&o===r.IN_FLIGHT&&(0,v.setFailed)(n)}),1e4);return!0;default:return!1}},INTERACTION_SUCCESS:function(e){var t=e.nonce;if(null==t||t!==a)return!1;o=r.SUCCEEDED;return!0},INTERACTION_FAILURE:function(e){var t=e.nonce;if(null==t||t!==a)return!1;o=r.ERRORED;return!0}});t.default=h},419523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=P(n(636602)),o=P(n(740207)),i=P(n(390557)),u=n(123516),l=P(n(105988)),s=P(n(177230)),d=n(747868),f=P(n(937196)),c=P(n(429074)),p=n(139982),v=P(n(610929)),y=n(205809),m=n(845634),_=P(n(607209)),h=P(n(644263)),g=P(n(635014)),E=P(n(211136)),S=P(n(663303)),O=P(n(728429)),b=P(n(81636)),I=P(n(945771)),T=P(n(949898)),C=n(864489),A=P(n(911110)),M=n(770348),N=n(376293);function P(e){return e&&e.__esModule?e:{default:e}}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){
var e=E.default.getVoiceChannelId(),t=h.default.getChannel(e);return(0,y.isSoundboardSupported)()&&(0,v.default)(t)}var D=((r={})[M.GlobalKeybindActions.TOGGLE_PRIORITY_SPEAKER]={onTrigger:function(){},keyEvents:{}},r[M.GlobalKeybindActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},r[M.GlobalKeybindActions.PUSH_TO_TALK]={onTrigger:function(e,t){if(g.default.getMode(t)===M.InputModes.PUSH_TO_TALK){D[M.GlobalKeybindActions.PUSH_TO_TALK].isPressed=e;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[M.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){if(g.default.getMode()===M.InputModes.PUSH_TO_TALK){D[M.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY].isPressed=e;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),N.MediaEngineContextTypes.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[M.GlobalKeybindActions.PUSH_TO_MUTE]={
onTrigger:function(e){if(g.default.getMode()===M.InputModes.VOICE_ACTIVITY&&!g.default.isSelfDeaf()){D[M.GlobalKeybindActions.PUSH_TO_MUTE].isPressed=e;o.default.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[M.GlobalKeybindActions.TOGGLE_MUTE]={onTrigger:function(){return o.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_DEAFEN]={onTrigger:function(){o.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=g.default.getMode()===M.InputModes.PUSH_TO_TALK?M.InputModes.VOICE_ACTIVITY:M.InputModes.PUSH_TO_TALK;o.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=b.default.enabled;i.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=(0,A.default)()
;null!=t&&(e?i.default.setUILocked(!I.default.isUILocked(t),t):i.default.setInputLocked(!b.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},r[M.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=b.default.getFocusedPID();null!=e&&(null!=e||!1)&&I.default.isPinned(M.OverlayWidgets.TEXT)&&b.default.isReady(e)&&b.default.isInputLocked(e)&&i.default.activateRegion(M.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]={onTrigger:function(){var e=O.default.getCurrentUser();if(null!=e){var t=_.default.getActiveStreamForUser(e.id);if(null!=t&&e.id===t.ownerId)return(0,u.stopStream)((0,d.encodeStreamKey)(t));(0,f.default)()}},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){l.default.setEnabled(!S.default.enabled)},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.NAVIGATE_BACK]={onTrigger:function(){return(0,p.back)()},
keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},r[M.GlobalKeybindActions.NAVIGATE_FORWARD]={onTrigger:function(){return(0,p.forward)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},r[M.GlobalKeybindActions.SOUNDBOARD]={onTrigger:function(){if(w())if(T.default.isFocused())(0,m.openSoundboardWindow)(!0);else{var e=(0,A.default)();null!=e&&(I.default.isUILocked(e)?(0,m.openSoundboardInOverlay)(!0,e):(0,m.closeSoundboardInOverlay)(e))}},keyEvents:{keyup:!0,keydown:!1}},r[M.GlobalKeybindActions.SOUNDBOARD_HOLD]={onTrigger:function(e){if(w()){var t=(0,A.default)();null==t?((0,C.isWindows)()||T.default.isFocused())&&e?(0,m.openSoundboardWindow)(!1):!e&&c.default.getWindowOpen(M.PopoutWindowKeys.SOUNDBOARD)&&(0,m.closeSoundboardWindow)():e?(0,m.openSoundboardInOverlay)(!1,t):(0,m.closeSoundboardInOverlay)(t)}},keyEvents:{keyup:!0,keydown:!0}},r),L=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.wait((function(){return a.default.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:D})}))};n._terminate=function(){};n.__getLocalVars=function(){return{KEYBINDS:D}};return t}(s.default));t.default=L},778885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=O(n(294184)),i=n(536211),u=O(n(415275)),l=O(n(408476)),s=n(139982),d=O(n(30098)),f=O(n(790597)),c=O(n(956117)),p=n(645758),v=O(n(889167)),y=I(n(465537)),m=O(n(930409)),_=n(770348),h=n(173652),g=O(n(247001)),E=O(n(5459)),S=O(n(944659));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(){var e=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuildId()}),[]),t=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuild(e)}),[e]),n=(0,i.useStateFromStores)([m.default],(function(){return m.default.getHistorySnapshot()}),[]),r=M(a.useState(!1),2),O=r[0],b=r[1];if(null==t)return null;var I=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0);e.prev=1;e.next=4;return u.default.joinGuild(t.id,{source:_.JoinGuildSources.NOTICE_BAR});case 4:y.trackGuildJoinClicked(t.id);if(!l.default.shouldShowOnboarding(t.id)){e.next=7;break}return e.abrupt("return",(0,s.transitionTo)(_.Routes.CHANNEL(t.id,h.StaticChannelRoute.GUILD_ONBOARDING)));case 7:e.next=12;break;case 9:e.prev=9;e.t0=e.catch(1);b(!1);case 12:case"end":return e.stop()}
}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return T("div",{className:(0,o.default)(E.default.notice,S.default.notice)},void 0,T(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,className:(0,o.default)(E.default.button,E.default.back),innerClassName:E.default.iconButton,onClick:function(){var e=(0,s.getHistory)();null!=n&&null!=n.location?(0,s.replaceWith)(A({},n.location)):e.goBack()}},void 0,T(v.default,{width:16,height:16,className:E.default.arrow}),g.default.Messages.BACK),T(p.Text,{className:E.default.header,variant:"text-sm/normal"},void 0,g.default.Messages.LURKER_MODE_NAG_BAR_HEADER),T(c.default,{className:E.default.button,look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,size:c.default.Sizes.NONE,submitting:O,onClick:I
},void 0,g.default.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})))};P.displayName="LurkerModeNotice";var R=P;t.default=R},316200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=i(n(636602)),o=i(n(177230));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=3e3,s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).clearErrorTimeout=new r.Timeout;t.handleNoiseCancellationError=function(){t.clearErrorTimeout.start(l,(function(){return a.default.dispatch({type:"MEDIA_ENGINE_NOISE_CANCELLATION_ERROR_RESET"})}))};return t}var n=t.prototype;n._initialize=function(){
a.default.subscribe("MEDIA_ENGINE_NOISE_CANCELLATION_ERROR",this.handleNoiseCancellationError)};n._terminate=function(){this.clearErrorTimeout.stop();a.default.unsubscribe("MEDIA_ENGINE_NOISE_CANCELLATION_ERROR",this.handleNoiseCancellationError)};n.__getLocalVars=function(){return{CLEAR_ERROR_MESSAGE_TIMEOUT:l}};return t}(o.default));t.default=s},999607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(118777)),i=u(n(353326));function u(e){return e&&e.__esModule?e:{default:e}}
function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){return e.toFixed(0)+"%"},f=a.forwardRef((function(e,t){var n=e.value,r=e.minValue,u=void 0===r?0:r,l=e.maxValue,f=void 0===l?100:l,c=e.onChange,p=e.renderValue,v=void 0===p?d:p,y=e["aria-label"],m=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=m.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=m.current)||void 0===e?void 0:e.blur()},
activate:function(){return!1}}}),[]);return s("div",{className:i.default.sliderContainer},void 0,a.createElement(o.default,{ref:m,mini:!0,handleSize:16,className:i.default.slider,initialValue:n,minValue:u,maxValue:f,onValueChange:c,asValueChanges:c,onValueRender:v,orientation:"horizontal","aria-label":y}))}));t.default=f},531671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.acceptMessageRequest=function(e){return f.apply(this,arguments)};t.clearMessageRequestState=function(e){return r.default.put({url:u.Endpoints.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:i.MessageRequestConsentStatusTypes.UNSPECIFIED}})};t.fetchUserCountryCode=function(){o.default.getLocationMetadata()};t.markAsMessageRequest=function(e){return r.default.put({url:u.Endpoints.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:i.MessageRequestConsentStatusTypes.PENDING}})};t.rejectMessageRequest=function(e){return r.default.delete({url:u.Endpoints.CHANNEL_RECIPIENT_CONSENT(e)})}
;var r=l(n(118915)),a=l(n(636602)),o=l(n(939949)),i=n(854978),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(){return(f=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return r.default.put({url:u.Endpoints.CHANNEL_RECIPIENT_CONSENT(t),body:{consent_status:i.MessageRequestConsentStatusTypes.ACCEPTED}});case 3:a.default.dispatch({type:"MESSAGE_REQUEST_ACCEPT_SUCCESS",channelId:t});e.next=10;break;case 6:e.prev=6;e.t0=e.catch(0);a.default.dispatch({type:"MESSAGE_REQUEST_ACCEPT_FAILURE",channelId:t});throw e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])
})))).apply(this,arguments)}},491043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageRequestAnalyticsAction=t.MESSAGE_REQUEST_ACCEPT_CONFIRMATION_MODAL=t.LIST_SECTION_HEIGHT=t.LIST_ROW_HEIGHT=void 0;var n;t.MESSAGE_REQUEST_ACCEPT_CONFIRMATION_MODAL="Message Request Accept Confirmation";t.MessageRequestAnalyticsAction=n;!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.REJECT=1]="REJECT";e[e.ACCEPT_CONFIRMATION_PROMPT=2]="ACCEPT_CONFIRMATION_PROMPT";e[e.DISMISS_CONFIRMATION_PROMPT=3]="DISMISS_CONFIRMATION_PROMPT"}(n||(t.MessageRequestAnalyticsAction=n={}));t.LIST_ROW_HEIGHT=73;t.LIST_SECTION_HEIGHT=26},401638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=n(973400),o=l(n(177230)),i=n(531671),u=l(n(255186));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=new Set,f=new Set,c=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);r.default.subscribe("CHANNEL_SELECT",this.handleChannelSelect);r.default.subscribe("MESSAGE_REQUEST_ACCEPT_SUCCESS",this.handleMessageRequestActionSuccess);r.default.subscribe("MESSAGE_REQUEST_ACCEPT_FAILURE",this.handleMessageRequestActionFailure)};n._terminate=function(){r.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);r.default.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect);r.default.unsubscribe("MESSAGE_REQUEST_ACCEPT_SUCCESS",this.handleMessageRequestActionSuccess);r.default.unsubscribe("MESSAGE_REQUEST_ACCEPT_FAILURE",this.handleMessageRequestActionFailure)};n.handleConnectionOpen=function(){d.clear();f.clear()};n.handleChannelSelect=function(e){var t=e.channelId;if(null!=t&&(0,a.isMessageRequestsEnabled)()){
if(u.default.isMessageRequest(t)&&!f.has(t)&&!d.has(t)){f.add(t);(0,i.acceptMessageRequest)(t)}}};n.handleMessageRequestActionSuccess=function(e){var t=e.channelId;f.delete(t);d.add(t)};n.handleMessageRequestActionFailure=function(e){var t=e.channelId;f.delete(t)};n.__getLocalVars=function(){return{autoAcceptedMessageRequests:d,pendingMessageRequests:f}};return t}(o.default));t.default=c},73034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openAcceptMessageRequestConfirmModal=function(e){var t=e.channelId,r=e.onConfirm,s=e.onCancel;i.default.track(l.AnalyticEvents.OPEN_MODAL,{type:u.MESSAGE_REQUEST_ACCEPT_CONFIRMATION_MODAL,channel_id:t});(0,o.openModalLazy)(c(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(33382)]).then(n.bind(n,733382));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,d({
onConfirm:r,onDismiss:s},e))}));case 5:case"end":return e.stop()}}),e)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(308920))&&r.__esModule?r:{default:r},u=n(491043),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},854978:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageRequestConsentStatusTypes=void 0;var n;t.MessageRequestConsentStatusTypes=n;!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED";e[e.PENDING=1]="PENDING";e[e.ACCEPTED=2]="ACCEPTED";e[e.REJECTED=3]="REJECTED"}(n||(t.MessageRequestConsentStatusTypes=n={}))},305321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsMessageRequest=function(e){var t=(0,o.useIsMessageRequestsEnabled)();return(0,a.useStateFromStores)([i.default],(function(){return t&&i.default.isMessageRequest(e)}),[t,e])};var r,a=n(536211),o=n(973400),i=(r=n(255186))&&r.__esModule?r:{default:r}},937719:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.useMessageRequestActions=function(e){var t=e.user,n=e.onSuccess,p=e.onError,v=(0,d.default)(),y=_(r.useState(!1),2),h=y[0],g=y[1],E=_(r.useState(!1),2),S=E[0],O=E[1],b=_(r.useState(!1),2),I=b[0],T=b[1],C=_(r.useState(!1),2),A=C[0],M=C[1],N=_(r.useState(!1),2),P=N[0],R=N[1],w=h||S||I,D=r.useCallback(function(){var e=m(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:g(!0);e.prev=3;e.next=6;return(0,l.acceptMessageRequest)(t);case 6:M(!0);n();e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);r=new a.APIError(e.t0);p(r);case 14:e.prev=14;g(!1);return e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[w,p,n]),L=r.useCallback(function(){var e=m(regeneratorRuntime.mark((function e(t){var r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:O(!0);e.prev=3;e.next=6;return(0,l.rejectMessageRequest)(t);case 6:R(!0);n();e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);r=new a.APIError(e.t0);p(r);case 14:e.prev=14;O(!1);return e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[w,p,n]),k=r.useCallback(function(){var e=m(regeneratorRuntime.mark((function e(n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:if(null==t||null!=o.default.getMutualGuilds(t.id)){e.next=14;break}T(!0);e.prev=4;e.next=7;return(0,i.default)(t.id,t.getAvatarURL(void 0,80),{withMutualGuilds:!0});case 7:e.next=11;break;case 9:e.prev=9;e.t0=e.catch(4);case 11:e.prev=11;T(!1);return e.finish(11);case 14:r=function(){
var e,r=null!=t?null===(e=o.default.getMutualGuilds(t.id))||void 0===e?void 0:e.map((function(e){return e.guild.id})):[];u.default.track(c.AnalyticEvents.MESSAGE_REQUEST_ACTION,{action:f.MessageRequestAnalyticsAction.DISMISS_CONFIRMATION_PROMPT,channel_id:n,mutual_guild_ids:null!=r?r:[],other_user_id:null==t?void 0:t.id})};a=function(){var e=m(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null!=t?null===(r=o.default.getMutualGuilds(t.id))||void 0===r?void 0:r.map((function(e){return e.guild.id})):[];u.default.track(c.AnalyticEvents.MESSAGE_REQUEST_ACTION,{action:f.MessageRequestAnalyticsAction.ACCEPT_CONFIRMATION_PROMPT,channel_id:n,mutual_guild_ids:null!=a?a:[],other_user_id:null==t?void 0:t.id});e.next=4;return D(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.openAcceptMessageRequestConfirmModal)({channelId:n,onConfirm:a,onCancel:r});case 17:
case"end":return e.stop()}}),e,null,[[4,9,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[D,w,t]);return{acceptMessageRequest:v?k:D,rejectMessageRequest:L,isAcceptLoading:h,isRejectLoading:S,isUserProfileLoading:I,isOptimisticAccepted:A,isOptimisticRejected:P}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(327269),o=p(n(715419)),i=p(n(711195)),u=p(n(308920)),l=n(531671),s=n(73034),d=p(n(14343)),f=n(491043),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},14343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([l.default],(function(){return l.default.getUserCountryCode()})),t=!1===(0,a.useStateFromStores)([i.default],(function(){var e;return null===(e=i.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed})),n=(0,o.forceConfirmationOnAccept)();r.useEffect((function(){null==e&&(0,u.fetchUserCountryCode)()}),[e]);if(n)return!0;if(null==e||!f.has(e.alpha2))return!1;if(!t)return!1;return!0};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(973400),i=s(n(728429)),u=n(531671),l=s(n(255186));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=new Set(["GB","US"])},864347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){(0,a.useStateFromStores)([o.default],(function(){return o.default.getPrivateChannelsVersion()}));var e=(0,a.useStateFromStoresArray)([o.default,u.default],(function(){
var e=u.default.getSortedMessageRequestChannelIds(),t=o.default.getMutablePrivateChannels();return e.map((function(e){return t[e]})).filter((function(e){return null!=e}))})),t=(0,a.useStateFromStoresObject)([i.default],(function(){var t={};e.forEach((function(e){var n=i.default.getUser(e.recipients[0]);null!=n&&(t[e.id]=n)}));return t}),[e]);return r.useMemo((function(){return e.map((function(e){return{channel:e,user:t[e.id]}}))}),[e,t])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=l(n(644263)),i=l(n(728429)),u=l(n(255186));function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},979197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(16941)),u=d(n(730977)),l=d(n(810919)),s=d(n(569915));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){
c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(l.default,{dotRadius:2,themed:!0});function y(e){var t=e.icon,n=e.tooltip,r=e.onClick,l=e.className,d=e.hovered,f=e.loading,y=e.disabled,m=f?v:p(t,{className:s.default.icon});return p(u.default,{text:n},void 0,(function(e){var t,u;return a.createElement(a.Fragment,null,y?a.createElement("div",c({},e,{"aria-label":n,className:(0,
o.default)(s.default.actionButton,l,(t={},t[s.default.hovered]=d,t))}),m):a.createElement(i.default,c({},e,{"aria-label":n,onClick:r,className:(0,o.default)(s.default.actionButton,l,(u={},u[s.default.hovered]=d,u))}),m))}))}y.displayName="MessageRequestActionButton"},228431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageRequestDMBanner=I;var r,a=E(n(667294)),o=n(536211),i=n(960736),u=h(n(546914)),l=n(502546),s=h(n(644263)),d=h(n(728429)),f=E(n(956117)),c=n(767019),p=n(143586),v=n(937719),y=n(658616),m=h(n(247001)),_=h(n(157358));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=n(513157);function b(e){var t=e.channel,n=t.id,r=(0,o.useStateFromStores)([d.default],(function(){return d.default.getUser(t.recipients[0])}),[t]),i=(0,v.useMessageRequestActions)({user:r,onSuccess:function(){u.default.closeChannelSidebar(l.MESSAGE_REQUESTS_BASE_CHANNEL_ID)},onError:function(){(0,p.showToast)((0,
c.createToast)(m.default.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,y.ToastType.FAILURE))}}),s=i.acceptMessageRequest,h=i.rejectMessageRequest,g=i.isAcceptLoading,E=i.isRejectLoading,O=i.isUserProfileLoading,b=i.isOptimisticAccepted,I=i.isOptimisticRejected,T=g||E||O||(b||I);return null==r?null:a.createElement(a.Fragment,null,S(f.default,{className:_.default.largeButton,look:f.default.Looks.LINK,size:f.default.Sizes.SMALL,color:f.default.Colors.TRANSPARENT,disabled:T,submitting:g||O||b,onClick:function(e){e.stopPropagation();s(n)}},void 0,m.default.Messages.MESSAGE_REQUEST_ACCEPT),S(f.default,{className:_.default.largeButton,look:f.default.Looks.FILLED,size:f.default.Sizes.SMALL,color:f.ButtonColors.RED,submitting:E||I,disabled:T,onClick:function(e){e.stopPropagation();h(n)}},void 0,m.default.Messages.MESSAGE_REQUEST_IGNORE))}function I(e){var t=e.channelId,n=(0,o.useStateFromStores)([s.default],(function(){return s.default.getChannel(t)}),[t]);return S(i.MessageNoticeBanner,{
bannerIcon:O,bannerHeader:m.default.Messages.MESSAGE_REQUEST_BANNER_TITLE,bannerSubtext:m.default.Messages.MESSAGE_REQUEST_BANNER_SUBTITLE},void 0,null!=n&&S(b,{channel:n}))}I.displayName="MessageRequestDMBanner"},495096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(74854)),u=n(798628),l=n(378158),s=c(n(314234)),d=n(491043),f=c(n(789358));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){
m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.children,r=e.user,c=e.channel,p=e.onClick,m=e.isFocused,g=e.isActive,E=e.onOtherHover,S=e.className,O=h(a.useState(!1),2),b=O[0],I=O[1],T=h(a.useState(!1),2),C=T[0],A=T[1],M=function(){I(m);!m||g||C||null==E||E()},N=function(){I(!1)};return v(u.ListNavigatorItem,{id:c.id},void 0,(function(e){var u;return v(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,y({className:(0,o.default)(f.default.messageRequestItem,S,(u={},u[f.default.active]=g||C,u)),onContextMenu:function(e){return function(e,t){if(null!=t){A(!0);(0,l.openContextMenuLazy)(e,_(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{user:t}))}));case 5:case"end":
return e.stop()}}),e)}))),{onClose:function(){A(!1)}})}}(e,r)},onMouseEnter:M,onMouseLeave:N,onClick:null!=p?p:void 0,style:{LIST_ROW_HEIGHT:d.LIST_ROW_HEIGHT,opacity:1}},e),t(b||g||C)))}))}E.displayName="MessageRequestItem";var S=E;t.default=S},152892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=G(n(667294)),o=j(n(294184)),i=n(370405),u=n(798628),l=n(536211),s=G(n(588136)),d=G(n(174851)),f=j(n(864345)),c=j(n(415391)),p=j(n(688855)),v=j(n(526098)),y=j(n(463024)),m=n(887299),_=G(n(502546)),h=j(n(871778)),g=j(n(737705)),E=j(n(161669)),S=j(n(325908)),O=j(n(521358)),b=n(518802),I=j(n(255186)),T=n(344014),C=j(n(864347)),A=j(n(933596)),M=n(491043),N=n(770348),P=j(n(247001)),R=j(n(928064)),w=j(n(149563)),D=j(n(96972)),L=j(n(540579)),k=["ref","role"];function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var W=H(g.default.Image,{width:415,height:200,lightSrc:L.default,darkSrc:D.default});function V(){var e=(0,l.useStateFromStores)([h.default],(function(){return h.default.theme}));return H(g.default,{theme:e,className:R.default.emptyStateContainer},void 0,W,H(g.default.Text,{note:P.default.Messages.MESSAGE_REQUESTS_EMPTY_STATE_BODY}))}V.displayName="MessageRequestsEmptyState";function Y(){var e=a.useRef(null),t=(0,C.default)(),n=(0,c.default)("message-requests-list"),r=(0,l.useStateFromStores)([_.default],(function(){return _.default.getSidebarState(_.MESSAGE_REQUESTS_BASE_CHANNEL_ID)})),i=a.useCallback((function(e){var n,a,i,u=e.row,l=t[u],s=null===(n=t[u-1])||void 0===n||null===(a=n.channel)||void 0===a?void 0:a.id,d=l.channel.id,f=null==r||r.type!==_.SidebarType.VIEW_CHANNEL?null:r.channelId,c=null!=f&&d===f,p=null!=f&&d===s;return H(A.default,{className:(0,o.default)((i={},i[R.default.selected]=c,
i[R.default.siblingSelected]=p,i)),channel:l.channel,user:l.user},d)}),[t,r]),s=a.useCallback((function(){return H(S.default,{className:R.default.sectionTitle},"title",P.default.Messages.MESSAGE_REQUESTS)}),[]);return H(u.ListNavigatorProvider,{navigator:n},void 0,H(u.ListNavigatorContainer,{},void 0,(function(n){var r=n.ref,o=n.role,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(n,k);return a.createElement(O.default,B({key:"message-requests-list",className:R.default.list,innerRole:o,innerAriaLabel:P.default.Messages.MESSAGE_REQUESTS,ref:function(t){var n;e.current=t;r.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:M.LIST_SECTION_HEIGHT,rowHeight:M.LIST_ROW_HEIGHT,renderSection:s,renderRow:i,sections:[t.length],fade:!0},u))})))}Y.displayName="MessageRequestsList";function K(e){var t=e.pageWidth,n=e.onSidebarResize,r=(0,
l.useStateFromStores)([_.default],(function(){return _.default.getSidebarState(_.MESSAGE_REQUESTS_BASE_CHANNEL_ID)}));if(null==r||r.type!==_.SidebarType.VIEW_PRIVATE_CHANNEL)return null;var a=t-N.DEFAULT_MESSAGE_REQUEST_SIDEBAR_WIDTH;return H(d.default,{sidebarType:d.ChatSidebarType.MessageRequestSidebar,maxWidth:a,onWidthChange:n},void 0,H(p.default,{channelId:r.channelId,baseChannelId:_.MESSAGE_REQUESTS_BASE_CHANNEL_ID}))}K.displayName="MessageRequestSidebar";var z=H(i.Helmet,{title:"Discord"}),$=H(y.default.Icon,{icon:E.default,"aria-hidden":!0}),q=H(v.default,{}),X=H(V,{}),Q=H(Y,{});var Z=(0,f.default)((function(e){var t,n=e.width;a.useEffect((function(){s.setHomeLink(N.Routes.MESSAGE_REQUESTS);(0,m.trackAppUIViewed)("message-requests")}),[]);var r=(0,l.useStateFromStores)([h.default],(function(){return h.default.theme})),i=(0,T.useMessageRequestsCount)(),u=F(a.useState(!1),2),d=u[0],f=u[1],c=(0,l.useStateFromStores)([_.default,I.default],(function(){
var e=_.default.getSidebarState(_.MESSAGE_REQUESTS_BASE_CHANNEL_ID);return null!=e&&e.type===_.SidebarType.VIEW_PRIVATE_CHANNEL&&I.default.isMessageRequest(e.channelId)}));return a.createElement(a.Fragment,null,z,H("div",{className:(0,o.default)(w.default.chat,R.default.container,(t={},t[w.default.threadSidebarOpen]=c,t[w.default.threadSidebarFloating]=c&&d,t))},void 0,H(y.default,{className:(0,b.getThemeClass)(r)},void 0,$,H(y.default.Title,{},void 0,P.default.Messages.MESSAGE_REQUESTS),q),H("div",{className:w.default.content},void 0,0===i?X:Q)),c&&H(K,{pageWidth:n,onSidebarResize:function(e,t){f(t)}}))}));t.default=Z},933596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=E(n(730381)),o=E(n(546914)),i=n(502546),u=E(n(992193)),l=E(n(259530)),s=E(n(268478)),d=n(767019),f=n(143586),c=E(n(71636)),p=n(937719),v=E(n(979197)),y=E(n(495096)),m=E(n(836717)),_=n(770348),h=E(n(247001)),g=E(n(712755));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e){var t,n,r=e.className,E=e.channel,S=e.user,b=function(e){e.stopPropagation();o.default.openPrivateChannelAsSidebar({channelId:E.id,baseChannelId:i.MESSAGE_REQUESTS_BASE_CHANNEL_ID})},T=(0,p.useMessageRequestActions)({user:S,onSuccess:function(){o.default.closeChannelSidebar(i.MESSAGE_REQUESTS_BASE_CHANNEL_ID)},onError:function(){(0,f.showToast)((0,d.createToast)(h.default.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,d.ToastType.FAILURE))}
}),C=T.acceptMessageRequest,A=T.rejectMessageRequest,M=T.isAcceptLoading,N=T.isRejectLoading,P=T.isUserProfileLoading,R=T.isOptimisticAccepted,w=T.isOptimisticRejected,D=M||N||P,L=D||(R||w),k=function(){var e=I(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation();e.next=3;return A(E.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=I(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation();e.next=3;return C(E.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=null!==(t=null===(n=(0,a.default)(c.default.extractTimestamp(E.lastMessageId)))||void 0===n?void 0:n.calendar())&&void 0!==t?t:h.default.Messages.MESSAGE_REQUEST_INCOMING;return O(y.default,{className:r,isFocused:!1,channel:E,user:S,onClick:b
},void 0,(function(e){return O("div",{className:g.default.container},void 0,null!=S?O(m.default,{user:S,hovered:e,status:_.StatusTypes.UNKNOWN,subText:h.default.Messages.MESSAGE_REQUEST_INCOMING,secondaryText:U}):null,O("div",{className:g.default.actions},void 0,O(v.default,{icon:s.default,tooltip:h.default.Messages.MESSAGE_REQUEST_PREVIEW,onClick:b,hovered:e,disabled:D}),O(v.default,{icon:u.default,className:g.default.actionAccept,tooltip:h.default.Messages.MESSAGE_REQUEST_ACCEPT,onClick:j,hovered:e,disabled:L,loading:M||P||R}),O(v.default,{icon:l.default,className:g.default.actionDeny,tooltip:h.default.Messages.MESSAGE_REQUEST_IGNORE,onClick:k,hovered:e,disabled:L,loading:N||w})))}))}T.displayName="PendingMessageRequestRow"},836717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(294184)),o=n(536211),i=c(n(252149)),u=c(n(435160)),l=c(n(290629)),s=n(645758),d=c(n(628551)),f=c(n(749421));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function y(e){var t,n=e.user,r=e.hovered,c=e.status,p=e.isMobile,y=e.className,m=e.secondaryText,_=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return v("div",{className:(0,a.default)(f.default.userInfo,y,(t={},t[f.default.hovered]=r,t))},void 0,v(u.default,{user:n,className:f.default.avatar,size:d.default.Sizes.SIZE_40,animate:r,status:c,isMobile:p}),v("div",{className:f.default.content},void 0,v(i.default,{nick:_,user:n,className:f.default.userName,usernameClass:f.default.username,discriminatorClass:f.default.discriminator,botClass:f.default.botTag}),v(s.Text,{color:"text-muted",variant:"text-xs/normal"},void 0,m)))}y.displayName="UserInfo"},960736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageNoticeBanner=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(157358));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){
var t=e.bannerIcon,n=e.bannerHeader,r=e.bannerSubtext,i=e.containerStyles,u=e.headerStyles,s=e.children;return l("div",{className:o.default.spamBanner},void 0,l("div",{className:(0,a.default)(o.default.bannerTextContainer,i)},void 0,"string"==typeof t?l("img",{src:t,alt:"",className:o.default.bannerIcon}):t,l("div",{className:o.default.bannerText},void 0,l("div",{className:(0,a.default)(o.default.bannerHeader,u)},void 0,n),l("div",{className:o.default.bannerSubtext},void 0,r))),l("div",{className:o.default.actionButtons},void 0,s))}s.displayName="MessageNoticeBanner"},152577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r};var o={closeSidebar:function(){a.default.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},openSidebar:function(){a.default.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})}};t.default=o},31427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=n(171236),a=i(n(536211)),o=i(n(636602));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=!1;var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getIsOpen=function(){return!r.isMobile||l};n.__getLocalVars=function(){return{isSidebarOpen:l}};return t}(a.default.Store);s.displayName="MobileWebSidebarStore";var d=new s(o.default,{MOBILE_WEB_SIDEBAR_OPEN:function(){l=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){l=!1}});t.default=d},486030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(667294)),a=l(n(636602)),o=l(n(177230)),i=d(n(108101)),u=n(194322);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){
return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o]
;(t=e.call.apply(e,[this].concat(a))||this)._openReportMessageModal=function(e){var t=e.channel,n=e.message;(0,u.openModal)((function(e){return r.createElement(i.default,f({channel:t,message:n},e))}),{modalKey:i.REPORT_MESSAGE_MODAL_KEY})};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe("REPORT_MESSAGE_MODAL_OPEN",this._openReportMessageModal)};n._terminate=function(){a.default.unsubscribe("REPORT_MESSAGE_MODAL_OPEN",this._openReportMessageModal)};n.__getLocalVars=function(){return{}};return t}(o.default));t.default=p},394614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-04_account_profile_popout",label:"Account Profile Popout",defaultConfig:{isPopupEnabled:!1,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1},treatments:[{id:1,label:"Enable Account Profile Popout",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1}
},{id:2,label:"Enable Account Profile Popout w/ DiscordTag button",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!0}}]});t.default=r},590886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeAccount=function(e){o.default.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})};t.switchAccount=function(e){var t=r.default.getToken(e);if(null==t){o.default.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e});return}o.default.dispatch({type:"LOGOUT",isSwitchingAccount:!0});i.default.loginToken(t,!0);(0,u.transitionTo)(d.Routes.ME)};t.validateMultiAccountTokens=function(){var e=l.default.getId();s.default.getUsers().forEach(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,u,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id;if(null!=(u=r.default.getToken(i))&&""!==u){t.next=5;break}o.default.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:i})
;return t.abrupt("return");case 5:o.default.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:i});t.prev=6;t.next=9;return a.default.get({url:d.Endpoints.ME,headers:{authorization:u},retries:3});case 9:l=t.sent;t.next=17;break;case 12:t.prev=12;t.t0=t.catch(6);s=401===(null===t.t0||void 0===t.t0?void 0:t.t0.status)||403===(null===t.t0||void 0===t.t0?void 0:t.t0.status);o.default.dispatch({type:s?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:i});return t.abrupt("return");case 17:o.default.dispatch({type:e===i?"CURRENT_USER_UPDATE":"USER_UPDATE",user:l.body});o.default.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:i});case 19:case"end":return t.stop()}}),t,null,[[6,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())}
;var r=f(n(653795)),a=f(n(118915)),o=f(n(636602)),i=f(n(939949)),u=n(139982),l=f(n(423046)),s=f(n(915574)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},393200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;var a=(0,((r=n(822350))&&r.__esModule?r:{default:r}).default)({id:"2022-07_user_panel_context_menu_profile_entrypoint_behavior",label:"User Panel Context Menu Profile Entrypoint (behavior)",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.default=a},874792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;var a=(0,((r=n(822350))&&r.__esModule?r:{default:r}).default)({id:"2022-07_user_panel_context_menu_profile_entrypoint",label:"User Panel Context Menu Profile Entrypoint",kind:"user",defaultConfig:{
entryPointTexti18nKey:void 0},treatments:[{id:1,label:"Customize Your Profile",config:{entryPointTexti18nKey:"PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE"}},{id:2,label:"Customize Your Profile With Nitro",config:{entryPointTexti18nKey:"PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE_LONGER"}}]});t.default=a},958474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){return f.apply(this,arguments)};var r=n(894826),a=u(n(690445)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){
var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(){return(f=d(regeneratorRuntime.mark((function e(t,n,u){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n=a.default.getStatus());e.next=3;return r.StatusSetting.updateSetting(t);case 3:s={next_status:t,prev_status:n};null!=u&&(s=l({},s,{},u));o.default.track(i.AnalyticEvents.USER_STATUS_UPDATED,s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},393742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountUsers=function(){var e=(0,a.useStateFromStoresObject)([u.default],(function(){return{isLoading:u.default.getIsValidatingUsers(),multiAccountUsers:u.default.getUsers()}}));r.useEffect((function(){o.default.wait((function(){i.validateMultiAccountTokens()}))}),[]);return e};var r=d(n(667294)),a=n(536211),o=l(n(636602)),i=d(n(590886)),u=l(n(915574));function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}},359150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}
var l=i("rect",{width:232,height:72,rx:36,fill:"#fff"}),s=i("g",{clipPath:"url(#prefix__clip0_1283_59574)"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),i("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),i("path",{d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),i("path",{d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),i("path",{d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),i("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",fill:"#6E2B17"}),i("path",{d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),i("path",{
d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),i("path",{d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),i("path",{d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),i("path",{d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"}),i("path",{d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),i("path",{
d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),i("path",{d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),i("path",{d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),i("path",{d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",fill:"#D4BF9B"}),i("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),i("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),i("path",{
d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),i("path",{d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),i("path",{d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),i("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),i("path",{
d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),i("path",{d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),i("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),i("path",{d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),i("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),i("path",{
d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),i("path",{d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),i("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),i("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),i("path",{
d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),i("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),i("path",{d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),i("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),i("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),i("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})),d=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:82,cy:36,r:2
}),i("circle",{cx:90,cy:36,r:2}),i("circle",{cx:98,cy:36,r:2})),f=i("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660"},void 0,i("path",{d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})),c=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:134,cy:36,r:2}),i("circle",{cx:142,cy:36,r:2}),i("circle",{cx:150,cy:36,r:2})),p=i("g",{clipPath:"url(#prefix__clip2_1283_59574)"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),i("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),i("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),i("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),i("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),i("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),i("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),i("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),i("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),i("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),i("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),i("path",{d:"M214.658 37.261z",fill:"#DE548C"}),i("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),i("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),i("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),i("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),i("path",{
d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),i("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),i("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})),v=i("defs",{},void 0,i("clipPath",{id:"prefix__clip0_1283_59574"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("clipPath",{id:"prefix__clip1_1283_59574"},void 0,i("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})),i("clipPath",{id:"prefix__clip2_1283_59574"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("linearGradient",{id:"prefix__paint0_linear_1283_59574",
x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})),i("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})));function y(e){return a.createElement("svg",u({width:232,height:72,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l,s,d,f,c,p,v)}y.displayName="MultiAccountWelcomeIcon"},907567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ne
;var r,a=K(n(667294)),o=V(n(294184)),i=V(n(441143)),u=n(171236),l=n(536211),s=n(483559),d=V(n(226800)),f=n(556470),c=V(n(319879)),p=n(179714),v=K(n(145122)),y=V(n(286004)),m=V(n(959806)),_=n(288702),h=V(n(426178)),g=V(n(784073)),E=V(n(607209)),S=V(n(423086)),O=V(n(788739)),b=V(n(663303)),I=V(n(728429)),T=V(n(41024)),C=V(n(12713)),A=n(3400),M=n(194322),N=n(660590),P=V(n(308920)),R=V(n(838583)),w=n(873838),D=V(n(393200)),L=V(n(874792)),k=V(n(958474)),j=n(678620),U=V(n(241505)),G=n(770348),F=n(474477),x=n(348478),B=n(248348),H=V(n(247001)),W=V(n(215433));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))}}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){
o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function J(e,t,n,r){return Z(v.MenuItem,{id:e,keepItemStyles:!0,render:function(t){var n=t.isFocused;return Z("div",{className:W.default.statusItem},void 0,Z(N.Status,{status:e,className:W.default.icon,size:10,color:n?"currentColor":void 0}),Z("div",{className:W.default.status},void 0,(0,w.humanizeStatus)(e)),null!=r&&Z("div",{className:W.default.description},void 0,r))},action:function(){return(0,k.default)(e,t,n)}})}J.displayName="renderStatusItem";var ee=Z(v.MenuSeparator,{},"menu-separator-statuses");function te(e){var t=e.user,r=e.customStatus,i=e.guildId,s=e.hidePersonalInformation,E=e.isApplicationStreaming,S=e.onClose,b=e.onSelect,I=e.closePopout,k=(0,f.useAnalyticsContext)(),V=(0,
g.default)(t.id,i),Y=void 0,K=null!=(null==V?void 0:V.banner),z=R.default.canUsePremiumProfileCustomization(t),Q=L.default.useExperiment({},{autoTrackExposure:!z}).entryPointTexti18nKey,te=void 0!==Q&&!z,ne=(0,l.useStateFromStoresArray)([O.default],(function(){var e,n=t.id;return"string"!=typeof n?[void 0,G.StatusTypes.UNKNOWN,!1]:[null!==(e=O.default.findActivity(n,(function(e){return e.type!==G.ActivityTypes.CUSTOM_STATUS})))&&void 0!==e?e:void 0,O.default.getStatus(n),O.default.isMobileOnline(n)]})),re=X(ne,3),ae=re[0],oe=re[1],ie=re[2],ue=function(e,t){return a.createElement(a.Fragment,null,J(G.StatusTypes.ONLINE,e,t),ee,J(G.StatusTypes.IDLE,e,t),J(G.StatusTypes.DND,e,t,H.default.Messages.STATUS_DND_HELP),J(G.StatusTypes.INVISIBLE,e,t,H.default.Messages.STATUS_INVISIBLE_HELPER))}(oe,k);a.useEffect((function(){P.default.track(G.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=r,other_user_id:t.id,application_id:null!=ae?ae.application_id:void 0,
is_streaming:E,application_name:null!=ae?ae.name:void 0,profile_has_nitro_customization:null!=(null==V?void 0:V.banner),location:k.location})}),[]);var le=(0,j.useMultiAccountMenuItems)(),se=(0,p.useCustomStatusMenuItem)(null!=r?r:void 0);return Z(v.default,{navId:"account",style:v.MenuStyle.FIXED,"aria-label":H.default.Messages.SET_STATUS,hideScroller:!0,className:W.default.menu,onClose:S,onSelect:b},void 0,Z(v.MenuGroup,{className:W.default.profileGroup},void 0,Z(v.MenuControlItem,{id:"avatar"},void 0,Z(_.UserPopoutAvatar,{displayProfile:V,hasPreviewBanner:K,user:t,status:(0,c.default)(ae)?G.StatusTypes.STREAMING:oe,isMobile:ie,guildId:i,onClose:I,disableUserProfileLink:__OVERLAY__}),Z(y.default,{displayProfile:V,user:t,onClose:I,guildId:null!=i?i:void 0,bannerType:B.UserBannerTypes.POPOUT})),Z(v.MenuControlItem,{id:"info"},void 0,Z(_.UserPopoutInfo,{shouldCopyOnClick:!0,user:t,nickname:Y,onOpenPremiumSettings:function(){P.default.track(G.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{
location_page:null,location_section:G.AnalyticsSections.PROFILE_POPOUT,location_object:G.AnalyticsObjects.TOOLTIP});d.default.open(G.UserSettingsSections.PREMIUM);null==I||I()},usernameIcon:t.hasAvatarForGuild(null!=i?i:void 0)&&Z(h.default,{user:t,nickname:Y}),hasCustomStatus:null!=r}),Z("div",{className:W.default.profileBody},void 0,Z(m.default,{displayProfile:V,activity:ae,customStatusActivity:r,canDM:!1,user:t,guild:null,guildMember:null,hideNote:!0,setNote:!1,hidePersonalInformation:s})))),Z(v.MenuGroup,{},void 0,Z(v.MenuItem,{id:"status-picker",label:(0,w.humanizeStatus)(oe),action:u.isMobile?function(){(0,M.openModalLazy)((function(){return new Promise((function(e){e((function(e){return a.createElement(A.ModalRoot,q({},e,{size:A.ModalSize.SMALL,className:W.default.modal,"aria-label":H.default.Messages.SET_STATUS}),Z(v.default,{navId:"account",style:v.MenuStyle.FIXED,"aria-label":H.default.Messages.SET_STATUS,hideScroller:!0,className:W.default.menu,onClose:e.onClose,
onSelect:e.onClose},void 0,ue))}))}))}))}:void 0,showIconFirst:!0,icon:function(e){var t=e.className,n=e.isFocused;return Z(N.Status,{status:oe,size:12,className:(0,o.default)(t,W.default.mainStatusIcon),color:n?"currentColor":void 0})}},"status-picker",u.isMobile?void 0:ue),se,te?Z(v.MenuItem,{id:"style-your-profile",color:F.MenuItemColor.BRAND,label:H.default.Messages[Q],action:function(){if(D.default.getCurrentConfig({},{autoTrackExposure:!z}).enabled){P.default.track(G.AnalyticEvents.OPEN_MODAL,{type:G.AnalyticsSections.AGGREGATE_PREMIUM_UPSELL_MODAL,location:{section:G.AnalyticsSections.PROFILE_POPOUT}});(0,M.openModalLazy)($(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50254)]).then(n.bind(n,950254));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,q({},e,{
ingressPremiumFeatureId:x.PremiumFeaturesEnum.PREMIUM_FEATURE_CUSTOM_PROFILES_ID}))}));case 5:case"end":return e.stop()}}),e)}))))}else(0,M.openModalLazy)($(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(87096).then(n.bind(n,887096));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,q({},e,{source:{section:G.AnalyticsSections.PROFILE_POPOUT,object:G.AnalyticsObjects.BUTTON_CTA}}))}));case 5:case"end":return e.stop()}}),e)}))))},icon:T.default,showIconFirst:!0},"style-your-profile"):null),Z(v.MenuGroup,{},void 0,Z(v.MenuItem,{id:"switch-account",label:H.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,icon:C.default,showIconFirst:!0,action:U.default},"switch-account",le)))}te.displayName="AccountProfilePopout";function ne(e){var t=e.userId,n=e.user,r=e.guildId,o=e.onClose,u=e.onSelect,d=(0,l.useStateFromStores)([I.default],(function(){
return I.default.getUser(t)}),[t]),f=(0,l.useStateFromStores)([S.default],(function(){return S.default.getCustomStatusActivity()})),c=X(a.useState(!1),2),p=c[0],v=c[1],y=null!=d?d:n,m=(0,l.useStateFromStores)([b.default],(function(){return b.default.hidePersonalInformation})),_=(0,l.useStateFromStores)([E.default],(function(){return null!=y&&null!=E.default.getStreamForUser(y.id)}));a.useEffect((function(){null==d&&function(){e.apply(this,arguments)}();function e(){return(e=$(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=4;break}e.next=3;return(0,s.getUser)(t);case 3:v(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[d,t]);if(null==y){p&&(0,i.default)(null!=y,"Unexpected missing user");return null}return Z(te,{closePopout:o,user:y,customStatus:f,guildId:r,hidePersonalInformation:m,isApplicationStreaming:_,onClose:o,onSelect:u})}
ne.displayName="AccountProfilePopoutContainer"},719637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(972247)),i=p(n(956117)),u=n(645758),l=p(n(359150)),s=n(198622),d=n(770348),f=p(n(247001)),c=p(n(342983));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){o.default.set(s.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");null==e||e()}function _(e){var t=e.markAsDismissed;a.useEffect((function(){var e=function(e){e.keyCode===d.KeyboardKeys.ESCAPE&&m(t)};window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);a.useEffect((function(){return function(){m()}}),[]);return y("div",{className:c.default.container},void 0,y(l.default,{className:c.default.icon}),y(u.Text,{className:c.default.title,variant:"text-sm/normal"},void 0,f.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TOOLTIP_TITLE),y(u.Text,{variant:"text-sm/normal",className:c.default.subTitle
},void 0,f.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:s.MAX_ACCOUNTS-1})),y(i.default,{look:i.default.Looks.INVERTED,fullWidth:!0,onClick:function(){return m(t)}},void 0,f.default.Messages.GOT_IT),y("div",{className:c.default.pointer}))}_.displayName="MultiAccountCTATooltip"},241505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){(0,i.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(25108)]).then(n.bind(n,825108));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){o.default.dispatch({type:"CLEAR_AUTHENTICATION_ERRORS"});o.default.dispatch({type:"LOGIN_RESET",isMultiAccount:!0})},modalKey:u.SWITCH_ACCOUNTS_MODAL_KEY})};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(198622);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},678620:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountMenuItems=function(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.getCurrentUser()})),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.hidePersonalInformation})),n=(0,_.useMultiAccountUsers)().multiAccountUsers,r=n.map((function(n){var r=new u.default(n),a=r.id===(null==e?void 0:e.id),o=n.tokenStatus===m.MultiAccountTokenStatus.INVALID,l=t?null:"#"+r.discriminator;return T(i.MenuItem,{id:r.id,focusedClassName:S.default.focused,label:function(e){var t=e.isFocused;return T("div",{className:S.default.userMenuItem},void 0,T(p.default,{src:r.getAvatarURL(void 0,40),size:p.default.Sizes.SIZE_24,"aria-label":n.username}),T("div",{className:S.default.userMenuUsername},void 0,T(d.Text,{className:S.default.userMenuText,variant:"text-sm/normal"},void 0,r.toString()),T(d.Text,{className:S.default.userMenuDiscriminator,variant:"text-sm/normal"},void 0,l)),a&&T(f.default,{
color:t?g.Colors.WHITE:g.Colors.BRAND_500,backgroundColor:t?g.Colors.BRAND_500:g.Colors.WHITE,width:18,height:18,className:S.default.activeIcon}),o&&T(c.default,{color:g.Colors.STATUS_RED,backgroundColor:g.Colors.WHITE,width:15,height:15,className:S.default.activeIcon}))},action:function(){o?(0,h.default)():function(t){if(t!==(null==e?void 0:e.id)){v.default.track(g.AnalyticEvents.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:g.AnalyticsSections.PROFILE_POPOUT}});y.switchAccount(t)}}(r.id)}},r.id)}));r.push(a.createElement(a.Fragment,null,C,T(i.MenuItem,{id:"manage-accounts",label:E.default.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:h.default})));return r};var r,a=I(n(667294)),o=n(536211),i=n(145122),u=O(n(759027)),l=O(n(663303)),s=O(n(728429)),d=n(645758),f=O(n(474026)),c=O(n(417184)),p=O(n(628551)),v=O(n(308920)),y=I(n(590886)),m=n(915574),_=n(393742),h=O(n(241505)),g=n(770348),E=O(n(247001)),S=O(n(519276));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var C=T(i.MenuSeparator,{})},594570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ICON_SIZE=void 0;t.ICON_SIZE=64},737050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mount=function(){a.default.dispatch({type:"NOW_PLAYING_MOUNTED"})};t.unmount=function(){a.default.dispatch({type:"NOW_PLAYING_UNMOUNTED"})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},4865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStoresObject)([f.default,s.default,d.default],(function(){return{nowPlayingCards:f.default.nowPlayingCards,loaded:f.default.loaded,needsRefresh:s.default.needsRefresh(),fetching:s.default.getFetching(),currentUser:d.default.getCurrentUser()}})),t=e.nowPlayingCards,n=e.loaded,r=e.needsRefresh,o=e.fetching,l=e.currentUser;a.useEffect((function(){u.default.wait((function(){return m.mount()}));return function(){return u.default.wait((function(){return m.unmount()}))
}}),[null==l?void 0:l.id]);a.useEffect((function(){r&&!o&&P()}),[r,o]);var p=null;if(!n)return M("div",{className:b.default.emptyCard},void 0,R);p=t.length>0?t.map((function(e){var t=e.party;return M(N,{party:t},t.id)})):M("div",{className:b.default.emptyCard},void 0,M(c.Heading,{variant:"heading-md/medium",className:b.default.emptyHeader,level:5},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER),M(y.Text,{color:"none",className:b.default.emptyText,variant:"text-sm/normal"},void 0,O.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY));return a.createElement(a.Fragment,null,p)};var r,a=C(n(667294)),o=I(n(496486)),i=n(536211),u=I(n(636602)),l=C(n(314022)),s=I(n(538983)),d=I(n(728429)),f=I(n(730655)),c=n(772575),p=I(n(160629)),v=I(n(80828)),y=n(645758),m=C(n(737050)),_=I(n(133260)),h=I(n(317134)),g=I(n(863946)),E=I(n(854923)),S=I(n(884809)),O=I(n(247001)),b=I(n(399978));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=(0,S.default)((function(e){var t=e.party,n=e.onUserContextMenu,r=e.onChannelContextMenu,o=M(h.default,{party:t,onUserContextMenu:n}),i=M(_.default,{party:t,onChannelContextMenu:r}),u=M("div",{},void 0,o,i);return null!=o||null!=i?M(p.default,{position:p.default.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return M(E.default,{party:t,close:n})},spacing:8},void 0,(function(e,t){var n=t.isShown;return a.createElement(g.default,A({},e,{className:b.default.itemCard,active:n}),u)})):null})),P=o.default.throttle((function(){return l.fetchUserAffinities(!1)}),3e5),R=M(v.default,{})},133260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.party,n=e.onChannelContextMenu,r=t.voiceChannels,v=t.currentActivities,y=t.partiedMembers,m=t.applicationStreams,E=t.guildContext,S=[],O=function(e){var t,n,r=S.length;if(0!==r){var a=S[r-1],o=""+(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),i=(""+(null!==(n=null==a?void 0:a.key)&&void 0!==n?n:"")).startsWith("game")&&o.startsWith("rich-presence");S.push(h(f.default.Separator,{inset:i},"sep-"+o));S.push(e)}else S.push(e)};r.length>0&&r.forEach((function(e){var t=e.members,r=e.channel,a=e.guild;O(h(f.default.VoiceSection,{guild:a,channel:r,members:t,partySize:g(t),onChannelContextMenu:n,onGuildClick:function(){(0,l.transitionToGuild)(a.id)}},"voice-"+r.id))}));for(var b,I=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.currentActivities);!(b=I()).done;){var T=b.value.activity;if(null!=T){var C=d.createBody(T);if(null!=C){O(C);break}}}m.length>0&&m.forEach((function(e){var t=e.stream,n=e.streamUser,r=e.activity;O(h(f.default.ApplicationStreamingSection,{guildId:null==E?void 0:E.id,user:n,activity:r,applicationStream:t,onPreviewClick:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)}},"application-stream-"+t.ownerId))}));v.forEach((function(e,t){
var n=e.activity,a=e.game,o=e.playingMembers,l=e.activityUser;if(null==n||null==n.type)return null;if(v.length>1&&n.type===p.ActivityTypes.PLAYING&&!(0,i.hasRichActivity)(n)&&null!=a){var d,m;O(h(f.default.GameSection,{icon:a.getIconURL(c.ICON_SIZE),name:a.name,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},members:o},"game-"+(null!==(d=n.session_id)&&void 0!==d?d:t)+"-"+(null!==(m=n.application_id)&&void 0!==m?m:t)))}else if((0,u.default)(n)){var _,g=new Set(o.map((function(e){return e.id}))),S=null===(_=r.find((function(e){return null!=e})))||void 0===_?void 0:_.channel;null!=S&&O(h(f.default.EmbeddedActivitySection,{activity:n,participants:g,channel:S,guildId:S.guild_id},"embedded-activity-"+n.application_id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==p.ActivityTypes.PLAYING)if((0,i.isStreaming)(n)){var b,I=r.length>0&&r[0].members.length>1,T=o.length>1;O(h(f.default.TwitchSection,{guildId:null==E?void 0:E.id,activity:n,user:I||T?l:null,
getAssetImage:s.getAssetImage},"streaming-"+(null!==(b=n.session_id)&&void 0!==b?b:t)))}else if((0,i.isListeningOnSpotify)(n)){var C;O(h(f.default.SpotifySection,{activity:n,isSolo:1===y.length,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},getAssetImage:s.getAssetImage,members:o},"spotify-"+(null!==(C=n.session_id)&&void 0!==C?C:t)+"-"+l.id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==p.ActivityTypes.LISTENING){if((0,i.isOnXbox)(n)){var A;O(h(f.default.XboxSection,{title:a.name},"xbox-"+(null!==(A=n.session_id)&&void 0!==A?A:t)))}}else{var M;O(h(f.default.RichPresenceSection,{activity:n,getAssetImage:s.getAssetImage},"rich-presence-"+(null!==(M=n.session_id)&&void 0!==M?M:t)+"-"+l.id))}else{var N;O(h(f.default.RichPresenceSection,{activity:n,getAssetImage:s.getAssetImage},"rich-presence-"+(null!==(N=n.session_id)&&void 0!==N?N:t)+"-"+l.id))}}));return S.length>0?h(f.default.Body,{},void 0,S):null};m(n(667294))
;var r,a=v(n(136873)),o=n(123516),i=n(144166),u=v(n(762605)),l=n(95034),s=n(698243),d=m(n(101047)),f=v(n(863946)),c=n(594570),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0);n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}}},101047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createBody=function(e){var t,n=e.application_id;if(null==n)return;var r=f[n];if(null!=(null==r?void 0:r.body)&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))){var a=r.body;return d("section",{className:l.default.section},"delegate-"+n,d(a,{activity:e}))}};t.createHeader=function(e){var t,n=e.application_id;if(null==n)return;var r=f[n]
;if(null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e)))return r.createHeader(e)};t.shouldShowActivity=function(e){var t,n=e.application_id;if(null==n)return!0;var r=f[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o,i=n(248414),u=n(808961),l=(r=n(885836))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r){
o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=((a={})[u.STAGE_APPLICATION_ID]=new i.StageChannelNowPlayingDelegate,a)},317134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=p(n(441143)),o=n(144166),i=p(n(762605)),u=p(n(73393)),l=y(n(101047)),s=p(n(863946)),d=n(594570),f=n(770348),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.party,r=e.onUserContextMenu,p=t.priorityMembers,v=t.guildContext,y=p[0],_=function(e){
var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),a=n.filter((function(e){return!r.has(e.id)})),o=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:i});default:return c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:i,extras:n.length-2})}}(t),h=function(e){var t,r=e.priorityMembers,p=e.partiedMembers,v=e.voiceChannels,y=e.currentActivities,_=r.length,h=_+(p.length-_)===1,g=y[0],E=null==g?void 0:g.activity,S=null==g?void 0:g.startedPlayingTime,O={name:null!==(t=null==E?void 0:E.name)&&void 0!==t?t:""};if((0,i.default)(E)&&null!=E)return{subtitle:m(u.default,{start:S,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null};if(h&&null!=g){var b=g.game;if(null==E)return{subtitle:null,icon:null};var I=l.createHeader(E)
;if(null!=I)return I;switch(E.type){case f.ActivityTypes.PLAYING:return(0,o.isOnXbox)(E)?{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.XBOX})}:{subtitle:m(u.default,{start:S,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null!=b?m(s.default.Header.Icon,{src:null!=b.getIconURL(d.ICON_SIZE)?b.getIconURL(d.ICON_SIZE):n(534413)}):null};case f.ActivityTypes.STREAMING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=b&&null!=b.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):null};case f.ActivityTypes.LISTENING:var T;T=(0,o.isListeningOnSpotify)(E)?m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY}):null!=b.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):m(s.default.Header.Icon,{src:n(534413)});return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_LISTENING.format({name:E.name}),
icon:T};case f.ActivityTypes.WATCHING:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=b&&null!=b.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:b.getIconURL(d.ICON_SIZE)}):null};default:return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===y.length){if(v.length>0)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var C=y[0];if(null!=C){var A=C.activity;if(null!=A){var M=l.createHeader(A);if(null!=M)return M}if(null!=A&&A.type===f.ActivityTypes.LISTENING)return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY})}}}else if(1===y.length){var N=y.find((function(e){return null!=e.activity}));if(null==N)return{subtitle:null,icon:null};var P=N.activity,R=N.game,w=N.startedPlayingTime;(0,a.default)(null!=P,"Activity was null somehow");return{subtitle:m(u.default,{start:w,
location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:O}),icon:null!=R&&null!=R.getIconURL(d.ICON_SIZE)?m(s.default.Header.Icon,{src:R.getIconURL(d.ICON_SIZE)}):null}}return{subtitle:c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:m(s.default.Header.Icon,{src:s.default.Header.Icon.Src.MULTIPLE})}}(t),g=h.subtitle,E=h.icon;return m(s.default.Header,{priorityUser:y,guildId:null==v?void 0:v.id,title:_,subtitle:g,icon:E,onContextMenu:function(e){return r(e,y.user)}})}_.displayName="NowPlayingHeader"},863946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=X(n(294184)),i=X(n(213192)),u=n(536211),l=X(n(675060)),s=n(556470),d=X(n(155502)),f=X(n(516325)),c=X(n(309994)),p=X(n(93392)),v=X(n(853177)),y=X(n(969015)),m=X(n(319879)),_=X(n(663953)),h=X(n(93879)),g=X(n(697749)),E=X(n(37039)),S=X(n(678928)),O=X(n(314234)),b=n(385753),I=X(n(645923)),T=n(830543),C=X(n(423046)),A=X(n(644263)),M=X(n(288356)),N=X(n(728429)),P=X(n(974661)),R=X(n(956117)),w=X(n(16941)),D=X(n(562475)),L=X(n(73393)),k=X(n(427370)),j=n(645758),U=X(n(803949)),G=X(n(11888)),F=X(n(303213)),x=X(n(149982)),B=X(n(628551)),H=X(n(528175)),W=n(698243),V=n(71246),Y=X(n(316681)),K=n(770348),z=X(n(247001)),$=X(n(885836)),q=["children","className"];function X(e){return e&&e.__esModule?e:{default:e}}function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function Z(){Z=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Z.apply(this,arguments)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){te=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return te(e,t)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var re=64,ae=160,oe=[14,14,12,12,10,8,6],ie=function(e,t){void 0===t&&(t=null);return ne(j.Text,{className:(0,o.default)($.default.textContent,t),variant:"text-sm/semibold"},void 0,e)}
;ie.displayName="renderSectionTitle";var ue=function(e,t){void 0===t&&(t=null);return ne(j.Text,{className:(0,o.default)($.default.textContent,t),variant:"text-xs/normal"},void 0,e)};ue.displayName="renderSectionText";var le=(0,l.default)((function(e){var t=e.message;return ne("div",{className:$.default.timestamp},void 0,t)})),se=function(e){var t=e.children;return ne("section",{className:$.default.section},void 0,t)};se.displayName="Section";var de=function(e){var t,n=e.inset,r=e.className;return ne("div",{className:(0,o.default)($.default.separator,(t={},t[$.default.inset]=n,t),r)})};de.displayName="Separator";var fe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;te(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,v.default)(t)||(0,y.default)(t))return null;e=(0,p.default)(t)?ne(le,{timestamps:n}):ne(L.default,{
start:n.start,end:n.end,location:L.default.Locations.USER_ACTIVITY,className:$.default.playTime});return ue(e)};r.render=function(){var e,t,r,a=this.props,i=a.activity,u=i.assets,l=i.details,s=i.state,d=i.application_id,f=a.getAssetImage;return ne(se,{},void 0,ne("div",{className:$.default.activitySection},void 0,null!=u&&0!==Object.keys(u).length?ne("div",{className:$.default.activitySectionAssets},void 0,ne("img",{alt:null!==(e=u.large_text)&&void 0!==e?e:"",src:f(d,u.large_image,[ae,ae]),className:(0,o.default)($.default.largeImage,(t={},t[$.default.largeImageMask]=null!=u.small_image,t))}),null!=u.small_image?ne("img",{alt:null!==(r=u.small_text)&&void 0!==r?r:"",src:f(d,u.small_image,[re,re]),className:$.default.smallImage}):null):ne("div",{className:$.default.activitySectionAssets},void 0,ne("img",{alt:"",src:n(534413),className:$.default.largeImage
})),ne("div",{},void 0,ie(null!=l&&""!==l?l:z.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=s?ue(s):null,this.renderTimePlayed())))};return t}(a.Component);fe.displayName="RichPresenceSection";var ce=ne("div",{}),pe=function(e){var t,n,r=e.activity,a=r.assets,i=r.details,u=r.state,l=r.application_id,s=e.partySize,d=e.members,f=e.isSolo,c=e.getAssetImage;return ne(se,{},void 0,ne("div",{className:$.default.spotifySection},void 0,null!=a?ne("div",{className:$.default.activitySectionAssets},void 0,ne("img",{alt:null!==(t=a.large_text)&&void 0!==t?t:"",src:c(l,a.large_image,[ae,ae]),className:(0,o.default)($.default.largeImage,$.default.borderRadius0,(n={},n[$.default.largeImageMask]=null!=a.small_image,n))}),f?null:ne(G.default,{className:$.default.smallImage,color:K.Colors.SPOTIFY})):ce,ne("div",{},void 0,null!=i?ie(i):null,null!=u?ue(u):null),ne(Y.default,{minAvatarsShown:f?2:1,partySize:s,members:d})))};pe.displayName="SpotifySection";var ve=function(e){
var t,r,a=e.activity,i=e.user,u=e.getAssetImage,l=e.guildId,s=a.name,f=a.details,p=a.assets,v=a.application_id;if(null!=p&&(0,m.default)(a)){var y;r=ne(P.default,{className:$.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,ne(w.default,{href:(0,c.default)(a),tag:"a",target:"_blank"},void 0,ne("img",{alt:null!==(y=p.large_text)&&void 0!==y?y:"",src:u(v,p.large_image,[900,500]),className:$.default.twitchSectionPreview}),ne("img",{src:n(182105),className:$.default.twitchSectionPlayButton,alt:""})))}return ne(se,{},void 0,ne("div",{className:(0,o.default)((t={},t[$.default.twitchSectionSimple]=null==i,t[$.default.twitchSectionFull]=null!=i,t))},void 0,ne("img",{alt:"",src:d.default.get(K.PlatformTypes.TWITCH).icon.lightSVG,className:$.default.twitchSectionIcon}),ne("div",{},void 0,ie(s),null!=f?ue(f):null),null!=i?ne(B.default,{src:i.getAvatarURL(l,24),"aria-label":i.username,className:$.default.twitchSectionAvatar,size:B.default.Sizes.SIZE_24}):null),r)}
;ve.displayName="TwitchSection";var ye=function(e){var t,n,r=e.guild,i=e.channel,u=e.onGuildClick,l=e.partySize,s=e.members,d=e.onChannelContextMenu,f=a.useRef(null),c=(0,S.default)(i,!0);return ne(se,{},void 0,a.createElement("div",{className:$.default.voiceSection,ref:f,onContextMenu:function(e){return d(e,i)}},ne(w.default,{onClick:u,"aria-hidden":!0,tabIndex:-1},void 0,ne("div",{className:$.default.voiceSectionAssets},void 0,null!=r.getIconURL(32)?ne("img",{alt:"",src:null!==(t=r.getIconURL(32))&&void 0!==t?t:void 0,className:(0,o.default)($.default.voiceSectionGuildImage,$.default.largeImageMask)}):ne("div",{className:$.default.voiceSectionNoGuildImageWrapper},void 0,ne("div",{className:$.default.voiceSectionNoGuildImage,style:{fontSize:null!==(n=oe[r.acronym.length])&&void 0!==n?n:oe[oe.length-1]}},void 0,r.acronym)),ne("div",{className:$.default.voiceSectionIconWrapper},void 0,ne(x.default,{className:$.default.voiceSectionIcon})))),ne(w.default,{onClick:u,focusProps:{
ringTarget:f}},void 0,ne("div",{className:$.default.voiceSectionDetails},void 0,ie(r.toString(),$.default.voiceSectionText),ue(c,$.default.voiceSectionText))),ne(Y.default,{partySize:l,members:s,guildId:r.id})))};ye.displayName="VoiceSection";var me=function(e){var t=e.title;return ne(se,{},void 0,ne("div",{className:$.default.xboxSection},void 0,ne(F.default,{className:$.default.xboxSectionIcon}),ne("div",{className:$.default.xboxSectionDetails},void 0,ie(t),ue(z.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};me.displayName="XboxSection";var _e=function(e){var t=e.icon,n=e.name,r=e.partySize,a=e.members;return ne(se,{},void 0,ne("div",{className:$.default.gameSection},void 0,null!=t?ne("img",{alt:"",src:t,className:$.default.gameSectionIcon}):null,ne("div",{},void 0,ie(n),ue(z.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:r.totalSize}))),ne(Y.default,{partySize:r,members:a})))};_e.displayName="GameSection";var he=function(e){
var t,n=e.activity,r=e.user,a=e.applicationStream,o=e.onPreviewClick,i=e.guildId,l=(0,u.useStateFromStores)([A.default],(function(){return A.default.getChannel(a.channelId)})),s=J((0,b.useCanWatchStream)(l),2),d=s[0],f=s[1],c=ne(P.default,{className:$.default.applicationStreamingPreviewWrapper,aspectRatio:16/9},void 0,ne(w.default,{onClick:d?o:void 0,className:$.default.applicationStreamingPreviewSize},void 0,ne(I.default,{stream:a,className:$.default.applicationStreamingPreviewSize}),ne("div",{className:$.default.applicationStreamingHoverWrapper},void 0,ne("div",{className:$.default.applicationStreamingHoverText},void 0,(0,b.getStreamCTAString)(f))))),p=null!==(t=(0,_.default)(n,a))&&void 0!==t?t:z.default.Messages.SHARING_SCREEN;return ne(se,{},void 0,ne("div",{className:$.default.applicationStreamingSection},void 0,ne(B.default,{size:B.default.Sizes.SIZE_32,src:r.getAvatarURL(i,32),"aria-label":r.username,className:$.default.applicationStreamingAvatar
}),ne("div",{},void 0,ie(r.toString()),ue(p)),ne(H.default,{size:H.default.Sizes.SMALL})),c)};he.displayName="ApplicationStreamingSection";var ge=function(e){var t,n=e.activity,r=e.channel,o=e.guildId,i=e.participants,l=(0,h.default)(),d=J(a.useState(null),2),c=d[0],p=d[1];a.useEffect((function(){null!=n.application_id&&(0,W.getAssetIds)(n.application_id,["embedded_background"]).then((function(e){var t=J(e,1)[0];return p(t)}))}),[n.application_id]);var v=(0,u.useStateFromStoresArray)([N.default,C.default],(function(){return Array.from(i).map((function(e){return C.default.getId()===e?null:N.default.getUser(e)})).filter(V.isNotNullish)})),y=(0,s.useAnalyticsContext)(),m=(0,E.default)().analyticsLocations,_=M.default.getGame(null!==(t=null==n?void 0:n.application_id)&&void 0!==t?t:"");if(null==_)return null;var S=null!=n.created_at&&n.created_at>0?{start:n.created_at}:void 0,O=(0,W.getAssetImage)(_.id,c,300);return ne(se,{},void 0,ne("div",{className:$.default.embeddedActivityTopRow
},void 0,ne(D.default,{game:_,size:D.default.Sizes.XSMALL,className:$.default.embeddedActivityIcon}),ne("div",{className:$.default.embeddedActivityName},void 0,ne(j.Text,{variant:"text-sm/semibold"},void 0,_.name)),null!=S?ne("div",{className:$.default.embeddedActivityTimeElapsed},void 0,ne(j.Text,{color:"text-muted",variant:"text-sm/normal"},void 0,ne(le,{timestamps:S}))):null),ne(P.default,{aspectRatio:16/9},void 0,ne("div",{className:$.default.embeddedActivityPlayerContainer},void 0,null!=O?ne("img",{src:O,alt:_.name,className:$.default.embeddedActivityImage}):null,ne("div",{className:$.default.embeddedActivityImageOverlay},void 0,ne(T.Avatars,{users:v,guildId:o,channelId:r.id}),ne("div",{className:$.default.embeddedActivityJoinWrapper},void 0,ne(R.default,{size:R.default.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,f.default)({activity:n,currentEmbeddedApplication:l,activityChannelId:r.id,locationObject:y.location,embeddedActivitiesManager:g.default,analyticsLocations:m})
}},void 0,z.default.Messages.JOIN))))))};ge.displayName="EmbeddedActivitySection";var Ee=(0,i.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),Se=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case Ee.XBOX:t=ne(F.default,{className:$.default.headerIcon,color:K.Colors.PRIMARY_DARK_300});break;case Ee.SPOTIFY:t=ne(G.default,{className:$.default.headerIcon,color:K.Colors.SPOTIFY});break;case Ee.MULTIPLE:t=ne("div",{className:$.default.multipleIconWrapper},void 0,ne(U.default,{className:(0,o.default)($.default.headerIcon,$.default.multipleIcon),color:K.Colors.PRIMARY_DARK_300}));break;default:t=ne("img",{src:null!=n?n:void 0,alt:"",className:$.default.headerIcon})}return null!=r||null!=a?ne(w.default,{onClick:r,className:(0,o.default)(null!=r?$.default.clickableIcon:""),onContextMenu:a},void 0,t):t};Se.Src=Ee;var Oe=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,a=e.icon,i=e.onContextMenu,u=e.guildId;return ne("header",{
className:null!=a?$.default.headerFull:$.default.headerSimple},void 0,ne(B.default,{src:t.user.getAvatarURL(u,32),"aria-label":t.user.username,size:B.default.Sizes.SIZE_32,className:$.default.headerAvatar,status:t.status,onContextMenu:i}),ne("div",{className:$.default.headerDetails},void 0,ne(j.Text,{className:(0,o.default)($.default.textContent),variant:"text-md/semibold"},void 0,n),ne(j.Text,{color:"header-secondary",className:$.default.textContent,variant:"text-sm/normal"},void 0,r)),null!=a?a:null)};Oe.displayName="NowPlayingHeader";Oe.Icon=Se;var be=function(e){var t=e.children;return ne(k.default,{inset:!0,padded:!1,className:$.default.body},void 0,t)};be.displayName="NowPlayingBody";var Ie=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,q);return ne(O.default,{},void 0,a.createElement(k.default,Z({className:(0,o.default)(n,$.default.wrapper),
padded:!0},r),t))};Ie.displayName="NowPlayingItem";Ie.Header=Oe;Ie.Body=be;Ie.Separator=de;Ie.VoiceSection=ye;Ie.GameSection=_e;Ie.RichPresenceSection=fe;Ie.XboxSection=me;Ie.SpotifySection=pe;Ie.TwitchSection=ve;Ie.ApplicationStreamingSection=he;Ie.EmbeddedActivitySection=ge;var Te=Ie;t.default=Te},352636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(923387),i=h(n(284382)),u=h(n(954140)),l=h(n(37039)),s=h(n(305081)),d=h(n(717681)),f=h(n(8549)),c=n(772575),p=h(n(582945)),v=h(n(4865)),y=n(770348),m=h(n(247001)),_=h(n(716875));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=E(v.default,{});function O(){var e=(0,l.default)(u.default.ACTIVE_NOW_COLUMN).AnalyticsLocationProvider,t=(0,a.useStateFromStores)([f.default],(function(){
return f.default.hasConsented(y.Consents.PERSONALIZATION)}))?[]:[o.DismissibleContent.NOW_PLAYING_CONSENT_CARD];return E(e,{},void 0,E(i.default,{section:y.AnalyticsSections.ACTIVE_NOW_COLUMN},void 0,E("div",{className:_.default.container},void 0,E(p.default,{className:_.default.scroller},void 0,E(c.Heading,{variant:"heading-lg/medium",className:_.default.header,level:3},void 0,m.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),E(s.default,{contentTypes:t},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===o.DismissibleContent.NOW_PLAYING_CONSENT_CARD)return E(d.default,{className:_.default.consentCard,markAsDismissed:n})})),S))))}O.displayName="NowPlayingSidebar"},316681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(257175)),u=y(n(711195)),l=y(n(326939)),s=y(n(160629)),d=y(n(298408)),f=y(n(628551)),c=n(71246),p=n(770348),v=y(n(877001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.member,n=e.empty,r=e.analyticsContext,o=e.guildId;if(n)return h("div",{className:v.default.partyMemberEmpty});if(null==t)return h("div",{className:v.default.partyMemberUnknown},void 0,h(d.default,{className:v.default.partyMemberUnknownIcon}));var i={location:_({},r.location,{object:p.AnalyticsObjects.AVATAR})};return h("div",{className:v.default.partyMemberKnown},void 0,h(s.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(o,80),{guildId:o})},renderPopout:function(e){return a.createElement(l.default,_({},e,{userId:t.id,analyticsParams:i}))},position:s.default.Positions.LEFT},void 0,(function(e){return a.createElement(f.default,_({},e,{src:t.getAvatarURL(o,24),
"aria-label":t.username,size:f.default.Sizes.SIZE_24,className:v.default.partyMember}))})))};g.displayName="PartyMember";var E=(0,i.default)(g),S=function(e){var t=e.partySize,n=e.members,r=e.minAvatarsShown,a=void 0===r?1:r,i=e.maxAvatarsShown,u=void 0===i?2:i,l=e.guildId,s=t.unknownSize,d=t.totalSize,f=t.knownSize;if(d<a)return null;for(var p=(0,o.default)(n).filter(c.isNotNullish).take(u).map((function(e){return h(E,{member:e,guildId:l},e.id)})).value(),y=0;y<s&&p.length<u;y++)p.push(h(E,{guildId:l},"unknown-member-"+y));for(var m=d-f-s,_=0;_<m&&p.length<u;_++)p.push(h(E,{empty:!0,guildId:l},"empty-member-"+_));var g=Math.max(Math.min(d-p.length,99),0);if(1===g){var S=n[u];p.push(h(E,{member:S,guildId:l},S.id))}return h("div",{className:v.default.wrapper},void 0,h("div",{className:v.default.partyMembers},void 0,p,g>1?h("div",{className:v.default.partyMemberOverflow},void 0,"+",g):null))};S.displayName="PartyAvatars";var O=S;t.default=O},854923:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=m;v(n(667294));var r,a=v(n(145122)),o=c(n(729661)),i=c(n(984399)),u=c(n(485820)),l=c(n(602613)),s=c(n(709037)),d=c(n(568235)),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.party,n=e.close,r=e.onSelect,c=(0,u.default)(t),p=(0,d.default)(t),v=(0,s.default)(t),m=(0,l.default)(t),_=(0,o.default)(t),h=(0,i.default)(t);return y(a.default,{navId:"now-playing-menu",onClose:n,"aria-label":f.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:r},void 0,c,y(a.MenuGroup,{},void 0,p,v),y(a.MenuGroup,{},void 0,m),y(a.MenuGroup,{},void 0,_),h)}m.displayName="NowPlayingCardMenu"},27916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NowPlayingUnknownMemberMenuItem=c;t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(294184)),o=l(n(252149)),i=l(n(628551)),u=l(n(446926));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.user,n=e.status,r=e.isFocused,a=e.guildId;return d("div",{className:u.default.memberItem},void 0,d(i.default,{src:t.getAvatarURL(a,24),className:u.default.avatar,"aria-label":t.username,size:i.default.Sizes.SIZE_24,status:n,statusColor:r?"currentColor":void 0}),d(o.default,{user:t,hideDiscriminator:!0}))}f.displayName="NowPlayingMemberMenuItem";function c(e){var t=e.label;return d("div",{className:u.default.memberItem},void 0,d("div",{className:(0,a.default)(u.default.avatar,u.default.unknown)}),d("div",{},void 0,t))}c.displayName="NowPlayingUnknownMemberMenuItem"},729661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t,n=e.currentActivities.length>1,r=D(e),i=function(e){var t=e.currentActivities,n=a.useContext(E.AnalyticsContext);return(0,o.useStateFromStoresArray)([h.default,_.default,p.default,g.default,m.default],(function(){return t.filter((function(e){return!(0,c.default)(e.activity)})).map((function(e){
var t=e.activity,r=e.game,a=_.default.getActiveLibraryApplication(r.id);return P({},e,{libraryApplication:a,canJoin:null!=t&&(0,f.default)(t,b.ActivityFlags.JOIN)&&t.type===b.ActivityTypes.PLAYING,canPlay:(0,S.isLaunchable)({LibraryApplicationStore:_.default,LaunchableGameStore:p.default,DispatchApplicationStore:g.default,ConnectedAppsStore:m.default,applicationId:r.id,branchId:null!=a?a.branchId:null}),isLaunching:p.default.launchingGames.has(r.id),isRunning:h.default.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),u=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(t=l()).done;){var s=t.value,d=s.activity;null!=d&&null!=d.type&&u.push(L(s,n),k(s,n))}return[r].concat(u)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=T(n(312260)),u=T(n(136873)),l=T(n(226800)),s=T(n(155502)),d=n(144166),f=T(n(351093)),c=T(n(762605)),p=T(n(703124)),v=n(145122),y=T(n(513266)),m=T(n(504762)),_=T(n(191839)),h=T(n(834162)),g=T(n(432310)),E=n(308920),S=n(539331),O=n(409873),b=n(770348),I=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=s.default.get(b.PlatformTypes.XBOX).name;function D(e){var t=e.currentActivities,n=(0,o.useStateFromStores)([y.default],(function(){return y.default.getAccounts().some((function(e){return e.type===s.default.get(b.PlatformTypes.XBOX).type}))})),r=t.some((function(e){var t=e.activity;return(0,d.isOnXbox)(t)}));return n||!r?null:R(v.MenuItem,{id:"xbox-connect",action:function(){return l.default.open(b.UserSettingsSections.CONNECTIONS)},
label:I.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:w})})}D.displayName="useXboxConnectItem";function L(e,t){var n=e.canJoin,r=e.activity,a=e.activityUser;if(!n||null==r)return null;function o(){return(o=N(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return i.default.sendActivityInviteUser({type:b.ActivityActionTypes.JOIN_REQUEST,userId:a.id,activity:r,location:b.AnalyticsLocations.PROFILE_POPOUT});case 4:null!=(t=e.sent)&&u.default.selectPrivateChannel(t.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R(v.MenuItem,{id:"join-"+r.session_id,label:t?I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:a.toString()}):I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return o.apply(this,arguments)}})}L.displayName="renderAskToJoinItem";function k(e,t){
var n=e.activity,r=e.game,a=e.libraryApplication,o=e.location,i=e.canPlay,u=e.isRunning,l=e.isLaunching;if(!i||null==n)return null;var s=u?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:r.name}):l?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:r.name}):void 0;return R(v.MenuItem,{id:"play-"+n.session_id,action:function(){(0,O.playApplication)(r.id,a,{analyticsParams:{location:P({},o,{object:b.AnalyticsObjects.LIST_ITEM})}})},label:t?I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:r.name}):I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:s})}k.displayName="renderPlayGameItem"},984399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=e.currentActivities,a=e.guildContext,u=new Set(t.map((function(e){return e.user.id}))),l=n.filter((function(e){return!u.has(e.id)})),s=o.useMemo((function(){
var e=r.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,r]);if(r.length<=1&&0===s.length){var f,c;return p(i.MenuGroup,{label:n.length>1?d.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0},void 0,h(t,l,n.length,null!==(f=null===(c=r[0])||void 0===c?void 0:c.activity)&&void 0!==f?f:void 0,null==a?void 0:a.id))}var v=r.map((function(e){var n=e.playingMembers,r=e.game,o=e.activity,l=new Set(n.map((function(e){return e.id})));return p(i.MenuGroup,{label:r.name+" - "+n.length},void 0,h(t.filter((function(e){var t=e.user;return l.has(t.id)})),n.filter((function(e){return!u.has(e.id)})),n.length,null!=o?o:void 0,null==a?void 0:a.id))})),y=s.map((function(e){return e.id})),g=p(i.MenuGroup,{label:d.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+s.length},void 0,h(t.filter((function(e){var t=e.user;return y.includes(t.id)
})),s.filter((function(e){return!u.has(e.id)})),s.length,void 0,null==a?void 0:a.id));return[].concat((E=v,function(e){if(Array.isArray(e))return _(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||m(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[g]);var E};var r,a,o=c(n(667294)),i=n(145122),u=n(910992),l=c(n(27916)),s=n(770348),d=(r=n(247001))&&r.__esModule?r:{default:r};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,a){for(var f,c=[],m=function(){var e=f.value,t=e.user,n=e.status;c.push(p(i.MenuItem,{id:t.id,keepItemStyles:!0,render:function(e){return o.createElement(l.default,v({},e,{user:t,status:n,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:t.id,
analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},_=y(e);!(f=_()).done;)m();for(var h,g=function(){var e=h.value;c.push(p(i.MenuItem,{id:e.id,keepItemStyles:!0,render:function(t){return o.createElement(l.default,v({},t,{user:e,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:e.id,analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},E=y(t);!(h=E()).done;)g();var S=n-c.length;S>0&&c.push(p(i.MenuItem,{id:"unknown-members-"+(null==r?void 0:r.session_id),render:function(e){return o.createElement(l.NowPlayingUnknownMemberMenuItem,v({},e,{label:d.default.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:S})}))}}));return c}},485820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(709403)),i=c(n(844784)),u=n(145122),l=n(540671),s=n(308920),d=n(770348),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t){void 0===t&&(t=!1);var n=e.priorityMembers,r=e.partiedMembers,c=a.useContext(s.AnalyticsContext),p=n.map((function(e){return e.user.id})),m=1===r.length&&1===n.length,_=n.length-r.length>0;if(!((m||t)&&!_)||0===p.length)return null;return v(u.MenuItem,{id:"message",action:function(){o.default.openPrivateChannel(p).then((function(t){return i.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,y({source:y({},c.location,{object:d.AnalyticsObjects.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1},(0,l.getPartyMetadata)(e)))}))},label:f.default.Messages.SEND_DM})}m.displayName="useNowPlayingMessageItem"},602613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.currentActivities,n=e.isSpotifyActivity,r=t[0],o=(0,a.default)(null==r?void 0:r.activity,null==r?void 0:r.activityUser);return n?o:null};var r,a=(r=n(619476))&&r.__esModule?r:{default:r}},709037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return d(i.MenuItem,{id:"spectate-"+t.ownerId,action:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)},label:u.default.Messages.WATCH_USER_STREAM.format({streamerName:n.toString()})})}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(136873)),o=n(123516),i=n(145122),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},568235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.useContext(c.AnalyticsContext),n=e.voiceChannels[0],r=(0,o.useStateFromStores)([d.default],(function(){
return null!=n&&d.default.can(p.Permissions.CONNECT,n.channel)}));if(null==n)return null;return[_(l.MenuItem,{id:"join-voice",action:function(){(0,s.transitionToGuild)(n.guild.id);i.default.selectVoiceChannel(n.channel.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,h({source:h({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,f.getPartyMetadata)(e)))},label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!r}),_(l.MenuItem,{id:"goto-server",action:function(){(0,s.transitionToGuild)(n.guild.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,h({source:h({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,f.getPartyMetadata)(e)))},label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER})]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(136873)),u=y(n(844784)),l=n(145122),s=n(95034),d=y(n(689389)),f=n(540671),c=n(308920),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u
}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}},884809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,i.default)(function(t){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(i,t);function i(){return t.apply(this,arguments)||this}var l=i.prototype;l.render=function(){return r.createElement(e,c({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};l.handleMessageUser=function(e,t){return a.default.openPrivateChannel(t.id)}
;l.handleUserContextMenu=function(e,t,a){(0,o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:a})};l.handleGuildContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74862),n.e(23127)]).then(n.bind(n,853734));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,c({},e,{guild:t}))}));case 5:case"end":return e.stop()}}),e)}))))};l.handleChannelContextMenu=function(e,t){var a=u.default.getGuild(t.getGuildId());if(null==a)return null;(0,
o.openContextMenuLazy)(e,f(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(44700)]).then(n.bind(n,44700));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return r.createElement(i,c({},e,{channel:t,guild:a}))}));case 5:case"end":return e.stop()}}),e)}))))};return i}(r.Component))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(709403)),o=n(378158),i=l(n(257175)),u=l(n(30098));function l(e){return e&&e.__esModule?e:{default:e}}
function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}},520310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewUser=function(e){a.default.wait((function(){return a.default.dispatch({type:"NUF_NEW_USER",newUserType:e})}))};t.setNewUserFlowCompleted=function(){
a.default.wait((function(){return a.default.dispatch({type:"NUF_COMPLETE"})}))};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},754949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewUserTypes=t.NUF_VALUE_PROPS_MODAL_KEY=t.NUF_NOTIFICATION_MODAL_KEY=t.NUF_IN_APP_EDUCATION_KEY=t.NUF_DISCOVERABILITY_MODAL_KEY=void 0;var n;t.NewUserTypes=n;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(n||(t.NewUserTypes=n={}));t.NUF_NOTIFICATION_MODAL_KEY="nuf-notification-modal-key";t.NUF_DISCOVERABILITY_MODAL_KEY="nuf-discoverability-modal-key";t.NUF_IN_APP_EDUCATION_KEY="nuf-in-app-education-modal-key";t.NUF_VALUE_PROPS_MODAL_KEY="nuf-value-props-modal-key"},322033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602))
;function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=null;var l=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){var t;u=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};n.getType=function(){return u};n.getState=function(){return{type:u}};n.__getLocalVars=function(){return{type:u}};return t}(r.default.PersistedStore);l.displayName="NewUserStore";l.persistKey="nuf";var s=new l(a.default,{NUF_NEW_USER:function(e){var t=e.newUserType;u=t},NUF_COMPLETE:function(){u=null}});t.default=s},763840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NUF_MODAL_KEY=t.NUFSlides=void 0;var n;t.NUFSlides=n;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template";e.CUSTOMIZE_GUILD="customize-server"
;e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server";e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(n||(t.NUFSlides=n={}));t.NUF_MODAL_KEY="nuf-refresh-modal"},900996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=A(n(636602)),i=A(n(177230)),u=N(n(160866)),l=N(n(583490)),s=A(n(678875)),d=A(n(885986)),f=n(508079),c=N(n(131629)),p=A(n(250650)),v=A(n(30098)),y=A(n(790597)),m=A(n(728429)),_=n(194322),h=N(n(71246)),g=n(864489),E=N(n(520310)),S=A(n(322033)),O=n(754949),b=n(763840),I=n(770348),T=n(27577),C=n(33989);function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function L(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){null!=r&&(0,_.closeModal)(r)}var U=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){o.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)
;o.default.subscribe("LOGOUT",j)};i._terminate=function(){o.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);o.default.unsubscribe("LOGOUT",j)};i.handleConnectionOpen=function(){var e=S.default.getType();if(null!=e){switch(e){case O.NewUserTypes.INVITE_UNCLAIMED:d.default.flowStart(C.FlowType.INVITE,C.RegistrationSteps.NUF_STARTED);break;case O.NewUserTypes.ORGANIC_REGISTERED:d.default.flowStart(C.FlowType.ORGANIC,C.RegistrationSteps.NUF_STARTED);break;case O.NewUserTypes.MARKETING_UNCLAIMED:d.default.flowStart(C.FlowType.ORGANIC_MARKETING,C.RegistrationSteps.NUF_STARTED)}var t=!1,o=y.default.getGuildId();if(e===O.NewUserTypes.INVITE_UNCLAIMED){var i=v.default.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,f.fetchWelcomeScreen)(i.id)}}var A=function(){return 0===p.default.totalGuilds&&!g.isPlatformEmbedded},M=u.userNeedsAgeGate();!function(e){var t=function(){E.setNewUserFlowCompleted()
;d.default.flowStep(C.FlowType.ANY,C.RegistrationSteps.NUF_COMPLETE,!0)};L(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Unified NUF Modal",open:function(e){return N.apply(this,arguments)},predicate:function(){return A()&&!T.CONFERENCE_MODE_ENABLED}},{key:"New User Age Gate",open:l.openNewUserAgeGateModal,predicate:function(){return M&&!A()&&!T.CONFERENCE_MODE_ENABLED}},{key:"Claim Account Modal",open:function(e){return l.openClaimAccountModal(g.isPlatformEmbedded,e)},predicate:function(){var e;return!t&&null!=m.default.getCurrentUser()&&!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Verification Gate with Claim Account",open:function(e){return(0,s.default)(o,e)},predicate:function(){var e;return t&&!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!T.CONFERENCE_MODE_ENABLED}},{key:"Guild Welcome Modal",open:function(e){return(0,
_.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{guildId:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=c.default.get(o)&&c.default.get(o)!==c.NO_WELCOME_SCREEN}}])}function N(){return(N=w(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){switch(e){case b.NUFSlides.AGE_GATE:d.default.flowStep(C.FlowType.ANY,C.RegistrationSteps.AGE_GATE);break;case b.NUFSlides.CHOOSE_TEMPLATE:d.default.flowStep(C.FlowType.ANY,C.CreateGuildSteps.GUILD_TEMPLATES);break;case b.NUFSlides.CUSTOMIZE_GUILD:d.default.flowStep(C.FlowType.ANY,C.CreateGuildSteps.GUILD_CREATE);break;case b.NUFSlides.CHANNEL_PROMPT:
d.default.flowStep(C.FlowType.ANY,C.CreateGuildSteps.CHANNEL_PROMPT);break;case b.NUFSlides.JOIN_GUILD:d.default.flowStep(C.FlowType.ANY,C.CreateGuildSteps.JOIN_GUILD);break;case b.NUFSlides.CREATION_INTENT:d.default.flowStep(C.FlowType.ANY,C.CreateGuildSteps.CREATION_INTENT);break;case b.NUFSlides.COMPLETE:d.default.flowStep(C.FlowType.ANY,C.CreateGuildSteps.SUCCESS);break;case null:break;default:h.assertNever(e)}};e.next=3;return(0,_.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(69156),n.e(91948)]).then(n.bind(n,91948));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{onSlideChange:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:I.NOOP,onCloseCallback:t,modalKey:r});case 3:r=e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}
;i.__getLocalVars=function(){return{nufModalKey:r}};return t}(i.default));t.default=U},220796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,r=e.guildId,i=(x=a.useState(""),B=2,function(e){if(Array.isArray(e))return e}(x)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(x,B)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(x,B)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],s=i[1],d=(0,u.useStateFromStores)([S.default],(function(){return S.default.getLastSelectedChannelId(r)})),f=(0,u.useStateFromStores)([g.default],(function(){return g.default.getGuild(r)})),c=(0,u.useStateFromStores)([h.default],(function(){return h.default.getChannels(r)})),p=(0,u.useStateFromStores)([_.default],(function(){return _.default.getCategories(r)})),v=(0,w.useFilterCategoriesByQuery)(p,c,l),O=(0,u.useStateFromStores)([m.default],(function(){return m.default.getChannel(d)})),I=(0,u.useStateFromStores)([E.default],(function(){return E.default.canWithPartialContext(L.Permissions.MANAGE_CHANNELS,{guildId:r})})),C=(0,u.useStateFromStores)([y.default],(function(){return y.default.getCurrentSidebarChannelId(k.StaticChannelRoute.CHANNEL_BROWSER)})),A=null!=C,R=a.useCallback((function(){return s("")
}),[s]),F=a.useCallback((function(){(0,N.openModalLazy)(V(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(71667)]).then(n.bind(n,871667));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,H({},e,{channelType:null,guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))))}),[r]);var x,B;if(null==f)return null;return a.createElement(a.Fragment,null,K("div",{className:(0,o.default)(G.default.chat,(t={},t[G.default.threadSidebarOpen]=A,t))},void 0,K(q,{guild:f,previousChannel:O}),K("div",{className:(0,o.default)(G.default.content,U.default.pageBody)},void 0,K("div",{className:U.default.header},void 0,K(T.default,{className:U.default.search,size:T.default.Sizes.MEDIUM,query:l,onChange:function(e){""===l&&""!==e&&P.default.track(L.AnalyticEvents.SEARCH_STARTED,{search_type:"channel browser"});s(e.toLowerCase())},onClear:R,
placeholder:j.default.Messages.CHANNEL_BROWSER_SEARCH_PLACEHOLDER}),I?K(b.default,{className:U.default.createButton,innerClassName:U.default.createButtonInner,onClick:F},void 0,K(M.default,{className:U.default.createIcon}),j.default.Messages.CREATE):null),K(D.default,{channels:c,categories:v,guild:f,config:z}))),A&&K(X,{channelId:C}))};var r,a=B(n(667294)),o=F(n(294184)),i=n(370405),u=n(536211),l=n(658222),s=B(n(174851)),d=F(n(216672)),f=n(738839),c=F(n(463024)),p=n(139982),v=F(n(881454)),y=F(n(502546)),m=F(n(644263)),_=F(n(140868)),h=F(n(517286)),g=F(n(30098)),E=F(n(689389)),S=F(n(211136)),O=F(n(563621)),b=F(n(956117)),I=F(n(172115)),T=F(n(665759)),C=n(645758),A=F(n(405151)),M=F(n(394969)),N=n(194322),P=F(n(308920)),R=n(951255),w=n(625946),D=F(n(807146)),L=n(770348),k=n(173652),j=F(n(247001)),U=F(n(193025)),G=F(n(149563));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){
return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return H.apply(this,arguments)}function W(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,u,"next",e)}function u(e){W(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Y(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z={useIsChecked:function(e,t,n){return(0,u.useStateFromStores)([O.default],(function(){return O.default.isChannelOptedIn(e,t)||null!=n&&O.default.isChannelOptedIn(e,n)}))},useIsDisabled:function(e,t,n){return(0,u.useStateFromStores)([O.default],(function(){return null!=n&&O.default.isChannelOptedIn(e,n)}))},onCategoryClick:function(e,t){(0,R.setOptInChannel)(e,t,!O.default.isChannelOptedIn(e,t),{section:L.AnalyticsSections.CHANNEL_BROWSER})},onChannelClick:function(e,t,n){
var r=O.default.isChannelOptedIn(e,t);!r&&v.default.isCollapsed(n)&&(0,l.categoryExpand)(n);(0,R.setOptInChannel)(e,t,!r,{section:L.AnalyticsSections.CHANNEL_BROWSER})},onlyTopicSubtitle:!1,allowViewing:!0},$=K(c.default.Icon,{icon:A.default,"aria-hidden":!0});function q(e){var t=e.guild,n=e.previousChannel;return a.createElement(a.Fragment,null,K(i.Helmet,{title:j.default.Messages.CHANNEL_BROWSER_HTML_TITLE.format({guildName:t.name})}),K(c.default,{channelId:k.StaticChannelRoute.CHANNEL_BROWSER,guildId:t.id,toolbar:null!=n?K(b.default,{className:U.default.returnButton,size:b.default.Sizes.SMALL,look:b.default.Looks.OUTLINED,color:b.default.Colors.PRIMARY,onClick:function(){null!=n&&(0,p.transitionToGuild)(t.id,n.id)}},void 0,K(C.Text,{className:U.default.returnButtonText,variant:"text-xs/medium"},void 0,j.default.Messages.CHANNEL_BROWSER_RETURN_TO_CHANNEL.format({channelNameHook:function(){return null==n?null:a.createElement(a.Fragment,null,K(f.ChannelItemIcon,{
className:U.default.returnIcon,guild:t,channel:n}),K(I.default,{},void 0,K(C.Text,{variant:"text-xs/medium"},void 0,n.name)))}}))):[]},void 0,$,K(c.default.Title,{},void 0,j.default.Messages.CHANNEL_BROWSER_TITLE)))}function X(e){var t=e.channelId;return K(s.default,{sidebarType:s.ChatSidebarType.ThreadSidebar,maxWidth:600},void 0,K(d.default,{channelId:t,baseChannelId:k.StaticChannelRoute.CHANNEL_BROWSER}))}X.displayName="ChannelBrowserSidebar"},456247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=u(n(636602)),o=u(n(177230)),i=n(194322);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p="PASSPORT_CONNECTIONS_MODAL_KEY",v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){var e=this;a.default.subscribe("PASSPORT_CONNECTIONS_MODAL_SHOW",(function(t){return e.handleShow(t.onComplete,t.excludedPlatformTypes)}));a.default.subscribe("PASSPORT_CONNECTIONS_MODAL_HIDE",this.handleHide)};o._terminate=function(){var e=this;a.default.unsubscribe("PASSPORT_CONNECTIONS_MODAL_SHOW",(function(t){return e.handleShow(t.onComplete,t.excludedPlatformTypes)}));a.default.unsubscribe("PASSPORT_CONNECTIONS_MODAL_HIDE",this.handleHide)};o.handleShow=function(e,t){(0,i.hasModalOpen)(p)||(0,i.openModalLazy)(f(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.all([n.e(40532),n.e(81262)]).then(n.bind(n,681262));case 2:o=a.sent;i=o.default;return a.abrupt("return",(function(n){return r.createElement(i,s({onComplete:e,excludedPlatformTypes:t},n))}));case 5:case"end":return a.stop()}}),a)}))))
};o.handleHide=function(){(0,i.closeModal)(p)};o.__getLocalVars=function(){return{PASSPORT_CONNECTIONS_MODAL_KEY:p}};return t}(o.default));t.default=v},227313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateRedditMetadataItems=function(e,t){var n;void 0===t&&(t=void 0);var r=[],a=Number(null!==(n=e[d.MetadataFields.REDDIT_TOTAL_KARMA])&&void 0!==n?n:-1),o="1"===e[d.MetadataFields.REDDIT_GOLD],i="1"===e[d.MetadataFields.REDDIT_MOD],u=m(e[d.MetadataFields.CREATED_AT]);a>-1&&r.push(y(_,{className:t,count:a,label:f.default.Messages.PASSPORT_REDDIT_KARMA},d.MetadataFields.REDDIT_TOTAL_KARMA));null!=u&&r.push(y(h,{className:t,createdAtDate:u},d.MetadataFields.CREATED_AT));var l=[];o&&l.push(f.default.Messages.PASSPORT_REDDIT_GOLD);i&&l.push(f.default.Messages.PASSPORT_REDDIT_MOD);l.length>0&&r.push(y(E,{className:t,labels:l},"tags"));return r};t.generateSteamMetadataItems=function(e,t){var r,a,o;void 0===t&&(t=void 0)
;var i=[],u=Number(null!==(r=e[d.MetadataFields.STEAM_GAME_COUNT])&&void 0!==r?r:-1),l=Number(null!==(a=e[d.MetadataFields.STEAM_ITEM_COUNT_DOTA2])&&void 0!==a?a:-1),s=Number(null!==(o=e[d.MetadataFields.STEAM_ITEM_COUNT_TF2])&&void 0!==o?o:-1),c=m(e[d.MetadataFields.CREATED_AT]);u>-1&&i.push(y(_,{className:t,count:u,label:f.default.Messages.PASSPORT_STEAM_GAMES},d.MetadataFields.STEAM_GAME_COUNT));var p=[];l>-1&&p.push({label:f.default.Messages.PASSPORT_STEAM_ITEMS.format({count:l}),imageSrc:n(491595),imageAlt:f.default.Messages.PASSPORT_STEAM_DOTA2});s>-1&&p.push({label:f.default.Messages.PASSPORT_STEAM_ITEMS.format({count:s}),imageSrc:n(40288),imageAlt:f.default.Messages.PASSPORT_STEAM_TF2});null!=c&&(i.length>0||p.length>0)&&i.push(y(h,{className:t,createdAtDate:c},d.MetadataFields.CREATED_AT));p.length>0&&i.push(y(g,{className:t,items:p},"items"));return i};t.generateTwitterMetadataItems=function(e,t){var n,r;void 0===t&&(t=void 0)
;var a=[],o=Number(null!==(n=e[d.MetadataFields.TWITTER_STATUSES_COUNT])&&void 0!==n?n:-1),i=Number(null!==(r=e[d.MetadataFields.TWITTER_FOLLOWERS_COUNT])&&void 0!==r?r:-1),u=m(e[d.MetadataFields.CREATED_AT]);o>-1&&a.push(y(_,{className:t,count:o,label:f.default.Messages.PASSPORT_TWITTER_STATUSES},d.MetadataFields.TWITTER_STATUSES_COUNT));i>-1&&a.push(y(_,{className:t,count:i,label:f.default.Messages.PASSPORT_TWITTER_FOLLOWERS},d.MetadataFields.TWITTER_FOLLOWERS_COUNT));null!=u&&a.push(y(h,{className:t,createdAtDate:u},d.MetadataFields.CREATED_AT));return a};t.getCreatedAtDate=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(730381)),i=n(772575),u=n(645758),l=n(730977),s=n(278368),d=n(946085),f=p(n(247001)),c=p(n(489980));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(null==e||""===e)return null;try{return(0,o.default)(new Date(e)).format("MMM YYYY")}catch(e){}return null}function _(e){var t=e.count,n=e.label,r=e.className;return y("div",{className:(0,
a.default)(c.default.connectedAccountVanityMetadata,r)},void 0,y(i.Heading,{variant:"text-lg/semibold",color:"header-primary"},void 0,(0,s.shortenAndLocalizeNumber)(t)),y(u.Text,{variant:"text-xs/semibold",color:"interactive-normal",className:c.default.connectedAccountVanityMetadataLabel},void 0,n))}_.displayName="VanityMetric";function h(e){var t=e.createdAtDate,n=e.className;return y("div",{className:(0,a.default)(c.default.connectedAccountVanityMetadata,c.default.connectedAccountVanityMetadataJoined,n)},void 0,y(u.Text,{variant:"text-sm/normal",color:"interactive-normal"},void 0,f.default.Messages.PASSPORT_JOINED),y(u.Text,{variant:"text-md/medium",color:"interactive-active"},void 0,t))}h.displayName="VanityJoined";function g(e){var t=e.items,n=e.className;return y("div",{className:(0,a.default)(c.default.connectedAccountVanityMetadata,n)},void 0,t.map((function(e){return y("div",{className:c.default.connectedAccountVanityMetadataItem},e.label,y(l.TooltipContainer,{text:e.imageAlt
},void 0,y("img",{src:e.imageSrc,alt:e.imageAlt,className:c.default.connectedAccountVanityMetadataItemIcon})),y(u.Text,{variant:"text-xs/normal",color:"interactive-normal"},e.label,e.label))})))}g.displayName="VanityItems";function E(e){var t=e.labels,n=e.className;return y("div",{className:(0,a.default)(c.default.connectedAccountVanityMetadata,n)},void 0,t.map((function(e,t){return y(u.Text,{variant:"text-sm/normal",color:"interactive-active",className:c.default.connectedAccountVanityMetadataTag},t,e)})))}E.displayName="VanityTags"},61045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS_HEADER_HEIGHT=t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=t.PEOPLE_LIST_ITEM_HEIGHT=void 0;t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=64;t.PEOPLE_LIST_ITEM_HEIGHT=62;t.STATUS_HEADER_HEIGHT=24},334200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(16941)),l=d(n(730977)),s=d(n(969261));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(a||(a={}));function v(e){var t=e.icon,n=e.tooltip,r=e.onClick,d=e.actionType,f=void 0===d?a.DEFAULT:d,v=e.shouldHighlight;return p(l.default,{text:n},void 0,(function(e){var l;return o.createElement(u.default,c({},e,{"aria-label":n,onClick:r,className:(0,i.default)(s.default.actionButton,(l={},l[s.default.actionAccept]=f===a.ACCEPT,l[s.default.actionDeny]=f===a.DENY,l[s.default.highlight]=v,l))}),p(t,{className:s.default.icon}))}))}v.displayName="ActionButton";v.ActionTypes=a;var y=v;t.default=y},518319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(184608)),i=n(688388),u=f(n(767695)),l=n(770348),s=f(n(247001)),d=f(n(184338));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(o.default,{});function y(){return p("header",{className:d.default.header},void 0,p(i.FormTitle,{tag:i.FormTitle.Tags.H2,className:d.default.title},void 0,s.default.Messages.ADD_FRIEND),v)}y.displayName="AddFriendHeader";var m=p(y,{});function _(){return p(a.Fragment,{},void 0,m,p("div",{className:d.default.emptyState},void 0,p(u.default,{type:l.FriendsSections.ADD_FRIEND})))}_.displayName="AddFriend";var h=_;t.default=h},89411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(237923)),i=n(910992),u=y(n(523356)),l=n(308920),s=y(n(334200)),d=y(n(906507)),f=y(n(739148)),c=n(770348),p=y(n(247001)),v=y(n(685904));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){
var t=e.user,n=e.key,r=e.isFocused,y=a.useContext(l.AnalyticsContext),m=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})};return _(d.default,{isFocused:r,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:y.location})},user:t},n,(function(e){return _("div",{className:v.default.listItemContents},void 0,_(f.default,{user:t,hovered:e,status:c.StatusTypes.UNKNOWN,subText:p.default.Messages.BLOCKED}),_(s.default,{icon:u.default,actionType:s.default.ActionTypes.DENY,tooltip:p.default.Messages.UNBLOCK,onClick:m,shouldHighlight:e}))}))}h.displayName="BlockedRow"},717681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=y(n(294184)),o=n(642230),i=y(n(226800)),u=y(n(956117)),l=n(772575),s=y(n(427370)),d=n(645758),f=n(770348),c=n(583551),p=y(n(247001)),v=y(n(95898));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){
var t=e.className,n=e.markAsDismissed;return _(s.default,{className:(0,a.default)(v.default.card,t)},void 0,_(l.Heading,{variant:"heading-md/medium",className:v.default.header,level:3},void 0,p.default.Messages.NOW_PLAYING_GDPR_HEADER),_(d.Text,{variant:"text-sm/normal"},void 0,p.default.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return i.default.open(f.UserSettingsSections.PRIVACY_AND_SAFETY)}})),_("div",{className:v.default.buttonContainer},void 0,_(u.default,{size:u.default.Sizes.SMALL,onClick:function(){return(0,o.setConsents)([f.Consents.PERSONALIZATION],[])}},void 0,p.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),_(u.default,{color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,onClick:function(){return n(c.ContentDismissActionType.DISMISS)},look:u.default.Looks.LINK},void 0,p.default.Messages.NO_THANKS)))}h.displayName="ConsentCard"},724603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=P(n(667294)),o=M(n(496486)),i=n(536211),u=M(n(709403)),l=n(378158),s=M(n(237923)),d=P(n(145122)),f=n(139982),c=M(n(644263)),p=M(n(635014)),v=n(645758),y=M(n(37985)),m=M(n(301927)),_=M(n(502197)),h=n(194322),g=M(n(334200)),E=M(n(906507)),S=M(n(666561)),O=M(n(739148)),b=n(770348),I=n(474477),T=n(376293),C=M(n(247001)),A=M(n(684753));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){
R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t=e.user,n=e.onSelect;var r=function(){s.default.removeRelationship(t.id,{location:"Friends"})},o=(0,i.useStateFromStores)([p.default],(function(){return p.default.supports(T.Features.VIDEO)}));return D(d.default,{navId:"friend-row",
"aria-label":C.default.Messages.USER_ACTIONS_MENU_LABEL,onClose:l.closeContextMenu,onSelect:n},void 0,o?D(d.MenuItem,{id:"start-video-call",label:C.default.Messages.START_VIDEO_CALL,action:function(){u.default.openPrivateChannel(t.id,!0,!0)}}):null,D(d.MenuItem,{id:"start-voice-call",label:C.default.Messages.START_VOICE_CALL,action:function(){u.default.openPrivateChannel(t.id,!0)}}),D(d.MenuItem,{id:"remove-friend",label:C.default.Messages.REMOVE_FRIEND,action:function(){(0,h.openModal)((function(e){return a.createElement(_.default,w({header:C.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.toString()}),confirmText:C.default.Messages.REMOVE_FRIEND,cancelText:C.default.Messages.CANCEL,onConfirm:r},e),D(v.Text,{variant:"text-md/normal"},void 0,C.default.Messages.REMOVE_FRIEND_BODY.format({name:t.toString()})))}))},color:I.MenuItemColor.DANGER}))}L.displayName="ActionsPopout";var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e)
;function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).peopleListItemRef=a.createRef();t.state={isActiveRow:!1};t.handleOpenPrivateChannel=function(e){var n=t.props.user;e.stopPropagation();var r=o.default.find(c.default.getMutablePrivateChannels(),(function(e){return e.type===b.ChannelTypes.DM&&e.getRecipientId()===n.id}));null!=r?(0,f.transitionTo)(b.Routes.CHANNEL(b.ME,r.id)):u.default.openPrivateChannel(n.id)};t.handleOpenActionsMenu=function(e){var n=t.props.user;(0,l.openContextMenu)(e,(function(e){return a.createElement(L,w({},e,{user:n}))}),{onClose:function(){t.setState({isActiveRow:!1})}});t.setState({isActiveRow:!0})};return t}var n=t.prototype;n.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};n.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)}
;n.render=function(){var e=this,t=this.props,n=t.user,r=t.isFocused,o=t.activities,i=t.applicationStream,u=t.status,s=t.isMobile,d=this.state.isActiveRow;return a.createElement(E.default,{ref:this.peopleListItemRef,isFocused:r,isActive:d,user:n,onOtherHover:function(){return d?null:(0,l.closeContextMenu)()},onClick:this.handleOpenPrivateChannel},(function(t){return D("div",{className:A.default.listItemContents},void 0,D(O.default,{user:n,status:u,isMobile:s,subText:D(S.default,{hovered:t,activities:o,applicationStream:i,status:u}),hovered:t}),D("div",{className:A.default.actions},void 0,D(g.default,{icon:y.default,tooltip:C.default.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t}),D(g.default,{icon:m.default,tooltip:C.default.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})))}))};return t}(a.PureComponent);k.displayName="FriendRow";var j=k;t.default=j},767695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=t.FriendsSearchStatus=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=v(n(74854)),u=v(n(536211)),l=v(n(871778)),s=v(n(956117)),d=v(n(737705)),f=n(770348),c=v(n(247001)),p=v(n(303649));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.FriendsSearchStatus=a;!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(a||(t.FriendsSearchStatus=a={}));var h=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return _(o.Fragment,{},void 0,_(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ALL}),_(s.default,{className:p.default.button,onClick:e},void 0,c.default.Messages.ADD_FRIEND))}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,
height:232,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return _(d.default.Text,{note:c.default.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}});var g=function(e){var t=e.theme,n=c.default.Messages.FRIENDS_EMPTY_STATE_ALL,r=h.SECTION_ALL;return _(o.Fragment,{},void 0,_(d.default,{theme:t},void 0,_(d.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),_(d.default.Text,{note:n})))};g.displayName="AddFriendEmpty";var E=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new i.default.Value(1)};t.componentWillEnter=function(e){t.state.opacity.setValue(0);i.default.timing(t.state.opacity,{toValue:1,duration:250}).start(e)};t.componentWillLeave=function(e){i.default.timing(t.state.opacity,{toValue:0,duration:250}).start(e)};return t}t.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.theme,o={opacity:this.state.opacity},u=function(e){switch(e){case f.FriendsSections.ADD_FRIEND:case f.FriendsSections.ALL:return h.SECTION_ALL;case f.FriendsSections.ONLINE:return h.SECTION_ONLINE;case f.FriendsSections.PENDING:return h.SECTION_PENDING;case f.FriendsSections.SUGGESTIONS:return h.SECTION_SUGGESTIONS;case f.FriendsSections.BLOCKED:return h.SECTION_BLOCKED;case a.SECTION_NO_RESULTS:
return h.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===f.FriendsSections.ADD_FRIEND?_(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,_(g,{theme:r})):_(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,_(d.default,{theme:r},void 0,_(d.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc}),u.renderContent(n)))};return t}(o.PureComponent);E.displayName="FriendsEmptyState";var S=u.default.connectStores([l.default],(function(){return{theme:l.default.theme}}),{forwardRef:!0})(E);t.default=S},539417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(237923)),i=n(910992),u=h(n(728429)),l=h(n(992193)),s=h(n(259530)),d=n(598671),f=n(308920),c=h(n(334200)),p=h(n(906507)),v=h(n(739148)),y=n(770348),m=h(n(247001)),_=h(n(679396));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function S(e){var t=e.user,n=e.type,r=e.status,h=e.isFocused,g=a.useContext(f.AnalyticsContext),S=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})},O=function(e){e.stopPropagation();o.default.addRelationship({userId:t.id,context:{location:"Friends"}})},b=r===y.StatusTypes.OFFLINE?y.StatusTypes.UNKNOWN:r,I=n===y.RelationshipTypes.PENDING_INCOMING?m.default.Messages.INCOMING_FRIEND_REQUEST:m.default.Messages.OUTGOING_FRIEND_REQUEST;return E(p.default,{isFocused:h,user:t,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:g.location})}},void 0,(function(e){var r,o=n===y.RelationshipTypes.PENDING_INCOMING?a.createElement(a.Fragment,null,(null===(r=u.default.getCurrentUser())||void 0===r?void 0:r.isStaff())&&(null==t?void 0:t.isStaff())&&E("div",{className:_.default.staffIndicator},void 0,E(d.TextBadge,{color:y.Colors.BRAND,text:m.default.Messages.STAFF_BADGE_TOOLTIP})),E(c.default,{icon:l.default,
actionType:c.default.ActionTypes.ACCEPT,tooltip:m.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:O,shouldHighlight:e}),E(c.default,{icon:s.default,actionType:c.default.ActionTypes.DENY,tooltip:m.default.Messages.FRIEND_REQUEST_IGNORE,onClick:S,shouldHighlight:e})):E(c.default,{icon:s.default,actionType:c.default.ActionTypes.DENY,tooltip:m.default.Messages.FRIEND_REQUEST_CANCEL,onClick:S,shouldHighlight:e});return E("div",{className:_.default.listItemContents},void 0,E(v.default,{user:t,hovered:e,status:b,subText:I,className:_.default.userInfo}),E("div",{className:_.default.actions},void 0,o))}))}S.displayName="PendingRow"},424359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=C(n(667294)),o=I(n(294184)),i=n(536211),u=I(n(99694)),l=I(n(284382)),s=I(n(235879)),d=I(n(290629)),f=I(n(106605)),c=I(n(949898)),p=I(n(665759)),v=I(n(89411)),y=I(n(724603)),m=C(n(767695)),_=I(n(539417)),h=I(n(662632)),g=I(n(634634)),E=I(n(67993)),S=n(770348),O=I(n(247001)),b=I(n(65234));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.sectionFilter,n=(0,i.useStateFromStoresObject)([f.default],(function(){return f.default.getState()})),r=n.rows,I=n.section,T=(0,i.useStateFromStores)([c.default],(function(){return c.default.isFocused()})),C=(0,i.useStateFromStores)([d.default],(function(){return d.default.getRelationshipCount()})),P=N(a.useState((function(){
for(var e={},t=0,n=Object.values(S.FriendsSections);t<n.length;t++){e[n[t]]=""}return e})),2),R=P[0],w=P[1];var D=a.useCallback((function(e){var n;w(M({},R,((n={})[t]=e,n)))}),[R,t]),L=a.useCallback((function(){var e;w(M({},R,((e={})[t]="",e)))}),[R,t]),k=r.filter(t,R[t]);if(0===k.length&&""===R[t])return A("div",{className:b.default.emptyStateContainer},void 0,A(m.default,{type:t,onClick:function(){u.default.setSection(S.FriendsSections.ADD_FRIEND)}},I));var j=[k],U=0===k.length&&""!==R[t];return A(l.default,{section:S.AnalyticsSections.FRIENDS_LIST},void 0,A(p.default,{className:(0,o.default)(b.default.searchBar,U?b.default.searchEmptyState:null),query:R[t],onChange:D,onClear:L,size:p.default.Sizes.MEDIUM}),A("div",{className:b.default.SectionTitle},void 0,A(g.default,{title:function(){var e=k.length;switch(t){case S.FriendsSections.ONLINE:return O.default.Messages.FRIENDS_ONLINE_HEADER.format({online:e.toString()});case S.FriendsSections.PENDING:
return O.default.Messages.FRIENDS_PENDING_HEADER.format({count:e.toString()});case S.FriendsSections.SUGGESTIONS:return O.default.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:e.toString()});case S.FriendsSections.BLOCKED:return O.default.Messages.FRIENDS_BLOCKED_HEADER.format({count:e.toString()});default:return O.default.Messages.FRIENDS_ALL_HEADER.format({count:e.toString()})}}()})),U?A("div",{className:b.default.emptyStateContainer},void 0,A(m.default,{type:m.FriendsSearchStatus.SECTION_NO_RESULTS},I)):A(h.default,{relationshipCount:C,statusSections:j,renderRow:function(e){switch(t){case S.FriendsSections.BLOCKED:return a.createElement(v.default,M({},e,{isFocused:T}));case S.FriendsSections.PENDING:return a.createElement(_.default,M({},e,{isFocused:T}));case S.FriendsSections.SUGGESTIONS:return a.createElement(E.default,M({},e,{isFocused:T}));case S.FriendsSections.ONLINE:case S.FriendsSections.ALL:default:return a.createElement(y.default,M({},e,{isFocused:T}))}},
searchQuery:R[t],useReducedMotion:s.default.useReducedMotion}))}R.displayName="PeopleList";var w=R;t.default=w},906507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(74854)),u=n(798628),l=n(378158),s=c(n(314234)),d=n(61045),f=c(n(833151));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={height:new i.default.Value(d.PEOPLE_LIST_ITEM_HEIGHT),opacity:new i.default.Value(1),hovered:!1,isContextMenuActive:!1};t.handleMouseEnter=function(){var e=t.props,n=e.isFocused,r=e.isActive,a=e.onOtherHover,o=t.state.isContextMenuActive;t.setState({hovered:n});!n||r||o||null==a||a()};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleContextMenu=function(e,r){t.setState({isContextMenuActive:!0});(0,l.openContextMenuLazy)(e,_(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(81823),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){
return a.createElement(o,y({},e,{user:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:function(){t.setState({isContextMenuActive:!1})}})};return t}var r=t.prototype;r.componentWillLeave=function(e){i.default.parallel([i.default.timing(this.state.opacity,{toValue:0,duration:200}),i.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)};r.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);i.default.parallel([i.default.timing(this.state.opacity,{toValue:1,duration:200}),i.default.timing(this.state.height,{toValue:d.PEOPLE_LIST_ITEM_HEIGHT,duration:200})]).start(e)};r.render=function(){var e=this,t=this.state,n=t.height,r=t.opacity,l=t.hovered,d=t.isContextMenuActive,c=this.props,p=c.children,m=c.user,_=c.onClick,h=c.isActive;return v(u.ListNavigatorItem,{id:m.id},void 0,(function(t){var u;return v(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,y({className:(0,
o.default)(f.default.peopleListItem,(u={},u[f.default.active]=h||d,u)),onContextMenu:function(t){return e.handleContextMenu(t,m)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=_?_:void 0,style:{height:n,opacity:r}},t),p(l||h||d)))}))};return t}(a.PureComponent);g.displayName="PeopleListItem";var E=g;t.default=E},662632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.relationshipCount,n=e.statusSections,r=e.renderRow,u=e.searchQuery,l=e.useReducedMotion;return t>=i.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD?s(a.default,{statusSections:n,renderRow:r,searchQuery:u}):s(o.default,{statusSections:n,renderRow:r,searchQuery:u,useReducedMotion:l})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(390389)),o=u(n(104889)),i=n(61045);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},390389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(235879)),l=n(521358),s=n(61045),d=c(n(65234)),f=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e){var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=function(e){return 0===t[e].length?0:s.STATUS_HEADER_HEIGHT+16},p=function(e){var r=e.section,a=e.row,o=t[r];if(null==o||null==a)return null;var i=o[a];return null==i?null:n(i)},v=(0,i.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),_=a.useRef(null),h=a.useCallback((function(){return new Promise((function(e){var t=_.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))
}),[]),g=a.useCallback((function(){return new Promise((function(e){var t=_.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),E=a.useCallback((function(e){var t=document.querySelector(e),n=_.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),S=(0,o.default)({id:"people-list",isEnabled:v,scrollToStart:h,scrollToEnd:g,setFocus:E});return y(o.ListNavigatorProvider,{navigator:S},void 0,y(o.ListNavigatorContainer,{},void 0,(function(e){var n=e.ref,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(l.ListAuto,m({ref:function(e){var t;_.current=e;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:c,renderRow:p,rowHeight:s.PEOPLE_LIST_ITEM_HEIGHT,sections:t.map((function(e){
return""!==r&&0===e.length?e.length+1:e.length})),className:d.default.peopleList},o))})))}_.displayName="PeopleListSectionedLazy";var h=_;t.default=h},104889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=c(n(550024)),l=c(n(235879)),s=n(582945),d=c(n(65234)),f=["ref"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){
y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){
var t=e.statusSections,n=e.renderRow,r=e.searchQuery,c=e.useReducedMotion,p=(0,i.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),v=(0,o.default)({id:"people",isEnabled:p,scrollToStart:function(){return h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},scrollToEnd:function(){return h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}),_=t.map((function(e,t){return c||""!==r?m("div",{},t,e.map(n)):m(u.default,{transitionAppear:!1,component:"div"},t,e.map(n))}));return m(o.ListNavigatorProvider,{navigator:v},void 0,m(o.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f)
;return a.createElement(s.ScrollerAuto,y({ref:t,className:d.default.peopleList},n),_)})))}g.displayName="PeopleListSectionedNonLazy";var E=g;t.default=E},547403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=A(n(667294)),o=n(370405),i=n(536211),u=A(n(588136)),l=T(n(99694)),s=T(n(677520)),d=T(n(463024)),f=T(n(992634)),c=T(n(352636)),p=n(887299),v=T(n(871778)),y=T(n(106605)),m=A(n(186465)),_=T(n(652047)),h=n(598671),g=n(518802),E=T(n(518319)),S=T(n(424359)),O=n(770348),b=T(n(247001)),I=T(n(342894));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=M(d.default.Divider,{});function P(){return M("div",{className:I.default.inviteToolbar},void 0,M(f.default,{tooltip:b.default.Messages.NEW_GROUP_DM}),N)}P.displayName="HeaderToolbar";var R=M(o.Helmet,{title:"Discord"}),w=M(P,{}),D=M(d.default.Icon,{icon:_.default,"aria-hidden":!0}),L=M(d.default.Divider,{}),k=M(E.default,{}),j=M(c.default,{})
;function U(e){var t=e.initialSection;a.useEffect((function(){u.setHomeLink(O.Routes.FRIENDS);(0,p.trackAppUIViewed)("friends")}));a.useEffect((function(){null!=t&&l.default.setInitialSection(t)}),[t]);var n=(0,i.useStateFromStores)([v.default],(function(){return v.default.theme})),r=(0,i.useStateFromStoresObject)([y.default],(function(){return y.default.getState()})),o=r.section,f=r.pendingCount,c=(0,i.useStateFromStoresObject)([s.default],(function(){return s.default.getSuggestionCount()}));return M("div",{className:I.default.container},void 0,R,M(d.default,{className:(0,g.getThemeClass)(n),toolbar:w},void 0,D,M(d.default.Title,{},void 0,b.default.Messages.FRIENDS),L,M(m.default,{"aria-label":b.default.Messages.FRIENDS,selectedItem:o,type:m.Types.TOP_PILL,onItemSelect:function(e){l.default.setSection(e)},className:I.default.tabBar},void 0,M(m.Item,{id:O.FriendsSections.ONLINE,className:I.default.item},void 0,b.default.Messages.FRIENDS_SECTION_ONLINE),M(m.Item,{
id:O.FriendsSections.ALL,className:I.default.item},void 0,b.default.Messages.FRIENDS_SECTION_ALL),M(m.Item,{id:O.FriendsSections.PENDING,className:I.default.item,"aria-label":b.default.Messages.FRIENDS_SECTION_PENDING},void 0,b.default.Messages.FRIENDS_SECTION_PENDING,f>0?M(h.NumberBadge,{count:f,className:I.default.badge,style:{paddingRight:0}}):null),c>0?M(m.Item,{id:O.FriendsSections.SUGGESTIONS,className:I.default.item,"aria-label":b.default.Messages.FRIENDS_SECTION_SUGGESTIONS},void 0,b.default.Messages.FRIENDS_SECTION_SUGGESTIONS,M(h.NumberBadge,{count:c,className:I.default.badge,style:{paddingRight:0}})):null,M(m.Item,{id:O.FriendsSections.BLOCKED,className:I.default.item},void 0,b.default.Messages.BLOCKED),M(m.Item,{"aria-label":b.default.Messages.FRIENDS_SECTION_ADD_FRIEND,className:I.default.item,color:O.Colors.STATUS_GREEN_600,id:O.FriendsSections.ADD_FRIEND},void 0,M("span",{"aria-hidden":"true"},void 0,b.default.Messages.FRIENDS_SECTION_ADD_FRIEND)))),M("div",{
className:I.default.tabBody},void 0,M(m.Panel,{id:o,className:I.default.peopleColumn},void 0,o===O.FriendsSections.ADD_FRIEND?k:M(S.default,{sectionFilter:o})),M("div",{className:I.default.nowPlayingColumn},void 0,j)))}U.displayName="PeoplePage";var G=U;t.default=G},634634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(325908)),o=i(n(858162));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.title;return l(a.default,{className:o.default.title},void 0,t)}s.displayName="SectionTitle"},666561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(433473)),o=n(873838),i=u(n(78080));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.hovered,n=e.activities,r=e.applicationStream,u=e.status;return n.length>0?s(a.default,{className:i.default.activity,textClassName:i.default.text,
emojiClassName:i.default.customStatusEmoji,activities:n,applicationStream:r,animate:t}):s("div",{className:i.default.text},void 0,(0,o.humanizeStatus)(u))};t.default=d},67993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(237923)),i=_(n(651473)),u=n(910992),l=_(n(992193)),s=_(n(259530)),d=n(308920),f=_(n(334200)),c=_(n(906507)),p=_(n(739148)),v=n(770348),y=_(n(247001)),m=_(n(380625));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.user,n=e.nickname,r=e.status,_=e.isFocused,h=a.useContext(d.AnalyticsContext),E=function(e){null==e||e.stopPropagation();o.default.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},S=function(e){null==e||e.stopPropagation();i.default.ignore(t.id)},O=r===v.StatusTypes.OFFLINE?v.StatusTypes.UNKNOWN:r;return g(c.default,{isFocused:_,user:t,onClick:function(){return(0,u.openUserProfileModal)({userId:t.id,
analyticsLocation:h.location})}},void 0,(function(e){var r=a.createElement(a.Fragment,null,g(f.default,{icon:l.default,actionType:f.default.ActionTypes.ACCEPT,tooltip:y.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),g(f.default,{icon:s.default,actionType:f.default.ActionTypes.DENY,tooltip:y.default.Messages.FRIEND_REQUEST_IGNORE,onClick:S,shouldHighlight:e}));return g("div",{className:m.default.listItemContents},void 0,g(p.default,{user:t,hovered:e,status:O,subText:n,className:m.default.userInfo}),g("div",{className:m.default.actions},void 0,r))}))}E.displayName="SuggestionRow"},739148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=n(536211),i=d(n(252149)),u=d(n(435160)),l=d(n(290629)),s=d(n(107793));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t,n=e.user,r=e.hovered,d=e.subText,f=e.status,p=e.isMobile,v=e.className,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return c("div",{className:(0,a.default)(s.default.userInfo,v,(t={},t[s.default.hovered]=r,t))},void 0,c(u.default,{user:n,className:s.default.avatar,animate:r,status:f,isMobile:p}),c("div",{className:s.default.text},void 0,c(i.default,{nick:y,user:n,className:s.default.discordTag,usernameClass:s.default.username,discriminatorClass:s.default.discriminator,botClass:s.default.botTag}),c("div",{className:s.default.subtext},void 0,d)))}p.displayName="UserInfo";var v=p;t.default=v},864062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(914392);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=(0,i.getDefaultCountryCode)();function d(e){
var t,n=e.countryCode;null!=n&&(s=null!==(t=(0,i.getCountryCodeByAlpha2)(n))&&void 0!==t?t:(0,i.getDefaultCountryCode)())}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(r=e.selectedCountryCode)};n.getUserAgnosticState=function(){return{selectedCountryCode:r}};n.getCountryCode=function(){return null!=r?r:s};n.__getLocalVars=function(){return{selectedCountryCode:r,defaultCountryCode:s}};return t}(a.default.DeviceSettingsStore);f.displayName="PhoneStore";f.persistKey="PhoneStore";var c=new f(o.default,{PHONE_SET_COUNTRY_CODE:function(e){var t=e.countryCode;r=t},CONNECTION_OPEN:d,SET_LOCATION_METADATA:d});t.default=c},745203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAchievementToast=function(e,t){var n=(0,u.getPoggermodeAchievementData)(e);if(null==n)return;(0,i.showToast)((0,
o.createToast)(d.default.Messages.POGGERMODE_ACHIEVEMENTS,o.ToastType.CUSTOM,{position:s.ToastPosition.BOTTOM,component:p(l.default,{achievement:n,unlocked:t}),duration:6e3}))};t.unlockAchievement=function(e){a.default.dispatch({type:"POGGERMODE_ACHIEVEMENT_UNLOCK",achievementId:e})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(636602)),o=n(767019),i=n(143586),u=n(114592),l=f(n(817793)),s=n(658616),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){
return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},358091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(536211)),a=s(n(636602)),o=s(n(423046)),i=n(745203),u=s(n(54147)),l=s(n(4590));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c={
unlockedAchievements:{}},p=f({},c);var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(o.default,l.default);var t=null!=e?e:f({},c);for(var n in t)p[n]=t[n]};n.getState=function(){return p};n.getAllUnlockedAchievements=function(){return p.unlockedAchievements};n.getUnlocked=function(e){var t;return null!==(t=p.unlockedAchievements[e])&&void 0!==t?t:null};n.__getLocalVars=function(){return{ACHIEVEMENT_UNLOCK_TOAST_DELAY_MS:2e3,initialState:c,state:p}};return t}(r.default.PersistedStore);v.displayName="PoggermodeAchievementStore";v.persistKey="PoggermodeAchievementStore";var y=new v(a.default,{POGGERMODE_ACHIEVEMENT_UNLOCK:function(e){var t=e.achievementId;if(!u.default.enabled)return!1;!function(e){var t;if(null!=p.unlockedAchievements[e])return!1;p.unlockedAchievements=f({},p.unlockedAchievements,((t={})[e]={
achievementId:e,dateUnlocked:Date.now()},t));setTimeout((function(){(0,i.showAchievementToast)(e,!0)}),2e3)}(t)}});t.default=y},114592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getAchievementStyles=t.PoggermodeAchievementRarity=t.PoggermodeAchievementId=t.ACHIEVEMENT_LIST=void 0;t.getPoggermodeAchievementData=function(e){return d[e]};var r,a,o,i,u=n(117629),l=n(478036),s=(r=n(247001))&&r.__esModule?r:{default:r};t.PoggermodeAchievementId=o;!function(e){e[e.ENABLE_POGGERMODE=0]="ENABLE_POGGERMODE";e[e.DISABLE_POGGERMODE=1]="DISABLE_POGGERMODE";e[e.PING_SOMEONE=2]="PING_SOMEONE";e[e.PING_ME=3]="PING_ME";e[e.COMBO_MULTI_LEVEL_1=4]="COMBO_MULTI_LEVEL_1";e[e.COMBO_MULTI_LEVEL_2=5]="COMBO_MULTI_LEVEL_2";e[e.COMBO_MULTI_LEVEL_3=6]="COMBO_MULTI_LEVEL_3";e[e.COMBO_MULTI_LEVEL_4=7]="COMBO_MULTI_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_1=8]="TOTAL_SCORE_LEVEL_1";e[e.TOTAL_SCORE_LEVEL_2=9]="TOTAL_SCORE_LEVEL_2";e[e.TOTAL_SCORE_LEVEL_3=10]="TOTAL_SCORE_LEVEL_3"
;e[e.TOTAL_SCORE_LEVEL_4=11]="TOTAL_SCORE_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_5=12]="TOTAL_SCORE_LEVEL_5";e[e.VISITOR_100=13]="VISITOR_100";e[e.CUSTOMIZE_CONFETTI=14]="CUSTOMIZE_CONFETTI";e[e.MORE=15]="MORE";e[e.COMBO_VALUE_LEVEL_1=16]="COMBO_VALUE_LEVEL_1";e[e.COMBO_VALUE_LEVEL_2=17]="COMBO_VALUE_LEVEL_2";e[e.COMBO_VALUE_LEVEL_3=18]="COMBO_VALUE_LEVEL_3";e[e.COMBO_VALUE_LEVEL_4=19]="COMBO_VALUE_LEVEL_4"}(o||(t.PoggermodeAchievementId=o={}));t.PoggermodeAchievementRarity=i;!function(e){e[e.COMMON=0]="COMMON";e[e.UNCOMMON=1]="UNCOMMON";e[e.RARE=2]="RARE";e[e.EPIC=3]="EPIC";e[e.LEGENDARY=4]="LEGENDARY"}(i||(t.PoggermodeAchievementRarity=i={}));var d=((a={})[o.ENABLE_POGGERMODE]={id:o.ENABLE_POGGERMODE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.DISABLE_POGGERMODE]={id:o.DISABLE_POGGERMODE,
name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.VISITOR_100]={id:o.VISITOR_100,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,onAction:function(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")}},a[o.CUSTOMIZE_CONFETTI]={id:o.CUSTOMIZE_CONFETTI,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.MORE]={id:o.MORE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_MORE_NAME},
description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_MORE_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.PING_SOMEONE]={id:o.PING_SOMEONE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.PING_ME]={id:o.PING_ME,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.COMBO_MULTI_LEVEL_1]={id:o.COMBO_MULTI_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=2}},
a[o.COMBO_MULTI_LEVEL_2]={id:o.COMBO_MULTI_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=4}},a[o.COMBO_MULTI_LEVEL_3]={id:o.COMBO_MULTI_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=5}},a[o.COMBO_MULTI_LEVEL_4]={id:o.COMBO_MULTI_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){
return e.multiplier>=7}},a[o.TOTAL_SCORE_LEVEL_1]={id:o.TOTAL_SCORE_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 430===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_2]={id:o.TOTAL_SCORE_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 555===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_3]={id:o.TOTAL_SCORE_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_DESCRIPTION},rarity:i.EPIC,
hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 898===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_4]={id:o.TOTAL_SCORE_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 1337===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_5]={id:o.TOTAL_SCORE_LEVEL_5,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 2048===(0,u.getComboScore)(e)}},a[o.COMBO_VALUE_LEVEL_1]={id:o.COMBO_VALUE_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_NAME},description:function(){
return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 64===e.value}},a[o.COMBO_VALUE_LEVEL_2]={id:o.COMBO_VALUE_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 88===e.value}},a[o.COMBO_VALUE_LEVEL_3]={id:o.COMBO_VALUE_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 99===e.value}},a[o.COMBO_VALUE_LEVEL_4]={id:o.COMBO_VALUE_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_NAME},
description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 113===e.value}},a);t.ACHIEVEMENT_LIST=d;t.getAchievementStyles=function(e){switch(e){case i.COMMON:return{color:"#1ABC9C"};case i.UNCOMMON:return{color:"#3498DB"};case i.RARE:return{color:"#9B59B6"};case i.EPIC:return{color:"#E91E63"};case i.LEGENDARY:return{color:"#E67E22"}}return{color:l.Colors.BRAND_400}}},516869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(636602)),a=p(n(177230)),o=p(n(423046)),i=n(745203),u=p(n(358091)),l=n(114592),s=n(962119),d=p(n(54147)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(4590));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=new Set,m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleSettingsUpdate=function(e){var t=e.settings;t.enabled?(0,i.unlockAchievement)(l.PoggermodeAchievementId.ENABLE_POGGERMODE):!1===t.enabled&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.DISABLE_POGGERMODE)
;Object.keys(t).some((function(e){return e.startsWith("confetti")}))&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.CUSTOMIZE_CONFETTI)};t.handleMessageCreate=function(e){var t=e.channelId,n=e.message,r=n.author,a=n.nonce,c=n.mentions;if(!d.default.enabled||!(0,s.poggermodeEnabled)())return!1;var p=o.default.getId();null!=(null==c?void 0:c.find((function(e){return e.id===p})))?(0,i.unlockAchievement)(l.PoggermodeAchievementId.PING_ME):c.length>0&&(null==r?void 0:r.id)===p&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.PING_SOMEONE);if(!(0,f.shouldTrackMessage)(r.id,p,a,y))return!1;var v=f.default.getMostRecentMessageCombo(t),m=(null!=v?v:{}).combo;if(null==m)return!1;Object.values(l.PoggermodeAchievementId).forEach((function(e){var t=e;if(null==u.default.getUnlocked(t)){var n=(0,l.getPoggermodeAchievementData)(t),r=null==n?void 0:n.checkUnlock;null!=r&&!1!==r(m)&&(0,i.unlockAchievement)(t)}}))};return t}var n=t.prototype;n._initialize=function(){
r.default.subscribe("MESSAGE_CREATE",this.handleMessageCreate);r.default.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};n._terminate=function(){r.default.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate);r.default.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};n.__getLocalVars=function(){return{trackedMessageNonces:y}};return t}(a.default));t.default=m},524439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=y(n(636602)),a=y(n(177230)),o=y(n(796608)),i=y(n(423046)),u=y(n(893160)),l=y(n(211136)),s=y(n(946447)),d=n(179379),f=n(962119),c=y(n(54147)),p=y(n(4590)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=(0,d.createSoundForPack)("poggermode_applause",o.default.getSoundpack()),E=!1,S=!1,O=[],b=null,I=function(){if(!E){g.loop();E=!0}},T=function(){g.stop();E=!1},C=function(){if(!(0,
f.poggermodeEnabled)())return!1;var e=c.default.enabled,t=c.default.comboSoundsEnabled;return!(!e||!t)&&null!=l.default.getChannelId()},A=function(){if(0!==O.length&&C()&&!S){S=!0;var e=_(O[O.length-1],2),t=e[0],n=e[1];(0,d.playSound)(t,n);b=setTimeout(M,1e3)}},M=function(){O.pop();S=!1;A()},N=function(e,t){void 0===t&&(t=1);var n=u.default.isConnected()?.1:1;O.push([e,t*n]);A()},P=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){p.default.addChangeListener(this.startAudio);r.default.subscribe("RTC_CONNECTION_STATE",this.setVolume);r.default.subscribe("TYPING_STOP",this.stopAudio);r.default.subscribe("TYPING_STOP_LOCAL",this.stopAudio);r.default.subscribe("CHANNEL_SELECT",this.stopAudio);r.default.subscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio)};n._terminate=function(){p.default.removeChangeListener(this.startAudio)
;r.default.unsubscribe("RTC_CONNECTION_STATE",this.setVolume);r.default.unsubscribe("TYPING_STOP",this.stopAudio);r.default.unsubscribe("TYPING_STOP_LOCAL",this.stopAudio);r.default.unsubscribe("CHANNEL_SELECT",this.stopAudio);r.default.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio);clearTimeout(b)};n.setVolume=function(e){e.state===v.RTCConnectionStates.RTC_CONNECTED?g.volume=.1:g.volume=1};n.handleTypingStop=function(e){var t=e.userId;i.default.getId()===t&&T()};n.stopAudio=function(){T()};n.startAudio=function(){var e;if(C()){var t=l.default.getChannelId();if(null!=t){var n=i.default.getId(),r=s.default.isTyping(t,n),a=p.default.getUserCombo(n,t),o=null!==(e=null==a?void 0:a.multiplier)&&void 0!==e?e:1;r&&o>=7?I():T()}}};n.playAchievementUnlockSound=function(){C()&&N("poggermode_achievement_unlock")};n.__getLocalVars=function(){return{applause:g,COMBO_SOUND_EFFECT_MULTIPLIER_THRESHOLD:7,REGULAR_VOLUME:1,REDUCED_VOLUME:.1,SOUND_DEQUEUE_TIMEOUT_MS:1e3,isLooping:E,
isPlaying:S,soundQueue:O,soundTimeoutId:b,loopApplause:I,stopApplause:T,canPlaySound:C,playSoundFromQueue:A,queueNextSound:M,enqueueSound:N}};return t}(a.default));t.default=P},181240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(294184)),o=c(n(730381)),i=c(n(16941)),u=n(645758),l=n(35033),s=n(114592),d=c(n(824701)),f=c(n(974848));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){
return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.achievementId,n=e.dateUnlocked,r=(0,s.getPoggermodeAchievementData)(t);if(null==r)return null;var c=null!=n,p=r.name,y=r.description,m=r.hideDescriptionUntilUnlock,_=r.onAction,h=m&&!c,g=c?"header-primary":"text-muted",E=c?"header-secondary":"text-muted",S=(0,o.default)(n),O=null!=_&&c;return v(O?i.default:"div",{className:(0,a.default)(f.default.container,O&&f.default.actionable),onClick:function(){O&&_()}},void 0,v("div",{className:f.default.iconContainer},void 0,v(d.default,{achievementId:t,size:d.default.Sizes.SIZE_40,
unlocked:c})),v("div",{className:f.default.nameContainer},void 0,null!=n&&v(u.Text,{variant:"text-xxs/semibold",color:"text-muted",className:f.default.unlocked},void 0,(0,l.calendarFormat)(S)),v(u.Text,{variant:"text-md/medium",color:g},void 0,p()),v(u.Text,{variant:"text-xs/normal",color:E},void 0,h?"?????":y())))}y.displayName="AchievementItem"},817793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=n(645758),l=n(114592),s=c(n(524439)),d=c(n(824701)),f=c(n(697888));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.color;return v("svg",{width:"48",height:"28",viewBox:"0 0 55 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,v("rect",{x:"10.1968",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 10.1968 7)",className:f.default.toastBG}),v("rect",{
x:"27.3936",y:"0.59021",width:"23.4851",height:"23.4851",transform:"rotate(45 27.3936 0.59021)",className:f.default.toastBG}),v("rect",{x:"44.5903",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 44.5903 7)",className:f.default.toastBG}),v("rect",{x:"10.1968",y:"13",width:"6",height:"6",transform:"rotate(45 10.1968 13)",fill:t}),v("path",{d:"M27.3936 4.39355L34.1233 16.2873L27.3936 28.1811L20.6638 16.2873L27.3936 4.39355Z",fill:t}),v("rect",{x:"44.5903",y:"13",width:"6",height:"6",transform:"rotate(45 44.5903 13)",fill:t}))};y.displayName="Flair";function m(e){var t=e.achievement,n=e.unlocked,r=t.name,c=t.description,p=t.rarity,m=t.hideDescriptionUntilUnlock,_=t.onAction,h=(0,l.getAchievementStyles)(p).color;a.useEffect((function(){var e=setTimeout((function(){s.default.playAchievementUnlockSound()}),50);return function(){clearTimeout(e)}}),[]);var g=null!=_&&n;return v(g?i.default:"div",{className:(0,o.default)(f.default.container,g&&f.default.actionable),
onClick:function(){g&&_()}},void 0,v("div",{className:f.default.iconContainer},void 0,v(d.default,{achievementId:t.id,size:d.default.Sizes.SIZE_40,unlocked:n})),v("div",{className:f.default.nameContainer},void 0,v(u.Text,{variant:"text-md/semibold",color:"header-primary"},void 0,r()),v(u.Text,{variant:"text-xs/medium",color:"header-secondary"},void 0,m&&!n?"?????":c())),v("div",{className:f.default.flair},void 0,v(y,{color:h})))}m.displayName="AchievementToast"},824701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),i=v(n(213847)),u=v(n(745216)),l=v(n(999720)),s=v(n(509765)),d=n(114592),f=n(942675),c=n(478036),p=v(n(945052));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=((r={})[c.ThemeTypes.DARK]={
trophy:c.Colors.PRIMARY_DARK_400,locked:c.Colors.PRIMARY_DARK_400,unlocked:c.Colors.STATUS_GREEN_560},r[c.ThemeTypes.LIGHT]={trophy:c.Colors.PRIMARY_LIGHT,locked:c.Colors.PRIMARY_LIGHT,unlocked:c.Colors.STATUS_GREEN_560},r);g.Sizes=f.Sizes;function g(e){var t,n=e.achievementId,r=e.unlocked,a=e.size,c=void 0===a?f.Sizes.SIZE_40:a,v=(0,i.default)(),y=(0,d.getPoggermodeAchievementData)(n);if(null==y)return null;var g=(0,f.getAvatarSpecs)(c),E=y.name,S=y.rarity,O=(0,d.getAchievementStyles)(S).color,b=h[v],I=.8*(g.size-g.offset-2*g.stroke),T=g.size-g.stroke,C={width:.4*I,height:.4*I},A={width:C.width+1,height:C.height+1,right:g.stroke+1,bottom:g.stroke+1,padding:0};return _("div",{className:p.default.container,style:{width:T,height:T,padding:g.stroke},"aria-label":""+(null!==(t=E())&&void 0!==t?t:"")},void 0,_("div",{className:p.default.trophyIconContainer},void 0,_(s.default,{color:r?O:b.trophy,width:I,height:I})),!r&&_("div",{className:p.default.lockContainer,style:A
},void 0,o.createElement(l.default,m({color:b.locked},C))),r&&S===d.PoggermodeAchievementRarity.LEGENDARY&&_("div",{className:p.default.lockContainer,style:A},void 0,o.createElement(u.default,m({className:p.default.confettiIcon},C))))}g.displayName="AchievementTrophy"},143493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PoggermodeCallTile=p;t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(608021)),i=d(n(298371)),u=d(n(692775)),l=d(n(909082)),s=n(378542);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.callTileRef,n=e.isFiring,r=(0,l.default)(),a=(0,u.default)(t);return null==a||null==t?null:c(o.default,{position:{y:a.y+t.clientHeight/2,x:a.x+t.clientWidth/2},firing:n,count:4*r.count})}p.displayName="PoggermodeCallTile";function v(e){return c(i.default,{confettiLocation:s.ConfettiLocation.CALL_TILE},void 0,a.createElement(p,e))}v.displayName="PoggermodeConfettiReactionWrapper"},332405:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(636602)),i=f(n(177230)),u=f(n(956117)),l=n(645758),s=n(194322),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)
}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}
var r=t.prototype;r._initialize=function(){o.default.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)};r._terminate=function(){o.default.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)};r.handlePoggermodeTemporarilyDisabled=function(){(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,p({},e,{header:d.default.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_TITLE,confirmText:d.default.Messages.CONFIRM,confirmButtonColor:u.default.Colors.GREEN}),v(l.Text,{variant:"text-md/normal"},void 0,d.default.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_BODY))}));case 5:case"end":return e.stop()}}),e)}))))};r.__getLocalVars=function(){return{}};return t}(i.default));t.default=h},
338016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),i=n(248088),u=n(536211),l=S(n(235879)),s=S(n(423046)),d=S(n(946447)),f=n(645758),c=S(n(170823)),p=S(n(745216)),v=n(943725),y=S(n(4590)),m=n(117629),_=S(n(182162)),h=S(n(429654)),g=S(n(247001)),E=S(n(440313));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=a.memo((function(e){var t=e.channelId,n=e.width,r=(0,u.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),o=(0,u.useStateFromStores)([y.default],(function(){return y.default.getMostRecentMessageCombo(t)}),[t]),s=I(a.useState(!1),2),d=s[0],c=s[1];a.useEffect((function(){if(!(null==o?void 0:o.displayed)){c(!1);setImmediate((function(){var e=null!=o?(0,m.getComboScore)(o.combo):0;c(e>0)}));var e=setTimeout((function(){c(!1);null!=o&&(0,v.clearMessageCombo)(o)}),2e3);return function(){return clearTimeout(e)}}}),[o])
;var p=null!=o?"100%":"200%",_=(0,i.useSpring)({opacity:d?1:0,translateY:d?"0":p,pointerEvents:"none",width:n,config:r?i.config.stiff:i.config.slow});return a.createElement(a.Fragment,null,null!=o&&b(i.animated.div,{className:E.default.messageComboScore,style:_},void 0,b(f.Text,{className:E.default.comboScore,variant:"text-sm/normal"},void 0,(0,m.getComboScore)(o.combo))))})),A=b(p.default,{width:24,height:24}),M=b(p.default,{width:24,height:24}),N=a.memo((function(e){var t=e.value,n=e.multiplier,r=a.useMemo((function(){return(0,m.getComboStyles)(n)}),[n]),i=r.color,u=r.square,l=r.flair;return a.createElement(a.Fragment,null,b(f.Text,{className:E.default.comboValue,variant:"text-sm/normal"},void 0,t),b("div",{className:E.default.comboNameplate,style:{color:i}},void 0,b(f.Text,{className:E.default.comboMultiplier,style:{color:i},variant:"text-sm/normal"},void 0,g.default.Messages.POGGERMODE_COMBO.format({multiplier:n})),u&&a.createElement(a.Fragment,null,b("div",{className:(0,
o.default)(E.default.comboSquare,E.default.left),style:{backgroundColor:i}}),b("div",{className:(0,o.default)(E.default.comboSquare,E.default.right),style:{backgroundColor:i}})),l&&a.createElement(a.Fragment,null,b("div",{className:(0,o.default)(E.default.confettiIcon,E.default.left)},void 0,A),b("div",{className:(0,o.default)(E.default.confettiIcon,E.default.right)},void 0,M)),1===n&&b(f.Text,{className:E.default.tip,variant:"text-sm/normal"},void 0,g.default.Messages.POGGERMODE_COMBO_TIP)))})),P=a.memo((function(e){var t,n=e.channelId,r=(0,u.useStateFromStores)([s.default],(function(){return s.default.getId()})),o=(0,u.useStateFromStores)([d.default],(function(){return d.default.isTyping(n,r)}),[n,r]),f=(0,h.default)(),p=(0,u.useStateFromStores)([y.default],(function(){return y.default.isComboing(r,n)}),[n,r]),v=a.useRef(null),m=(0,c.default)(v,!0,[o]),g=(0,u.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),S=I(a.useState(!1),2),O=S[0],T=S[1],A=(0,
_.default)(n),M=f&&p&&o;a.useEffect((function(){M&&T(!0);var e=setTimeout((function(){return T(M)}),1e3);return function(){return clearTimeout(e)}}),[M]);var P=(0,i.useSpring)({opacity:O?1:0,transform:O?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:i.config.stiff,immediate:g}),R=a.useMemo((function(){return null!=A?A:{value:0,multiplier:1}}),[A]),w=a.useRef(R);a.useEffect((function(){(R.multiplier>1||R.value>0)&&(w.current=R)}),[R]);var D=a.useMemo((function(){return{value:M?R.value:w.current.value,multiplier:M?R.multiplier:w.current.multiplier}}),[M,R,w]),L=D.multiplier,k=D.value;return a.createElement(a.Fragment,null,b(C,{channelId:n,width:null!==(t=null==m?void 0:m.width)&&void 0!==t?t:0}),a.createElement(i.animated.div,{ref:v,className:E.default.combo,style:P},b(N,{value:k,multiplier:L})))}));t.default=P},101499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){
var e=G(a.useState(Y.USER_SETTINGS),2),t=e[0],n=e[1],r=G(a.useState(ie(t)),2),o=r[0],u=r[1],s=G(a.useState(!1),2),d=s[0],p=s[1],v=(0,i.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),y=d&&!v;a.useEffect((function(){var e=setTimeout((function(){u(ie(t))}),500);return function(){return clearTimeout(e)}}),[t]);a.useEffect((function(){Math.random()>.99&&(0,I.unlockAchievement)(T.PoggermodeAchievementId.VISITOR_100)}),[]);return a.createElement(a.Fragment,null,H(c.default,{step:t,direction:o},void 0,function(e,t,n){var r=function(e){return function(){t(e)}};switch(e){case Y.USER_SETTINGS:return H(oe,{onChangePage:r(Y.ACHIEVEMENT_LIST),setShowEnableAnimation:n});case Y.ACHIEVEMENT_LIST:return H(N.default,{onBackClick:r(Y.USER_SETTINGS)});default:return null}}(t,n,p)),H("div",{className:y?L.default.enableAnimationOverlayVisible:L.default.enableAnimationOverlayHidden},void 0,H(f.default,{className:L.default.enableAnimation,importData:ae,shouldAnimate:y,
autoplay:!1,resetOnPlay:!0,loop:!1,onComplete:function(){return p(!1)}})))};var r,a=U(n(667294)),o=n(496486),i=n(536211),u=n(91817),l=k(n(235879)),s=k(n(16941)),d=n(772575),f=k(n(230047)),c=U(n(134782)),p=k(n(118777)),v=k(n(567668)),y=n(645758),m=n(688388),_=k(n(863771)),h=k(n(509765)),g=k(n(436081)),E=n(194322),S=n(956506),O=k(n(550270)),b=n(179379),I=n(745203),T=n(114592),C=n(943725),A=k(n(54147)),M=k(n(608021)),N=k(n(346434)),P=n(909082),R=n(378542),w=n(770348),D=k(n(247001)),L=k(n(438235));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,u,"next",e)}function u(e){x(o,r,a,i,u,"throw",e)}i(void 0)}))}}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}var V,Y,K={enabled:!0,combosEnabled:!0,screenshakeEnabled:!1,confettiEnabled:!1},z=(0,o.range)(0,11),$=(0,o.range)(0,2.25,.25),q=(0,o.range)(1,11),X=(0,o.range)(1,26);!function(e){e[e.CONFETTI=0]="CONFETTI";e[e.SHAKE=1]="SHAKE"}(V||(V={}));!function(e){e[e.USER_SETTINGS=0]="USER_SETTINGS";e[e.ACHIEVEMENT_LIST=1]="ACHIEVEMENT_LIST"}(Y||(Y={}));function Q(e){var t=e.disabled,n=e.locations,r=e.settingsLocations,o=e.onChange,i=n.map((function(e){return H(v.default,{disabled:t,value:r[e.location],note:e.description,onChange:function(t){var n;return o(W({},r,((n={})[e.location]=t,n)))}},e.location,e.title)}));return a.createElement(a.Fragment,null,H(m.FormTitle,{},void 0,D.default.Messages.POGGERMODE_LOCATIONS),i)}function Z(e){var t=e.children;return H(y.Text,{
className:L.default.sliderDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,t)}Z.displayName="SliderDescription";function J(e){var t=e.settings,r=t.enabled,o=t.warningSeen,u=e.updateSettings,s=(0,i.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion}));return H(v.default,{value:r,note:D.default.Messages.POGGERMODE_ENABLE_DESCRIPTION,onChange:function(e){e||(0,I.unlockAchievement)(T.PoggermodeAchievementId.DISABLE_POGGERMODE);!e||o&&!s?u({enabled:e}):(0,E.openModalLazy)(B(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,W({header:s?D.default.Messages.POGGERMODE_WARNING_TITLE_REDUCED_MOTION:D.default.Messages.POGGERMODE_WARNING_TITLE,confirmText:D.default.Messages.ENABLE,cancelText:D.default.Messages.CANCEL,
onConfirm:function(){return u(s?K:{enabled:!0,warningSeen:!0})}},e),H(y.Text,{variant:"text-md/normal"},void 0,s?D.default.Messages.POGGERMODE_WARNING_BODY_REDUCED_MOTION:D.default.Messages.POGGERMODE_WARNING_BODY))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,D.default.Messages.POGGERMODE_ENABLE)}J.displayName="GlobalSettings";function ee(e){var t=e.settings,n=t.enabled,r=t.confettiEnabled,a=t.confettiCount,o=t.confettiSize,i=t.confettiEnabledLocations,u=e.updateSettings,l=!n||!r;return H(m.FormSection,{tag:m.FormTitleTags.H1,title:D.default.Messages.POGGERMODE_CONFETTI_CUSTOMIZATION},void 0,H(v.default,{disabled:!n,value:r,note:D.default.Messages.POGGERMODE_CONFETTI_ENABLED_DESCRIPTION,onChange:function(e){return u({confettiEnabled:e},V.CONFETTI)}},void 0,D.default.Messages.POGGERMODE_CONFETTI_ENABLED),H(m.FormItem,{disabled:l,title:D.default.Messages.POGGERMODE_CONFETTI_COUNT,className:L.default.formItem
},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_CONFETTI_COUNT_DESCRIPTION),H(p.default,{disabled:l,markers:q,stickToMarkers:!0,minValue:q[0],maxValue:q[q.length-1],initialValue:a,onValueChange:function(e){return u({confettiCount:e},V.CONFETTI)},onValueRender:function(e){return""+e}})),H(m.FormItem,{disabled:l,title:D.default.Messages.POGGERMODE_CONFETTI_SIZE,className:L.default.formItem},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_CONFETTI_SIZE_DESCRIPTION),H(p.default,{disabled:l,markers:X,stickToMarkers:!0,minValue:X[0],maxValue:X[X.length-1],initialValue:o,onValueChange:function(e){return u({confettiSize:e},V.CONFETTI)},onValueRender:function(e){return""+e}})),H(Q,{disabled:l,locations:[{location:R.ConfettiLocation.CHAT_INPUT,title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.REACTION,
title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.MEMBER_USER,title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.CALL_TILE,title:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED,description:D.default.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED_DESCRIPTION}],settingsLocations:i,onChange:function(e){return u({confettiEnabledLocations:e},V.CONFETTI)}}))}ee.displayName="ConfettiSettings";function te(e){var t=e.settings,n=t.enabled,r=t.combosEnabled,a=t.comboSoundsEnabled,o=t.combosRequiredCount,i=e.updateSettings,u=!n||!r;return H(m.FormSection,{tag:m.FormTitleTags.H1,title:D.default.Messages.POGGERMODE_COMBOS_CUSTOMIZATION},void 0,H(v.default,{disabled:!n,value:r,
note:D.default.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return i({combosEnabled:e})}},void 0,D.default.Messages.POGGERMODE_COMBOS_ENABLED),H(v.default,{disabled:!n,value:a,note:D.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED_DESCRIPTION,onChange:function(e){return i({comboSoundsEnabled:e})}},void 0,D.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED),H(m.FormItem,{disabled:u,title:D.default.Messages.POGGERMODE_COMBOS_REQUIRED,className:L.default.formItem},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_COMBOS_REQUIRED_DESCRIPTION),H(p.default,{disabled:u,markers:z,stickToMarkers:!0,minValue:z[0],maxValue:z[z.length-1],initialValue:o,onValueChange:function(e){return i({combosRequiredCount:e})},onValueRender:function(e){return""+e}})),H(m.FormDivider,{className:L.default.divider}))}te.displayName="ComboSettings";function ne(e){var t=e.settings,n=t.enabled,r=t.screenshakeEnabled,a=t.shakeIntensity,o=t.screenshakeEnabledLocations,u=e.updateSettings,s=(0,
i.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),d=!n||!r||s;return H(m.FormSection,{tag:m.FormTitleTags.H1,title:D.default.Messages.POGGERMODE_SCREENSHAKE_CUSTOMIZATION},void 0,H(v.default,{disabled:!n||s,tooltipNote:s?D.default.Messages.POGGERMODE_SCREENSHAKE_DISABLED_REDUCED_MOTION:null,value:r&&!s,note:D.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED_DESCRIPTION,onChange:function(e){return u({screenshakeEnabled:e},V.SHAKE)}},void 0,D.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED),H(m.FormItem,{disabled:d,title:D.default.Messages.POGGERMODE_SCREENSHAKE,className:L.default.formItem},void 0,H(Z,{},void 0,D.default.Messages.POGGERMODE_SCREENSHAKE_DESCRIPTION),H(p.default,{disabled:d,markers:$,equidistant:!0,stickToMarkers:!0,minValue:$[0],maxValue:$[$.length-1],initialValue:a,onValueChange:function(e){return function(e,t){null!=e.shakeIntensity&&e.shakeIntensity>a&&(0,I.unlockAchievement)(T.PoggermodeAchievementId.MORE);u(e,t)}({shakeIntensity:e
},V.SHAKE)},onMarkerRender:function(e){return e===$[$.length-1]?D.default.Messages.POGGERMODE_SCREENSHAKE_MAX:100*e+"%"}})),H(Q,{disabled:d,locations:[{location:R.ShakeLocation.CHAT_INPUT,title:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED,description:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:R.ShakeLocation.VOICE_USER,title:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED,description:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED_DESCRIPTION},{location:R.ShakeLocation.MENTION,title:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED,description:D.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED_DESCRIPTION}],settingsLocations:o,onChange:function(e){return u({screenshakeEnabledLocations:e},V.SHAKE)}}))}ne.displayName="ScreenshakeSettings";function re(e){var t=e.onChangePage;return H(m.FormSection,{},void 0,H(s.default,{onClick:function(){
return t(Y.ACHIEVEMENT_LIST)},className:L.default.achievementContainer},void 0,H("div",{className:L.default.achievementIconContainer},void 0,H(h.default,{color:w.Colors.STATUS_ORANGE_460})),H("div",{className:L.default.achievementTextContainer},void 0,H(d.Heading,{variant:"heading-md/medium",color:"header-primary",level:4},void 0,D.default.Messages.POGGERMODE_ACHIEVEMENT_TITLE),H(y.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,D.default.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION)),H(_.default,{width:16,className:L.default.rightCaretIcon})),H(m.FormDivider,{className:L.default.divider}))}re.displayName="Achievements";var ae=function(){return n.e(37948).then(n.t.bind(n,394198,19)).then((function(e){return e.default}))};function oe(e){var t=e.onChangePage,n=e.setShowEnableAnimation,r=(0,i.useStateFromStoresObject)([A.default],(function(){return A.default.getState()})),o=a.useRef(new u.Timeout),l=G(a.useState(!1),2),s=l[0],f=l[1],c=G(a.useState({x:0,y:0
}),2),p=c[0],v=c[1];function y(e,t,n,r){return(null!=t?t:e)&&(null!=r?r:n)}var m=function(e,t){!function(e){if(e.enabled&&!1===r.enabled){var t;n(!0);(0,b.playSound)("poggermode_enabled");S.ComponentDispatch.dispatch(w.ComponentActions.SHAKE_APP,{duration:2e3,intensity:null!==(t=e.shakeIntensity)&&void 0!==t?t:r.shakeIntensity})}}(e);(0,C.updatePoggermodeSettings)(e);if(null!=t){var a=t===V.CONFETTI,i=y(r.confettiEnabled,e.confettiEnabled,r.enabled,e.enabled);if(a&&i){f(!0);o.current.start(2*P.INTERVAL,(function(){f(!0);o.current.start(2*P.INTERVAL,(function(){return f(!1)}))}))}var u=t===V.SHAKE,l=y(r.screenshakeEnabled,e.screenshakeEnabled,r.enabled,e.enabled);if(u&&l){var s;S.ComponentDispatch.dispatch(w.ComponentActions.SHAKE_APP,{duration:1e3,intensity:null!==(s=e.shakeIntensity)&&void 0!==s?s:r.shakeIntensity})}}},_=function(e){v({x:e.clientX,y:e.clientY})};a.useEffect((function(){var e=o.current;window.addEventListener("mousemove",_);return function(){e.stop()
;window.removeEventListener("mousemove",_)}}),[]);return a.createElement(a.Fragment,null,H(d.Heading,{variant:"heading-xl/medium",level:3},void 0,D.default.Messages.POGGERMODE),H(g.default,{size:g.default.Sizes.SIZE_14,muted:!0,className:L.default.subtitle},void 0,D.default.Messages.POGGERMODE_SETTINGS_SUBTITLE.format({helpCenterLink:O.default.getArticleURL(w.HelpdeskArticles.POGGERMODE)})),H(J,{settings:r,updateSettings:m}),H(re,{onChangePage:t}),H(te,{settings:r,updateSettings:m}),H(ne,{settings:r,updateSettings:m}),H(ee,{settings:r,updateSettings:m}),H(M.default,{firing:s,position:p}))}var ie=function(e){return e===Y.USER_SETTINGS?c.SlideDirection.LEFT:c.SlideDirection.RIGHT}},346434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.onBackClick,n=(0,o.useStateFromStores)([p.default],(function(){return p.default.getAllUnlockedAchievements()})),r=a.useMemo((function(){return Object.values(n).sort((function(e,t){
return t.dateUnlocked-e.dateUnlocked}))}),[n]),g=a.useMemo((function(){return Object.values(v.ACHIEVEMENT_LIST).filter(c.isNotNullish).filter((function(e){return null==n[e.id]})).sort((function(e,t){return e.rarity-t.rarity}))}),[n]);return a.createElement(a.Fragment,null,S(d.FormSection,{},void 0,S(u.default,{onClick:t,className:h.default.backContainer},void 0,S(i.default,{direction:i.default.Directions.LEFT,className:h.default.icon}),S(s.Text,{variant:"text-lg/normal",color:"text-normal"},void 0,_.default.Messages.BACK))),S("div",{className:h.default.headerContainer},void 0,S("div",{className:h.default.headerTextContainer},void 0,S(l.Heading,{variant:"heading-lg/bold",color:"header-primary",level:4},void 0,_.default.Messages.POGGERMODE_ACHIEVEMENT_TITLE),S(s.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,_.default.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION)),S("div",{className:h.default.headerIcon},void 0,S(f.default,{color:m.Colors.STATUS_ORANGE_460,width:40,
height:40}))),r.length>0&&S(d.FormSection,{className:h.default.divider},void 0,S("div",{className:h.default.achievementGrid},void 0,r.map((function(e){var t=e.achievementId,n=e.dateUnlocked;return S(y.default,{achievementId:t,dateUnlocked:n},t)})))),g.length>0&&S(d.FormSection,{className:h.default.divider},void 0,S("div",{className:h.default.headerTextContainer},void 0,S(s.Text,{variant:"text-md/bold",color:"header-secondary"},void 0,_.default.Messages.POGGERMODE_ACHIEVEMENT_LOCKED_TITLE)),S("div",{className:h.default.achievementGrid},void 0,g.map((function(e){return S(y.default,{achievementId:e.id},e.id)})))),S(d.FormSection,{className:h.default.divider},void 0,S("div",{className:h.default.bottomPadding})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=g(n(583183)),u=g(n(16941)),l=n(772575),s=n(645758),d=n(688388),f=g(n(509765)),c=n(71246),p=g(n(358091)),v=n(114592),y=g(n(181240)),m=n(770348),_=g(n(247001)),h=g(n(953141));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}},338591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,l.default)(s.ShakeLocation.CHAT_INPUT),n=(0,u.default)();return(0,r.useStateFromStores)([o.default,i.default,a.default],(function(){return n&&o.default.isTyping(e,a.default.getId())?i.default.getUserComboShakeIntensity(a.default.getId(),e,t):0}))};var r=n(536211),a=d(n(423046)),o=d(n(946447)),i=d(n(4590)),u=d(n(429654)),l=d(n(754464)),s=n(378542);function d(e){return e&&e.__esModule?e:{default:e}}},885159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.loadRTCDevStyles=g;c(n(667294));var r,a=d(n(636602)),o=d(n(177230)),i=n(329117),u=c(n(8475)),l=n(770348),s=d(n(175935));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=(0,i.makeLazy)({createPromise:function(){
return n.e(41446).then(n.bind(n,209354))},webpackId:209354,name:"PopoutWindowChannelCall"}),m=(0,i.makeLazy)({createPromise:function(){return n.e(38634).then(n.bind(n,224287))},webpackId:224287,name:"PopoutWindowStageChannelCall"}),_=(0,i.makeLazy)({createPromise:function(){return n.e(41446).then(n.bind(n,302460))},webpackId:302460,name:"PopoutWindowRTCDebug"}),h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout);a.default.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)};n._terminate=function(){a.default.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout);a.default.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)};n.handleOpenChannelCallPopout=function(e){var t=e.channel
;u.open(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?p(m,{windowKey:e,channel:t}):p(y,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};n.handleOpenRTCDebugPopout=function(){u.open(l.PopoutWindowKeys.RTC_DEBUG_POPOUT,(function(e){return p(_,{windowKey:e})}),{defaultWidth:854,defaultHeight:480})};n.__getLocalVars=function(){return{DEFAULT_POPOUT_WIDTH:854,DEFAULT_POPOUT_HEIGHT:480,PopoutWindowChannelCall:y,PopoutWindowStageChannelCall:m,PopoutWindowRTCDebug:_}};return t}(o.default);function g(){return p("div",{className:s.default.item})}g.displayName="loadRTCDevStyles";var E=new h;t.default=E},554147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(74854)),a=l(n(636602)),o=l(n(177230)),i=n(581525),u=l(n(902305));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=new(function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleMainWindowFocus=function(e){e.focused&&t.injectWindowAnimationFrame(window)};t.handlePopoutWindowChange=function(){var e=u.default.getWindowKeys().find((function(e){return u.default.getWindowFocused(e)}));if(null==e)return t.injectWindowAnimationFrame(window);var n=u.default.getWindow(e);if(null==n||n.closed)return t.injectWindowAnimationFrame(window);t.injectWindowAnimationFrame(n)};return t}var n=t.prototype;n._initialize=function(){u.default.addChangeListener(this.handlePopoutWindowChange);a.default.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)};n._terminate=function(){u.default.removeChangeListener(this.handlePopoutWindowChange);a.default.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)}
;n.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)};r.default.inject.RequestAnimationFrame(t);r.default.inject.CancelAnimationFrame(n);i.frameLoop.setRAF(t,n)};n.__getLocalVars=function(){return{}};return t}(o.default));t.default=d},982401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(636602)),a=n(832635);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){(0,a.fetchLocalizedPromo)()};return t}var n=t.prototype;n._initialize=function(){
r.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};n.__getLocalVars=function(){return{}};return t}(o(n(177230)).default));t.default=u},971990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-03_one_time_payment_extension",label:"One Time Payment Extension",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable One Time Payment Extension",config:{enabled:!0}}]});t.default=r},511217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createSubscriptionInvoicePreview=S;t.getItemUnitPriceWithDiscount=function(e){var t=e.subscriptionPlanPrice;e.discounts.forEach((function(n){var r=n.amount/e.quantity;t-=r}));return t};t.getSubscriptionInvoice=T;t.updateSubscriptionInvoicePreview=b;t.useGetSubscriptionInvoice=function(e){var t=(0,r.useCallback)((function(){
return T(e)}),[JSON.stringify(e)]);return A(e,t)};t.useSubscriptionInvoicePreview=function(e){if("subscriptionId"in e&&null==e.subscriptionId){var t=e,n=(t.subscriptionId,m(t,f));e=n}var a=(0,r.useCallback)((function(){return"subscriptionId"in e?b(e):"items"in e?S(e):null}),[JSON.stringify(e)]);return A(e,a)};var r=n(667294),a=n(536211),o=v(n(118915)),i=n(327269),u=v(n(412652)),l=v(n(146771)),s=n(838583),d=n(770348),f=["subscriptionId"],c=["planId"],p=["planId"];function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e){return O.apply(this,arguments)}function O(){return(O=E(regeneratorRuntime.mark((function e(t){var n,r,a,l,f,p,v,_,h,g,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.items,r=t.paymentSourceId,a=t.trialId,l=t.code,f=t.applyEntitlements,p=void 0!==f&&f,v=t.currency,_=t.renewal,h=t.metadata;n=(0,s.coerceExistingItemsToNewItemInterval)(n);g={items:n.map((function(e){var t=e.planId;return y({},m(e,c),{plan_id:t})})),payment_source_id:r,trial_id:a,code:l,apply_entitlements:p,currency:v,renewal:_,metadata:h};e.prev=3;e.next=6;return o.default.post({url:d.Endpoints.BILLING_SUBSCRIPTIONS_PREVIEW,body:g,oldFormErrors:!0});case 6:E=e.sent;return e.abrupt("return",u.default.createInvoiceFromServer(E.body));case 10:
e.prev=10;e.t0=e.catch(3);throw new i.BillingError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function b(e){return I.apply(this,arguments)}function I(){return(I=E(regeneratorRuntime.mark((function e(t){var n,r,a,l,f,c,v,_,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.subscriptionId,a=t.items,l=t.paymentSourceId,f=t.renewal,c=t.currency,v=t.applyEntitlements,_=void 0!==v&&v;null!=a&&(a=(0,s.coerceExistingItemsToNewItemInterval)(a));h={items:null===(n=a)||void 0===n?void 0:n.map((function(e){var t=e.planId;return y({},m(e,p),{plan_id:t})})),payment_source_id:l,renewal:f,apply_entitlements:_,currency:c};e.prev=3;e.next=6;return o.default.patch({url:d.Endpoints.BILLING_SUBSCRIPTION_PREVIEW(r),body:h,oldFormErrors:!0});case 6:g=e.sent;return e.abrupt("return",u.default.createInvoiceFromServer(g.body));case 10:e.prev=10;e.t0=e.catch(3);throw new i.BillingError(e.t0);case 13:case"end":return e.stop()}
}),e,null,[[3,10]])})))).apply(this,arguments)}function T(e){return C.apply(this,arguments)}function C(){return(C=E(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.subscriptionId;if(!t.preventFetch){e.next=3;break}return e.abrupt("return",null);case 3:e.next=5;return o.default.get({url:d.Endpoints.BILLING_SUBSCRIPTION_INVOICE(n),oldFormErrors:!0});case 5:r=e.sent;return e.abrupt("return",u.default.createInvoiceFromServer(r.body));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){var n=e.preventFetch,o=void 0!==n&&n,i=_((0,r.useState)(null),2),u=i[0],s=i[1],d=_((0,r.useState)(null),2),f=d[0],c=d[1],p=(0,a.useStateFromStores)([l.default],(function(){return l.default.getSubscriptions()}));(0,r.useEffect)((function(){var e=!1;function n(){return(n=E(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:
n.prev=0;s(null);n.next=4;return t();case 4:r=n.sent;e||s(r);n.next=11;break;case 8:n.prev=8;n.t0=n.catch(0);e||c(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}o||function(){n.apply(this,arguments)}();return function(){e=!0}}),[o,t,p]);return[u,f]}},496357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=n(832635),o=n(851792),i=v(n(177230)),u=v(n(728429)),l=v(n(697952)),s=v(n(146771)),d=v(n(47969)),f=n(685677),c=n(265517),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}
var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).maybeFetchSubscriptions=m(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=u.default.getCurrentUser())||null==t.premiumType){e.next=9;break}if(s.default.hasFetchedSubscriptions()){e.next=5;break}e.next=5;return(0,a.fetchSubscriptions)();case 5:if(null!=(null==(n=s.default.getPremiumSubscription())?void 0:n.paymentSourceId)||d.default.applicationIdsFetched.has(p.PREMIUM_SUBSCRIPTION_APPLICATION)){e.next=9;break}e.next=9;return(0,o.fetchUserEntitlementsForApplication)(p.PREMIUM_SUBSCRIPTION_APPLICATION);case 9:case"end":return e.stop()}}),e)})));t.maybeFetchMostRecentSubscription=function(){var e=u.default.getCurrentUser()
;null!=e&&null==e.premiumType&&null!=e.purchasedFlags&&((0,f.hasFlag)(e.purchasedFlags,c.PurchasedFlags.PREMIUM_TIER_1)||(0,f.hasFlag)(e.purchasedFlags,c.PurchasedFlags.PREMIUM_TIER_2))&&(0,a.fetchMostRecentSubscription)()};t.maybeFetchCountryCode=m(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=u.default.getCurrentUser())||null==n.premiumType){e.next=4;break}e.next=4;return t.fetchCountryCode();case 4:case"end":return e.stop()}}),e)})));t.fetchCountryCode=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,a.fetchIpCountryCode)();case 2:if(null==l.default.ipCountryCode){e.next=6;break}e.next=6;return(0,a.fetchPaymentSources)();case 6:case"end":return e.stop()}}),e)})));return t}var n=t.prototype;n._initialize=function(){r.default.subscribe("CONNECTION_OPEN",this.maybeFetchSubscriptions)
;r.default.subscribe("CONNECTION_OPEN",this.maybeFetchCountryCode);r.default.subscribe("CONNECTION_OPEN",this.maybeFetchMostRecentSubscription)};n._terminate=function(){r.default.unsubscribe("CONNECTION_OPEN",this.maybeFetchSubscriptions);r.default.unsubscribe("CONNECTION_OPEN",this.maybeFetchCountryCode);r.default.unsubscribe("CONNECTION_OPEN",this.maybeFetchMostRecentSubscription)};n.__getLocalVars=function(){return{}};return t}(i.default));t.default=h},487017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),a=n(923387),o=g(n(636602)),i=n(832635),u=n(353801),l=g(n(177230)),s=n(203847),d=g(n(322033)),f=g(n(908463)),c=g(n(728429)),p=g(n(146771)),v=g(n(314355)),y=n(194322),m=n(85676),_=n(656827),h=n(770348);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var I=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){
for(var t,o=arguments.length,l=new Array(o),g=0;g<o;g++)l[g]=arguments[g];(t=e.call.apply(e,[this].concat(l))||this).mayShowAnnouncementModal=O(regeneratorRuntime.mark((function e(){var o,i,u,l,v,h,g,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=f.default.isOpen();i=(0,s.isDismissibleContentDismissed)(a.DismissibleContent.SUMMER_BOGO_ANNOUNCEMENT);u=c.default.getCurrentUser();l=!(null==u?void 0:u.isClaimed());v=null!=(null==u?void 0:u.premiumType);h=null!=d.default.getType();e.t0=!(l||h||(0,y.hasAnyModalOpen)()||o||i||v);if(!e.t0){e.next=11;break}e.next=10;return t._mayFetchEligiblityData();case 10:e.t0=e.sent;case 11:if(!e.t0){e.next=16;break}g=p.default.getMostRecentPremiumTypeSubscription();E=p.default.getPremiumSubscription(!1);(0,_.isEligibleForBogoPromotion)({experimentEnabled:(0,m.isBogoPromotionEnabled)(),premiumSubscription:E,mostRecentSubscription:g})&&(0,y.openModalLazy)(O(regeneratorRuntime.mark((function e(){var t,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(94030).then(n.bind(n,894030));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))));case 16:case"end":return e.stop()}}),e)})));t._mayFetchEligiblityData=O(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;if(!v.default.shouldFetchOffer()){e.next=4;break}e.next=4;return(0,u.fetchUserTrialOffer)();case 4:if(!v.default.hasFetchedOffer()||!v.default.hasAnyUnexpiredOffer()){e.next=6;break}return e.abrupt("return",!1);case 6:if(p.default.hasFetchedMostRecentPremiumTypeSubscription()||!(null===(t=c.default.getCurrentUser())||void 0===t?void 0:t.hasHadSKU(h.PremiumSubscriptionSKUs.TIER_2))){e.next=9;break}e.next=9;return(0,i.fetchMostRecentSubscription)();case 9:return e.abrupt("return",!0);case 12:e.prev=12;e.t0=e.catch(0)
;return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return t}var l=t.prototype;l._initialize=function(){o.default.subscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)};l._terminate=function(){o.default.unsubscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)};l.__getLocalVars=function(){return{}};return t}(l.default));t.default=I},653311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useIsPrepaidPaymentPastDue=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return u.default.getPremiumTypeSubscription()})),t=(0,a.useStateFromStores)([i.default],(function(){return null!=e&&null!=e.planIdFromItems?i.default.get(null==e?void 0:e.planIdFromItems):null})),n=(0,a.useStateFromStores)([o.default],(function(){return null!=e&&null!=e.paymentSourceId?o.default.getPaymentSource(e.paymentSourceId):null
}),[e]),c=null!=n&&f.PREPAID_PAYMENT_SOURCES.has(n.type),p=(null==e?void 0:e.status)===d.SubscriptionStatusTypes.PAST_DUE?(0,r.default)().diff((0,r.default)(e.currentPeriodStart),"days"):0;return!(null==e||null==t||!(0,l.isPremiumBaseSubscriptionPlan)(t.id))&&(s.default.getCurrentConfig({}).enabled&&c&&p>=0&&p<=(0,l.getBillingGracePeriodDays)(e)&&e.status===d.SubscriptionStatusTypes.PAST_DUE&&!e.isPurchasedExternally)};var r=c(n(730381)),a=n(536211),o=c(n(748826)),i=c(n(909584)),u=c(n(146771)),l=n(838583),s=c(n(971990)),d=n(770348),f=n(478036);function c(e){return e&&e.__esModule?e:{default:e}}},32593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PromotionPreviewExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-06_preview_promotions",label:"Promotions Preview",defaultConfig:{previewEnabled:!1},treatments:[{id:1,label:"Preview Enabled",config:{previewEnabled:!0}}]});t.PromotionPreviewExperiment=r},745108:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.dismissOutboundPromotionNotice=h;t.fetchActiveOutboundPromotions=m;var r=p(n(118915)),a=n(629015),o=p(n(636602)),i=n(851792),u=n(828593),l=p(n(871778)),s=n(32593),d=n(462827),f=p(n(297143)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(){return _.apply(this,arguments)}function _(){return(_=y(regeneratorRuntime.mark((function e(){var t,n,a,u,p,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.default.isFetchingActiveOutboundPromotions){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;o.default.dispatch({
type:"ACTIVE_OUTBOUND_PROMOTIONS_FETCH"});t=s.PromotionPreviewExperiment.getCurrentConfig({}).previewEnabled?c.Endpoints.OUTBOUND_PROMOTIONS_PREVIEW:c.Endpoints.OUTBOUND_PROMOTIONS;e.next=7;return r.default.get({url:t,query:{locale:l.default.locale},oldFormErrors:!0});case 7:n=e.sent;a=n.body;u=f.default.consumedInboundPromotionId;if(f.default.hasFetchedConsumedInboundPromotionId){e.next=16;break}e.next=13;return(0,i.fetchUserEntitlementsForApplication)(c.PREMIUM_SUBSCRIPTION_APPLICATION,!1);case 13:v=e.sent;y=v.find((function(e){return null!=e.promotion_id&&!0===e.consumed}));u=null!==(p=null==y?void 0:y.promotion_id)&&void 0!==p?p:null;case 16:o.default.dispatch({type:"ACTIVE_OUTBOUND_PROMOTIONS_FETCH_SUCCESS",activeOutboundPromotions:a.map((function(e){return(0,d.outboundPromotionFromServer)(e)})),consumedInboundPromotionId:u});e.next=22;break;case 19:e.prev=19;e.t0=e.catch(2);o.default.dispatch({type:"ACTIVE_OUTBOUND_PROMOTIONS_FETCH_FAIL"});case 22:case"end":return e.stop()}
}),e,null,[[2,19]])})))).apply(this,arguments)}function h(){o.default.dispatch({type:"OUTBOUND_PROMOTION_NOTICE_DISMISS"});var e=f.default.lastDismissedOutboundPromotionStartDate;null!=e&&u.PreloadedUserSettingsActionCreators.updateAsync("userContent",(function(t){t.lastDismissedOutboundPromotionStartDate=a.StringValue.create({value:e})}),u.UserSettingsDelay.INFREQUENT_USER_ACTION)}var g={fetchActiveOutboundPromotions:m,dismissOutboundPromotionNotice:h,markOutboundPromotionsSeen:function(){o.default.dispatch({type:"OUTBOUND_PROMOTIONS_SEEN"})}};t.default=g},969082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useOutboundPromotions=function(){var e=(0,a.useStateFromStores)([s.default],(function(){return s.default.lastFetchedActivePromotions})),t=m(),n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),f=p(r.useState(!1),2),c=f[0],_=f[1],h=p(r.useState([]),2),g=h[0],E=h[1];r.useEffect((function(){
null!=e&&o.default.wait((function(){return l.default.markOutboundPromotionsSeen()}))}),[e]);var S=r.useCallback((function(e){E((function(t){return t.some((function(t){return t.promotion.id===e.promotion.id}))?t:[].concat(function(e){if(Array.isArray(e))return y(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||v(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var n}))}),[]),O=(null==n?void 0:n.premiumType)===d.PremiumTypes.TIER_2;r.useEffect((function(){o.default.wait((function(){O&&null==e&&l.default.fetchActiveOutboundPromotions()}))}),[e,O]);r.useEffect((function(){o.default.wait((function(){(0,u.fetchClaimedOutboundPromotionCodes)().then((function(e){E(e);_(!0)})).catch((function(){E([]);_(!0)}))}))}),[]);for(var b,I={},T=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(g);!(b=T()).done;){var C=b.value,A=C.code,M=C.promotion;I[M.id]=A}var N=new Set(t.map((function(e){return e.id}))),P=g.filter((function(e){var t=e.promotion;return!N.has(t.id)}));return{promotionsLoaded:c&&(!O||null!=e),activeOutboundPromotions:t,claimedEndedOutboundPromotions:P,claimedOutboundPromotionCodeMap:I,addClaimedOutboundPromotionCode:S}};t.useUnseenOutboundPromotions=function(){var e=(0,a.useStateFromStores)([s.default],(function(){return s.default.lastSeenOutboundPromotionStartDate})),t=m();return r.useMemo((function(){return null==e?t:t.filter((function(t){
var n=t.startDate;return new Date(n)>new Date(e)}))}),[t,e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(636602)),i=f(n(728429)),u=n(462827),l=f(n(745108)),s=f(n(297143)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){var e=(0,a.useStateFromStoresArray)([s.default],(function(){return s.default.outboundPromotions})),t=(0,a.useStateFromStores)([s.default],(function(){return s.default.consumedInboundPromotionId}))
;return r.useMemo((function(){return e.filter((function(e){return e.id!==t}))}),[e,t])}},110210:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(745108),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("CONNECTION_OPEN",this.maybeFetchActiveOutboundPromotions)};n._terminate=function(){r.default.unsubscribe("CONNECTION_OPEN",this.maybeFetchActiveOutboundPromotions)};n.maybeFetchActiveOutboundPromotions=function(e){e.user.premium_type===i.PremiumTypes.TIER_2&&(0,o.fetchActiveOutboundPromotions)()};n.__getLocalVars=function(){return{}};return t}(a.default));t.default=s},
113781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DropRedemptionModal=N;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(680219)),i=n(436592),u=g(n(956117)),l=n(772575),s=g(n(80828)),d=n(645758),f=n(354479),c=n(688388),p=n(3400),v=n(194322),y=n(967965),m=n(462827),_=g(n(247001)),h=g(n(543282));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(){S=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t=e.onClose;return a.createElement(a.Fragment,null,C(p.ModalHeader,{separator:!1,
className:h.default.errorHeader},void 0,C("div",{className:h.default.errorArt}),C(l.Heading,{variant:"heading-xl/medium",level:3},void 0,_.default.Messages.GENERIC_ERROR_TITLE)),C(p.ModalContent,{className:h.default.errorBody},void 0,C(d.Text,{variant:"text-md/normal",className:h.default.bodyText},void 0,_.default.Messages.GENERIC_ERROR_BODY)),C(p.ModalFooter,{},void 0,C(u.default,{color:u.default.Colors.BRAND,onClick:t},void 0,_.default.Messages.CLOSE)))}function M(e){var t=e.onClose,n=e.onClaim,r=e.code,i=e.outboundPromotion,v=e.transitionState,y=I(a.useState(null),2),g=y[0],E=y[1],S=(0,f.useUID)();a.useEffect((function(){null==r&&(0,m.claimOutboundPromotion)(i.id).then((function(e){return n(e)})).catch((function(e){return E(e)}))}),[r,i.id,n]);var O=C(A,{onClose:t});return C(p.ModalRoot,{transitionState:v,"aria-labelledby":S},void 0,null!=g?O:null==r?C(p.ModalContent,{},void 0,C(s.default,{className:h.default.loading})):a.createElement(a.Fragment,null,C(p.ModalHeader,{separator:!1,
className:h.default.headerContainer},void 0,C("div",{className:h.default.art}),C(l.Heading,{variant:"heading-xl/medium",level:3},void 0,_.default.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE)),C(p.ModalContent,{},void 0,C(d.Text,{variant:"text-md/normal",className:h.default.bodyText},void 0,i.outboundRedemptionModalBody),C(c.FormDivider,{className:h.default.formDivider}),C(c.FormSection,{title:_.default.Messages.REDEMPTION_CODE,className:h.default.formSection},void 0,C(o.default,{value:r,buttonColor:u.default.Colors.BRAND,buttonLook:u.default.Looks.FILLED,delay:1e3,inputClassName:h.default.textInput}),C(d.Text,{variant:"text-xs/normal",color:"header-secondary",className:h.default.confirmationText},void 0,_.default.Messages.OUTBOUND_PROMOTION_CODE_CONFIRMATION_EMAIL))),C(p.ModalFooter,{},void 0,C(u.default,{color:u.default.Colors.BRAND,onClick:function(){var e=(0,m.getOutboundPromotionRedemptionUrl)(r,i);window.open(e,"_blank")}},void 0,_.default.Messages.REDEEM),C(u.default,{
onClick:t,look:u.default.Looks.LINK,color:h.default.maybeLaterButton},void 0,_.default.Messages.MAYBE_LATER))))}M.displayName="OutboundPromotionRedemptionModal";function N(e){var t=e.onClose,r=e.code,o=e.drop,m=e.transitionState,g=(0,f.useUID)(),E=I(a.useState(),2),O=E[0],T=E[1];return C(p.ModalRoot,{transitionState:m,"aria-labelledby":g},void 0,null===r?C(p.ModalContent,{},void 0,C(s.default,{className:h.default.loading})):a.createElement(a.Fragment,null,C(p.ModalHeader,{separator:!1,className:h.default.headerContainer},void 0,C("div",{className:h.default.art}),C(l.Heading,{variant:"heading-xl/medium",level:3},void 0,_.default.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE)),C(p.ModalContent,{},void 0,C(d.Text,{variant:"text-md/normal",className:h.default.bodyText},void 0,_.default.Messages.DROPS_MODAL_CHOOSE_PLATFORM.format({title:o.title})),C(c.FormDivider,{className:h.default.formDivider}),C(c.FormSection,{title:_.default.Messages.REDEMPTION_CODE,className:h.default.formSection
},void 0,C(y.SingleSelect,{onChange:T,options:i.DROPS_PLATFORMS.map((function(e){return{value:e,label:_.default.Messages["DROPS_PLATFORM_"+e]}})),value:O}))),C(p.ModalFooter,{},void 0,C(u.default,{color:u.default.Colors.BRAND,onClick:function(){(0,v.openModalLazy)(b(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(78165)]).then(n.bind(n,578165));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return void 0!==O&&a.createElement(r,S({},e,{platform:O,onConfirm:function(){}}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:void 0===O},void 0,_.default.Messages.REDEEM),C(u.default,{onClick:t,look:u.default.Looks.LINK,color:h.default.maybeLaterButton},void 0,_.default.Messages.MAYBE_LATER))))}N.displayName="DropRedemptionModal";var P=M;t.default=P},29864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=m(n(667294)),o=v(n(226800)),i=v(n(41024)),u=m(n(177101)),l=n(660065),s=n(455818),d=n(933601),f=n(770348),c=v(n(247001)),p=v(n(202192));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.notice,n=e.noticeType,r=e.dismissCurrentNotice,v=null!=(null==t?void 0:t.metadata.premiumSubscription),y=(0,d.useLocalizedPromoQuery)(),m=null==y?void 0:y.countryCode;(0,l.useTrackLocalizedPricingPromoImpression)(f.AnalyticsSections.NOTIFICATION_BAR,m);return null==m?null:_(u.default,{color:v?u.NoticeColors.BRAND:u.NoticeColors.PREMIUM_TIER_2},void 0,_(u.NoticeCloseButton,{onClick:r,noticeType:n}),v?(0,s.getNoticeNitroChangedPrice)(m):_(a.Fragment,{},void 0,_(i.default,{className:p.default.premiumIcon}),(0,s.getLocalizedPricingNotice)(m)),_(u.PrimaryCTANoticeButton,{onClick:function(){r();o.default.open(f.UserSettingsSections.PREMIUM)},noticeType:n},void 0,c.default.Messages.LEARN_MORE))};h.displayName="LocalizedPricingPromoNotice";var g=h
;t.default=g},404203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(784864));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderFeature=function(e,n){return s("div",{className:i.default.feature},n,t.renderIcon(e),s("div",{},void 0,null!=e.title?s("div",{className:i.default.title},void 0,e.title):null,s("div",{className:null==e.title?i.default.descriptionStandalone:i.default.description},void 0,e.description)))};return t}var n=t.prototype;n.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(i.default.icon);if(null!=e.icon&&null!=e.iconClass){
return s(e.icon,{className:(0,o.default)(i.default.icon,e.iconClass)})}throw new Error("Missing overrideIcon or iconName and iconClass")};n.render=function(){return s("div",{className:i.default.features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")}},void 0,this.props.features.map(this.renderFeature))};return t}(a.Component);f.displayName="PremiumFeaturesList";var c=f;t.default=c},740258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(304440),i=h(n(40221)),u=n(496394),l=n(772575),s=h(n(41024)),d=h(n(128103)),f=h(n(97751)),c=h(n(582945)),p=h(n(308920)),v=n(800632),y=n(770348),m=h(n(247001)),_=h(n(900398));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){switch(e){case v.PREMIUM_MARKETING_SURFACE_HOME_ID:return"Premium Marketing Surface Home";case v.PREMIUM_MARKETING_SURFACE_PERKS_ID:return"Premium Marketing Surface Perks"
;default:return""}},O=function(e){var t=e.sectionId,n=e.currentSectionId,r=e.sectionAvatar,a=e.sectionName;return E(f.default,{avatar:r,name:a,selected:n===t,className:_.default.sectionItem,selectedClassName:_.default.selectedSectionItem,onClick:function(){p.default.track(y.AnalyticEvents.PREMIUM_MARKETING_SURFACE_SIDE_BAR_SELECT,{section:S(t)});!function(e){(0,o.selectSection)(e);switch(e){case v.PREMIUM_MARKETING_SURFACE_HOME_ID:case v.PREMIUM_MARKETING_SURFACE_PERKS_ID:}}(t)}})};O.displayName="SectionListItem";var b=function(){var e=(0,a.useStateFromStoresObject)([i.default],(function(){return{currentSectionId:i.default.getCurrentSectionId()}})).currentSectionId;return E(c.default,{},void 0,E(l.Heading,{variant:"heading-xl/medium",className:_.default.premiumMarketingSurfaceHeader,level:2},void 0,m.default.Messages.PREMIUM),E(O,{sectionId:v.PREMIUM_MARKETING_SURFACE_HOME_ID,currentSectionId:e,sectionAvatar:E(s.default,{color:u.GradientCssUrls.PREMIUM_TIER_2}),
sectionName:m.default.Messages.PREMIUM_MARKETING_SURFACE_SIDEBAR_ABOUT}),E(O,{sectionId:v.PREMIUM_MARKETING_SURFACE_PERKS_ID,currentSectionId:e,sectionAvatar:E(d.default,{width:24,height:24,color:y.Colors.PREMIUM_PERK_PINK}),sectionName:m.default.Messages.PREMIUM_MARKETING_SURFACE_PERKS_TITLE}))};b.displayName="PremiumMarketingSurfaceSidebar";var I=b;t.default=I},754295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(956117)),o=u(n(303326)),i=["children"];function u(e){
return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,i);return r.createElement(a.default,s({},n,{size:a.default.Sizes.SMALL,look:a.default.Looks.INVERTED,className:o.default.button}),t)}d.displayName="PremiumSettingsPushButton"},526889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=_(n(294184)),o=_(n(496486)),i=n(536211),u=_(n(728429)),l=_(n(909584)),s=_(n(146771)),d=n(772575),f=n(645758),c=_(n(41024)),p=_(n(838583)),v=n(770348),y=_(n(247001)),m=_(n(692202));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.user,n=e.planId,r=e.count,a=e.userPremiumSubscription,o=E((0,i.useStateFromStoresArray)([l.default],(function(){return[l.default.get(n),null!=a?l.default.get(a.planId):null]})),2),u=o[0],s=o[1];if(null==u||p.default.getInterval(n).intervalType!==v.SubscriptionIntervalTypes.MONTH)return null;var _=null!=s?s.skuId:null,h=u.skuId===_,S=p.default.getDisplayName(n);return g("div",{className:m.default.accountCreditRow},void 0,g("div",{className:u.skuId===v.PremiumSubscriptionSKUs.TIER_2?m.default.iconBackgroundTier2:m.default.iconBackgroundTier1},void 0,g(c.default,{className:m.default.icon})),g("div",{className:m.default.rowDetails},void 0,g(d.Heading,{variant:"heading-md/medium",level:3
},void 0,y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:S})),t.hasFreePremium()?null:g(d.Heading,{className:m.default.rowApplied,variant:"heading-deprecated-14/medium",color:"header-secondary",level:3},void 0,h&&null!=a?y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:a.currentPeriodEnd}):y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:S}))),g(f.Text,{className:m.default.rowCreditCount,variant:"text-md/normal"},void 0,y.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:r})))}O.displayName="AccountCreditRow";function b(e){var t=e.className,n=e.entitlements,r=(0,o.default)(Array.from(n)).filter((function(e){var t=e.subscriptionPlanId,n=e.parentId,r=e.consumed;return null!=t&&null!=n&&!r})).groupBy((function(e){return e.subscriptionPlanId})).value(),l=(0,i.useStateFromStores)([s.default],(function(){return s.default.getPremiumSubscription()})),d=(0,
i.useStateFromStores)([u.default],(function(){return u.default.getCurrentUser()}));return null==d?null:g("div",{className:(0,a.default)(t,m.default.premiumSubscriptionAccountCredit)},void 0,Object.keys(r).map((function(e){return g(O,{planId:e,count:r[e].length,userPremiumSubscription:l,user:d},e)})))}b.displayName="PremiumSubscriptionAccountCredit";var I=b;t.default=I},322423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(441143)),o=p(n(909584)),i=n(645758),u=n(838583),l=n(243277),s=n(511217),d=n(770348),f=p(n(247001)),c=p(n(799337));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){
o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.subscription,n=e.withOverheadSeparator,r=m((0,s.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0];if(null==r)return null;var p=n?c.default.finePrintWithOverheadSeparator:c.default.finePrint,v=r.invoiceItems.find((function(e){
var t=e.subscriptionPlanId;return(0,u.isPremiumBaseSubscriptionPlan)(t)}));if(null==v)return null;var _=v.subscriptionPlanId,h=o.default.get(_);(0,a.default)(null!=h,"Missing plan");var g=(0,l.formatPrice)(r.total,r.currency),E="";h.interval===d.SubscriptionIntervalTypes.YEAR?E=f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_YEARLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY}):h.interval===d.SubscriptionIntervalTypes.MONTH&&(E=1===h.intervalCount?f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MONTHLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY}):f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MULTI_MONTH.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY,intervalCount:h.intervalCount}));return y(i.Text,{color:"text-muted",className:p,
variant:"text-xs/normal"},void 0,E)}h.displayName="PremiumSubscriptionFinePrintContent";function g(e){var t=e.subscription,n=e.withOverheadSeparator;return t.status===d.SubscriptionStatusTypes.CANCELED||t.isPurchasedExternally?null:y(h,{subscription:t,withOverheadSeparator:n})}g.displayName="PremiumSubscriptionFinePrint"},632578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=v(n(636602)),o=n(856259),i=v(n(177230)),u=v(n(960441)),l=v(n(908463)),s=v(n(728429)),d=v(n(909584)),f=n(194322),c=n(864489),p=n(372926);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,a=arguments.length,i=new Array(a),v=0;v<a;v++)i[v]=arguments[v]
;(t=e.call.apply(e,[this].concat(i))||this).handleConnectionOpen=function(){if((0,c.isDesktop)()||(0,c.isWeb)()){((0,p.isEligibleForNotice)()||t.shouldShowAnnouncementModalIfEligible())&&(d.default.isLoadedForPremiumSKUs()&&d.default.isFetchingForPremiumSKUs()||(0,o.fetchPremiumSubscriptionPlans)());t.showAnnouncementModalIfEligible()}};t.hasDismissedAnnouncement=function(){var e;return null!=(null===(e=u.default.settings.userContent)||void 0===e?void 0:e.premiumTier0ModalDismissedAt)};t.shouldShowAnnouncementModalIfEligible=function(){var e=l.default.isOpen(),n=s.default.getCurrentUser();return(0,p.isUserEligibleForTier0Announcement)(n)&&!(0,f.hasAnyModalOpen)()&&!e&&!t.hasDismissedAnnouncement()};t.showAnnouncementModalIfEligible=function(){t.shouldShowAnnouncementModalIfEligible()&&(0,f.openModalLazy)(_(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(40898)]).then(n.bind(n,40898));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))};return t}var i=t.prototype;i._initialize=function(){a.default.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i._terminate=function(){a.default.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i.__getLocalVars=function(){return{}};return t}(i.default));t.default=g},877454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;m(n(667294));var r,a=v(n(683767)),o=v(n(954140)),i=v(n(37039)),u=v(n(655205)),l=v(n(41024)),s=m(n(177101)),d=n(152960),f=n(770348),c=v(n(247001)),p=v(n(202192));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.dismissCurrentNotice,n=(0,i.default)(o.default.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE).analyticsLocations,r=(0,d.usePremiumTrialOffer)(),v=(0,
a.default)(null!=r&&null!=r.expires_at?Date.parse(r.expires_at):0);return null==r||null==r.expires_at||Object.values(v).every((function(e){return 0===e}))?null:_(s.default,{color:s.NoticeColors.PREMIUM_TIER_2},void 0,_(s.NoticeCloseButton,{onClick:t}),_(l.default,{className:p.default.premiumIcon}),v.days>0?c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS_VARIANT.format({days:v.days}):v.hours>0?c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS_VARIANT.format({hours:v.hours}):c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(v.minutes,1)}),_(s.NoticeButton,{onClick:function(){(0,u.default)({trialId:r.trial_id,subscriptionTier:f.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:n,analyticsObject:{page:f.AnalyticsPages.IN_APP,section:f.AnalyticsSections.NOTIFICATION_BAR,object:f.AnalyticsObjects.BUTTON_CTA}})}},void 0,c.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA_VARIANT))}
;h.displayName="PremiumTier2TrialEndingNotice";var g=h;t.default=g},588398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildBoostingHeader=H;t.SubscriptionDetailsEmpty=z;t.default=Q;var r,a=G(n(667294)),o=j(n(294184)),i=j(n(441143)),u=j(n(730381)),l=n(536211),s=j(n(226800)),d=j(n(954140)),f=j(n(37039)),c=j(n(285629)),p=j(n(655205)),v=n(232759),y=j(n(728429)),m=j(n(956117)),_=j(n(558402)),h=j(n(530250)),g=j(n(562475)),E=j(n(80828)),S=n(645758),O=n(688388),b=j(n(417184)),I=j(n(308920)),T=G(n(838583)),C=n(298104),A=n(511217),M=n(653311),N=j(n(754295)),P=j(n(200475)),R=j(n(337309)),w=j(n(986495)),D=n(770348),L=j(n(247001)),k=j(n(56397));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e){var t=e.subscription,n=e.fromStandaloneBillingPage,r=void 0===n||n,u=e.className,d=(0,l.useStateFromStores)([y.default],(function(){var e=y.default.getCurrentUser();(0,
i.default)(null!=e,"GuildBoostingHeader: currentUser cannot be undefined");return e}));if(0===(0,T.getNumPremiumGuildSubscriptions)(t.additionalPlans))return null;var f,p=t.status;f=(0,T.isPremiumGuildSubscriptionCanceled)(t)?k.default.guildBoostingSubscriptionRowCanceled:(0,T.isSubscriptionStatusFailedPayment)(p)?k.default.guildBoostingSubscriptionRowFailedPayment:k.default.guildBoostingSubscriptionRowActive;return a.createElement(a.Fragment,null,B("div",{className:(0,o.default)(f,u)},void 0,B("div",{className:k.default.guildBoostingSubscriptionRowBackground}),B("div",{className:k.default.guildBoostingImage}),B("div",{className:k.default.guildBoostingSubscriptionRowBody},void 0,B("div",{className:k.default.guildBoostingWordmark}),B("div",{},void 0,(0,T.getPremiumGuildHeaderDescription)(t,d))),r&&B(N.default,{color:m.default.Colors.BRAND,onClick:function(){return s.default.open(D.UserSettingsSections.GUILD_BOOSTING)}
},void 0,L.default.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS)),!r&&B(S.Text,{className:k.default.boostingDesktopAppBlurb,variant:"text-sm/normal"},void 0,L.default.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:function(){return(0,c.default)("app")}})))}function W(){a.useEffect((function(){I.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_missing_payment_method"})}),[]);return B("div",{className:k.default.paymentBanner},void 0,B(b.default,{className:k.default.paymentBannerIcon,color:D.Colors.STATUS_YELLOW_400}),B(S.Text,{className:k.default.paymentBannerText,variant:"text-sm/normal"},void 0,L.default.Messages.MISSING_PAYMENT_METHOD_BANNER))}W.displayName="NoPaymentMethodBanner";function V(){a.useEffect((function(){I.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return B("div",{className:k.default.paymentBanner},void 0,B(b.default,{
className:k.default.paymentBannerIcon,color:D.Colors.STATUS_RED_400}),B(S.Text,{className:k.default.paymentBannerText,variant:"text-sm/normal"},void 0,L.default.Messages.INVALID_PAYMENT_METHOD_BANNER))}V.displayName="InvalidPaymentMethodBanner";function Y(e){var t=e.daysPastDue,n=e.subscription,r=e.openInvoiceId,o=(0,f.default)(d.default.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER).analyticsLocations;a.useEffect((function(){I.default.track(D.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return B("div",{className:k.default.paymentBanner},void 0,B(b.default,{className:k.default.paymentBannerIcon,color:D.Colors.STATUS_YELLOW_400}),B(S.Text,{className:k.default.paymentBannerText,variant:"text-sm/normal"},void 0,L.default.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:function(){(0,p.default)({initialPlanId:n.planIdFromItems,openInvoiceId:r,analyticsLocations:o})}})))}
Y.displayName="PastDueOneTimePaymentMethodBanner";function K(e){var t=e.subscription,n=e.renewalInvoicePreview,r=e.className;return B("div",{className:(0,o.default)(k.default.billingInformation,r)},void 0,B(O.FormTitle,{tag:O.FormTitle.Tags.H3,className:k.default.detailBlockHeader},void 0,L.default.Messages.PREMIUM_SETTINGS_BILLING_INFO),B("div",{},void 0,T.default.getBillingInformationString(t,n)))}K.displayName="SubscriptionBillingInformation";function z(e){return B("div",{className:e.className},void 0,B(O.FormTitle,{className:k.default.sectionTitle,tag:O.FormTitle.Tags.H1},void 0,L.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),B("p",{className:k.default.sectionDescription},void 0,L.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),B(_.default,{className:k.default.noItemsCard,type:_.default.Types.CUSTOM},void 0,B(h.default,{align:h.default.Align.CENTER},void 0,B(g.default,{game:null,size:g.default.Sizes.SMALL,className:k.default.noItemsIcon}),B("span",{
className:k.default.cardText},void 0,L.default.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS))))}z.displayName="SubscriptionDetailsEmpty";var $=B(E.default,{}),q=B(W,{}),X=B(V,{});function Q(e){var t,n,r,a=e.subscription,i=e.paymentSource,s=e.busy,d=e.className,f=e.fromStandaloneBillingPage,c=void 0===f||f,p=e.analyticsLocation,m=F((0,A.useSubscriptionInvoicePreview)({subscriptionId:a.id,renewal:!0}),1)[0],_=F((0,A.useSubscriptionInvoicePreview)({subscriptionId:a.id,renewal:!0,applyEntitlements:!0}),1)[0],h=(0,l.useStateFromStores)([y.default],(function(){var e;return null===(e=y.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()})),g=(0,u.default)(a.currentPeriodEnd),E=null!=a.paymentSourceId,S=null!==(t=null==_?void 0:_.total)&&void 0!==t?t:0,b=null==i?void 0:i.invalid,I=!E&&S>0&&(g.diff((0,u.default)(),"days")<=7||a.status===D.SubscriptionStatusTypes.PAST_DUE)&&!h&&!a.isPurchasedExternally,T=b&&a.status===D.SubscriptionStatusTypes.PAST_DUE&&!h&&!a.isPurchasedExternally,N=(0,
M.useIsPrepaidPaymentPastDue)(),j=!h&&N,U=(null==a?void 0:a.status)===D.SubscriptionStatusTypes.PAST_DUE?(0,u.default)().diff((0,u.default)(a.currentPeriodStart),"days"):0,G=F((0,A.useGetSubscriptionInvoice)({subscriptionId:a.id,preventFetch:!j}),1)[0];if(null==m||null==_)return $;null!=a.renewalMutations&&(a.renewalMutations.planId!==a.planId&&!(0,v.isNoneSubscription)(a.renewalMutations.planId)||a.hasExternalPlanChange)&&(r=B(w.default,{subscription:a,renewalMutations:a.renewalMutations,className:k.default.renewalMutationNotice,analyticsLocation:p}));return B("div",{className:d},void 0,B(O.FormTitle,{className:k.default.sectionTitle,tag:O.FormTitle.Tags.H1},void 0,L.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),I?q:null,T?X:null,j&&null!=G?B(Y,{daysPastDue:U,subscription:a,openInvoiceId:G.id}):null,r,B("div",{className:k.default.subscriptionRows},void 0,B("p",{className:k.default.sectionDescription},void 0,L.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),B(P.default,{
subscription:a,renewalInvoicePreview:m,paymentSource:i,busy:s,analyticsLocation:p}),B(H,{subscription:a,fromStandaloneBillingPage:c,className:k.default.guildSubscriptionRow})),B("div",{},void 0,B(O.FormTitle,{tag:O.FormTitle.Tags.H5},void 0,L.default.Messages.BILLING_STEP_PAYMENT),B("div",{className:k.default.details},void 0,B(K,{subscription:a,renewalInvoicePreview:_,className:k.default.detailsBlock}),B("div",{className:(0,o.default)(k.default.detailsBlock,(n={},n[k.default.redBorder]=T,n))},void 0,B(O.FormTitle,{tag:O.FormTitle.Tags.H3,className:k.default.detailBlockHeader},void 0,a.isPurchasedExternally&&null!=a.paymentGateway?L.default.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:D.PaymentGatewayToFriendlyName[a.paymentGateway]}):L.default.Messages.BILLING_PAY_FOR_IT_WITH),B(R.default,{subscription:a,onPaymentSourceAdded:C.fetchSubscriptionPlansOnNewPaymentSource,highlightAddPaymentMethodButton:I||T,analyticsLocation:p,currentInvoicePreview:m,
dropdownClassName:k.default.paymentDropdown}),B("div",{className:k.default.paymentDropdownFinePrint},void 0,L.default.Messages.BILLING_APPLIES_TO_ALL_SUBSCRIPTIONS)))))}Q.displayName="SubscriptionDetails"},200475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=A(n(294184)),i=A(n(441143)),u=N(n(304836)),l=A(n(954140)),s=A(n(37039)),d=A(n(791548)),f=A(n(655205)),c=n(232759),p=A(n(909584)),v=A(n(151097)),y=N(n(956117)),m=A(n(730977)),_=A(n(394726)),h=A(n(259643)),g=n(194322),E=N(n(838583)),S=n(298104),O=n(815992),b=A(n(754295)),I=n(770348),T=A(n(247001)),C=A(n(956424));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}var L=new d.default("SubscriptionHeader.tsx"),k={page:I.AnalyticsPages.USER_SETTINGS,section:I.AnalyticsSections.SETTINGS_PREMIUM,object:I.AnalyticsObjects.CARD};function j(e){var t,r=e.subscription,d=e.renewalInvoicePreview,A=e.paymentSource,M=e.busy,N=e.analyticsLocation,w=(0,s.default)(l.default.SUBSCRIPTION_HEADER).analyticsLocations,j=function(){r.status!==I.SubscriptionStatusTypes.ACTIVE&&r.status!==I.SubscriptionStatusTypes.PAST_DUE||U()},U=function(){(0,g.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(25306),n.e(66341)]).then(n.bind(n,466341));case 2:t=e.sent;o=t.default
;return e.abrupt("return",(function(e){return a.createElement(o,R({},e,{premiumSubscription:r,analyticsLocation:N,analyticsLocations:w}))}));case 5:case"end":return e.stop()}}),e)}))))},G=function(){(0,f.default)({analyticsLocations:w,analyticsLocation:N,analyticsObject:k})},F=function(){if(null!=r&&null!=r.planIdFromItems){var e=p.default.get(r.planIdFromItems);if(null==e){L.info("Plan not fetched for plan id: "+r.planIdFromItems);return}var t=(0,S.getCurrencies)(e,null==A?void 0:A.id,!1),n=t.length>0?t[0]:r.currency,a=O.MultiCurrencyExperiment.getCurrentConfig({}).enabled,o=!1;(1!==t.length&&a||(null==A?void 0:A.id)!==r.paymentSourceId||!(0,S.planHasCurrency)(e.id,n,null==A?void 0:A.id))&&(null==A||(0,E.inPriceDeterminationExperiment)())||(o=!0);o?u.resubscribe(r,n,w,A):(0,f.default)({initialPlanId:r.planIdFromItems,analyticsLocations:w,analyticsLocation:N,analyticsObject:k})}},x=E.default.getPlanIdFromInvoice(r,d);if((0,c.isNoneSubscription)(x))return null
;var B=E.default.getStatusFromInvoice(r,d),H=E.default.getPremiumType(x),W=((t={})[C.default.tier0]=H===I.PremiumTypes.TIER_0,t[C.default.tier1]=H===I.PremiumTypes.TIER_1,t[C.default.tier2]=H===I.PremiumTypes.TIER_2,t[C.default.canceled]=B===I.SubscriptionStatusTypes.CANCELED,t[C.default.failedPayment]=(0,E.isSubscriptionStatusFailedPayment)(B),t),V=null;switch(H){case I.PremiumTypes.TIER_0:V=a.createElement(a.Fragment,null,P(h.default,{className:C.default.discordWordmark,"aria-label":T.default.Messages.PREMIUM_TIER_0}),P("div",{className:C.default.basicWordmark}));break;case I.PremiumTypes.TIER_1:V=a.createElement(a.Fragment,null,P(h.default,{className:C.default.discordWordmark,"aria-label":T.default.Messages.PREMIUM_TIER_1}),P("div",{className:C.default.classicWordmark}));break;case I.PremiumTypes.TIER_2:V=P(_.default,{className:C.default.planName,"aria-label":T.default.Messages.PREMIUM_TITLE})}return P("div",{className:(0,o.default)(C.default.banner,W)},void 0,P("div",{
className:C.default.bannerBackgroundImage}),P("div",{className:C.default.detailsContainer},void 0,P("div",{className:C.default.image}),P("div",{className:C.default.details},void 0,V,function(e){(0,i.default)(null!=d,"Expected renewalInvoicePreview");return P("div",{className:C.default.planInfo},void 0,(0,E.getPlanDescriptionFromInvoice)({planId:e,subscription:r,renewalInvoicePreview:d}))}(x))),P("div",{className:C.default.buttons},void 0,function(){var e=r.status;if(r.isPurchasedExternally){var t=(0,E.getExternalSubscriptionMethodUrl)(r.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return P(v.default,{href:t,useDefaultUnderlineStyles:!1},void 0,P(y.default,{className:(0,o.default)(C.default.toolsButton,C.default.externalButton),size:y.default.Sizes.SMALL,look:y.ButtonLooks.OUTLINED,color:y.ButtonColors.WHITE,submitting:M},void 0,T.default.Messages.BILLING_MANAGE_SUBSCRIPTION))}if(E.default.isBaseSubscriptionCanceled(r))return P(y.default,{className:C.default.toolsButton,
size:y.default.Sizes.SMALL,look:y.ButtonLooks.INVERTED,color:y.ButtonColors.BRAND,submitting:M,onClick:F},void 0,T.default.Messages.RESUBSCRIBE);if(e===I.SubscriptionStatusTypes.ACTIVE||e===I.SubscriptionStatusTypes.PAST_DUE){var n=!1,i=null;if(null!=r.renewalMutations){n=!0;i=r.renewalMutations.planId!==r.planId?T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION}if(null!=r.trialEndsAt){n=!0;i=T.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL}e===I.SubscriptionStatusTypes.PAST_DUE&&(n=!0);return P("div",{className:C.default.toolsButtons},void 0,P(y.default,{className:C.default.toolsButton,size:y.default.Sizes.SMALL,look:y.ButtonLooks.LINK,color:y.ButtonColors.WHITE,submitting:M,onClick:j},void 0,T.default.Messages.CANCEL),P(m.default,{text:i},void 0,(function(e){return a.createElement(b.default,R({},e,{disabled:n,className:C.default.toolsButton,onClick:G
}),T.default.Messages.PREMIUM_SWITCH_PLANS)})))}}()))}j.displayName="SubscriptionHeader";var U=j;t.default=U},337309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.subscription,r=e.onPaymentSourceAdded,E=e.highlightAddPaymentMethodButton,S=e.dropdownClassName,O=e.analyticsLocation,I=e.currentInvoicePreview,C=(0,u.useStateFromStores)([y.default],(function(){return y.default.hidePersonalInformation})),L=B((0,u.useStateFromStoresArray)([m.default],(function(){return[m.default.paymentSources,m.default.hasFetchedPaymentSources]})),2),k=L[0],j=L[1],F=(0,v.useSubscriptionPlansLoaded)((0,M.getSubscriptionSKUs)(t)).isLoading,H=(0,p.default)().analyticsLocations,V=a.useMemo((function(){return Object.values(k).filter((function(e){return!e.invalid}))}),[k]),K=B(a.useState(!1),2),z=K[0],$=K[1],q=B(a.useState(t.currency),2),X=q[0],Q=q[1],Z=function(){var e=x(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(null!=t&&(null!=n||(0,T.inPriceDeterminationExperiment)())){e.next=2;break}throw Error("missing subscription and paymentSource");case 2:if(null!=n){e.next=7;break}e.next=5;return s.changeSubscriptionCurrency(t,r,H,O);case 5:e.next=9;break;case 7:e.next=9;return s.changePaymentSource(t,n,r,H,O);case 9:$(!1);Q(r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=x(regeneratorRuntime.mark((function e(n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n||(0,T.inPriceDeterminationExperiment)()){e.next=2;break}throw Error("PaymentSource required");case 2:$(!0);e.next=5;return(0,N.updateSubscriptionInvoicePreview)({subscriptionId:t.id,paymentSourceId:null==n?void 0:n.id,renewal:!0,currency:r});case 5:o=e.sent;I.currency!==o.currency||I.currency===o.currency&&I.total!==o.total?Y(o,(function(){a(n,r);if(!(0,
T.inPriceDeterminationExperiment)()){(0,i.default)(null!=n,"paymentSource required");(0,d.fetchPremiumSubscriptionPlans)(n.country,n.id)}}),(function(){$(!1)})):a(n,r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(e){var n=_.default.get(t.planIdForCurrencies);(0,i.default)(null!=e,"paymentSource not specified for change");(0,i.default)(null!=n,"Unable to fetch plan");var r=(0,A.getCurrencies)(n.id,e.id,!1);return r.length>0?r[0]:P.CurrencyCodes.USD},te=function(e){null!=e&&J(e,ee(e),Z)},ne=function(e){(0,A.fetchSubscriptionPlansOnNewPaymentSource)(e.id,(0,M.getSubscriptionSKUs)(t)).then((function(){J(e,ee(e),Z)}));"function"==typeof r&&r(e.id)},re=function(){(0,b.openModalLazy)(x(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(78833),n.e(46277),n.e(93316),n.e(85190),n.e(72024)]).then(n.bind(n,58838))
;case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,G({},e,{onAddPaymentSource:ne,analyticsLocation:O}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){(0,l.clearError)()}})};if(t.isPurchasedExternally)return function(e){(0,i.default)(null!=e.paymentGateway,"Expected payment gateway when managed externally");var t=(0,T.getExternalSubscriptionMethodUrl)(e.paymentGateway,"PAYMENT_SOURCE_MANAGEMENT");return U(h.default,{href:t,useDefaultUnderlineStyles:!1,className:w.default.externalLink},void 0,U(g.default,{fullWidth:!0,look:g.default.Looks.FILLED,color:g.default.Colors.PRIMARY},void 0,R.default.Messages.BILLING_MANAGE_BILLING))}(t);if(!j||F)return W;if(V.length>0){var ae=_.default.get(t.planIdForCurrencies);(0,i.default)(null!=ae,"Unable to fetch plan");var oe=(0,A.getCurrencies)(ae,t.paymentSourceId,!1);return a.createElement(a.Fragment,null,(ie=t.paymentSourceId,U(c.default,{prependOption:null==ie?{
label:R.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,className:S,paymentSources:V,hidePersonalInformation:C,selectedPaymentSourceId:ie,onChange:te,onPaymentSourceAdd:re,dropdownLoading:z})),null!=t.paymentSourceId?U(f.CurrencyWrapper,{currencies:oe},void 0,U("div",{className:(0,o.default)(w.default.currency,D.default.flex,D.default.alignCenter)},void 0,U("div",{},void 0,R.default.Messages.PAYMENT_CURRENCY_PAYING_IN),U(f.default,{className:w.default.currencyDropdown,selectedCurrency:X,currencies:oe,onChange:function(e){J(void 0,e,Z)}}))):null)}return U(g.default,{fullWidth:!0,look:g.default.Looks.FILLED,color:E?g.default.Colors.BRAND:g.default.Colors.PRIMARY,onClick:re},void 0,R.default.Messages.BILLING_ADD_PAYMENT_METHOD);var ie}
;var r,a=j(n(667294)),o=L(n(294184)),i=L(n(441143)),u=n(536211),l=n(653906),s=j(n(304836)),d=n(856259),f=j(n(225585)),c=L(n(779111)),p=L(n(37039)),v=n(547855),y=L(n(663303)),m=L(n(748826)),_=L(n(909584)),h=L(n(151097)),g=L(n(956117)),E=L(n(80828)),S=n(645758),O=L(n(502197)),b=n(194322),I=L(n(550270)),T=n(838583),C=n(243277),A=n(298104),M=n(156849),N=n(511217),P=n(770348),R=L(n(247001)),w=L(n(778916)),D=L(n(3066));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}
function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=U(E.default,{});var V=function(e){var t=e.modalProps,n=e.onConfirm,r=e.onCancel,o=e.newInvoice,i={newCurrencyAndPrice:(0,C.formatPrice)(o.total,o.currency),helpCenterLink:I.default.getArticleURL(P.HelpdeskArticles.LOCALIZED_PRICING)};return a.createElement(O.default,G({header:R.default.Messages.BILLING_CONFIRM_PRICE_CHANGE_TITLE,confirmText:R.default.Messages.YES_TEXT,cancelText:R.default.Messages.NO_TEXT,onConfirm:n,onCancel:r,confirmButtonColor:g.default.Colors.BRAND},t),U(S.Text,{variant:"text-md/normal"},void 0,R.default.Messages.LOCALIZED_PRICING_ON_CHANGE_PAYMENT_METHOD.format(i)))};V.displayName="ConfirmPriceChangeModal";var Y=function(e,t,n){(0,b.openModal)((function(r){return U(V,{newInvoice:e,onConfirm:t,onCancel:n,modalProps:r})}),{onCloseRequest:function(){return!1}})}},986495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=L
;var r,a=A(n(667294)),o=T(n(294184)),i=T(n(441143)),u=n(536211),l=n(832635),s=T(n(954140)),d=T(n(37039)),f=n(232759),c=T(n(871778)),p=T(n(909584)),v=T(n(151097)),y=T(n(956117)),m=T(n(530250)),_=n(688388),h=T(n(417184)),g=A(n(3400)),E=A(n(838583)),S=n(243277),O=n(770348),b=T(n(247001)),I=T(n(210912));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e){var t=e.subscription,n=e.renewalMutations,r=e.transitionState,a=e.onClose,o=e.analyticsLocation,v=(0,u.useStateFromStores)([c.default],(function(){return c.default.theme})),h=(0,d.default)(s.default.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL).analyticsLocations
;function T(){return(T=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,l.upgradeSubscription)(t,t.planId,h,o);case 2:a();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=p.default.get(t.planId);(0,i.default)(null!=C,"Missing subscriptionPlan");var A=(0,E.getPrice)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),M=(0,S.formatRate)((0,S.formatPrice)(A.amount,A.currency),C.interval,C.intervalCount);return P(g.ModalRoot,{transitionState:r,"aria-label":b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER},void 0,P(g.ModalHeader,{justify:m.default.Justify.BETWEEN,separator:!1},void 0,P(_.FormTitle,{tag:_.FormTitleTags.H4},void 0,b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER),P(g.ModalCloseButton,{onClick:a})),P(g.ModalContent,{className:I.default.modalBody},void 0,(0,
f.isNoneSubscription)(t.planId)?b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:E.default.getDisplayName(n.planId),existingRate:M}):b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:E.default.getDisplayName(t.planId),downgradedPlan:E.default.getDisplayName(n.planId),existingRate:M})),P(g.ModalFooter,{},void 0,P(y.default,{onClick:function(){return T.apply(this,arguments)}},void 0,b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON),P(y.default,{look:y.default.Looks.LINK,color:v===O.ThemeTypes.LIGHT?y.default.Colors.PRIMARY:y.default.Colors.WHITE,onClick:a},void 0,b.default.Messages.NEVERMIND)))}D.displayName="SubscriptionCancelDowngradeModal";function L(e){var t=e.subscription,n=e.renewalMutations,r=e.className,i=e.analyticsLocation,u=M(a.useState(!1),2),l=u[0],s=u[1];return P("div",{className:(0,o.default)(I.default.root,r)},void 0,P(h.default,{className:I.default.infoIcon}),P("div",{
className:I.default.text},void 0,b.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:t.hasExternalPlanChange?(0,E.getExternalPlanDisplayName)(n):E.default.getDisplayName(n.planId),date:t.currentPeriodEnd})),t.isPurchasedExternally?null:P(v.default,{onClick:function(e){s(!0);e.preventDefault()},className:I.default.cancelLink},void 0,b.default.Messages.CANCEL),l?P(g.default,{renderModal:function(e){var r=e.transitionState;return P(D,{subscription:t,renewalMutations:n,transitionState:r,onClose:function(){return s(!1)},analyticsLocation:i})},onCloseRequest:function(){return s(!1)}}):null)}L.displayName="SubscriptionRenewalMutationNotice"},225249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=x(n(667294)),o=G(n(294184)),i=n(536211),u=G(n(636602)),l=x(n(832635)),s=n(233271),d=n(851792),f=n(856259),c=G(n(226800)),p=G(n(524791)),v=G(n(763944)),y=G(n(697512)),m=n(547855),_=G(n(45738)),h=G(n(252730)),g=G(n(663303)),E=G(n(516818)),S=G(n(697952)),O=G(n(748826)),b=G(n(146771)),I=G(n(47969)),T=G(n(558402)),C=G(n(530250)),A=G(n(562475)),M=G(n(80828)),N=n(688388),P=G(n(838583)),R=G(n(526889)),w=G(n(322423)),D=x(n(588398)),L=n(770348),k=n(840433),j=G(n(247001)),U=G(n(162652));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(){return B(T.default,{className:U.default.noItemsCard,type:T.default.Types.CUSTOM},void 0,B(C.default,{align:C.default.Align.CENTER},void 0,B(A.default,{game:null,size:A.default.Sizes.SMALL,className:U.default.noItemsIcon}),B("span",{className:U.default.cardText},void 0,j.default.Messages.USER_SETTINGS_NO_SUBSCRIPTION_CREDIT)))}H.displayName="NoAccountCredit";var W=B(H,{});function V(){var e=(0,
i.useStateFromStores)([I.default],(function(){return I.default.getForApplication(L.PREMIUM_SUBSCRIPTION_APPLICATION)}));a.useEffect((function(){(0,d.fetchUserEntitlementsForApplication)(L.PREMIUM_SUBSCRIPTION_APPLICATION)}),[]);return B("section",{className:U.default.sectionAccountCredit},void 0,B(N.FormTitle,{className:U.default.accountCreditTitle,tag:N.FormTitleTags.H1},void 0,j.default.Messages.BILLING_SUBSCRIPTION_CREDIT),B("p",{className:U.default.accountCreditDescription},void 0,j.default.Messages.BILLING_ACCOUNT_CREDIT_DESCRIPTION),null!=e&&P.default.hasAccountCredit(e)?B(R.default,{className:U.default.accountCredit,entitlements:e}):W)}V.displayName="AccountCredit";var Y=B(p.default,{}),K=B(M.default,{}),z=B(V,{});function $(){var e=(0,i.useStateFromStores)([b.default],(function(){return b.default.getPremiumTypeSubscription()})),t=(0,i.useStateFromStores)([O.default],(function(){return null!=e&&null!=e.paymentSourceId?O.default.getPaymentSource(e.paymentSourceId):null
}),[e]),n=(0,i.useStateFromStores)([b.default],(function(){return b.default.hasFetchedSubscriptions()})),r=(0,i.useStateFromStores)([S.default],(function(){return S.default.isBusy})),d=(0,m.useSubscriptionPlansLoaded)().hasLoaded,p=(0,i.useStateFromStores)([E.default],(function(){return E.default.getSubsection()}));a.useEffect((function(){u.default.wait((function(){(0,f.fetchPremiumSubscriptionPlans)();l.fetchSubscriptions();(0,s.fetchGuildBoostSlots)();l.fetchPaymentSources()}));return function(){c.default.clearSubsection()}}),[]);return g.default.enabled?Y:n&&d?p===k.ROLE_SUBSCRIPTION_SUBSECTION?B(h.default,{onGoBack:function(){return c.default.clearSubsection()}}):p===k.APPLICATION_SUBSCRIPTION_SUBSECTION?B(y.default,{onGoBack:function(){return c.default.clearSubsection()}}):B("div",{className:U.default.container},void 0,B("div",{className:U.default.content},void 0,null!=e?B(D.default,{className:U.default.subscriptionDetails,subscription:e,paymentSource:t,busy:r
}):B(D.SubscriptionDetailsEmpty,{className:U.default.subscriptionDetails}),B(_.default,{onClickManageSubscription:function(){return c.default.setSection(L.UserSettingsSections.SUBSCRIPTIONS,k.ROLE_SUBSCRIPTION_SUBSECTION)}}),B(v.default,{onClickManageSubscription:function(){return c.default.setSection(L.UserSettingsSections.SUBSCRIPTIONS,k.APPLICATION_SUBSCRIPTION_SUBSECTION)}}),z,null!=e?B(w.default,{subscription:e,withOverheadSeparator:!1}):null)):B("div",{className:(0,o.default)(U.default.container,U.default.loading)},void 0,K)}$.displayName="Subscriptions";var q=$;t.default=q},68692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(294184)),i=m(n(225626)),u=n(612505),l=n(645758),s=m(n(373486)),d=n(265517),f=n(770348),c=n(997988),p=m(n(247001)),v=m(n(505021)),y=["onClose"];function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(i.default,{icons:c.DEFAULT_FILE_UPLOAD_ICONS});function S(e){var t=e.onClose,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,y),r=E,i=(0,u.useFileUploadLimitExperiment)()?p.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_2_INCREASE:p.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_2.format({premiumMaxSize:p.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_2}),c=g("div",{className:v.default.body},void 0,g("span",{},void 0,p.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1.format({maxSize:p.default.Messages.FILE_UPLOAD_LIMIT_STANDARD})),g(l.Text,{variant:"text-md/medium"},void 0,i));return a.createElement(s.default,h({artElement:r,artContainerClassName:(0,o.default)(v.default.artContainer),enableArtBoxShadow:!1,
type:d.PremiumUpsellTypes.UPLOAD_ERROR_UPSELL,title:p.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,body:c,context:p.default.Messages.UPLOAD_AREA_PREMIUM_UPSELL_BODY_LINE_1.format({maxSize:p.default.Messages.FILE_UPLOAD_LIMIT_STANDARD}),glowUp:i,analyticsLocation:{section:f.AnalyticsSections.FILE_UPLOAD_POPOUT},onClose:t},n))}S.displayName="FileUploadUpsell"},373486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=O(n(294184)),i=O(n(954140)),u=O(n(37039)),l=O(n(849209)),s=O(n(956117)),d=n(772575),f=n(645758),c=n(3400),p=O(n(308920)),v=n(152960),y=O(n(314182)),m=n(178321),_=n(770348),h=O(n(247001)),g=O(n(745576)),E=O(n(545292)),S=["title","type","guildBoostProps","analyticsSource","analyticsLocation","body","context","glowUp","artContainerClassName","transitionState","onClose","onSubscribeClick","onSecondaryClick","secondaryCTA","showNewBadge","enableArtBoxShadow"];function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.title,n=e.type,r=e.guildBoostProps,O=e.analyticsSource,b=e.analyticsLocation,T=e.body,C=e.context,A=e.glowUp,M=e.artContainerClassName,N=e.transitionState,P=e.onClose,R=e.onSubscribeClick,w=e.onSecondaryClick,D=e.secondaryCTA,L=e.showNewBadge,k=void 0!==L&&L,j=e.enableArtBoxShadow,U=void 0===j||j,G=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,S),F=null!=r,x=null!=(0,v.usePremiumTrialOffer)()&&!F,B=(0,u.default)(i.default.PREMIUM_UPSELL_MODAL).analyticsLocations;a.useEffect((function(){F?p.default.track(_.AnalyticEvents.PREMIUM_GUILD_UPSELL_VIEWED,{type:n+" - Tier "+r.boostedGuildTier,guild_id:r.guild.id,channel_id:r.channelId,location:b,location_stack:B}):p.default.track(_.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:n,source:O,location_stack:B})}),[F]);var H=U?(0,
o.default)(g.default.artContainer,g.default.artContainerBoxShadow,M):(0,o.default)(g.default.artContainer,M),W=null;W="artURL"in G?I("img",{className:g.default.art,alt:"",src:G.artURL}):G.artElement;return I(c.ModalRoot,{className:g.default.root,"aria-label":t,transitionState:N},void 0,I("div",{className:H},void 0,W,k?I("img",{className:g.default.sparkleBadge,alt:"",src:E.default}):null),I(c.ModalContent,{className:g.default.content},void 0,I(d.Heading,{className:g.default.header,variant:"heading-xl/medium",level:3},void 0,t),x?a.createElement(a.Fragment,null,null!=C&&I(f.Text,{className:g.default.context,variant:"text-md/normal"},void 0,C),I(m.PremiumTrialUpsellBrandedContainer,{},void 0,A)):I(f.Text,{variant:"text-md/normal"},void 0,T)),I(c.ModalFooter,{className:g.default.footer},void 0,I("div",{className:g.default.primaryActions},void 0,null!=D?I(s.default,{className:g.default.secondaryAction,onClick:w,size:s.default.Sizes.SMALL,color:s.default.Colors.PRIMARY,
look:s.default.Looks.LINK},void 0,D):null,F?I(l.default,{analyticsLocation:b,guild:r.guild,onClose:P}):I(y.default,{premiumModalAnalyticsLocation:b,subscriptionTier:_.PremiumSubscriptionSKUs.TIER_2,size:s.default.Sizes.SMALL,color:s.default.Colors.GREEN,onClick:function(){null==R||R();P()},buttonText:x?h.default.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT:void 0})),I(s.default,{onClick:P,size:s.default.Sizes.SMALL,color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK},void 0,h.default.Messages.BACK)))}T.displayName="PremiumUpsellModal"},953605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-07_premium_upsell_overlay",label:"Premium upsell overlay",defaultConfig:{showPremiumUpsellOverlay:!1},treatments:[{id:1,label:"Premium upsell overlay enabled",config:{showPremiumUpsellOverlay:!0}}]});t.default=r},859639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(350957)),i=l(n(862976)),u=l(n(954663));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d(i.default,{}),c=d(u.default,{});function p(){return(0,a.useStateFromStores)([o.default],(function(){return o.default.showNotice()}))?f:c}p.displayName="EditProfileSettingsNotice"},260532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=H;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(923387),u=k(n(226800)),l=n(898361),s=k(n(954140)),d=k(n(37039)),f=n(203847),c=k(n(305081)),p=n(799393),v=k(n(350957)),y=k(n(799017)),m=k(n(229024)),_=k(n(30098)),h=k(n(887609)),g=k(n(816624)),E=k(n(516818)),S=k(n(728429)),O=n(772575),b=k(n(186465)),I=n(645758),T=n(598671),C=n(956506),A=k(n(550270)),M=k(n(838583)),N=k(n(118911)),P=k(n(589811)),R=n(770348),w=n(840433),D=k(n(247001)),L=k(n(620582));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var G=U(N.default,{}),F=U(y.default,{});function x(e){var t=e.selectedGuild,n=e.onDismiss,r=(0,d.default)(s.default.GUILD_PROFILE).AnalyticsLocationProvider;a.useEffect((function(){null==n||n()}),[n]);return U(r,{},void 0,U(I.Text,{variant:"text-sm/normal"},void 0,D.default.Messages.PROFILE_CUSTOMIZATION_GUILD_HINT.format({helpCenterLink:A.default.getArticleURL(R.HelpdeskArticles.GUILD_PROFILES)})),null!=t?U(P.default,{guildId:t.id}):G,F)}x.displayName="GuildIdentityCustomizationSectionsWrapper";var B=U(m.default,{});function H(){var e=S.default.getCurrentUser(),t=(0,o.useStateFromStores)([h.default],(function(){return h.default.getFlattenedGuildIds()})),n=(0,o.useStateFromStores)([v.default],(function(){return v.default.getGuild()})),r=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(t[0])})),s=(0,o.useStateFromStores)([v.default,g.default],(function(){return v.default.showNotice()||g.default.showNotice()
})),y=null!=n?n:r,m=(0,o.useStateFromStores)([E.default],(function(){var e;return null!==(e=E.default.getSubsection())&&void 0!==e?e:w.ProfileCustomizationSubsection.USER_PROFILE})),I=(0,d.default)(),A=I.AnalyticsLocationProvider,N=I.analyticsLocations;function P(e){if(m!==e)if(s){C.ComponentDispatch.dispatch(R.ComponentActions.SHAKE_APP,{duration:300,intensity:l.SHAKE_INTENSITY_DEFAULT});C.ComponentDispatch.dispatch(R.ComponentActions.EMPHASIZE_NOTICE)}else{e===w.ProfileCustomizationSubsection.GUILD&&null==n&&null!=y&&(0,p.initGuildIdentitySettings)(y,N);u.default.setSection(R.UserSettingsSections.PROFILE_CUSTOMIZATION,e)}}a.useEffect((function(){(0,f.markDismissibleContentAsDismissed)(i.DismissibleContent.CENTRALIZED_PROFILE_EDITING_SETTINGS_PAGE)}),[]);var k=m===w.ProfileCustomizationSubsection.USER_PROFILE&&M.default.canUsePremiumGuildMemberProfile(e);return U(A,{},void 0,U(O.Heading,{variant:"heading-lg/bold"},void 0,D.default.Messages.USER_SETTINGS_PROFILES),U(c.default,{
contentTypes:[i.DismissibleContent.CENTRALIZED_PROFILE_EDITING]},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;return a.createElement(a.Fragment,null,U(b.default,{className:L.default.tabBar,type:b.default.Types.TOP,look:b.default.Looks.BRAND,selectedItem:m,onItemSelect:P},void 0,U(b.default.Item,{className:L.default.tabBarItem,id:w.ProfileCustomizationSubsection.USER_PROFILE},w.ProfileCustomizationSubsection.USER_PROFILE,D.default.Messages.EDIT_PROFILE_CATEGORY_USER_PROFILE),U(b.default.Item,{className:L.default.tabBarItem,id:w.ProfileCustomizationSubsection.GUILD},w.ProfileCustomizationSubsection.GUILD,D.default.Messages.EDIT_PROFILE_CATEGORY_GUILD_IDENTITY),k&&t===i.DismissibleContent.CENTRALIZED_PROFILE_EDITING?U(T.TextBadge,{text:D.default.Messages.NEW,className:L.default.newBadge}):null),function(e){switch(m){case w.ProfileCustomizationSubsection.GUILD:return U(x,{selectedGuild:y,onDismiss:e});case w.ProfileCustomizationSubsection.USER_PROFILE:default:return B}
}(n))})))}H.displayName="EditProfileSettings"},118911:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;y(n(667294));var r,a=y(n(264720)),o=n(139982),i=p(n(956117)),u=n(772575),l=n(645758),s=n(770348),d=p(n(247001)),f=p(n(194705)),c=p(n(854794));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return m("div",{className:f.default.emptyState},void 0,m("img",{src:c.default,alt:"",className:f.default.image}),m(u.Heading,{className:f.default.topSpacing,variant:"heading-lg/bold"},void 0,d.default.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_TITLE),m(l.Text,{className:f.default.topSpacing,variant:"text-md/normal"},void 0,d.default.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_DESCRIPTION),m(i.default,{className:f.default.topSpacing,onClick:function(){(0,o.transitionTo)(s.Routes.GUILD_DISCOVERY);a.popLayer()}
},void 0,d.default.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_CTA))}_.displayName="GuildIdentityCustomizationPageEmptyState"},184727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(730977)),i=s(n(41024)),u=s(n(247001)),l=s(n(148849));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t=e.text,n=void 0===t?u.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP:t;return f(o.default,{text:n},void 0,(function(e){return a.createElement(i.default,c({},e,{className:l.default.nitroWheel}))}))}p.displayName="PremiumIconWithTooltip"},482138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.maybeOpenProfilePreviewModal=function(e,t,n,r){a.default.dispatch({type:"PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",imageSrc:e,file:t,uploadType:n,guildId:r})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r}},102975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FakeActivityCharacter=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=m(n(294184)),u=n(248088),l=m(n(235879)),s=m(n(956117)),d=n(772575),f=n(645758),c=m(n(247001)),p=m(n(763973)),v=m(n(524268)),y=m(n(950737));function m(e){return e&&e.__esModule?e:{default:e}}
function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O;function b(e){if(l.default.useReducedMotion)return 0;e-=5399;return Math.min(10,e/300*10)}t.FakeActivityCharacter=O;!function(e){e[e.WUMPUS=0]="WUMPUS";e[e.PHIBI=1]="PHIBI"}(O||(t.FakeActivityCharacter=O={}));var I=((r={})[O.WUMPUS]=p.default.activityCharacterWumpus,r[O.PHIBI]=p.default.activityCharacterPhibi,r),T=o.memo((function(e){
var t,n,r=e.activityName,a=e.activityCharacter,l=void 0===a?O.WUMPUS:a,m=e.showExampleButton,_=void 0!==m&&m,S=E(o.useState(0),2),T=S[0],C=S[1],A=E((0,u.useSpring)((function(){return{from:{rotate:"0deg"},config:{tension:1e3,friction:5}}})),2),M=A[0],N=A[1],P=o.useRef({seconds:T,jitter:(n=(t=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=b(P.current.seconds);N({rotate:"-"+t+"deg"});e.next=5;return new Promise((function(e){return setTimeout(e,80)}));case 5:N({rotate:t+"deg"});e.next=8;return new Promise((function(e){return setTimeout(e,80)}));case 8:e.next=0;break;case 10:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})});o.useEffect((function(){P.current.seconds=T}));o.useEffect((function(){
var e=setInterval((function(){C((function(e){5399===e&&P.current.jitter();return++e}))}),1e3);return function(){return clearInterval(e)}}),[]);var R=l===O.WUMPUS?y.default:v.default;return h("div",{"aria-hidden":!0},void 0,h(d.Heading,{className:p.default.fakeActivityTitle,variant:"eyebrow",color:"header-secondary",level:3},void 0,c.default.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_TITLE),h("div",{className:p.default.fakeActivityLayout},void 0,h("div",{className:(0,i.default)(p.default.fakeActivityIcon,I[l])},void 0,h(u.animated.img,{className:p.default.fakeActivityPencil,src:R,style:M})),h("div",{className:p.default.fakeActivityContent},void 0,h(f.Text,{variant:"text-sm/semibold"},void 0,null!=r?r:c.default.Messages.USER_SETTINGS_USER_PROFILE),h(f.Text,{variant:"text-sm/normal"},void 0,c.default.Messages.PROFILE_CUSTOMIZATION_ACTIVITY_TIME.format({renderTimeHook:function(e,t){var n=T%60,r=(T-n)/60;return h("span",{className:p.default.fakeActivityTimeValues
},t,r.toString().padStart(2,"0"),":",n.toString().padStart(2,"0"))}})))),_&&h(s.default,{className:p.default.button,color:p.default.buttonColor,size:s.default.Sizes.SMALL,fullWidth:!0},void 0,c.default.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_EXAMPLE_BUTTON))}));t.default=T},216920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=n(825185),i=p(n(177230)),u=n(799393),l=n(401648),s=p(n(728429)),d=n(194322),f=p(n(838583)),c=n(173708);function p(e){return e&&e.__esModule?e:{
default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){
a.default.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i._terminate=function(){a.default.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){var t=e.imageSrc,a=e.file,i=e.uploadType,p=e.guildId,v=null!=p?u.setPendingAvatar:o.setPendingAvatar,m=null!=p?u.setPendingBanner:l.setPendingBanner,h=s.default.getCurrentUser();if(i===c.UploadTypes.AVATAR){if(f.default.canUploadAnimatedAvatar(h)||"image/gif"!==a.type){v(t);return}(0,d.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({avatarSrc:t,onSubscribe:function(){return v(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))
}else if(i===c.UploadTypes.BANNER||i===c.UploadTypes.BANNER_V2){if(f.default.canUsePremiumProfileCustomization(h)){m(t);return}(0,d.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({bannerSrc:t,onSubscribe:function(){return m(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}};i.__getLocalVars=function(){return{}};return t}(i.default));t.default=g},468532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(171236),o=n(688388),i=s(n(456701)),u=s(n(247001)),l=s(n(363304));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){
var t=e.children,n=e.profilePreview,r=e.title,s=e.description,d=e.previewTitle,c=function(){return f(i.default,{title:null!=d?d:u.default.Messages.PROFILE_CUSTOMIZATION_PREVIEW,className:l.default.preview},void 0,n)};return f("div",{},void 0,f(o.FormSection,{title:r,tag:o.FormTitleTags.H1,className:l.default.profileCustomizationSection},void 0,s,a.isMobile&&c(),f("div",{className:l.default.baseLayout},void 0,t,!a.isMobile&&c())))}c.displayName="ProfileCustomizationPage"},845176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=x;var r,a=D(n(667294)),o=n(235234),i=n(536211),u=n(836233),l=n(832215),s=R(n(599950)),d=R(n(670729)),f=R(n(421338)),c=n(288702),p=R(n(426178)),v=R(n(784073)),y=R(n(876874)),m=R(n(788739)),_=R(n(949898)),h=R(n(16941)),g=R(n(661442)),E=n(772575),S=n(194322),O=D(n(692711)),b=R(n(838583)),I=R(n(102975)),T=n(824726),C=n(88503),A=n(770348),M=n(173708),N=R(n(247001)),P=R(n(565967));function R(e){return e&&e.__esModule?e:{default:e}}
function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null
}}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,u,"next",e)}function u(e){j(o,r,a,i,u,"throw",e)}i(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t,r,R,w=e.user,D=e.guild,j=e.bannerColor,F=e.canUsePremiumCustomization,x=e.onUpsellClick,B=e.onAvatarChange,H=e.onBannerChange,W=e.pendingBanner,V=e.pendingBio,Y=e.pendingPronouns,K=e.pendingAvatar,z=e.pendingAvatarDecoration,$=e.pendingNickname,q=e.openPremiumSettings,X=e.activityName,Q=e.activityCharacter,Z=G(a.useState(!1),2),J=Z[0],ee=Z[1],te=(0,i.useStateFromStores)([m.default],(function(){return m.default.findActivity(w.id,(function(e){
return e.type===A.ActivityTypes.CUSTOM_STATUS}))})),ne=a.useContext(u.AccessibilityPreferencesContext).reducedMotion,re=(0,l.useGlobalHasAvatarDecorations)().canUseAvatarDecorations?(0,T.getPreviewAvatarDecoration)(z,w):null,ae=(0,s.default)(re),oe=(0,i.useStateFromStores)([y.default],(function(){return null==D?null:y.default.getMember(D.id,w.id)})),ie=(0,v.default)(w.id,null==D?void 0:D.id),ue=(0,i.useStateFromStores)([_.default],(function(){return _.default.isFocused()})),le=a.useRef(null),se=(0,T.getPreviewNickname)($,null==oe?void 0:oe.nick),de=f.default.useExperiment({}).showProfileSkins?M.UploadTypes.BANNER_V2:M.UploadTypes.BANNER,fe=a.useCallback((function(){var e,t;null===(e=le.current)||void 0===e||null===(t=e.inputRef.current)||void 0===t||t.activateUploadDialogue()}),[]),ce=a.useCallback((function(e,t){null==e||null==t?B(null):"image/gif"!==t.type||b.default.canUseAnimatedAvatar(w)?(0,S.openModalLazy)(U(regeneratorRuntime.mark((function r(){var o,i
;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([n.e(40532),n.e(10170),n.e(52173)]).then(n.bind(n,810170));case 2:o=r.sent;i=o.default;return r.abrupt("return",(function(n){return a.createElement(i,k({onCrop:B,file:t,imgURI:e,allowSkip:!0},n))}));case 5:case"end":return r.stop()}}),r)})))):(0,S.openModalLazy)(U(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(14733)]).then(n.bind(n,614733));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,k({},t,{imgURI:e,onChangeAvatar:function(){t.onClose();fe()}}))}));case 5:case"end":return t.stop()}}),t)}))))}),[w,fe,B]),pe=function(e,t){if(null==e||null==t)return H(null);(0,S.openModalLazy)(U(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2
;return Promise.all([n.e(40532),n.e(10170),n.e(52173)]).then(n.bind(n,810170));case 2:o=r.sent;i=o.default;return r.abrupt("return",(function(n){return a.createElement(i,k({onCrop:H,uploadType:de,file:t,imgURI:e,allowSkip:!0},n))}));case 5:case"end":return r.stop()}}),r)}))))};a.useEffect((function(){if(ne.enabled){var e=null==ie?void 0:ie.getBannerURL({canAnimate:!0,size:480});if(O.isAnimatedImageURL(e)){(new Image).src=null!=e?e:""}}}),[ie,ne.enabled]);return L("div",{className:P.default.profileBannerPreview},void 0,function(){if(F){var e=ne.enabled?J:ue,t=null==ie?void 0:ie.getPreviewBanner(W,e);return L("div",{onMouseMove:function(){return ee(!0)},onMouseLeave:function(){return ee(!1)}},void 0,L(d.default,{className:P.default.bannerUploader,showRemoveButton:!1,disabled:!F,image:t,makeURL:function(){return t},onChange:pe,imageStyle:{backgroundColor:(0,o.int2hex)(j)},imageClassName:P.default.bannerUploaderInnerSquare,hint:N.default.Messages.CHANGE_BANNER,
onOpenImageSelectModal:function(){return(0,T.handleOpenSelectImageModal)(de,null==oe?void 0:oe.guildId)},hideSize:!0,maxFileSizeBytes:C.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,onFileSizeError:T.showFileSizeErrorModal}),ne.enabled&&O.isAnimatedImageURL(t)?L(g.default,{className:P.default.gifTag}):null)}return L("div",{className:P.default.bannerNormal,style:{backgroundColor:(0,o.int2hex)(j)}},void 0,L(h.default,{onClick:function(){return null==x?void 0:x({object:A.AnalyticsObjects.EDIT_PROFILE_BANNER})},className:P.default.bannerNitroUpsell},void 0,L(E.Heading,{className:P.default.bannerNitroUpsellText,variant:"eyebrow",level:3},void 0,N.default.Messages.USER_SETTINGS_UNLOCK_BANNER)))}(),(t=(0,T.getPreviewAvatar)(K,oe,w),r=null!=oe&&!F,R=L("div",{className:F?P.default.avatarUploaderPremium:P.default.avatarUploaderNormal},void 0,null!=ae&&L("img",{src:ae,className:P.default.avatarDecorationBorder,alt:" ","aria-hidden":!0}),a.createElement(d.default,{ref:le,showIcon:null==re,
hint:r?N.default.Messages.UNLOCK_GUILD_MEMBER_AVATAR:void 0,showRemoveButton:!1,imageClassName:P.default.avatarUploaderInner,image:t,onChange:ce,makeURL:function(){return t},maxFileSizeBytes:C.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,onFileSizeError:T.showFileSizeErrorModal,onOpenImageSelectModal:function(){return(0,T.handleOpenSelectImageModal)(M.UploadTypes.AVATAR,null==oe?void 0:oe.guildId)}}),null!=re&&null!=ae&&L("img",{className:P.default.avatarDecoration,src:re,alt:" ","aria-hidden":!0})),r?L(h.default,{onClickCapture:function(e){e.stopPropagation();null==x||x({object:A.AnalyticsObjects.AVATAR})}},void 0,R):R),L(c.UserPopoutInfo,{user:w,nickname:se,onOpenPremiumSettings:q,hasCustomStatus:null!=te,usernameIcon:(0,T.shouldShowUsernameIcon)(K,oe)&&L(p.default,{user:w,nickname:se})}),L("div",{className:P.default.popoutInfo},void 0,L(c.UserPopoutProfileText,{displayProfile:ie,guild:D,pendingBio:V,pendingPronouns:Y,customStatus:null!=te?L(c.UserPopoutCustomStatus,{customStatusActivity:te
}):void 0}),L(I.default,{activityName:X,activityCharacter:Q})))}x.displayName="ProfileCustomizationPreview"},377579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ee;var r,a=z(n(667294)),o=Y(n(294184)),i=n(235234),u=n(536211),l=Y(n(213847)),s=n(836233),d=z(n(125478)),f=n(832215),c=n(595816),p=Y(n(599950)),v=Y(n(670729)),y=Y(n(421338)),m=Y(n(426178)),_=Y(n(784073)),h=n(492089),g=n(323141),E=Y(n(922721)),S=Y(n(596782)),O=Y(n(233743)),b=Y(n(676891)),I=Y(n(406656)),T=Y(n(12397)),C=Y(n(876874)),A=Y(n(788739)),M=Y(n(663303)),N=Y(n(949898)),P=Y(n(16941)),R=Y(n(661442)),w=n(772575),D=n(194322),L=n(660590),k=z(n(692711)),j=Y(n(838583)),U=Y(n(102975)),G=n(824726),F=n(88503),x=n(770348),B=n(173708),H=Y(n(247001)),W=Y(n(336568)),V=Y(n(22755));function Y(e){return e&&e.__esModule?e:{default:e}}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function z(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function X(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){X(o,r,a,i,u,"next",e)}function u(e){X(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){var t,r=e.user,Y=e.guild,K=e.canUsePremiumCustomization,z=e.onUpsellClick,X=e.onAvatarChange,J=e.onBannerChange,ee=e.pendingBanner,te=e.pendingBio,ne=e.pendingPronouns,re=e.pendingAvatar,ae=e.pendingAvatarDecoration,oe=e.pendingNickname,ie=e.pendingThemeColors,ue=e.openPremiumSettings,le=e.activityName,se=e.activityCharacter,de=a.useRef(null),fe=a.useRef(null),ce=Z(a.useState(!1),2),pe=ce[0],ve=ce[1],ye=a.useContext(s.AccessibilityPreferencesContext).reducedMotion,me=(0,f.useGlobalHasAvatarDecorations)().canUseAvatarDecorations?(0,
G.getPreviewAvatarDecoration)(ae,r):null,_e=(0,_.default)(r.id,null==Y?void 0:Y.id),he=(0,l.default)(),ge=(0,T.default)(r,_e,de.current,ie),Ee=ge.profileTheme,Se=ge.primaryProfileColor,Oe=(0,p.default)(me,c.BorderLocations.USER_POPOUT,(0,h.getAvatarBorderColor)(Se)),be=(0,u.useStateFromStores)([C.default],(function(){return null==Y?null:C.default.getMember(Y.id,r.id)})),Ie=void 0===re?r.getAvatarURL(void 0,80):re,Te=null!==(t=(0,d.default)(Ie,x.Colors.PRIMARY_DARK_530,d.ColorFormats.HEX))&&void 0!==t?t:0,Ce=null!=(null==ie?void 0:ie[0])?ie[0]:null==_e?void 0:_e.primaryColor,Ae=null!=Ce?(0,i.int2hex)(Ce):Te,Me=(0,u.useStateFromStores)([N.default],(function(){return N.default.isFocused()})),Ne=(0,G.getPreviewNickname)(oe,null==be?void 0:be.nick),Pe=y.default.useExperiment({}).showProfileSkins?B.UploadTypes.BANNER_V2:B.UploadTypes.BANNER,Re=Z((0,u.useStateFromStoresArray)([A.default],(function(){return[A.default.findActivity(r.id,(function(e){return e.type===x.ActivityTypes.CUSTOM_STATUS
})),A.default.getStatus(r.id)]})),2),we=Re[0],De=Re[1],Le=(0,u.useStateFromStores)([M.default],(function(){return M.default.hidePersonalInformation})),ke=a.useCallback((function(){var e,t;null===(e=fe.current)||void 0===e||null===(t=e.inputRef.current)||void 0===t||t.activateUploadDialogue()}),[]),je=a.useCallback((function(e,t){null==e||null==t?X(null):"image/gif"!==t.type||j.default.canUseAnimatedAvatar(r)?(0,D.openModalLazy)(Q(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([n.e(40532),n.e(10170),n.e(52173)]).then(n.bind(n,810170));case 2:o=r.sent;i=o.default;return r.abrupt("return",(function(n){return a.createElement(i,q({onCrop:X,file:t,imgURI:e,allowSkip:!0},n))}));case 5:case"end":return r.stop()}}),r)})))):(0,D.openModalLazy)(Q(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([n.e(40532),n.e(14733)]).then(n.bind(n,614733));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,q({},t,{imgURI:e,onChangeAvatar:function(){t.onClose();ke()}}))}));case 5:case"end":return t.stop()}}),t)}))))}),[r,ke,X]),Ue=function(e,t){if(null==e||null==t)return J(null);(0,D.openModalLazy)(Q(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([n.e(40532),n.e(10170),n.e(52173)]).then(n.bind(n,810170));case 2:o=r.sent;i=o.default;return r.abrupt("return",(function(n){return a.createElement(i,q({onCrop:J,uploadType:Pe,file:t,imgURI:e,allowSkip:!0},n))}));case 5:case"end":return r.stop()}}),r)}))))};var Ge,Fe,xe,Be,He,We,Ve=$(m.default,{user:r,nickname:Ne}),Ye=$(O.default,{customStatusActivity:we}),Ke=$(E.default,{},void 0,$(U.default,{activityName:le,activityCharacter:se,showExampleButton:!0}));a.useEffect((function(){
if(ye.enabled){var e=null==_e?void 0:_e.getBannerURL({canAnimate:!0,size:480});if(k.isAnimatedImageURL(e)){(new Image).src=null!=e?e:""}}}),[_e,ye.enabled]);return a.createElement("div",{ref:de,className:(0,o.default)(W.default.profileCustomizationPreview,V.default.profileColors,"theme-"+(null!=Ee?Ee:he))},$("div",{className:W.default.previewInner},void 0,function(){if(K){var e=ye.enabled?pe:Me,t=null==_e?void 0:_e.getPreviewBanner(ee,e);return $("div",{onMouseMove:function(){return ve(!0)},onMouseLeave:function(){return ve(!1)}},void 0,$(v.default,{className:W.default.bannerUploader,showRemoveButton:!1,disabled:!K,image:t,makeURL:function(){return t},onChange:Ue,imageStyle:{backgroundColor:Ae},imageClassName:W.default.bannerUploaderInnerSquare,hint:H.default.Messages.CHANGE_BANNER,onOpenImageSelectModal:function(){return(0,G.handleOpenSelectImageModal)(Pe,null==be?void 0:be.guildId)},hideSize:!0,maxFileSizeBytes:F.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,
onFileSizeError:G.showFileSizeErrorModal}),ye.enabled&&k.isAnimatedImageURL(t)?$(R.default,{className:W.default.gifTag}):null)}return $("div",{className:W.default.bannerNormal,style:{backgroundColor:Ae}},void 0,$(P.default,{onClick:function(){return null==z?void 0:z({object:x.AnalyticsObjects.EDIT_PROFILE_BANNER})},className:W.default.bannerNitroUpsell},void 0,$(w.Heading,{className:W.default.bannerNitroUpsellText,variant:"eyebrow",level:3},void 0,H.default.Messages.USER_SETTINGS_UNLOCK_BANNER)))}(),(Be=(0,G.getPreviewAvatar)(re,be,r),He=null!=be&&!K,We=$("div",{className:K?W.default.avatarUploaderPremium:W.default.avatarUploaderNormal},void 0,null!=Oe&&$("img",{src:Oe,className:W.default.avatarDecorationBorder,alt:" ","aria-hidden":!0}),a.createElement(v.default,{ref:fe,showIcon:null==me,hint:He?H.default.Messages.UNLOCK_GUILD_MEMBER_AVATAR:void 0,showRemoveButton:!1,imageClassName:W.default.avatarUploaderInner,image:Be,onChange:je,makeURL:function(){return Be},
maxFileSizeBytes:F.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,onFileSizeError:G.showFileSizeErrorModal,onOpenImageSelectModal:function(){return(0,G.handleOpenSelectImageModal)(B.UploadTypes.AVATAR,null==be?void 0:be.guildId)}}),null!=me&&null!=Oe&&$("img",{className:W.default.avatarDecoration,src:me,alt:" ","aria-hidden":!0}),$("div",{className:W.default.status},void 0,$("svg",{className:W.default.statusDot},void 0,$("rect",{height:"100%",width:"100%",fill:(0,L.getStatusColor)(De),mask:"url(#"+(0,L.getStatusMask)(De,!1)+")"})))),He?$(P.default,{onClickCapture:function(e){e.stopPropagation();null==z||z({object:x.AnalyticsObjects.AVATAR})}},void 0,We):We),$(g.UserPopoutBadgeList,{user:r,onOpenPremiumSettings:ue}),$("div",{className:W.default.overlayBackground},void 0,$(I.default,{user:r,nickname:Ne,usernameIcon:(0,G.shouldShowUsernameIcon)(re,be)&&Ve}),Ye,$("div",{className:W.default.divider}),$(b.default,{pendingPronouns:ne,
currentPronouns:null!==(Ge=null==_e?void 0:_e.pronouns)&&void 0!==Ge?Ge:"",hidePersonalInformation:Le}),$(S.default,{isUsingGuildBio:null!==(Fe=null==_e?void 0:_e.isUsingGuildMemberBio())&&void 0!==Fe&&Fe,currentBio:null!==(xe=null==_e?void 0:_e.bio)&&void 0!==xe?xe:"",guild:Y,pendingBio:te,hidePersonalInformation:Le}),Ke)))}ee.displayName="ProfileCustomizationPreview"},824726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPreviewAvatar=function(e,t,n){if(null!=e)return e;var r=null===e,a=n.getAvatarURL(void 0,80,!0);if(null==t)return r?null:a;return r||null==(null==t?void 0:t.avatar)?a:n.getAvatarURL(null==t?void 0:t.guildId,80,!0)};t.getPreviewAvatarDecoration=function(e,t){return void 0!==e?e:s.default.getAvatarDecorationURL({userId:t.id,avatarDecoration:t.avatarDecoration,size:(0,i.getDecorationSizeForAvatarSize)(l.Sizes.SIZE_80)})};t.getPreviewNickname=function(e,t){return""===e?null:null!=e?e:t};t.handleOpenSelectImageModal=function(e,t){(0,
u.openModalLazy)(h(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.all([n.e(40532),n.e(75527),n.e(80974)]).then(n.bind(n,75527));case 2:o=a.sent;i=o.default;return a.abrupt("return",(function(n){return r.createElement(i,m({maxFileSizeBytes:c.MAX_IMAGE_UPLOAD_FILESIZE_BYTES,onComplete:function(n,r){return(0,f.maybeOpenProfilePreviewModal)(n,r,e,t)},uploadType:e,showUpsellHeader:!0},n))}));case 5:case"end":return a.stop()}}),a)}))))};t.isColorDark=function(e){return(null!=e?(0,a.getDarkness)(e):1)>.25};t.shouldShowUsernameIcon=function(e,t){return null!=t&&(null!=e||null!=t.avatar)};t.showFileSizeErrorModal=function(){(0,o.openUploadError)({title:p.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:p.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:(0,d.sizeString)(c.MAX_IMAGE_UPLOAD_FILESIZE_BYTES)})})};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(235234),o=n(164101),i=n(392591),u=n(194322),l=n(628551),s=v(n(692711)),d=n(905835),f=n(482138),c=n(88503),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}},482117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(843314)),i=n(573285),u=n(424527),l=y(n(271180)),s=y(n(567186)),d=n(354479),f=y(n(456701)),c=n(770348),p=y(n(247001)),v=y(n(780683));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,d.uid)(),S=new s.default({id:1,type:c.ChannelTypes.DM}),O=(0,d.uid)();function b(e){var t=e.sectionTitle,n=e.errors,r=e.onBioChange,s=e.pendingBio,d=e.placeholder,y=e.currentBio,m=e.disabled,g=void 0!==m&&m,b=h(a.useState(null!=s?s:y),2),I=b[0],T=b[1],C=h(a.useState((0,u.toRichValue)(I)),2),A=C[0],M=C[1],N=a.useRef(!1);a.useEffect((function(){if(void 0===s&&I!==y){var e=(0,u.toRichValue)(y);T(y);M(e)}}),[s,y,I]);return _(f.default,{title:t,titleId:E,
description:p.default.Messages.USER_SETTINGS_ABOUT_ME_DETAILS,errors:n,disabled:g},void 0,_(l.default,{"aria-describedby":O,"aria-labelledby":E,innerClassName:v.default.bioTextArea,maxCharacterCount:c.BIO_MAX_LENGTH,onChange:function(e,t,n){T(t);M(n);r(t)},placeholder:d,channel:S,textValue:I,richValue:A,type:i.ChatInputTypes.PROFILE_BIO_INPUT,onBlur:function(){N.current=!1},onFocus:function(){N.current=!0},focused:N.current,onSubmit:function(){return new Promise((function(e){e({shouldClear:!1,shouldRefocus:!0})}))}}),_(o.default,{id:O},void 0,p.default.Messages.MAXIMUM_LENGTH.format({maxLength:c.BIO_MAX_LENGTH})))}b.displayName="AboutMeSection"},96194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(825185),u=v(n(816624)),l=v(n(956117)),s=n(194322),d=v(n(184727)),f=v(n(456701)),c=v(n(247001)),p=v(n(796339));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}var g=m(d.default,{});function E(e){var t=e.user,r=(0,o.useStateFromStores)([u.default],(function(){return u.default.getPendingAvatarDecoration()})),d=(0,o.useStateFromStores)([u.default],(function(){return u.default.getErrors()})).avatarDecoration,v=void 0===r?null!=t.avatarDecoration:null!=r;return m(f.default,{title:a.createElement(a.Fragment,null,c.default.Messages.USER_SETTINGS_AVATAR_DECORATION,g),errors:d},void 0,m("div",{className:p.default.buttonsContainer},void 0,m(l.default,{size:l.default.Sizes.SMALL,onClick:function(){(0,s.openModalLazy)(h(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(80381)]).then(n.bind(n,780381));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,c.default.Messages.USER_SETTINGS_CHANGE_AVATAR_DECORATION),v&&m(l.default,{className:p.default.removeButton,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,size:l.default.Sizes.SMALL,onClick:function(){var e=null==t.avatarDecoration?void 0:null;(0,i.setPendingAvatarDecoration)(e)}},void 0,c.default.Messages.USER_SETTINGS_REMOVE_AVATAR_DECORATION)))}E.displayName="AvatarDecorationsSection"},498163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(956117)),o=n(824726),i=d(n(456701)),u=n(173708),l=d(n(247001)),s=d(n(807640));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t=e.showRemoveAvatarButton,n=e.errors,r=e.onAvatarChange,d=e.sectionTitle,f=e.guildId,p=e.disabled,v=void 0!==p&&p;return c(i.default,{title:d,errors:n,disabled:v},void 0,c("div",{className:s.default.buttonsContainer},void 0,c(a.default,{size:a.default.Sizes.SMALL,onClick:function(){return(0,o.handleOpenSelectImageModal)(u.UploadTypes.AVATAR,f)}},void 0,l.default.Messages.USER_SETTINGS_CHANGE_AVATAR),t&&c(a.default,{className:s.default.removeButton,color:a.default.Colors.PRIMARY,look:a.default.Looks.LINK,size:a.default.Sizes.SMALL,onClick:function(){return r(null)}},void 0,l.default.Messages.USER_SETTINGS_REMOVE_AVATAR)))}p.displayName="AvatarSection"},456701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=n(645758),u=n(688388),l=n(905835),s=d(n(107159));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errors;return a.createElement(a.Fragment,null,t.map((function(e,t){
return c(i.Text,{variant:"text-xs/normal",color:"text-danger",className:s.default.errorMessage},t,e.replace(/[0-9.,]+ ?kb/g,(function(e){var t=1024*parseInt(e,10);return isNaN(t)?e:(0,l.sizeString)(t)})))})))}function v(e){var t,n=e.title,r=e.titleId,a=e.description,i=e.children,l=e.className,d=e.errors,f=e.disabled,v=void 0!==f&&f;return c("div",{className:(0,o.default)(s.default.customizationSection,l,(t={},t[s.default.disabled]=v,t))},void 0,c(u.FormTitle,{className:s.default.title,id:r},void 0,n),null!=a?c(u.FormText,{type:u.FormText.Types.DESCRIPTION,className:s.default.sectionDescription},void 0,a):null,i,null!=d&&c(p,{errors:d}))}v.displayName="CustomizationSection"},589811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(441143)),i=n(536211),u=n(799393),l=m(n(350957)),s=m(n(30098)),d=m(n(887609)),f=m(n(380439)),c=m(n(614617)),p=m(n(456701)),v=m(n(247001)),y=m(n(97880));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.guildId,n=(0,i.useStateFromStores)([d.default],(function(){return d.default.getFlattenedGuildIds()})),r=(0,i.useStateFromStores)([s.default],(function(){return s.default.getGuilds()})),m=(0,i.useStateFromStores)([l.default],(function(){return l.default.showNotice()})),_=a.useMemo((function(){return n.map((function(e){var t=r[e];(0,o.default)(null!=t,"guild should not be null");return{label:t.name,value:t.id}}))}),[n,r]),g=a.useCallback((function(e){return null==e?null:h(f.default,{className:y.default.guildSelectOptionIcon,guild:r[e.value],size:f.default.Sizes.SMOL,active:!0})}),[r]);return h(p.default,{className:y.default.section,title:v.default.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_TITLE},void 0,h(c.default,{isDisabled:m,onChange:function(e){var t=r[e];null!=t&&(0,u.setCurrentGuild)(t)},value:t,options:_,renderOptionPrefix:g,
placeholder:v.default.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_PLACEHOLDER}))}g.displayName="GuildSelector"},561511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(421338)),i=p(n(956117)),u=p(n(184727)),l=n(824726),s=p(n(456701)),d=n(173708),f=p(n(247001)),c=p(n(20945));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=y(u.default,{});function _(e){var t=e.sectionTitle,n=e.canUsePremiumCustomization,r=e.showRemoveBannerButton,u=e.errors,p=e.upsellButton,v=e.onBannerChange,_=e.guildId,h=e.disabled,g=void 0!==h&&h,E=o.default.useExperiment({}).showProfileSkins;return y(s.default,{title:a.createElement(a.Fragment,null,t,m),errors:u,description:f.default.Messages.USER_SETTINGS_BANNER_SPECS,disabled:g},void 0,n||g?y("div",{className:c.default.buttonsContainer},void 0,y(i.default,{size:i.default.Sizes.SMALL,onClick:function(){return(0,
l.handleOpenSelectImageModal)(E?d.UploadTypes.BANNER_V2:d.UploadTypes.BANNER,_)}},void 0,f.default.Messages.CHANGE_BANNER),r&&y(i.default,{className:c.default.removeButton,color:i.default.Colors.PRIMARY,look:i.default.Looks.LINK,size:i.default.Sizes.SMALL,onClick:function(){return v(null)}},void 0,f.default.Messages.USER_SETTINGS_REMOVE_BANNER)):p)}_.displayName="ProfileBannerSection"},431676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=E(n(294184)),i=n(235234),u=E(n(213847)),l=E(n(16941)),s=n(876276),d=E(n(160629)),f=n(26172),c=n(645758),p=E(n(992193)),v=E(n(50867)),y=n(824726),m=E(n(456701)),_=n(770348),h=E(n(247001)),g=E(n(371662));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t,n,r=e.defaultAvatarColor,E=e.savedUserColor,S=e.pendingColor,T=e.setPendingAccentColor,C=I(a.useState(E),2),A=C[0],M=C[1],N=(0,u.default)(),P=null!==(t=(0,i.hex2int)(N===_.ThemeTypes.DARK?_.HEXColors.PRIMARY_DARK_600:_.HEXColors.WHITE))&&void 0!==t?t:0,R=void 0!==S&&null==S||null==S&&null==E;function w(){if(L===E)return T(void 0);T(L)}function D(e){T(e);M(e)}a.useEffect((function(){void 0===S&&M(E)}),[S,E]);var L=null!=A?A:P,k=L===P,j=(0,y.isColorDark)(L)?_.Colors.WHITE:_.Colors.PRIMARY_DARK_530,U=(0,y.isColorDark)(R?r:L)?_.Colors.WHITE:_.Colors.PRIMARY_DARK_530,G=b(p.default,{width:32,height:24,color:U}),F=(0,f.useRadioGroup)({orientation:"horizontal"}),x=(0,f.useRadioItem)({isSelected:R,label:h.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT_BUTTON.format({colorHex:(0,i.int2hex)(r)})}),B=(0,f.useRadioItem)({isSelected:!R,label:h.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM_BUTTON.format({
colorHex:(0,i.int2hex)(L)})});return b(m.default,{className:g.default.profileColorSection,title:h.default.Messages.USER_SETTINGS_PROFILE_COLOR},void 0,a.createElement("div",O({className:g.default.buttonsContainer,"aria-label":h.default.Messages.USER_SETTINGS_PROFILE_COLOR},F),b("div",{className:g.default.colorSwatch},void 0,a.createElement(l.default,O({onClick:function(){null==E&&void 0===S||T(null)}},x),b("div",{className:g.default.swatch,style:{backgroundColor:(0,i.int2hex)(r)}},void 0,R?G:null),b(c.Text,{className:g.default.swatchDescription,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0},void 0,h.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT))),b("div",{className:g.default.colorSwatch},void 0,a.createElement(l.default,O({onClick:w},B),b("div",{className:(0,o.default)(g.default.customSwatch,(n={},n[g.default.defaultSwatch]=k,n)),style:{backgroundColor:(0,i.int2hex)(L),borderColor:k?void 0:(0,i.int2hex)(L)}},void 0,R?null:G),b(c.Text,{
className:g.default.swatchDescription,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0},void 0,h.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM)),b(d.default,{onRequestOpen:w,renderPopout:function(e){return a.createElement(s.CustomColorPicker,O({},e,{value:L,onChange:D}))}},void 0,(function(e){return a.createElement(l.default,O({},e,{className:g.default.dropperIconButton,"aria-label":h.default.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{offset:{bottom:45,left:45}}}),b(v.default,{className:g.default.dropperIcon,width:14,height:14,color:j}))})))))}C.displayName="ProfileColorSection"},777018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(279950)),o=u(n(456701)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){
var t=e.sectionTitle,n=e.errors,r=e.onPronounsChange,u=e.pendingPronouns,l=e.placeholder,d=e.currentPronouns,f=e.disabled,c=void 0!==f&&f;return s(o.default,{title:t,errors:n,disabled:c},void 0,s(a.default,{placeholder:null!=l?l:i.default.Messages.PROFILE_CUSTOMIZATION_PRONOUNS_PLACEHOLDER,maxLength:40,value:null!=u?u:d,onChange:function(e){r(e===d?void 0:e)},disabled:c}))}d.displayName="PronounsSection"},974847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(235234),i=g(n(526098)),u=g(n(243450)),l=g(n(16941)),s=n(876276),d=g(n(160629)),f=n(645758),c=g(n(50867)),p=g(n(184727)),v=n(824726),y=g(n(456701)),m=n(770348),_=g(n(247001)),h=g(n(443044));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return I.apply(this,arguments)}function T(e){var t=e.onChange,n=e.color,r=e.label,i=(0,v.isColorDark)(n)?m.Colors.WHITE:m.Colors.PRIMARY_DARK_530;function u(e){t(e)}return b(d.default,{renderPopout:function(e){return a.createElement(s.CustomColorPicker,I({},e,{value:n,onChange:u}))}},void 0,(function(e){return b("div",{className:h.default.colorSwatch},void 0,a.createElement(l.default,I({},e,{style:{backgroundColor:(0,o.int2hex)(n),borderColor:(0,o.int2hex)(n)},className:h.default.customSwatch,"aria-label":_.default.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{offset:{bottom:45,left:45}}}),b(c.default,{className:h.default.dropperIcon,width:14,height:14,color:i})),b(f.Text,{className:h.default.swatchDescription,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0},void 0,r))}))}T.displayName="ColorSwatch";var C=b(p.default,{});function A(e){var t,n,r=e.user,o=e.userProfile,l=e.pendingColors,s=e.setPendingThemeColors,d=S((0,
u.default)(r,o),2),f=d[0],c=d[1],p=null==l?void 0:l[0],v=null==l?void 0:l[1],m=a.createElement(a.Fragment,null,_.default.Messages.USER_SETTINGS_THEME_COLORS,C,b(i.default,{className:h.default.betaTag}));return b(y.default,{title:m},void 0,b("div",{className:h.default.buttonsContainer,"aria-label":_.default.Messages.USER_SETTINGS_THEME_COLORS},void 0,b(T,{label:_.default.Messages.USER_SETTINGS_THEME_COLORS_PRIMARY,onChange:function(e){var t;return s([e,null!==(t=null!=v?v:c)&&void 0!==t?t:null])},color:null!==(t=null!=p?p:f)&&void 0!==t?t:0}),b(T,{label:_.default.Messages.USER_SETTINGS_THEME_COLORS_SECONDARY,onChange:function(e){var t;return s([null!==(t=null!=p?p:f)&&void 0!==t?t:null,e])},color:null!==(n=null!=v?v:c)&&void 0!==n?n:0})))}A.displayName="ThemeColorsSection"},416743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=v(n(226800)),i=v(n(260532)),u=v(n(516818)),l=v(n(16941)),s=n(645758),d=v(n(204014)),f=n(770348),c=v(n(247001)),p=v(n(960267));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=m(i.default,{});function E(){var e=_((0,a.useStateFromStoresArray)([u.default],(function(){return[u.default.getPreviousSection()]})),1)[0];return m("div",{},void 0,m(l.default,{className:p.default.back,onClick:function(){var t=null!=e&&e!==f.UserSettingsSections.PROFILE_CUSTOMIZATION;o.default.setSection(t?e:f.UserSettingsSections.ACCOUNT)}},void 0,m(d.default,{direction:d.default.Directions.LEFT,className:p.default.arrow}),m(s.Text,{className:p.default.backText,variant:"text-md/semibold",color:"none"},void 0,c.default.Messages.USER_SETTINGS)),g)}E.displayName="EditProfileModal";var S=E;t.default=S},126515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=f(n(536211)),a=f(n(972247)),o=f(n(636602)),i=f(n(311492)),u=f(n(30098)),l=f(n(689389)),s=n(732978),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p="publicUpsellChannelNoticeGuilds",v=new Set;var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(l.default,u.default,i.default);this.syncWith([l.default,u.default,i.default],d.NOOP);v=null!==(e=new Set(a.default.get(p)))&&void 0!==e?e:new Set};n.isVisible=function(e){if(null!=e){var t=i.default.getMemberCount(e.id);return!v.has(e.id)&&null!=t&&t>=s.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE&&l.default.can(d.Permissions.ADMINISTRATOR,e)&&!e.hasFeature(d.GuildFeatures.COMMUNITY)}};n.__getLocalVars=function(){return{PUBLIC_UPSELL_CHANNEL_NOTICE_GUILDS_KEY:p,
guildIds:v}};return t}(r.default.Store);y.displayName="EnablePublicGuildUpsellNoticeStore";var m=new y(o.default,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){var t=e.guildId;if(!v.has(t)){v.add(t);a.default.set(p,v);return!0}}});t.default=m},666280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=f(n(918667)),u=f(n(964285)),l=n(770348),s=f(n(247001)),d=f(n(864244));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideEnablePublicGuildUpsellNotice)(t.id)}),[t.id]);return p(i.default,{guild:t,onDismissed:n,onClick:function(){return u.default.open(t.id,l.GuildSettingsSections.COMMUNITY)},message:s.default.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:l.ChannelNoticeCtaSources.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:l.ChannelNoticeTypes.PUBLIC_UPSELL,image:d.default,cta:s.default.Messages.LEARN_MORE})}
;v.displayName="EnablePublicGuildUpsellNotice";var y=v;t.default=y},480826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.QUARANTINE_APPEAL_LINK=void 0;t.QUARANTINE_APPEAL_LINK="https://dis.gd/appeal"},528660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(536211),o=n(11710),i=(r=n(201292))&&r.__esModule?r:{default:r},u=n(770348);var l=function(e,t){var n=(0,o.useShowConvoStarterInDM)(t),r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getMessages(t.id).length>0}),[t]);return null!=e&&(e.hasFlag(u.UserFlags.QUARANTINED)&&n&&!r)};t.default=l},604966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;Object.defineProperty(t,"useShouldBlockDMInputForQuarantinedUser",{enumerable:!0,get:function(){return i.default}});!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(960736),o=s(n(550270)),i=s(n(528660)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}
}var c=n(513157),p=function(){return f(a.MessageNoticeBanner,{bannerIcon:c,bannerHeader:l.default.Messages.YOUR_ACCOUNT_IS_QUARANTINED,bannerSubtext:l.default.Messages.QUARANTINE_MODE_DM_BAR_SUBTEXT.format({helpdeskArticle:o.default.getArticleURL(u.HelpdeskArticles.QUARANTINE)})})};p.displayName="QuarantinedUserDMBanner";var v=p;t.default=v},348612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(522731)),i=n(770348);function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e){e.relationship.type===i.RelationshipTypes.PENDING_INCOMING&&o.showPendingNotification(e.relationship.user)}function s(e){var t=e.user;o.showAcceptedNotification(t)}var d={init:function(){a.default.subscribe("RELATIONSHIP_ADD",l);a.default.subscribe("FRIEND_REQUEST_ACCEPTED",s)}};t.default=d},861798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VALIDATE_SOCKET_THROTTLERS=t.VALIDATE_SOCKET_PERIOD_MS=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=void 0;t.computeActivityFlags=function(e,t){void 0===t&&(t=!1);var n=e.instance,r=e.secrets,a=e.party,o=0;n&&(o|=I.ActivityFlags.INSTANCE);null!=(null==r?void 0:r.join)&&(o|=I.ActivityFlags.JOIN);if(t){o|=I.ActivityFlags.EMBEDDED;return o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL}
if((null==a?void 0:a.privacy)===I.ActivityPartyPrivacy.PUBLIC||u.default.get("ACTIVITIES_FORCE_PUBLIC")){c.AllowActivityPartyPrivacyFriends.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_FRIENDS);c.AllowActivityPartyPrivacyVoiceChannel.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL)}return o};t.containsSameValues=function(e,t){return r.default.isEqual(e,r.default.pick(t,Object.keys(e)))};t.fetchApplicationsRPC=function(e,t,n){return o.default.get({url:I.Endpoints.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){var a=r.body,o=a.rpc_origins,i=a.id,u=a.name,l=a.icon,d=a.cover_image,f=a.flags;if("string"==typeof n)if(e.transport===I.TransportTypes.POST_MESSAGE){var c=(0,s.default)(t);if(null==c||!k(n,[c]))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin")}else if(!k(n,o))throw new O.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin");e.application={id:i,name:u,icon:l,coverImage:d,flags:f}}),(function(){
throw new O.default(I.RPCCloseCodes.INVALID_CLIENTID,"Invalid Client ID")}))};t.getDeprecatedVoiceSettingsWithShortcut=function(e){var t=y.default.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(y.default.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(y.default.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}};t.getRemoteIconURL=L;t.getVoiceConnectionState=function(e){switch(e){case I.RTCConnectionStates.RTC_CONNECTED:case I.RTCConnectionStates.RTC_CONNECTING:
case I.RTCConnectionStates.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}};t.getVoiceSettingsWithShortcut=function(e,t){var n=y.default.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}};t.hasMessageReadPermission=function(e,t,n){var r=v.default.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(I.OAuth2Scopes.MESSAGES_READ)>-1};t.isMatchingOrigin=function(e){if(null==e)return!1;var t,n=window.location.origin;if(e===n)return!0;try{t=a.default.parse(e).hostname}catch(e){return!1}if(window.location.hostname===t&&"localhost"===t)return!0;if(null!=e.match("staging"))return!1;if(P.test(e)&&P.test(n))return!0;return!1};t.processSocketThrottlers=function(e,t){return G.apply(this,arguments)};t.transformChannel=function(e,t){var n=[],r=e.getGuildId()
;[I.ChannelTypes.GUILD_CATEGORY].concat((a=p.GUILD_VOCAL_CHANNEL_TYPES,function(e){if(Array.isArray(e))return M(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).includes(e.type)||n.push(new Promise((function(t){m.default.whenReady(e.id,(function(){return t()}));l.default.fetchMessages({channelId:e.id,limit:I.MAX_MESSAGES_PER_CHANNEL})})));var a;return Promise.all(n).then((function(){
var n,a=(!e.isNSFW()||!0===(null===(n=h.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?m.default.getMessages(e.id).toArray().map(j):[],o=Object.values(g.default.getVoiceStatesForChannel(e.id)).map((function(t){return U(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:a,voice_states:o}}))};t.transformInternalTextMessage=j;t.transformRelationship=function(e,t,n){var r=h.default.getUser(t);return{type:e,user:null!=r?(0,b.default)(r):null,presence:{status:_.default.getStatus(t),activity:null!=n?_.default.getApplicationActivity(t,n):_.default.getPrimaryActivity(t)}}};t.transformVoiceState=U;t.validateActivityInvite=function(e,t,n){if(e===I.ActivityActionTypes.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1};t.validateApplication=function(e){if(null==e.id)throw new O.default(I.RPCErrors.INVALID_COMMAND,"Invalid application")};t.validateOrigin=k
;t.validateOriginAndUpdateSocket=function(e,t){null==t&&(e.authorization.scopes=[I.RPC_LOCAL_SCOPE])};t.validatePostMessageTransport=function(e){if(e!==I.TransportTypes.POST_MESSAGE)throw new O.default(I.RPCErrors.INVALID_COMMAND,'command not available from "'+e+" transport")};var r=T(n(496486)),a=T(n(608575)),o=T(n(118915)),i=T(n(229354)),u=T(n(972247)),l=T(n(786345)),s=T(n(525917)),d=T(n(268389)),f=n(907932),c=n(894826),p=n(567186),v=T(n(30098)),y=T(n(635014)),m=T(n(201292)),_=T(n(788739)),h=T(n(728429)),g=T(n(387692)),E=T(n(29652)),S=T(n(827513)),O=T(n(248369)),b=T(n(838641)),I=n(770348);function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(){var e=I.API_HOST.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),P=new RegExp("^"+S.default.escape("https://")+"(?:[a-z]+\\.)?("+S.default.escape(N)+"|discordapp.com|discord.com)$");t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=2;t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=60;var R=6e4;t.VALIDATE_SOCKET_PERIOD_MS=R;var w={};t.VALIDATE_SOCKET_THROTTLERS=w;function D(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=L(e.src));Array.isArray(e.content)&&(e.content=e.content.map(D));return e}function L(e){return/^http/.test(e)?e:location.protocol+"//"+location.host+("/"===e.charAt(0)?"":"/")+e}function k(e,t){void 0===t&&(t=[]);return t.indexOf(e)>-1}function j(e){var t=d.default.parseToAST(e.content,!0,{channelId:e.channel_id}).map(D),n=(0,f.getMessageAuthor)(e),r=n.colorString,a=n.nick
;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:a,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,b.default)(e.author):void 0,pinned:e.pinned,type:e.type}}function U(e,t,n){var r=n.mute,a=n.deaf,o=n.selfMute,i=n.selfDeaf,u=n.suppress,l=n.userId,s=h.default.getUser(l);if(null==s)throw new Error("Invalid user id: "+l);return{nick:E.default.getName(e,t,s),mute:y.default.isLocalMute(s.id),volume:y.default.getLocalVolume(s.id),pan:y.default.getLocalPan(s.id),voice_state:{mute:r,deaf:a,self_mute:o,self_deaf:i,suppress:u},user:(0,b.default)(s)}}function G(){return(G=A(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null==(r=w[t])){a=n?2:60;r=new i.default(a,R);w[t]=r}e.next=4;return r.process();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},676606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n={HANDSHAKE:0,FRAME:1,CLOSE:2,HELLO:3};t.default=n},318671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{args:a({},e.args,{access_token:o})});return a({},e)}(t));(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{data:a({},e.data,{access_token:o})});return a({},e)}(t));return t};var r=n(770348);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o="<removed>"},682644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=T(n(496486)),a=n(536211),o=T(n(636602)),i=T(n(644263)),u=T(n(876874)),l=T(n(319111)),s=T(n(361585)),d=T(n(635014)),f=T(n(788739)),c=T(n(893160)),p=T(n(290629)),v=T(n(211136)),y=T(n(538983)),m=T(n(728429)),_=T(n(387692)),h=T(n(308920)),g=n(71246),E=n(864489),S=n(861798),O=T(n(838641)),b=n(770348),I=n(376293);function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(){function e(e){this.rpcServer=e.server;this.transports=e.transports;this.rpcCommandHandlers=e.commands;this.rpcEventHandlers=e.events;this.stores=e.stores;this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){E.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform();for(var e,t=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.transports);!(e=t()).done;){var n=e.value;this.rpcServer.registerTransport(n)}for(var r=this.rpcCommandHandlers,a=0,o=Object.entries(r);a<o.length;a++){var i=C(o[a],2),u=i[0],l=i[1];this.rpcServer.setCommandHandler(u,l)}for(var s=this.rpcEventHandlers,d=0,f=Object.entries(s);d<f.length;d++){var c=C(f[d],2),p=c[0],v=c[1];this.rpcServer.setEventHandler(p,v)}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return m.default.getCurrentUser()};this.rpcServer.onConnect=function(e){o.default.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,
application:e.application});h.default.track(b.AnalyticEvents.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){o.default.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};var t=[i.default,u.default,f.default,_.default,d.default,c.default];new a.BatchedStoreListener(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");o.default.subscribe("MESSAGE_CREATE",(function(t){return e.handleMessage(t)}));o.default.subscribe("MESSAGE_UPDATE",(function(t){return e.handleMessage(t)}));o.default.subscribe("MESSAGE_DELETE",(function(t){return e.handleMessage(t)}));o.default.subscribe("SPEAKING",(function(t){return e.handleSpeaking(t)}));o.default.subscribe("OAUTH2_TOKEN_REVOKE",(function(t){return e.handleOAuth2TokenRevoke(t)}));o.default.subscribe("GUILD_CREATE",(function(t){return e.handleGuildCreate(t)}))
;o.default.subscribe("CHANNEL_CREATE",(function(t){return e.handleChannelCreate(t)}));o.default.subscribe("LOGOUT",(function(){return e.handleLogout()}));o.default.subscribe("VOICE_CHANNEL_SELECT",(function(t){return e.handleVoiceChannelSelect(t)}));o.default.subscribe("RPC_NOTIFICATION_CREATE",(function(t){return e.handleNotificationCreate(t)}));o.default.subscribe("ACTIVITY_JOIN",(function(t){return e.handleActivityJoin(t)}));o.default.subscribe("ACTIVITY_PIP_MODE_UPDATE",(function(t){return e.handleActivityPIPModeUpdate(t)}));o.default.subscribe("RELATIONSHIP_ADD",(function(t){return e.handleRelationshipAdd(t)}));o.default.subscribe("RELATIONSHIP_REMOVE",(function(t){return e.handleRelationshipRemove(t)}));o.default.subscribe("PRESENCE_UPDATES",(function(t){return e.handlePresenceUpdate(t)}));o.default.subscribe("PRESENCES_REPLACE",(function(){return e.handlePresencesReplace()}));o.default.subscribe("LOBBY_UPDATE",(function(t){return e.handleLobbyUpdate(t)}))
;o.default.subscribe("LOBBY_DELETE",(function(t){return e.handleLobbyDelete(t)}));o.default.subscribe("LOBBY_MEMBER_CONNECT",(function(t){return e.handleLobbyMemberConnect(t)}));o.default.subscribe("LOBBY_MEMBER_UPDATE",(function(t){return e.handleLobbyMemberUpdate(t)}));o.default.subscribe("LOBBY_MEMBER_DISCONNECT",(function(t){return e.handleLobbyMemberDisconnect(t)}));o.default.subscribe("LOBBY_MESSAGE",(function(t){return e.handleLobbyMessage(t)}));o.default.subscribe("ENTITLEMENT_CREATE",(function(t){return e.handleEntitlementCreate(t)}));o.default.subscribe("ENTITLEMENT_DELETE",(function(t){return e.handleEntitlementDelete(t)}));o.default.subscribe("USER_ACHIEVEMENT_UPDATE",(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){if(0!==this.rpcServer.subscriptions.length){"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);var t,n,r,a=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=b.RPCEvents.MESSAGE_CREATE
;n=e.channelId;r=e.message;a=""+t+e.message.id;break;case"MESSAGE_UPDATE":t=b.RPCEvents.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case"MESSAGE_DELETE":t=b.RPCEvents.MESSAGE_DELETE;n=e.channelId;r={id:e.id};a=""+t+e.id;break;default:return(0,g.assertNever)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,S.transformInternalTextMessage)(r)},a)}};t.handleSpeaking=function(e){var t=this;if(0!==this.rpcServer.subscriptions.length){var n=0!==e.speakingFlags?b.RPCEvents.SPEAKING_START:b.RPCEvents.SPEAKING_STOP;if(e.context===I.MediaEngineContextTypes.DEFAULT){var r=v.default.getVoiceChannelId();if(null!=r){var a=i.default.getChannel(r);if(null==a)return;var o=_.default.getVoiceState(a.getGuildId(),e.userId);if(null==o)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:o.channelId},{channel_id:o.channelId,user_id:e.userId})}}else s.default.getLobbyIdsForUser(e.userId).forEach((function(r){var a=l.default.getLobby(r)
;null!=a&&a.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))}};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,a=e.title,o=e.body;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,S.transformInternalTextMessage)(n),icon_url:null!=r?(0,S.getRemoteIconURL)(r):null,title:a,body:o})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,a=e.embedded;if(0!==this.rpcServer.subscriptions.length){var o={secret:n};a&&(o.intent=r);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),o)
;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GAME_JOIN,(function(e){return e.socket.application.id===t}),o)}};t.handleActivityPIPModeUpdate=function(e){var t=e.applicationId,n=e.isPIPMode;if(0!==this.rpcServer.subscriptions.length){var r={is_pip_mode:n};this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_PIP_MODE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message;if(0!==this.rpcServer.subscriptions.length){var r=n.application,a=n.activity;if(null!=r&&null!=a&&null!=a.party_id){var o=m.default.getUser(n.author.id);if(null!=o){var i=m.default.getCurrentUser();if(null!=i&&o.id!==i.id){var u=a.type===b.ActivityActionTypes.JOIN_REQUEST?f.default.getApplicationActivity(i.id,r.id):f.default.getApplicationActivity(o.id,r.id);if(null!=u&&null!=u.party&&u.party.id===a.party_id){var l=u.application_id;switch(a.type){case b.ActivityActionTypes.JOIN:
this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_INVITE,(function(e){return e.socket.application.id===l}),{user:(0,O.default)(o),activity:u,type:a.type,channel_id:t,message_id:n.id});break;case b.ActivityActionTypes.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,O.default)(o)})}}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(b.RPCCloseCodes.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild,n=t.id,r=t.name;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GUILD_CREATE,{},{id:n,name:r})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,a=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.CHANNEL_CREATE,{},{id:n,name:r,type:a})}
;t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(b.RPCCloseCodes.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(b.RelationshipTypes.NONE,t))};t.handlePresenceUpdate=function(e){var t=this,n=e.updates;0!==this.rpcServer.subscriptions.length&&n.forEach((function(e){var n=e.guildId,r=e.user.id;if(null==n){var a=p.default.getRelationshipType(r);a===b.RelationshipTypes.NONE&&y.default.getUserAffinitiesUserIds().has(r)&&(a=b.RelationshipTypes.IMPLICIT)
;a!==b.RelationshipTypes.NONE&&t.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(a,r))}}))};t.handlePresencesReplace=function(){var e=this;0!==this.rpcServer.subscriptions.length&&r.default.forEach(p.default.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,S.transformRelationship)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_DELETE,(function(e){
return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement;if(0!==this.rpcServer.subscriptions.length){var n=t.application_id;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})}};return e}();t.default=N},964125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n;return(n={})[p.RPCCommands.AUTHENTICATE]={handler:function(n){var a=n.socket,o=n.args.access_token;if(null==o&&a.transport===p.TransportTypes.IPC){var u=a.application.id;if(null==u)throw new c.default(p.RPCErrors.INVALID_COMMAND,"No application.");var l=p.OAuth2Scopes.IDENTIFY,s=function(){return S({client_id:u,scope:l,response_type:"token"},e,t).then((function(e){if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=r.default.parse(t[t.length-1])
;if(null!=n.error){var o;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+n.error+": "+(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){var a,o=null!==(a=i.default.get(E))&&void 0!==a?a:{};o[e]={accessToken:t,scope:n,expires:Date.now()+r};i.default.set(E,o)}(u,n.access_token,n.scope,n.expires_in);return b(a,n.access_token)}))};o=function(e,t){var n=i.default.get(E);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];i.default.set(E,n)}}(u,l);return null!=o?b(a,o).catch((function(){!function(e){var t,n=null!==(t=i.default.get(E))&&void 0!==t?t:{};delete n[e];i.default.set(E,n)}(u);return s()})):s()}if(null==o)throw new c.default(p.RPCErrors.INVALID_TOKEN,"No access token provided");return b(a,o)}},n[p.RPCCommands.AUTHORIZE]={handler:function(n){var a=n.socket,i=n.args,u=i.client_id;if(!u)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"No client id provided")
;if(null!=a.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(a.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authing");a.authorization.authing=!0;return o.default.get({url:p.Endpoints.APPLICATION_RPC(u),oldFormErrors:!0}).then((function(n){var r=n.body;if(a.application.id!==r.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var o=i.scopes||i.scope;delete i.scopes;return S(y({},i,{scope:o}),e,t)}),(function(){throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Invalid client id: "+u)})).then((function(e){a.authorization.authing=!1;if(null==e)throw new c.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=r.default.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+t.error+": "+(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}
})).catch((function(e){a.authorization.authing=!1;throw e}))}},n};var r=v(n(817673)),a=v(n(267258)),o=v(n(118915)),i=v(n(972247)),u=v(n(636602)),l=n(552720),s=n(830608),d=v(n(728429)),f=v(n(656016)),c=v(n(248369)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E="CachedTokens";function S(e,t,n){return O.apply(this,arguments)}function O(){return(O=g(regeneratorRuntime.mark((function e(t,n,r){var o,i,u,v,y,m,_,h,g,E,S,O,b,I,T,C,A,M,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.client_id,i=t.response_type,u=void 0===i?"code":i,v=t.redirect_uri,y=t.code_challenge,m=t.code_challenge_method,_=t.state,h=t.scope,g=t.permissions,E=t.guild_id,
S=t.channel_id,O=t.prompt,b=t.disable_guild_select;if(null!=o){e.next=3;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"No Client ID provided");case 3:if(null==v){e.next=5;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");case 5:I=[];"string"==typeof h?I=h.split(" ").filter((function(e){return e.length>0})):Array.isArray(h)&&(I=h);if(null!=d.default.getCurrentUser()){e.next=10;break}throw new c.default(p.RPCErrors.OAUTH2_ERROR,"Client is not logged in");case 10:e.prev=10;e.next=13;return(0,l.fetchAuthorization)({clientId:o,scopes:I,responseType:u,redirectUri:v,codeChallenge:y,codeChallengeMethod:m,state:_});case 13:T=e.sent;e.next=20;break;case 16:e.prev=16;e.t0=e.catch(10);C=e.t0.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorization Error: "+(C.message||"Unknown Error"));case 20:if(O!==s.OAuth2Prompts.NONE||null==T||!T.authorized){e.next=32;break}e.prev=21;e.next=24;return(0,l.authorize)({
authorize:!0,clientId:o,scopes:I,responseType:u,redirectUri:v,codeChallenge:y,codeChallengeMethod:m,state:_});case 24:A=e.sent;return e.abrupt("return",A.location);case 28:e.prev=28;e.t1=e.catch(21);M=e.t1.body;throw new c.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorize Error: "+(M.message||"Unknown Error"));case 32:null==r||r(T.application);N=f.default.NONE;try{N=a.default.deserialize(null!=g?g:0)}catch(e){}return e.abrupt("return",n(o,T,I,N,u,v,y,m,_,E,S,O,b));case 36:case"end":return e.stop()}}),e,null,[[10,16],[21,28]])})))).apply(this,arguments)}function b(e,t){if(e.authorization.accessToken)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new c.default(p.RPCErrors.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return o.default.get({url:p.Endpoints.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer "+t},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1
;var r=n.body,a=r.application,o=r.user,i=r.scopes,l=r.expires;if(e.application.id!==a.id)throw new c.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var s=d.default.getCurrentUser();if(null==s||!o||s.id!==o.id)throw new c.default(p.RPCErrors.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=[].concat(m(e.authorization.scopes),m(i),[p.RPC_AUTHENTICATED_SCOPE]);e.authorization.accessToken=t;e.authorization.expires=new Date(l);u.default.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application});return y({},n.body,{access_token:t})}),(function(){throw new c.default(p.RPCErrors.INVALID_TOKEN,"Invalid access token: "+t)})).catch((function(t){e.authorization.authing=!1;throw t}))}},311809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=s(n(94047)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}
var d=((o={})[l.RPCCommands.SET_USER_ACHIEVEMENT]={scope:(r={},r[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,a=n.percent_complete,o=t.application.id;if(null==o)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.setUserAchievement(o,r,a).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:throw new u.default(l.RPCErrors.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===l.AbortCodes.USER_NOT_AUTHORIZED_FOR_APPLICATION?new u.default(l.RPCErrors.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".");default:
throw new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".")}})).then((function(){return null}))}},o[l.RPCCommands.GET_USER_ACHIEVEMENTS]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.socket.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.fetchForApplication(t).then((function(e){return e||[]}))}},o);t.default=d},154929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(118915)),o=v(n(644263)),i=v(n(288356)),u=v(n(211136)),l=v(n(424099)),s=v(n(308920)),d=n(685677),f=v(n(248369)),c=n(861798),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}
var m=((r={})[p.RPCCommands.SEND_ANALYTICS_EVENT]={validation:function(e){return e.object().required().keys({event_name:e.string().required(),event_properties:e.object().required()})},handler:function(e){var t,n=e.socket,r=e.args,a=r.event_name,l=r.event_properties;(0,c.validatePostMessageTransport)(n.transport);(0,c.validateApplication)(n.application);var v=n.application.id,m=o.default.getChannel(u.default.getVoiceChannelId()),_=null==m?void 0:m.getGuildId();if(null==m||null==_)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Invalid channel");var h=i.default.getGame(v);if(!(0,d.hasFlag)(null!==(t=null==h?void 0:h.flags)&&void 0!==t?t:0,p.ApplicationFlags.EMBEDDED_FIRST_PARTY))throw new f.default(p.RPCErrors.INVALID_COMMAND,"This application cannot access this API");s.default.track(a,y({},l,{activity_application_id:v,activity_guild_id:_}))}},r[p.RPCCommands.GET_APPLICATION_TICKET]={scope:p.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id
;if(null==t)throw new f.default(p.RPCErrors.INVALID_COMMAND,"No application.");return a.default.post({url:p.Endpoints.APPLICATION_TICKET(t),body:{test_mode:l.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=m},421700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=n(360307),u=(r=n(248369))&&r.__esModule?r:{default:r},l=n(770348),s=n(376293);var d=((o={})[l.RPCCommands.SET_CERTIFIED_DEVICES]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),validation:function(e){return e.object().required().keys({devices:e.array().items(e.object().keys({type:e.string().required().valid([s.DeviceTypes.AUDIO_INPUT,s.DeviceTypes.AUDIO_OUTPUT,s.DeviceTypes.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),
url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");(0,i.setCertifiedDevices)(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}},o);t.default=d},588648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=E(n(496486)),i=E(n(23170)),u=E(n(136873)),l=n(139982),s=n(567186),d=E(n(644263)),f=E(n(30098)),c=E(n(689389)),p=E(n(211136)),v=E(n(387692)),y=n(319986),m=E(n(248369)),_=n(861798),h=n(770348),g=["channel_id"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=((a={})[h.RPCCommands.GET_CHANNEL]={scope:h.OAuth2Scopes.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=d.default.getChannel(t);if(null==r)throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return(0,_.transformChannel)(r,(0,_.hasMessageReadPermission)(r,n.application.id,n.authorization.scopes))}},a[h.RPCCommands.GET_CHANNELS]={scope:h.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id,n=o.default.values(d.default.loadAllGuildAndPrivateChannelsFromDisk());if(t){var r=f.default.getGuild(t);if(null==r)throw new m.default(h.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){
return c.default.can(h.Permissions.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}},a[h.RPCCommands.SELECT_VOICE_CHANNEL]={scope:h.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o,l=r.force,g=void 0!==l&&l;if(!a){u.default.selectVoiceChannel(null);return null}var E=p.default.getVoiceChannelId();if(null!=E&&E!==a&&!1===g)throw new m.default(h.RPCErrors.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){throw new m.default(h.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,
s.isVoiceChannel)(e.type))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,_.transformChannel)(e,(0,_.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=S(e,2),n=t[0],r=t[1];if(r.guild_id){if((0,y.isChannelFull)(n,v.default,f.default))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Channel is full");if(!c.default.can(h.Permissions.CONNECT,n))throw new m.default(h.RPCErrors.INVALID_PERMISSIONS,"Connect permission required to join channel")}u.default.selectVoiceChannel(n.id);return r}))}},a[h.RPCCommands.GET_SELECTED_VOICE_CHANNEL]={scope:(r={},r[h.RPC_SCOPE_CONFIG.ANY]=[h.OAuth2Scopes.RPC,h.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.socket,n=p.default.getVoiceChannelId(),r=null!=n?d.default.getChannel(n):null;return null!=r?(0,_.transformChannel)(r,(0,_.hasMessageReadPermission)(r,t.application.id,t.authorization.scopes)):null}},
a[h.RPCCommands.SELECT_TEXT_CHANNEL]={scope:h.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o;if(!a){(0,l.transitionTo)(h.Routes.ME);return null}return t.storeWait(n,(function(){return d.default.getChannel(a)}),i).catch((function(){throw new m.default(h.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isTextChannel)(e.type))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,_.transformChannel)(e,(0,_.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=S(e,2),n=t[0],r=t[1]
;if(r.guild_id&&!c.default.can(h.Permissions.VIEW_CHANNEL,n))throw new m.default(h.RPCErrors.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,l.replaceWith)(h.Routes.CHANNEL(r.guild_id,n.id)):u.default.selectPrivateChannel(n.id);return r}))}},a[h.RPCCommands.CREATE_CHANNEL_INVITE]={scope:h.OAuth2Scopes.RPC,handler:function(e){var t=e.args,n=t.channel_id,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,g);return i.default.createInvite(n,r,"RPC").catch((function(){throw new m.default(h.RPCErrors.INVALID_PERMISSIONS,"Unable to generate an invite for "+n+". Does this user have permissions?")}))}},a);t.default=b},148400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(636602)),o=u(n(248369)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SET_CONFIG]={scope:i.RPC_AUTHENTICATED_SCOPE,
validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==i.TransportTypes.POST_MESSAGE)throw new o.default(i.RPCErrors.INVALID_COMMAND,'command not available from "'+t.transport+" transport");if(null==t.application.id)throw new o.default(i.RPCErrors.INVALID_COMMAND,"invalid application");a.default.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}},r);t.default=l},985918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.crossPlatformCommands=void 0;var r=E(n(311809)),a=E(n(154929)),o=E(n(421700)),i=E(n(588648)),u=E(n(148400)),l=E(n(701302)),s=E(n(490305)),d=E(n(220928)),f=E(n(219995)),c=E(n(451498)),p=E(n(506979)),v=E(n(819016)),y=E(n(839777)),m=E(n(553089)),_=E(n(855566)),h=E(n(511502)),g=E(n(663148));function E(e){return e&&e.__esModule?e:{
default:e}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}var O=S({},r.default,{},a.default,{},o.default,{},i.default,{},u.default,{},l.default,{},s.default,{},d.default,{},f.default,{},c.default,{},p.default,{},v.default,{},y.default,{},m.default,{},_.default,{},g.default,{},h.default);t.crossPlatformCommands=O},701302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(496486)),o=l(n(30098)),i=l(n(248369)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_GUILD]={scope:u.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,a=r.guild_id,l=r.timeout,s=void 0===l?0:l;return n.storeWait(t,(function(){
return o.default.getGuild(a)}),s).catch((function(){throw new i.default(u.RPCErrors.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){var t;if(null==e)throw new i.default(u.RPCErrors.INVALID_GUILD,"Invalid guild id: "+a);return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}},r[u.RPCCommands.GET_GUILDS]={scope:u.OAuth2Scopes.RPC,handler:function(){var e=o.default.getGuilds();return{guilds:a.default.map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}},r);t.default=s},490305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(728429)),o=s(n(692711)),i=n(175235),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCCommands.GET_IMAGE]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),
id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,s=n.id,d=n.format,f=void 0===d?"png":d,c=n.size,p=void 0===c?128:c;if("user"===r){var v=a.default.getUser(s);if(null==v)throw new u.default(l.RPCErrors.INVALID_USER,"Invalid user id: "+s);t=o.default.getUserAvatarURL(v,!1,p,f);var y=window.GLOBAL_ENV.CDN_HOST;null!=y&&-1!==t.indexOf(y)&&(t+="&_=")}if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,i.readFileAsBase64)(e)})).then((function(e){return{data_url:e}}))}},r);t.default=d},220928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(165551)),o=n(262710),i=n(864489),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}
var f=((r={})[s.RPCCommands.OPEN_EXTERNAL_LINK]={validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,l.validatePostMessageTransport)(t.transport);try{var r=new URL(n);i.isPlatformEmbedded&&a.default.focus(null,!0);(0,o.handleClick)({href:r.toString()})}catch(e){throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid URL: "+n)}}},r);t.default=f},219995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(24794);n(226720);var a,o,i,u,l,s,d,f,c,p=n(319111),v=(a=n(248369))&&a.__esModule?a:{default:a},y=n(770348);function m(e){if(e instanceof p.LobbyError)switch(e.code){case y.LobbyErrors.FULL:throw new v.default(y.RPCErrors.LOBBY_FULL,"Lobby is full.");case y.LobbyErrors.INVALID_SECRET:throw new v.default(y.RPCErrors.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case y.LobbyErrors.NOT_FOUND:
throw new v.default(y.RPCErrors.INVALID_LOBBY,"Lobby does not exist.");case y.LobbyErrors.SERVICE_UNAVAILABLE:throw new v.default(y.RPCErrors.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case y.LobbyErrors.ALREADY_CONNECTING:throw new v.default(y.RPCErrors.INVALID_COMMAND,"Already connecting to lobby.");default:throw new v.default(y.RPCErrors.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}var _=((c={})[y.RPCCommands.CREATE_LOBBY]={scope:(o={},o[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({type:e.number().valid(Object.values(y.LobbyTypes)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.socket,n=e.args,a=n.type,o=n.capacity,i=n.locked,u=n.metadata;if(null==t.application.id)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");return(0,r.createLobby)(t.id,t.application.id,{type:a,capacity:o,locked:i,metadata:u}).catch(m)}},c[y.RPCCommands.UPDATE_LOBBY]={
scope:(i={},i[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(y.LobbyTypes)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.id,a=t.type,o=t.owner_id,i=t.capacity,u=t.locked,l=t.metadata;return(0,r.updateLobby)(n,{type:a,owner_id:o,capacity:i,locked:u,metadata:l}).catch(m)}},c[y.RPCCommands.DELETE_LOBBY]={scope:(u={},u[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],u),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,r.deleteLobby)(t).catch(m)}},c[y.RPCCommands.UPDATE_LOBBY_MEMBER]={scope:(l={},l[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],l),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){
var t=e.args,n=t.lobby_id,a=t.user_id,o=t.metadata;return(0,r.updateLobbyMember)(n,a,{metadata:o}).catch(m)}},c[y.RPCCommands.CONNECT_TO_LOBBY]={scope:(s={},s[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],s),validation:function(e){return e.object().required().keys({id:e.string().required(),secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,a=n.id,o=n.secret;return(0,r.connect)(t.id,a,o).catch(m)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY]={scope:(d={},d[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],d),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.disconnect)(t)}},c[y.RPCCommands.SEND_TO_LOBBY]={scope:(f={},f[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],f),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.data;return(0,r.send)(n,a).catch(m)}},
c[y.RPCCommands.SEARCH_LOBBIES]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),sort:e.array().items(e.object().keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t=e.socket,n=e.args,a=n.filter,o=n.sort,i=n.limit,u=n.distance;return(0,r.search)({application_id:t.application.id,filter:a,sort:o,limit:i,distance:u}).catch(m)}},c[y.RPCCommands.CONNECT_TO_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceConnect)(t)}},c[y.RPCCommands.DISCONNECT_FROM_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},
handler:function(e){var t=e.args.id;(0,r.voiceDisconnect)(t)}},c);t.default=_},451498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(791548))&&r.__esModule?r:{default:r},i=n(861798),u=n(770348);var l=new o.default(u.RPC_APPLICATION_LOGGING_CATEGORY),s=((a={})[u.RPCCommands.CAPTURE_LOG]={validation:function(e){return e.object().required().keys({level:e.string().required(),message:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.level,a=n.message;(0,i.validatePostMessageTransport)(t.transport);var o=t.application.id+" - "+a;switch(r){case"log":l.log(o);break;case"warn":l.warn(o);break;case"debug":l.verbose(o);break;case"info":l.info(o);break;case"error":l.error(o)}}},a);t.default=s},506979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(118915)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var d=((r={})[i.RPCCommands.GET_NETWORKING_CONFIG]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return Promise.all([a.default.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=l(e,2);return{address:t[0],token:t[1]}}))}},r[i.RPCCommands.NETWORKING_SYSTEM_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_SYSTEM_METRICS,n)}},r[i.RPCCommands.NETWORKING_PEER_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_PEER_METRICS,n)}},r[i.RPCCommands.NETWORKING_CREATE_TOKEN]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return a.default.post({url:i.Endpoints.NETWORKING_TOKEN,
retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=d},819016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(290629)),i=d(n(538983)),u=d(n(728429)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c=((r={})[s.RPCCommands.GET_RELATIONSHIPS]={scope:s.RPC_LOCAL_SCOPE,handler:function(){var e=f({},o.default.getRelationships());i.default.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=u.default.getUser(t)&&(e[t]=s.RelationshipTypes.IMPLICIT)}));return{relationships:a.default.map(e,(function(e,t){return(0,l.transformRelationship)(e,t)}))}}},r);t.default=c},839777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o=c(n(496486)),i=c(n(636602)),u=c(n(308920)),l=n(698243),s=c(n(248369)),d=n(861798),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=["349134787773988865"],m=((a={})[f.RPCCommands.SET_ACTIVITY]={scope:(r={},r[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_ACTIVITIES_WRITE,f.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),
privacy:e.number().default(f.ActivityPartyPrivacy.PRIVATE).valid([f.ActivityPartyPrivacy.PRIVATE,f.ActivityPartyPrivacy.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(f.ActivityTypes.PLAYING).valid(f.ActivityTypes.PLAYING,f.ActivityTypes.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,a=r.pid,c=r.activity,v=e.isSocketConnected;if(![f.TransportTypes.IPC,f.TransportTypes.WEBSOCKET,f.TransportTypes.POST_MESSAGE].includes(n.transport))throw new s.default(f.RPCErrors.INVALID_COMMAND,'command not available from "'+n.transport+'" transport')
;if(null==a&&f.TransportTypes.IPC===n.transport)throw new s.default(f.RPCErrors.INVALID_COMMAND,"nonzero pid required");if(null==c){i.default.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:a,activity:c});return Promise.resolve(c)}c.name=n.application.name;c.application_id=n.application.id;var m=n.transport===f.TransportTypes.POST_MESSAGE,_=(0,d.computeActivityFlags)(c,m);_>0&&(c.flags=_);delete c.instance;null===(t=c.party)||void 0===t||delete t.privacy;var h,g=c.assets,E=c.party,S=c.secrets,O=c.timestamps,b=c.buttons,I=c.type;(null==I||I!==f.ActivityTypes.PLAYING&&!m)&&(c.type=f.ActivityTypes.PLAYING);if(null!=S){var T=o.default.values(S).filter((function(e){return!!e}));if(null!=E&&o.default.intersection(T,[E.id]).length>0&&!y.includes(n.application.id))throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id");if(o.default.uniq(T).length<T.length)throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets must be unique")
;if(null!=b)throw new s.default(f.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=b){c.metadata={button_urls:b.map((function(e){return e.url}))};c.buttons=b.map((function(e){return e.label}))}if(null!=O)for(var C=0,A=Object.keys(O);C<A.length;C++){var M=A[C];Date.now().toString().length-O[M].toString().length>2&&(O[M]=Math.floor(1e3*O[M]))}if(null==g)h=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;h=(0,l.getAssetIds)(n.application.id,[g.large_image,g.small_image])}return h.then((function(e){var t=p(e,2),r=t[0],o=t[1];if(null!=g){null!=r?g.large_image=r:delete g.large_image;null!=o?g.small_image=o:delete g.small_image}if(v()){i.default.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:a,activity:c});var l=c.secrets,s=c.party,d={application_id:n.application.id,type:c.type};if(null!=l){d.has_match_secret=!!l.match;d.has_join_secret=!!l.join}null!=g&&(d.has_images=!(!g.large_image&&!g.small_image))
;if(null!=s){d.party_max=null!=s.size?s.size[1]:void 0;d.party_id=s.id}u.default.track(f.AnalyticEvents.ACTIVITY_UPDATED,d);return c}}))}},a);t.default=m},553089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(636602)),o=l(n(248369)),i=n(770348),u=n(418173);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[n(478036).RPCCommands.SET_ORIENTATION_LOCK_STATE]={validation:function(e){return e.object().required().keys({lock_state:e.number().valid(u.OrientationLockState.UNLOCKED,u.OrientationLockState.PORTRAIT,u.OrientationLockState.LANDSCAPE).required()})},handler:function(e){var t=e.socket,n=e.args.lock_state,r=t.application.id;if(null==r)throw new o.default(i.RPCErrors.INVALID_COMMAND,"No application.");a.default.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:r,lockState:n})}},r);t.default=s},855566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=u(n(248369)),o=u(n(424062)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,u=e.args;return new Promise((function(e){var l=t.events[r];if(null==l)throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);if(!(0,o.default)(n.authorization.scopes,l.scope))throw new a.default(i.RPCErrors.INVALID_PERMISSIONS,"Not authenticated or invalid scope");var s=l.handler({args:u,socket:n});setImmediate((function(){return t.addSubscription(n,r,u,s)}));e({evt:r})}))}},r[i.RPCCommands.UNSUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);t.removeSubscription(n,r,o);return{evt:r}}},r);t.default=l},511502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(871778))&&r.__esModule?r:{default:r},i=n(770348)
;var u=((a={})[i.RPCCommands.USER_SETTINGS_GET_LOCALE]={scope:i.OAuth2Scopes.IDENTIFY,handler:function(){return{locale:o.default.locale}}},a);t.default=u},663148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(483559),o=l(n(248369)),i=l(n(838641)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_USER]={scope:u.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,a.getUser)(t).then(i.default).catch((function(){throw new o.default(u.RPCErrors.INVALID_USER,"Invalid user id: "+t)}))}},r);t.default=s},655369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r;return(r={})[o.RPCEvents.VOICE_SETTINGS_UPDATE]={scope:(n={},n[o.RPC_SCOPE_CONFIG.ANY]=[o.OAuth2Scopes.RPC,o.OAuth2Scopes.RPC_VOICE_READ],n),handler:function(){return function(t){
var n=t.prevState,r=t.dispatch,o=e();a.default.isEqual(o,n)||r(o);return o}}},r[o.RPCEvents.VOICE_SETTINGS_UPDATE_2]={scope:o.RPC_LOCAL_SCOPE,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);a.default.isEqual(i,r)||o(i);return i}}},r};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(770348)},768050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s,d,f,c,p,v,y,m,_,h,g,E,S,O,b,I,T,C,A=F(n(496486)),M=F(n(389726)),N=F(n(644263)),P=F(n(30098)),R=F(n(319111)),w=F(n(893160)),D=F(n(728429)),L=F(n(387692)),k=F(n(248369)),j=n(861798),U=F(n(838641)),G=n(770348);function F(e){return e&&e.__esModule?e:{default:e}}function x(e){var t,n=e.args.channel_id,r=e.socket,a=N.default.getChannel(n);if(null==a||!(0,
j.hasMessageReadPermission)(a,r.application.id,r.authorization.scopes))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+n);if(a.isNSFW()&&!0!==(null===(t=D.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid nsfw channel id: "+a.id)}function B(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==N.default.getChannel(r))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+r)}if(null!=n){if(null==R.default.getLobby(n))throw new k.default(G.RPCErrors.INVALID_LOBBY,"Invalid lobby id: "+n)}}var H=((C={})[G.RPCEvents.GUILD_STATUS]={scope:G.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id;if(null==P.default.getGuild(t))throw new k.default(G.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);return function(e){var n,r=e.prevState,a=e.dispatch,o=P.default.getGuild(t);if(null!=o){var i={guild:{id:o.id,name:o.name,icon_url:null!==(n=o.getIconURL(128))&&void 0!==n?n:null},
online:0};A.default.isEqual(r,i)||a(i);return i}}}},C[G.RPCEvents.VOICE_STATE_CREATE]={scope:(r={},r[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.args.channel_id;if(null==N.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=N.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));if(n){A.default.differenceBy(i,n,(function(e){return e.userId})).forEach((function(e){return r((0,j.transformVoiceState)(o,a.id,e))}))}return i}}}},C[G.RPCEvents.VOICE_STATE_DELETE]={scope:(a={},a[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(e){var t=e.args.channel_id;if(null==N.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=N.default.getChannel(t)
;if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));A.default.differenceBy(n,i,(function(e){return e.userId})).forEach((function(e){return r((0,j.transformVoiceState)(o,a.id,e))}));return i}}}},C[G.RPCEvents.VOICE_STATE_UPDATE]={scope:(o={},o[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],o),handler:function(e){var t=e.args.channel_id;if(null==N.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=N.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id)).map((function(e){return(0,j.transformVoiceState)(o,a.id,e)}));A.default.differenceWith(i,n,A.default.isEqual).forEach((function(e){return r(e)}));return i}}}},C[G.RPCEvents.VOICE_CONNECTION_STATUS]={scope:(i={},i[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],i),handler:function(){
return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,j.getVoiceConnectionState)(w.default.getState()),hostname:w.default.getHostname(),pings:w.default.getPings(),average_ping:w.default.getAveragePing(),last_ping:w.default.getLastPing()};A.default.isEqual(r,t)||n(r);return r}}},C[G.RPCEvents.MESSAGE_CREATE]={scope:G.OAuth2Scopes.RPC,handler:x},C[G.RPCEvents.MESSAGE_UPDATE]={scope:G.OAuth2Scopes.RPC,handler:x},C[G.RPCEvents.MESSAGE_DELETE]={scope:G.OAuth2Scopes.RPC,handler:x},C[G.RPCEvents.SPEAKING_START]=((u={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],u.handler=B,u),C[G.RPCEvents.SPEAKING_STOP]=((l={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],l.handler=B,l),C[G.RPCEvents.GUILD_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},C[G.RPCEvents.CHANNEL_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},C[G.RPCEvents.GAME_JOIN]={scope:(s={},
s[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],s),handler:function(){}},C[G.RPCEvents.GAME_SPECTATE]={scope:(d={},d[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],d),handler:function(){}},C[G.RPCEvents.ACTIVITY_JOIN]={scope:(f={},f[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],f),handler:function(){}},C[G.RPCEvents.ACTIVITY_JOIN_REQUEST]={scope:(c={},c[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],c),handler:function(){}},C[G.RPCEvents.ACTIVITY_SPECTATE]={scope:(p={},p[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],p),handler:function(){}},C[G.RPCEvents.ACTIVITY_INVITE]={scope:(v={},v[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],v),handler:function(){}},C[G.RPCEvents.ACTIVITY_PIP_MODE_UPDATE]={scope:(y={},y[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],y),handler:function(){}},
C[G.RPCEvents.VOICE_CHANNEL_SELECT]={scope:G.OAuth2Scopes.RPC,handler:function(){}},C[G.RPCEvents.NOTIFICATION_CREATE]={scope:(m={},m[G.RPC_SCOPE_CONFIG.ALL]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_NOTIFICATIONS_READ],m),handler:function(){}},C[G.RPCEvents.RELATIONSHIP_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},C[G.RPCEvents.CURRENT_USER_UPDATE]={scope:(_={},_[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.OAuth2Scopes.IDENTIFY],_),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={currentUser:D.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,M.default)(r,t)||n((0,U.default)(r.currentUser));return r}}},C[G.RPCEvents.LOBBY_UPDATE]={scope:(h={},h[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],h),handler:function(){}},C[G.RPCEvents.LOBBY_DELETE]={scope:(g={},g[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],g),handler:function(){}},C[G.RPCEvents.LOBBY_MEMBER_CONNECT]={scope:(E={},
E[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],E),handler:function(){}},C[G.RPCEvents.LOBBY_MEMBER_UPDATE]={scope:(S={},S[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],S),handler:function(){}},C[G.RPCEvents.LOBBY_MEMBER_DISCONNECT]={scope:(O={},O[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],O),handler:function(){}},C[G.RPCEvents.LOBBY_MESSAGE]={scope:(b={},b[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],b),handler:function(){}},C[G.RPCEvents.ENTITLEMENT_CREATE]={scope:(I={},I[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],I),handler:function(){}},C[G.RPCEvents.ENTITLEMENT_DELETE]={scope:(T={},T[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],T),handler:function(){}},C[G.RPCEvents.USER_ACHIEVEMENT_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},C);t.default=H},641402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=i(n(496486)),a=i(n(248369)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){this.transport=e;this.version=t;this.encoding=n;this.id=r.default.uniqueId();this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==t||t>o.RPC_VERSION||t<1)throw new a.default(o.RPCCloseCodes.INVALID_VERSION,"Invalid Version: "+t)}},524650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(248369)),a=u(n(676606)),o=u(n(641402)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){
var n,a=t.origin,o=t.postMessageToRPCClient,u=t.frameId,l=t.version,s=t.encoding,d=t.logger,f=t.postClose,c=t.onSendingToRPCClient;n=e.call(this,i.TransportTypes.POST_MESSAGE,l,s)||this;if(-1===["etf","json"].indexOf(s))throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+s);if("etf"===s)throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");n.origin=a;n.postMessageToRPCClient=o;n.frameId=u;n.logger=d;n.postClose=f;n.onSendingToRPCClient=c;n.closed=!1;return n}var n=t.prototype;n.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([a.default.FRAME,e],this.origin)};n.close=function(e,t){this.closed||this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient);this.closed=!0};return t}(o.default);t.default=s},478370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=l(n(717187)),a=n(956506),o=l(n(248369)),i=l(n(676606)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new Map,y=new Set,m=function(e,t,n){n([i.default.CLOSE,t],e)},_=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(t,r,i,l){var s;(s=e.call(this)||this).disconnectSocket=function(e,t,n){var r,a;void 0===n&&(n=!1);s.emit("disconnect",e,n?void 0:t);e.close(t.code,null!==(r=t.message)&&void 0!==r?r:"Unknown");var o=null!==(a=Array.from(v.entries()).find((function(t){var n=f(t,2);n[0];return n[1]===e
})))&&void 0!==a?a:[null,null],i=f(o,1)[0];null!=i&&v.delete(i)};s.handleIFrameMount=function(e){var t=e.id;y.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;y.delete(n);var r=null!==(t=Array.from(v.entries()).find((function(e){var t=f(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],a=f(r,2),o=a[0],i=a[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:u.RPCCloseCodes.CLOSE_NORMAL,message:"iFrame gone"},!0);v.delete(o)}};s.handleMessage=function(e,t,n){var r=v.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):m(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,a,i;if(e!==t.origin)throw new o.default(u.RPCCloseCodes.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(r=(a=s).onFrameHandled)||void 0===r||r.call(a,i,s.logger,t);s.emit("request",t,i)}
;s.handleHandshake=function(){var e=d(regeneratorRuntime.mark((function e(t,r,a){var i,l,d,f,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:i=e.sent.default;e.prev=3;i.assert(r,i.object().required().keys({v:i.number().min(1).max(1).required(),encoding:i.string().equal("json").optional(),client_id:i.string().required(),frame_id:i.string().required()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:d=(l=r).frame_id;if(!!y.has(d)){e.next=16;break}s.logger.error("Unrecognized frame ID "+d);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 16:e.prev=16;f=s.createPostMessageProxySocket({origin:t,postMessageToRPCClient:a,frameId:d,version:Number(l.v),logger:s.logger,postClose:m,encoding:null!==(c=l.encoding)&&void 0!==c?c:"json"});e.next=24;break;case 20:e.prev=20;e.t1=e.catch(16)
;s.logger.error("Error opening window socket "+e.t1);throw e.t1;case 24:s.logger.info("Socket Opened: "+f.id);e.prev=25;e.next=28;return s.validateSocketClient(f,t,l.client_id);case 28:if(y.has(d)){e.next=31;break}s.logger.error("Frame ID "+d+" no longer exists");throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+d);case 31:v.set(t,f);y.delete(d);s.emit("connect",f);s.logger.info("Socket Validated: "+f.id);e.next=41;break;case 37:e.prev=37;e.t2=e.catch(25);s.logger.info("Socket Closed: "+f.id+", "+e.t2.message);throw e.t2;case 41:case"end":return e.stop()}}),e,null,[[3,7],[16,20],[25,37]])})));return function(t,n,r){return e.apply(this,arguments)}}();s.handleClose=function(){var e=d(regeneratorRuntime.mark((function e(t,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:a=e.sent.default;e.prev=3;a.assert(r,a.object().required().unknown(!0).keys({
code:a.number().valid(Object.values(u.RPCCloseCodes)).required(),message:a.string().optional()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:i=r;s.disconnectSocket(t,i);case 12:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,n){return e.apply(this,arguments)}}();a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_MOUNT,s.handleIFrameMount);a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=t;s.logger=r;s.createPostMessageProxySocket=i;s.onFrameHandled=l;return s}t.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Protocol error");var a=f(n,2),l=a[0],s=a[1];switch(l){case i.default.HANDSHAKE:if(null!=e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,s,r);case i.default.FRAME:
if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,s);case i.default.CLOSE:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,s);default:throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Invalid opcode")}};return t}(r.default);t.default=_},542490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=h(n(945771)),a=h(n(922629)),o=n(985918),i=h(n(768050)),u=h(n(43889)),l=h(n(267735)),s=n(766552),d=h(n(406266)),f=h(n(180450)),c=h(n(669755)),p=h(n(594875)),v=h(n(965443)),y=h(n(572110)),m=h(n(261469)),_=h(n(632303));function h(e){return e&&e.__esModule?e:{default:e}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}
var E=g({},o.crossPlatformCommands,{},d.default,{},f.default,{},c.default,{},p.default,{},v.default,{},y.default,{},_.default,{},m.default,{},u.default.authCommands),S=g({},i.default,{},s.overlayEventHandlers,{},u.default.voiceSettingsEvents);var O={server:l.default,commands:E,events:S,stores:[r.default],transports:[u.default.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){a.default.ensureModule("discord_rpc").then((function(){for(var e=0,t=[n(444287).Z,n(650801).Z];e<t.length;e++){var r=t[e];l.default.registerTransport(r)}}))}};t.default=O},43889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(192367),a=i(n(81436)),o=i(n(593621));function i(e){return e&&e.__esModule?e:{default:e}}var u={authCommands:a.default,voiceSettingsEvents:r.voiceSettingsEventHandlers,postMessageTransport:o.default};t.default=u},766552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlayEventHandlers=void 0
;var r,a=s(n(496486)),o=s(n(191839)),i=s(n(81636)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[l.RPCEvents.OVERLAY_UPDATE]={scope:l.RPC_LOCAL_SCOPE,handler:function(e){var t=e.args.pid,n=e.socket;if("number"!=typeof t||t<10)throw new u.default(l.RPCErrors.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,u=e.dispatch,l=i.default.enabled,s=!0,d=n.application.id;if(null!=d){var f=o.default.getActiveLibraryApplication(d);null!=f&&(l=l&&f.isOverlayEnabled());s=i.default.isInputLocked(t)}var c={enabled:l,locked:s};a.default.isEqual(c,r)||u(c);return c}}},r);t.overlayEventHandlers=d},192367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.voiceSettingsEventHandlers=void 0;var r,a=(r=n(655369))&&r.__esModule?r:{default:r},o=n(367983);var i=(0,a.default)(o.getDeprecatedVoiceSettings,o.getVoiceSettings);t.voiceSettingsEventHandlers=i},367983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.getVoiceSettings=t.getDeprecatedVoiceSettings=void 0;t.unlockOverlay=function(e){if(a.default.isReady(e)){r.default.setLocked(!1,e);return{lock:function(){r.default.setLocked(!0,e)},context:s.AppContext.OVERLAY}}o.default.focus(null,!0);return{lock:function(){o.default.setForegroundProcess(e)},context:s.AppContext.APP}};t.validateSocketClient=void 0;t.validateTransportType=function(e){if(s.TransportTypes.IPC!==e&&s.TransportTypes.POST_MESSAGE!==e)throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid transport.")};var r=d(n(390557)),a=d(n(81636)),o=d(n(922629)),i=n(339943),u=d(n(248369)),l=n(861798),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var c=["207646673902501888"];var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,
l.validateOriginAndUpdateSocket)(t,n);if(null!=r&&""!==r||!(0,l.isMatchingOrigin)(n)){e.next=6;break}t.authorization.scopes=[s.RPC_PRIVATE_SCOPE,s.RPC_PRIVATE_LIMITED_SCOPE];return e.abrupt("return",Promise.resolve());case 6:if(null!=r&&""!==r){e.next=8;break}return e.abrupt("return",Promise.reject(new u.default(s.RPCCloseCodes.INVALID_CLIENTID,"No Client ID Specified")));case 8:a=o.default.releaseChannel!==s.PublicReleaseChannels.CANARY&&!c.includes(r)&&t.transport!==s.TransportTypes.POST_MESSAGE;e.next=11;return(0,l.processSocketThrottlers)(r,a);case 11:return e.abrupt("return",(0,l.fetchApplicationsRPC)(t,r,n));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();t.validateSocketClient=p;t.getDeprecatedVoiceSettings=function(){return(0,
l.getDeprecatedVoiceSettingsWithShortcut)((function(e){var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,i.codeToKey)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))};t.getVoiceSettings=function(e){return(0,l.getVoiceSettingsWithShortcut)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,i.toString)(e.modeOptions.shortcut));return t}))}},804135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(682644)),a=o(n(542490));function o(e){return e&&e.__esModule?e:{default:e}}var i=new r.default(a.default);t.default=i},406266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),d=P(n(312260)),f=n(557782),c=P(n(234161)),p=n(508510),v=P(n(767766)),y=n(689575),m=P(n(902305)),_=P(n(644263)),h=P(n(30098)),g=P(n(423086)),E=P(n(689389)),S=P(n(211136)),O=P(n(690445)),b=n(194322),I=n(245838),T=P(n(248369)),C=n(861798),A=n(367983),M=n(770348),N=n(371621);function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}
function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}function k(e,t,n,r,a){return j.apply(this,arguments)}function j(){return(j=L(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o="");if(null!=(i=g.default.getApplicationActivity(n))&&null!=i.secrets&&(0,C.validateActivityInvite)(a,i.party,i.secrets)){e.next=4;break}throw new T.default(M.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");case 4:if(!(u=(0,v.default)(i,O.default))){e.next=8;break}l=(0,A.unlockOverlay)(t),s=l.lock;return e.abrupt("return",(0,f.openModal)(i,u).then((function(){s()
;throw new T.default(M.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")})));case 8:e.next=10;return d.default.sendActivityInviteUser({userId:r,type:a,activity:i,content:o,location:"In-Game Invite"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=((l={})[M.RPCCommands.SEND_ACTIVITY_JOIN_INVITE]={scope:(r={},r[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],r),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,a=n.pid,o=t.application.id;if(null==o)throw new T.default(M.RPCErrors.INVALID_COMMAND,"No application.");return k(a,o,r,M.ActivityActionTypes.JOIN)}},l[M.RPCCommands.CLOSE_ACTIVITY_JOIN_REQUEST]={scope:(a={},a[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.args.user_id,n=_.default.getDMFromUserId(t);null!=n&&(0,p.ack)(n,!0,!0)}},l[M.RPCCommands.ACTIVITY_INVITE_USER]={scope:(o={},
o[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({user_id:e.string().required(),type:e.number().required().valid([M.ActivityActionTypes.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.content,i=n.pid,u=t.application.id;if(null==u)throw new T.default(M.RPCErrors.INVALID_COMMAND,"No application.");return k(i,u,a,r,o)}},l[M.RPCCommands.ACCEPT_ACTIVITY_INVITE]={scope:(i={},i[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({type:e.number().required().valid([M.ActivityActionTypes.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.session_id,i=n.channel_id,u=n.message_id,l=t.application.id
;if(null==l)throw new T.default(M.RPCErrors.INVALID_COMMAND,"No application.");var s=Promise.resolve(!1);if(r===M.ActivityActionTypes.JOIN)s=c.default.join({userId:a,sessionId:o,applicationId:l,channelId:i,messageId:u});return s.then((function(e){if(!e)throw new T.default(M.RPCErrors.INVALID_INVITE,"Invite is expired or invalid.")}))}},l[M.RPCCommands.OPEN_INVITE_DIALOG]={scope:(u={},u[M.RPC_SCOPE_CONFIG.ANY]=[M.OAuth2Scopes.RPC,M.RPC_LOCAL_SCOPE,M.RPC_AUTHENTICATED_SCOPE],u),handler:function(e){var t,r,a=e.socket,o=S.default.getVoiceChannelId(),i=_.default.getChannel(o);if(null==i)throw new T.default(M.RPCErrors.INVALID_CHANNEL,"Invalid channel "+o);var u=h.default.getGuild(i.getGuildId());if(null==u)throw new T.default(M.RPCErrors.INVALID_CHANNEL,"Invalid guild "+i.getGuildId());if(!(0,y.canViewInviteModal)(E.default,u,i))throw new T.default(M.RPCErrors.INVALID_PERMISSIONS,"No invite permissions for "+o);var l=m.default.getWindow(M.PopoutWindowKeys.CHANNEL_CALL_POPOUT)
;(null===(t=l)||void 0===t?void 0:t.closed)&&(l=null);var d=null!=l?M.AppContext.POPOUT:M.AppContext.APP;(0,I.exitFullScreen)({},null===(r=l)||void 0===r?void 0:r.document);(0,b.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return s.createElement(r,w({},e,{guild:u,channel:i,applicationId:a.application.id,analyticsLocation:M.AnalyticsLocations.ACTIVITY_RPC,source:M.InstantInviteSources.ACTIVITY_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:d===M.AppContext.POPOUT?N.POPOUT_MODAL_CONTEXT:N.DEFAULT_MODAL_CONTEXT})}},l);t.default=U},180450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(118915)),i=n(91817),u=n(851792),l=m(n(288356)),s=m(n(728429)),d=m(n(47969)),f=m(n(424099)),c=n(194322),p=m(n(922629)),v=m(n(248369)),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t){var n=d.default.isEntitledToSku(s.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,u.fetchUserEntitlementsForApplication)(t).then((function(){return!0===d.default.isEntitledToSku(s.default.getCurrentUser(),e,t)}))}var O=((r={})[y.RPCCommands.VALIDATE_APPLICATION]={scope:y.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");var r=l.default.getGame(t);if(null==r)throw new v.default(y.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");var o=r.primarySkuId;if(null==o)throw new v.default(y.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.")
;return Promise.race([S(o,r.id).then((function(e){if(!e)throw new v.default(y.RPCErrors.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,i.timeoutPromise)(1e4).then((function(){throw new v.default(y.RPCErrors.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){if(e.code===y.RPCErrors.INVALID_ENTITLEMENT){p.default.focus(null,!0);(0,c.openModalLazy)(E(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,h({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}throw e}}},r[y.RPCCommands.GET_ENTITLEMENT_TICKET]={scope:y.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({
url:y.Endpoints.ENTITLEMENT_TICKET(t),body:{test_mode:f.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){p.default.focus(null,!0);(0,c.openModalLazy)(E(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,h({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))));throw e}))}},r);t.default=O},81436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(480831)),o=n(94066),i=n(194322),u=n(864489),l=c(n(922629)),s=c(n(964125)),d=n(770348),f=n(371621);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=(0,s.default)((function(e,t,n,u,l,s,d,c,p,y,m,_,h){var g="OAuth2Authorize_"+e+"_"+y+"_"+m;return new Promise((function(E){var S=function(e){E(e)};(0,i.openModal)((function(a){return r.createElement(o.OAuth2AuthorizeModal,v({},a,{authorization:t,clientId:e,
scopes:null!=n?n:[],callback:S,responseType:l,redirectUri:s,codeChallenge:d,codeChallengeMethod:c,state:p,permissions:u,guildId:y,channelId:m,prompt:_,disableGuildSelect:"boolean"==typeof h?h:"true"===h}))}),{modalKey:g,onCloseRequest:function(){(0,i.closeModal)(g);E(void 0)}},(0,a.default)(t.application)?f.POPOUT_MODAL_CONTEXT:f.DEFAULT_MODAL_CONTEXT)}))}),(function(e){if(u.isPlatformEmbedded){var t=(0,a.default)(e)?d.PopoutWindowKeys.CHANNEL_CALL_POPOUT:null;(0,u.isWindows)()?l.default.minimize(t):l.default.restore(t);l.default.focus(t)}}));t.default=y},669755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(977365)),o=u(n(922629)),i=n(861798);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[n(770348).RPCCommands.ENCOURAGE_HW_ACCELERATION]={validation:function(e){return e.object()},handler:function(e){var t=e.socket;(0,i.validatePostMessageTransport)(t.transport);var n=t.application.id;if(null!=n){(0,a.default)(n)
;return{enabled:o.default.getEnableHardwareAcceleration()}}}},r);t.default=l},594875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=m(n(636602)),o=n(557782),i=m(n(23170)),u=m(n(390557)),l=m(n(767766)),s=m(n(423086)),d=m(n(690445)),f=n(194322),c=m(n(248369)),p=n(861798),v=n(367983),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E=((r={})[y.RPCCommands.SET_OVERLAY_LOCKED]={scope:y.RPC_LOCAL_SCOPE,
validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");u.default.setLocked(n,r)}},r[y.RPCCommands.OPEN_OVERLAY_ACTIVITY_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.number().required().valid([y.ActivityActionTypes.JOIN]),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.pid,i=t.application.id;if(null==i)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var u=s.default.getApplicationActivity(i);if(null==u||null==u.secrets||!(0,p.validateActivityInvite)(r,u.party,u.secrets))throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var f=(0,
v.unlockOverlay)(a).lock,m=(0,l.default)(u,d.default);return(0,o.openModal)(u,m).then((function(){f();if(m)throw new c.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}},r[y.RPCCommands.OPEN_OVERLAY_GUILD_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid;if(null==e.socket.application.id)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");return i.default.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new c.default(y.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);var o=(0,v.unlockOverlay)(r),i=o.context,u=o.lock;return new Promise((function(e){a.default.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:n,context:i,resolve:e})})).then(u)}))}},r[y.RPCCommands.OPEN_OVERLAY_VOICE_SETTINGS]={
scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,r=e.socket,a=r.application.id;if(null==a)throw new c.default(y.RPCErrors.INVALID_COMMAND,"No application.");var o=(0,v.unlockOverlay)(t).lock;return new Promise((function(e){(0,f.openModalLazy)(g(regeneratorRuntime.mark((function t(){var i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(5374)]).then(n.bind(n,215560));case 2:i=t.sent;u=i.default;return t.abrupt("return",(function(t){return React.createElement(u,_({},t,{mediaEngineContext:a,title:r.application.name,onClose:function(){t.onClose();o();e()}}))}));case 5:case"end":return t.stop()}}),t)}))))}))}},r);t.default=E},965443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(919094),i=S(n(636602)),u=n(832635),l=n(241889),s=S(n(861315)),d=S(n(740852)),f=S(n(23170)),c=S(n(920061)),p=n(139982),v=S(n(728429)),y=n(194322),m=S(n(308920)),_=S(n(608417)),h=S(n(922629)),g=S(n(248369)),E=n(770348);function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t){null!=e&&m.default.track(E.AnalyticEvents.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,o.extractId)(e),link_type:t})}var A=((r={})[E.RPCCommands.INVITE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return T(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.args.code;t.next=3;return f.default.resolveInvite(n,"Desktop Modal");case 3:r=t.sent;if(null!=(a=r.invite)){t.next=7;break}throw new g.default(E.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);case 7:i.default.dispatch({
type:"INVITE_MODAL_OPEN",invite:a,code:n,context:E.AppContext.APP});return t.abrupt("return",{invite:a,code:n});case 9:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GUILD_TEMPLATE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return T(regeneratorRuntime.mark((function t(){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.args.code;if(null!=v.default.getCurrentUser()){t.next=3;break}return t.abrupt("return");case 3:t.next=5;return c.default.resolveGuildTemplate(r);case 5:o=t.sent;if(null!=(i=o.guildTemplate)){t.next=9;break}throw new g.default(E.RPCErrors.INVALID_GUILD_TEMPLATE,"Invalid guild template id: "+r);case 9:h.default.focus();(0,y.openModalLazy)(T(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(4053)]).then(n.bind(n,704053));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){
return a.createElement(r,b({},e,{guildTemplate:i}))}));case 5:case"end":return e.stop()}}),e)}))));return t.abrupt("return",{guildTemplate:i,code:r});case 12:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GIFT_CODE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args.code;return new Promise((function(e,r){i.default.wait((function(){d.default.resolveGiftCode(t,!0,!0).then((function(r){var o=r.giftCode;h.default.focus();m.default.track(E.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:E.DIRECT_ANALYTICS_LOCATION});(0,y.openModalLazy)(T(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({code:t},e))}));case 5:case"end":return e.stop()}}),e)}))));e({giftCode:o})})).catch((function(){
return r(new g.default(E.RPCErrors.INVALID_GIFT_CODE,"Invalid gift code: "+t))}))}))}))}},r[E.RPCCommands.DEEP_LINK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.type,r=t.params;h.default.focus();switch(n){case E.RPCDeepLinks.USER_SETTINGS:if(null!=r){(0,p.replaceWith)(E.Routes.SETTINGS(r.section,r.subsection));C(r.fingerprint,E.DynamicLinkType.SETTINGS)}break;case E.RPCDeepLinks.CHANGELOG:if(null!=r){(0,p.replaceWith)(_.default.formatPathWithQuery(E.Routes.CHANGELOGS(r.date),r.query));C(r.fingerprint,E.DynamicLinkType.CHANGELOG)}break;case E.RPCDeepLinks.LIBRARY:(0,p.replaceWith)(E.Routes.APPLICATION_LIBRARY);null!=r&&C(r.fingerprint,E.DynamicLinkType.LIBRARY);break;case E.RPCDeepLinks.STORE_HOME:(0,p.replaceWith)(E.Routes.APPLICATION_STORE);null!=r&&C(r.fingerprint,E.DynamicLinkType.STORE);break;case E.RPCDeepLinks.STORE_LISTING:if(null!=r){(0,p.replaceWith)(E.Routes.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));C(r.fingerprint,E.DynamicLinkType.STORE)}break
;case E.RPCDeepLinks.CHANNEL:if(null!=r){(0,p.replaceWith)({pathname:E.Routes.CHANNEL(r.guildId,r.channelId,r.messageId),search:r.search});C(r.fingerprint,E.DynamicLinkType.CHANNEL)}}}},r[E.RPCCommands.BROWSER_HANDOFF]={scope:E.RPC_PRIVATE_LIMITED_SCOPE,handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint;h.default.focus(null,!0);(0,l.handoffEnd)(n,r)}},r[E.RPCCommands.CONNECTIONS_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.providerType,r=t.code,a=t.openid_params,o=t.state;return s.default.callback(n,{code:r,openid_params:a,state:o})}},r[E.RPCCommands.BRAINTREE_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query;return(0,u.popupBridgeCallback)({paymentSourceType:E.PaymentSourceTypes.PAYPAL,state:n,path:r,query:a})}},r[E.RPCCommands.BILLING_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query,o=t.payment_source_type;return(0,
u.popupBridgeCallback)({paymentSourceType:o,state:n,path:r,query:a})}},r);t.default=A},572110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l=E(n(851792)),s=E(n(723420)),d=E(n(376543)),f=n(168558),c=h(n(954140)),p=h(n(231765)),v=h(n(424099)),y=h(n(248369)),m=n(367983),_=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}var S=[c.default.RPC];function O(e){
if(null==e)return{lock:_.NOOP_NULL,context:_.AppContext.APP};var t=(0,m.unlockOverlay)(e);return{lock:t.lock,context:t.context}}function b(e,t){var n={subscriptionTier:_.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:S,analyticsObject:t};switch(e){case _.AppContext.APP:return p.default.openPremiumPaymentModalInApp(n);case _.AppContext.OVERLAY:return p.default.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: "+e)}}var I=((u={})[_.RPCCommands.START_PURCHASE]=((r={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],r.validation=function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})},r.handler=function(e){var t=e.socket,n=e.args,r=n.sku_id,a=n.pid;(0,m.validateTransportType)(t.transport);var o=t.application.id;if(null==o)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.");var i=O(t.transport!==_.TransportTypes.POST_MESSAGE?a:null),u=i.lock,l=i.context,s={
page:_.AnalyticsPages.IN_APP};return(0,f.openIAPPurchaseModal)({applicationId:o,skuId:r,openPremiumPaymentModal:function(){return b(l,s)},analyticsLocations:S,analyticsLocation:s,context:l}).then((function(e){u();return e}),(function(e){u();if(null!=e)throw new y.default(_.RPCErrors.PURCHASE_ERROR,e);throw new y.default(_.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},r),u[_.RPCCommands.GET_SKUS]=((a={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],a.handler=function(e){var t=e.socket;(0,m.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.");return v.default.inTestModeForApplication(n)?s.fetchSKUsForApplication(n).then((function(e){return e.filter((function(e){return null!=e.price}))})):d.fetchAllStoreListingsForApplication(n).then((function(e){return(null!=e?e:[]).map((function(e){return e.sku})).filter((function(e){return null!=e.price}))}))},a),
u[_.RPCCommands.START_PREMIUM_PURCHASE]=((o={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],o.validation=function(e){return e.object().keys({pid:e.number().min(0)})},o.handler=function(e){var t=e.socket,n=e.args.pid;(0,m.validateTransportType)(t.transport);if(null==t.application.id)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.");var r=O(t.transport!==_.TransportTypes.POST_MESSAGE?n:null),a=r.lock;return b(r.context,{page:_.AnalyticsPages.IN_APP}).then((function(){a()}),(function(e){a();if(null!=e)throw new y.default(_.RPCErrors.PURCHASE_ERROR,e);throw new y.default(_.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},o),u[_.RPCCommands.GET_ENTITLEMENTS]=((i={})[_.RPC_SCOPE_CONFIG.ANY]=[_.RPC_AUTHENTICATED_SCOPE,_.RPC_LOCAL_SCOPE],i.handler=function(e){var t=e.socket;(0,m.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new y.default(_.RPCErrors.INVALID_COMMAND,"No application.")
;return l.fetchUserEntitlementsForApplication(n).then((function(e){return null!=e?e:[]}))},i),u);t.default=I},261469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(740207)),o=s(n(635014)),i=n(339943),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return t}var f=((r={})[l.RPCCommands.SET_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(l.InputModes)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,u=n.self_mute,l=n.self_deaf,s=d(t);null!=r&&a.default.setMode(r.type,{shortcut:(0,i.toCombo)(r.shortcut)},s);null!=u&&u!==o.default.isSelfMute(s)&&a.default.toggleSelfMute({context:s})
;null!=l&&l!==o.default.isSelfDeaf(s)&&a.default.toggleSelfDeaf({context:s})}},r[l.RPCCommands.SET_USER_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,i=n.mute,u=n.volume,l=d(t);null!=i&&i!==o.default.isLocalMute(r,l)&&a.default.toggleLocalMute(r,l);null!=u&&a.default.setLocalVolume(r,u,l)}},r);t.default=f},632303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=p(n(740207)),l=p(n(635014)),s=p(n(728429)),d=p(n(248369)),f=n(367983),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v=((i={})[c.RPCCommands.SET_USER_VOICE_SETTINGS]={scope:(r={},r[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],r),validation:function(e){return e.object().required().keys({user_id:e.string().required(),
pan:e.object().keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.user_id,r=t.pan,a=t.volume,o=t.mute,i=s.default.getCurrentUser();if(null==s.default.getUser(n)||(null==i?void 0:i.id)===n)throw new d.default(c.RPCErrors.INVALID_USER,"Invalid user id: "+n);null!=r&&u.default.setLocalPan(n,r.left,r.right);null!=a&&u.default.setLocalVolume(n,a);if(null!=o){var f=l.default.isLocalMute(n);(f&&!o||!f&&o)&&u.default.toggleLocalMute(n)}return{user_id:n,pan:l.default.getLocalPan(n),volume:l.default.getLocalVolume(n),mute:l.default.isLocalMute(n)}}},i[c.RPCCommands.GET_VOICE_SETTINGS]={scope:(a={},a[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(){return(0,f.getDeprecatedVoiceSettings)()}},i[c.RPCCommands.SET_VOICE_SETTINGS]={scope:(o={},o[c.RPC_SCOPE_CONFIG.ANY]=[c.OAuth2Scopes.RPC,c.OAuth2Scopes.RPC_VOICE_WRITE],o),
validation:function(e){return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getInputDevices())),volume:e.number().min(0).max(100)}),output:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:e.object().keys({type:e.string().valid(Object.keys(c.InputModes)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,a=t.mode,o=t.automatic_gain_control,i=t.echo_cancellation,s=t.noise_suppression,d=t.qos,c=t.silence_warning,p=t.deaf,v=t.mute;if(n){
null!=n.device_id&&u.default.setInputDevice(n.device_id);null!=n.volume&&u.default.setInputVolume(n.volume)}if(r){null!=r.device_id&&u.default.setOutputDevice(r.device_id);null!=r.volume&&u.default.setOutputVolume(r.volume)}if(a){var y=l.default.getMode(),m=l.default.getModeOptions();null!=a.type&&(y=a.type);null!=a.auto_threshold&&(m.autoThreshold=a.auto_threshold);null!=a.threshold&&(m.threshold=a.threshold);null!=a.shortcut&&(m.shortcut=a.shortcut.map((function(e){return[e.type,e.code]})));null!=a.delay&&(m.delay=a.delay);u.default.setMode(y,m)}null!=o&&u.default.setAutomaticGainControl(o);null!=i&&u.default.setEchoCancellation(i);null!=s&&u.default.setNoiseSuppression(s);null!=d&&u.default.setQoS(d);null!=c&&u.default.setSilenceWarning(c);if(null!=p){var _=l.default.isSelfDeaf();(_&&!p||!_&&p)&&u.default.toggleSelfDeaf()}if(null!=v){var h=l.default.isSelfMute();(h&&!v||!h&&v)&&u.default.toggleSelfMute()}return(0,f.getDeprecatedVoiceSettings)()}},i);t.default=v},650801:(e,t,n)=>{
"use strict";({value:!0});t.Z=void 0;var r=n(348764),a=c(n(717187)),o=c(n(496486)),i=c(n(791548)),u=c(n(922629)),l=c(n(318671)),s=c(n(641402)),d=n(367983),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y,m=u.default.requireModule("discord_rpc").RPCIPC,_=new i.default("RPCServer:IPC"),h={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function g(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function E(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function S(e){return new Promise((function(t,n){"string"==typeof e&&(e=m.net.createConnection(e));e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(h.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}
},a=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(O(h.PING,o.default.uniqueId()));return a.then(t,n)}))}function O(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),a=r.Buffer.alloc(8+n);a.writeInt32LE(e,0);a.writeInt32LE(n,4);a.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(a)}function b(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),a=t.readInt32LE(4);if(!Object.values(h).includes(n)||a<0)throw new Error("protocol error");if(!(t=e.read(a)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var o=JSON.parse(t.toString());switch(n){case h.PING:e.emit("ping",o)
;e.write(O(h.PONG,o));break;case h.PONG:e.emit("pong",o);break;case h.HANDSHAKE:if(E(e))throw new Error("already did handshake");g(e,!0);e.emit("handshake",o);break;case h.FRAME:if(!E(e))throw new Error("did not handshake");e.emit("request",o);break;case h.CLOSE:e.end();e.destroy()}b(e)}}var I=function(e){p(t,e);function t(t,n,r){var a;(a=e.call(this,"ipc",n,r)||this)._socket=t;return a}var n=t.prototype;n.send=function(e){_.info("Socket Emit: "+this.id,(0,l.default)(e));this._socket.write(O(h.FRAME,e))};n.close=function(e,t){this._socket.end(O(h.CLOSE,{code:e,message:t}));this._socket.destroy()};return t}(s.default),T=new(function(e){p(t,e);function t(){var t;t=e.call(this)||this;(y=m.net.createServer((function(e){return t.handleConnection(e)}))).on("error",(function(e){return _.error("Error: "+e.message)}));m.getAvailableSocket(S).then((function(e){y.listen(e,(function(){("function"==typeof y.listening?y.listening():y.listening)&&_.info("Starting on "+y.address())}))}));return t}
t.prototype.handleConnection=function(e){var t=this;g(e,!1);e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(O(h.CLOSE,{code:f.RPCCloseCodes.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,a=n.client_id,o=+n.v;try{r=new I(e,o,"json")}catch(t){e.end(O(h.CLOSE,{code:t.code,message:t.message}));e.destroy();return}_.info("Socket Opened: "+r.id);e.on("error",(function(e){return _.error("Socket Error: "+e.message)}));e.on("close",(function(){_.info("Socket Close: "+r.id);t.emit("disconnect",r)}));(0,d.validateSocketClient)(r,null,a).then((function(){e.on("request",(function(e){_.info("Socket Message: "+r.id,(0,l.default)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return t}(a.default));t.Z=T},444287:(e,t,n)=>{"use strict";var r=n(348764).Buffer;({value:!0});t.Z=void 0
;var a,o=h(n(717187)),i=h(n(496486)),u=h(n(817673)),l=h(n(608575)),s=h(n(636602)),d=h(n(791548)),f=h(n(909243)),c=h(n(922629)),p=h(n(248369)),v=h(n(318671)),y=h(n(641402)),m=n(367983),_=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}try{a=c.default.requireModule("discord_erlpack")}catch(e){try{a=c.default.requireModule("erlpack")}catch(e){}}var I,T=c.default.requireModule("discord_rpc").RPCWebSocket,C=window.GLOBAL_ENV.MARKETING_ENDPOINT,A=new d.default("RPCServer:WSS"),M=[];function N(e){return"function"==typeof e?e():e}function P(e){void 0===e&&(e=0)
;var t=e>0?void 0:function(){if(N(I.listening)){var e=I.address().port;A.info("Starting on "+e);s.default.dispatch({type:"RPC_SERVER_READY",port:e})}};I.listen(_.RPC_STARTING_PORT+e%_.RPC_PORT_RANGE,"127.0.0.1",t)}function R(e,t,n,a,o){void 0===a&&(a=200);void 0===o&&(o={});var i=N(e.headers).origin?{"Access-Control-Allow-Origin":N(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";a=200!==a||n.length?a:204;t.setHeader("Content-Length",r.byteLength(n));t.setHeader("Content-Type","application/json");t.writeHead(a,b({},o,{},i));t.end(n)}function w(e,t,n,r,a){void 0===a&&(a=0);R(e,t,{code:a,message:r},n)}var D=function(e){S(t,e);function t(t,n,r){var o;o=e.call(this,"ws",n,r)||this;if(-1===["etf","json"].indexOf(r))throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+r)
;if("etf"===r&&null==a)throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");o._socket=t;return o}var n=t.prototype;n.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==_.RPCCommands.OVERLAY&&e.evt!==_.RPCEvents.OVERLAY)&&A.info("Socket Emit: "+this.id,(0,v.default)(e));null!=a&&"etf"===this.encoding?this._socket.send(a.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};n.close=function(e,t){this._socket.close(e,t)};return t}(y.default),L=function(e){S(t,e);function t(t,n,r,a){var o;o=e.call(this,"http",r,a)||this;if("json"!==a)throw new p.default(_.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+a);o._sendCallback=t;o._closeCallback=n;return o}var n=t.prototype;n.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==_.RPCCommands.OVERLAY)&&A.info("Socket Emit: "+this.id,e);this._sendCallback(e)};n.close=function(e,t){this._closeCallback(t,e)};return t}(y.default),k=new(function(e){S(t,e);function t(){var t
;t=e.call(this)||this;var n=0;(I=T.http.createServer()).on("error",(function(e){A.error("Error: "+e.message);("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return P(++n)}),1e3)}));I.on("request",t.handleRequest.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)));P(n);var r={instanceId:I.instanceId||0,server:I};new T.ws.Server(r).on("connection",(function(e){return t.handleConnection(e)}));return t}var n=t.prototype;n.handleRequest=function(e,t){var n=this,r=g(N(e.url).split("?"),2),a=r[0],o=r[1],i=N(e.method);if("/rpc"!==a||"OPTIONS"!==i){var s="POST"===i;if("/rpc"!==a||"GET"!==i&&!s)w(e,t,404,"Not Found");else{var d=u.default.parse(o),f=s?N(e.headers)["content-type"].split("/")[1]:"json",c=function(){var e=l.default.parse(d.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",d.callback):t.setHeader("Location",C);t.writeHead(301)
;t.end()},p=new L(s?R.bind(null,e,t):c,s?w.bind(null,e,t,400):c,+d.v,f);if(s)(0,m.validateSocketClient)(p,N(e.headers).origin,d.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){return w(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[_.RPC_PRIVATE_LIMITED_SCOPE];this.handleMessage(p,decodeURIComponent(d.payload))}}}else R(e,t,{body:""})};n.handleConnection=function(e){var t,n=this,r=u.default.parse(N(e.upgradeReq).url.split("?")[1]),a=N(e.upgradeReq).headers.origin||"";try{t=new D(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}A.info("Socket Opened: "+t.id);e.on("error",(function(e){return A.error("WS Error: "+e.message)}));e.on("close",(function(e,r){A.info("Socket Closed: "+t.id+", code "+e+", message "+r);i.default.remove(M,(function(e){return e===t}))
;n.emit("disconnect",t)}));(0,m.validateSocketClient)(t,a,r.client_id).then((function(){M.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))};n.handleMessage=function(e,t){var n;try{if(null!=a&&"etf"===e.encoding)n=a.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(_.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not "+e.encoding);return}(f.default.isLoggingOverlayEvents||n.cmd!==_.RPCCommands.OVERLAY)&&A.info("Socket Message: "+e.id,(0,v.default)(n));this.emit("request",e,n)};return t}(o.default));t.Z=k},593621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(791548)),a=d(n(909243)),o=d(n(318671)),i=d(n(478370)),u=n(367983),l=d(n(176829)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}var f=new r.default("RPCServer:PostMessage"),c=function(e,t,n){
(a.default.isLoggingOverlayEvents||e.cmd!==s.RPCCommands.OVERLAY)&&t.info("Socket Message: "+n.id,(0,o.default)(e))};var p=function(){var e=new i.default(u.validateSocketClient,f,l.default,c);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,a=t.origin;e.handleMessage(r,a,(function(e,t){n.postMessage(e,t)}))}else f.error("Unknown event source")}));return e}();t.default=p},176829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(909243)),a=u(n(318671)),o=u(n(524650)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.origin,n=e.postMessageToRPCClient,u=e.frameId,l=e.version,s=e.encoding,d=e.logger,f=e.postClose;return new o.default({origin:t,postMessageToRPCClient:n,frameId:u,version:l,encoding:s,logger:d,postClose:f,onSendingToRPCClient:function(e,t){
(r.default.isLoggingOverlayEvents||e.cmd!==i.RPCCommands.OVERLAY&&e.evt!==i.RPCEvents.OVERLAY)&&d.info("Socket Emit: "+t,(0,a.default)(e))}})};t.default=l},478910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(21774);var i={init:function(){a.default.subscribe("USER_SETTINGS_UPDATE",o.refreshSearchTokens);a.default.subscribe("I18N_LOAD_SUCCESS",o.refreshSearchTokens)}};t.default=i},626643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([l.default],(function(){var t,n=l.default.getQuery(e),r=l.default.getRawResults(e);if(null==n||null==r)return[];var u=(0,a.createASTHighlighter)(null!==(t=n.content)&&void 0!==t?t:"");return r.map((function(e){return e.map((function(e){var t=(0,o.createMessageRecord)(e);return t.isSearchHit?t.set("customRenderedContent",(0,i.default)(t,{postProcessor:u})):t}))}))
}),[e],r.statesWillNeverBeEqual),n=(0,r.useStateFromStores)([u.default],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){var n=u.default.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t],r.statesWillNeverBeEqual),s=(p=n,v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],c=s[1];var p,v;return{searchResults:f,blockCount:c}};var r=n(536211),a=n(697255),o=n(202929),i=s(n(116518)),u=s(n(290629)),l=s(n(205982));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},326648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=v(n(151097)),i=v(n(80828)),u=v(n(186465)),l=n(645758),s=v(n(730977)),d=v(n(550270)),f=n(770348),c=v(n(247001)),p=v(n(794097));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){
var t=e.searchMode,n=e.searchByMode;return _("header",{className:p.default.searchHeader},void 0,a.createElement(g,e),_(u.default,{orientation:"horizontal",className:p.default.searchHeaderTabList,selectedItem:t,onItemSelect:n},void 0,_(u.default.Item,{id:f.SearchModes.NEWEST},void 0,c.default.Messages.SEARCH_NEWEST_SHORT),_(u.default.Item,{id:f.SearchModes.OLDEST},void 0,c.default.Messages.SEARCH_OLDEST_SHORT),_(u.default.Item,{id:f.SearchModes.MOST_RELEVANT},void 0,c.default.Messages.SEARCH_MOST_RELEVANT_SHORT)))}h.displayName="SearchHeader";function g(e){var t,n=e.isSearching,r=e.isIndexing,o=e.documentsIndexed;(r||n)&&(t=_("div",{className:p.default.spinnerWrapper},void 0,_(i.default,{type:i.default.Type.SPINNING_CIRCLE,className:p.default.spinner,itemClassName:p.default.spinnerPath})));var u=r&&!n;return _("div",{className:p.default.totalResults,role:"status"},void 0,u?_(s.default,{text:c.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:o})},void 0,(function(n){
return a.createElement("div",m({className:p.default.totalResultsWrapper},n),a.createElement(E,e),t)})):a.createElement(E,e),u?null:t)}g.displayName="TotalContent";function E(e){var t=e.isSearching,n=e.isIndexing,r=e.totalResults;if(t)return _(l.Text,{variant:"text-md/normal",color:"header-primary"},void 0,c.default.Messages.SEARCHING);if(n)return _(l.Text,{variant:"text-md/normal"},void 0,_(o.default,{className:p.default.helpdeskLink,href:d.default.getArticleURL(f.HelpdeskArticles.SEARCH_INDEXING)},void 0,c.default.Messages.STILL_INDEXING));var a=r.toLocaleString();return _(l.Text,{variant:"text-md/normal",color:"header-primary"},void 0,c.default.Messages.TOTAL_RESULTS.format({count:a}))}},301929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(668281)),o=i(n(574628));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){
var t=e.changePage,n=e.offset,r=e.totalResults,i=e.pageLength,u=Math.floor(n/i)+1;return l("div",{className:o.default.container},void 0,l(a.default,{currentPage:u,totalCount:r,pageSize:i,onPageChange:t,maxVisiblePages:5}))}s.displayName="SearchPagination"},458517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(496486)),i=n(659779),u=n(378158),l=v(n(314234)),s=v(n(2914)),d=v(n(644263)),f=v(n(16941)),c=v(n(247001)),p=v(n(248556));function v(e){return e&&e.__esModule?e:{default:e}}
function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(e,t){var n,r=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=r&&!r.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,i.isElement)(e)&&e!==t;){var a=e.tagName;if("A"===a||"IMG"===a||"BUTTON"===a)return!0;e=e.parentNode}return!1}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).containerRef=a.createRef();t.hitRef=a.createRef();t.handleContextMenu=function(e,t){var r=d.default.getChannel(t.channel_id);if(null!=r){e.stopPropagation();(0,u.openContextMenuLazy)(e,g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
e.next=2;return Promise.all([n.e(56530),n.e(25496)]).then(n.bind(n,925496));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,_({},e,{message:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))}};t.jumpTo=function(e){if(null!=e){e.preventDefault();e.stopPropagation()}var n=t.props,r=n.onJump,a=n.result.find((function(e){return e.isSearchHit}));null!=a&&r(a)};t.handleMessageClick=function(e){S(e.target,t.containerRef.current)?e.stopPropagation():t.jumpTo(e)};return t}t.prototype.render=function(){var e=this,t=this.props,n=t.result,r=t.listItemProps,i=t.searchOffset,u=t.index,v=t.totalResults,y=o.default.find(n,(function(e){return e.isSearchHit}));if(null==y)return null;var h=d.default.getChannel(y.channel_id);if(null==h)return null;var g="search-result-"+y.id;return m(l.default,{ringTarget:this.hitRef,ringClassName:p.default.searchResultFocusRing,offset:4},void 0,a.createElement("li",_({className:p.default.container},r,{
"aria-posinset":1+i+u,"aria-setsize":v,"aria-labelledby":g}),m(f.default,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:p.default.searchResult,focusProps:{enabled:!1}},void 0,a.createElement("div",{ref:this.hitRef,className:p.default.message,key:y.id},m(s.default,{id:g,message:y,channel:h,onContextMenu:function(t){return e.handleContextMenu(t,y)},animateAvatar:!1,subscribeToComponentDispatch:!1}))),m("div",{className:p.default.buttonsContainer,"aria-hidden":!0},void 0,m(f.default,{className:p.default.button,onClick:this.jumpTo},void 0,c.default.Messages.JUMP))))};return t}(a.PureComponent);t.default=O;O.displayName="SearchResult"},315021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.search,n=e.searchId,r=e.renderEmbeds,w=e.scrollTo,D=e.searchResults,L=e.blockCount,U=t.offset,G=t.totalResults,F=t.isSearching,x=t.showBlockedResults,B=m.RenderSpoilers.useSetting(),H=a.useCallback((function(e){
if(e!==S.default.getChannelId()){var t=_.default.getChannel(e);null!=t&&h.default.can(N.Permissions.VIEW_CHANNEL,t)&&(0,y.transitionToChannel)(t.id)}}),[]),W=a.useCallback((function(e){F||l.changePage(n,e-1)}),[n,F]),V=a.useCallback((function(e){if(e.blocked)i.default.show({title:P.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:P.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:P.default.Messages.OKAY});else{var t=_.default.getChannel(e.channel_id),r=null!=t?t.getGuildId():null;u.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:E.default.getAnalyticsId(n)});(0,v.transitionTo)(N.Routes.CHANNEL(r,e.channel_id,e.id))}}),[n]),Y=a.useMemo((function(){if(null==D)return[];var e,t=0;return D.reduce((function(n,r){var a=r.find((function(e){return e.isSearchHit}));if(!x&&null!=a&&g.default.isBlocked(a.author.id))return n;var o=_.default.getChannel(r[0].channel_id);if(null==o)return n;null!=e&&e===o.id||n.push({channel:o,results:[],startIndex:t});t+=1
;n[n.length-1].results.push(r);e=null==o?void 0:o.id;return n}),[])}),[D,x]),K=a.useRef([]),z=Y.reduce((function(e,t){return e+1+t.results.length}),0),$=a.useCallback((function(e,t){if(s.default.keyboardModeEnabled){var n=K.current,r=null!=t?n[t]:void 0;if(null!=r&&null!=r.hitRef.current){var a=r.hitRef.current.getClientRects()[0],o=a.top-.5*a.height;w(o,!1,(function(){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[w]),q=a.useCallback((function(e){var t=K.current[e];null==t||t.jumpTo()}),[]),X=(0,o.useListNavigator)({navId:"search-results",itemCount:z,focusedIndex:0,setFocus:$,onSelect:q}),Q=Y.map((function(e){var t,o=e.channel,i=e.results,u=e.startIndex,l=null!=o?(0,d.computeChannelName)(o,O.default,g.default,!1):"???",s=null!==(t=(0,f.default)(o))&&void 0!==t?t:C.default,c=h.default.can(N.Permissions.MANAGE_MESSAGES,o);return j(I.SpoilerDisplayContext.Provider,{value:(0,p.default)(B,c)},void 0,j("ul",{role:"group",className:R.default.searchResultGroup,
"aria-label":l},o.id+"-"+u,j(b.default,{onClick:function(){return H(o.id)}},void 0,j(T.Text,{className:R.default.channelName,variant:"text-md/normal",color:"header-primary"},void 0,j(s,{className:R.default.channelNameIcon,width:16,height:16}),j("span",{},void 0,l))),i.map((function(e,t){var o=u+t;return a.createElement(M.default,{ref:function(e){return K.current[o]=e},totalResults:G,scrollTo:w,searchId:n,renderEmbeds:r,searchOffset:U,pageResultsLength:i.length,result:e,index:o,key:"search-result-"+o,onJump:V,listItemProps:X.getItemProps({index:o})})}))))}));Q.push();var Z=a.useRef(null);a.useLayoutEffect((function(){var e;null===(e=Z.current)||void 0===e||e.focus()}),[D]);var J=(0,c.useFocusJumpSection)();return a.createElement(a.Fragment,null,a.createElement("div",k({ref:Z},X.getContainerProps(),J,{"aria-busy":F}),Q),L>0?j(b.default,{tag:"div",className:R.default.resultsBlocked,onClick:function(){return l.setShowBlockedResults(n,!x)}},void 0,j("div",{
className:R.default.resultsBlockedImage}),j("div",{className:R.default.resultsBlockedText},void 0,x?P.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:L}):P.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:L}))):null,!F&&j(A.default,{changePage:W,offset:U,totalResults:G,pageLength:N.SEARCH_PAGE_SIZE}))};var r,a=L(n(667294)),o=n(515664),i=w(n(190040)),u=w(n(786345)),l=L(n(896846)),s=w(n(235879)),d=n(678928),f=w(n(786661)),c=n(632123),p=w(n(916372)),v=n(139982),y=n(391869),m=n(894826),_=w(n(644263)),h=w(n(689389)),g=w(n(290629)),E=w(n(205982)),S=w(n(211136)),O=w(n(728429)),b=w(n(16941)),I=n(364767),T=n(645758),C=w(n(562796)),A=w(n(301929)),M=w(n(458517)),N=n(770348),P=w(n(247001)),R=w(n(464999));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},225379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=C(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=I(n(23170)),s=C(n(896846)),d=I(n(844784)),f=n(894826),c=I(n(205982)),p=I(n(211136)),v=I(n(871778)),y=I(n(49465)),m=I(n(235742)),_=n(956506),h=I(n(626643)),g=I(n(326648)),E=I(n(315021)),S=n(770348),O=I(n(247001)),b=I(n(22542));function I(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}var R=function(e){N(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){void 0===e&&(e=null);if(null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0;null!=t.props.searchResults&&(0,i.default)(t.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&o++}null!=e.embeds&&e.embeds.length>0&&a++;null!=e.attachments&&e.attachments.length>0&&r++}));d.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,
is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}};return t}var n=t.prototype;n.componentDidMount=function(){this.autoAnalytics()};n.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};n.render=function(){return null};return t}(a.Component);R.displayName="SearchResultsViewedAutoAnalytics";var w=function(e){var t=e.children;return M("div",{className:b.default.emptyResultsWrap},void 0,M("div",{className:b.default.emptyResultsContent},void 0,t))};w.displayName="EmptyResults";var D=M(y.default,{}),L=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={searchMode:S.SearchModes.NEWEST};t.scrollerRef=a.createRef();t.scrollTo=function(e,n,r){var a=t.scrollerRef.current;if(null!=a){var o=a.getScrollerState().scrollTop-e
;a.scrollTo({to:o,animate:n,callback:r})}};t.selectChannel=function(e){e!==p.default.getChannelId()&&l.default.transitionToInviteChannelSync(e)};t.searchPrevious=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchPreviousPage(n)};t.searchNext=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchNextPage(n)};t.handleSearchResultsClose=function(){var e=t.props.searchId;s.clearSearchState(e)};t.searchByMode=function(e){var n=t.props,r=n.searchId,a=n.search.isSearching;if(e!==t.state.searchMode&&!a){d.default.trackWithMetadata(S.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:c.default.getAnalyticsId(r),new_sort_type:e});s.searchByMode(r,e);t.setState({searchMode:e})}};t.toggleShowBlockedMessages=function(){var e=t.props,n=e.searchId,r=e.search.showBlockedResults;s.setShowBlockedResults(n,!r)};t.renderHeader=function(){var e=t.state.searchMode,n=t.props.search,r=n.totalResults,a=n.isSearching,o=n.isHistoricalIndexing,i=n.documentsIndexed
;return M(g.default,{searchMode:e,searchByMode:t.searchByMode,totalResults:r,isSearching:a,isIndexing:o,documentsIndexed:i})};t.renderIndexing=function(){var e=c.default.getSearchType(t.props.searchId)===S.SearchTypes.GUILD?O.default.Messages.SEARCH_GUILD_STILL_INDEXING:O.default.Messages.SEARCH_DM_STILL_INDEXING;return M(w,{},void 0,D,M("div",{className:(b.default.emptyResultsText,b.default.stillIndexing)},void 0,e))};t.renderNoResults=function(){var e,n,r=t.props.search.showNoResultsAlt,a=r?O.default.Messages.SEARCH_NO_RESULTS_ALT:O.default.Messages.SEARCH_NO_RESULTS;return M(w,{},void 0,M("div",{className:(0,o.default)(b.default.noResultsImage,(e={},e[b.default.alt]=r,e))}),M("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.noResults,(n={},n[b.default.alt]=r,n))},void 0,a))};t.renderError=function(){return M(w,{},void 0,M("div",{className:b.default.errorImage}),M("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.errorMessage)
},void 0,O.default.Messages.SEARCH_ERROR))};t.renderContent=function(){var e=t.props,n=e.searchResults,r=e.blockCount,a=t.props.search,o=a.totalResults,i=a.isSearching,u=a.isIndexing;return a.hasError?t.renderError():u?t.renderIndexing():i?null:o>0?M(E.default,{search:t.props.search,searchResults:n,blockCount:r,searchId:t.props.searchId,renderEmbeds:t.props.renderEmbeds,scrollTo:t.scrollTo}):t.renderNoResults()};return t}var n=t.prototype;n.componentDidMount=function(){_.ComponentDispatch.subscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentWillUnmount=function(){_.ComponentDispatch.unsubscribe(S.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return;n.scrollToBottom()}};n.render=function(){
var e=this.props,t=e.searchAnalyticsId,n=e.searchType,r=e.searchResults,o=this.props.search,i=o.offset,u=o.hasError,l=o.totalResults,s=o.isHistoricalIndexing;return M("section",{className:b.default.searchResultsWrap,"aria-label":O.default.Messages.SEARCH_RESULTS_SECTION_LABEL},void 0,this.renderHeader(),a.createElement(m.default,{ref:this.scrollerRef,className:b.default.scroller},this.renderContent()),M(R,{searchType:n,searchAnalyticsId:t,searchResults:r,searchOffset:i,searchLimit:S.SEARCH_PAGE_SIZE,searchHasError:u,searchTotalResults:l,searchIsIndexing:s}))};return t}(a.PureComponent);L.displayName="SearchResults";function k(e){var t=e.searchId;return a.createElement(L,A({searchId:t},(0,u.useStateFromStoresObject)([c.default],(function(){return{search:c.default.getResultsState(t),searchAnalyticsId:c.default.getAnalyticsId(t),searchType:c.default.getSearchType()}}),[t]),(0,h.default)(t),{renderEmbeds:f.RenderEmbeds.useSetting(),developerMode:f.DeveloperMode.useSetting()},(0,
u.useStateFromStoresObject)([v.default],(function(){return{theme:v.default.theme}}))))}k.displayName="ConnectedSearchResults"},394444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.UserSettingsManager=void 0;var r=i(n(636602)),a=i(n(177230)),o=n(894826);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=!1,s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("CONNECTION_OPEN",this.setVerifyTimezone);r.default.subscribe("CONNECTION_OPEN_SUPPLEMENTAL",this.maybeShowChangeLanguageToast);r.default.subscribe("OVERLAY_INITIALIZE",this.setVerifyTimezone);r.default.subscribe("USER_SETTINGS_UPDATE",this.ensureTimezoneUpdated)};n.maybeShowChangeLanguageToast=function(){};n._terminate=function(){
r.default.unsubscribe("CONNECTION_OPEN",this.setVerifyTimezone);r.default.unsubscribe("OVERLAY_INITIALIZE",this.setVerifyTimezone);r.default.unsubscribe("USER_SETTINGS_UPDATE",this.ensureTimezoneUpdated)};n.setVerifyTimezone=function(){l=!0};n.ensureTimezoneUpdated=function(){if(l){l=!1;var e=(new Date).getTimezoneOffset();o.TimezoneOffset.getSetting()!==e&&setImmediate((function(){return o.TimezoneOffset.updateSetting(e)}))}};return t}(a.default);t.UserSettingsManager=s;var d=new s;t.default=d},355152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){case a.SettingsOverrideReasonKeys.REDUCED_MOTION:return o.default.Messages.ACCESSIBILITY_REDUCED_MOTION_SETTINGS_OVERRIDE.format();case a.SettingsOverrideReasonKeys.REDUCED_MOTION_STICKERS:return o.default.Messages.STICKERS_AUTO_PLAY_HELP_DISABLED;default:return}};var r,a=n(130613),o=(r=n(247001))&&r.__esModule?r:{default:r}},610929:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(null==e)return!1;return a.default.getCurrentConfig({guildId:e.guild_id}).allowSoundboard&&e.type!==o.ChannelTypes.GUILD_STAGE_VOICE};var r,a=(r=n(915188))&&r.__esModule?r:{default:r},o=n(770348)},205809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isSoundboardSupported=u;t.useIsSoundboardSupported=function(){return(0,a.useStateFromStores)([o.default],(function(){return u(o.default)}))};var r,a=n(536211),o=(r=n(635014))&&r.__esModule?r:{default:r},i=n(376293);function u(e){void 0===e&&(e=o.default);return e.supports(i.Features.SAMPLE_PLAYBACK)}},362978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.sounds,r=e.guild,y=f.BoostedGuildFeatures[r.premiumTier].limits.soundboardSounds,m=t.length>=y;function g(){(0,d.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(87757)]).then(n.bind(n,987757));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,h({},e,{guildId:r.id}))}));case 5:case"end":return e.stop()}}),e)}))))}var S=function(e){var t;return a.createElement(i.default,h({},e,{className:(0,o.default)(p.default.soundButton,v.default.soundAddButton,(t={},t[v.default.soundAddButtonDisabled]=m,t)),onClick:m?void 0:g}),_(s.default,{className:v.default.soundAddIcon}),_(u.Text,{variant:"text-xs/normal",color:"header-primary"},void 0,c.default.Messages.SOUNDBOARD_SOUND_ADD_SOUND),_("div",{className:(0,o.default)(v.default.buttonOverlay,p.default.buttonOverlay)}))};if(m)return _(l.default,{text:c.default.Messages.SOUNDBOARD_SOUND_ADD_DISABLED.format({maxSounds:y})},void 0,(function(e){return S(e)}));return S()};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(16941)),u=n(645758),l=y(n(730977)),s=y(n(155393)),d=n(194322),f=n(265517),c=y(n(247001)),p=y(n(573473)),v=y(n(842496));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}},830900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(423405)),i=v(n(222935)),u=v(n(143414)),l=v(n(160629)),s=v(n(982244)),d=v(n(915188)),f=v(n(751037)),c=v(n(247001)),p=["channel"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),r=t.getGuildId(),v=(0,o.default)(t),y=v.mute,h=v.suppress;d.default.useExperiment({guildId:null!=r?r:""},{autoTrackExposure:null!=r});return null==r||y||h?null:_(l.default,{position:l.default.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return _(i.default,{},void 0,_(f.default,{guildId:r,onClose:t,analyticsSource:"call button"}))}},void 0,(function(e){return a.createElement(u.default,m({},e,{label:c.default.Messages.GUILD_SETTINGS_SOUNDBOARD,iconComponent:s.default},n))}))}h.displayName="SoundboardCallButton"},954500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(636602)),o=v(n(177230)),i=n(6505),u=v(n(652566)),l=v(n(644263)),s=v(n(527501)),d=n(194322),f=n(948924),c=v(n(610929)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){if(!__OVERLAY__){a.default.subscribe("GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY",this._handleSoundboardRequestPlay);a.default.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect)}};o._terminate=function(){if(!__OVERLAY__){a.default.unsubscribe("GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY",this._handleSoundboardRequestPlay)
;a.default.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect)}};o._handleSoundboardRequestPlay=function(e){var t=e.sound,n=e.analyticsLocation,r=e.fromOverlay;(0,f.playSoundboardSound)(t,n,r)};o._handleVoiceChannelSelect=function(e){var t=e.guildId,a=e.channelId;if(null!=t){var o=l.default.getChannel(a),f=s.default.getKeybindForAction(p.GlobalKeybindActions.SOUNDBOARD_HOLD);(0,c.default)(o)&&null!=f&&u.default.hasHotspot(i.HotspotLocations.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,d.openModalLazy)(h(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(906)]).then(n.bind(n,900906));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,m({},e,{guildId:t,keybind:f}))}));case 5:case"end":return e.stop()}}),e)}))))}};o.__getLocalVars=function(){return{}};return t}(o.default));t.default=E},751037:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=B;var r,a=j(n(667294)),o=n(47354),i=n(536211),u=L(n(954140)),l=L(n(37039)),s=L(n(185948)),d=L(n(526098)),f=L(n(964285)),c=L(n(749666)),p=L(n(30098)),v=L(n(893160)),y=L(n(527501)),m=L(n(151097)),_=L(n(16941)),h=j(n(20902)),g=L(n(80828)),E=n(688388),S=L(n(634230)),O=n(194322),b=n(864489),I=n(339943),T=j(n(948924)),C=L(n(637193)),A=L(n(625483)),M=L(n(790466)),N=L(n(273872)),P=L(n(362978)),R=n(770348),w=L(n(247001)),D=L(n(883740));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,u,"next",e)}function u(e){G(o,r,a,i,u,"throw",e)}i(void 0)}))}}var x=U(g.default,{});function B(e){var t=e.guildId,r=e.analyticsSource,p=e.onClose,g=(0,M.default)(t),N=(0,
i.useStateFromStores)([C.default],(function(){return C.default.getIsFetchingSoundsForGuild(t)})),P=(0,i.useStateFromStores)([v.default],(function(){return v.default.getMediaSessionId()})),L=(0,l.default)(u.default.SOUNDBOARD_POPOUT),k=L.analyticsLocations,j=L.AnalyticsLocationProvider,G=(0,i.useStateFromStores)([y.default],(function(){return y.default.getKeybindForAction(R.GlobalKeybindActions.SOUNDBOARD_HOLD)})),B=(0,A.default)(),W=B.playSound,V=B.checkIsPlayingSound;function Y(){p();(0,O.openModalLazy)(F(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31656)]).then(n.bind(n,431656));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}(0,s.default)({type:o.ImpressionTypes.POPOUT,name:o.ImpressionNames.SOUNDBOARD_POPOUT,properties:{source:r,guild_id:t,media_session_id:P}})
;a.useEffect((function(){T.fetchSoundsForGuild(t)}),[t]);var K=(0,b.isWindows)()?w.default.Messages.SOUNDBOARD_KEYBIND_HINT_GLOBAL:w.default.Messages.SOUNDBOARD_KEYBIND_HINT;return U(j,{},void 0,U("div",{className:D.default.root},void 0,U("div",{className:D.default.header},void 0,U(E.FormTitle,{className:D.default.headerText},void 0,w.default.Messages.GUILD_SETTINGS_SOUNDBOARD,U(d.default,{className:D.default.betaTag})),U(_.default,{className:D.default.settingsClickArea,onClick:function(){p();f.default.open(t,R.GuildSettingsSections.SOUNDBOARD)},"aria-label":w.default.Messages.SETTINGS},void 0,U(S.default,{className:D.default.settingsIcon}))),N?x:U(H,{guildId:t,onPlay:function(e){W(e,k)},checkIsPlayingSound:V,sounds:g}),null!=G?U(h.default,{messageType:h.HelpMessageTypes.INFO,className:D.default.keybindHint,textClassName:D.default.keybindHintText},void 0,K.format({keybind:(0,I.toString)(G.shortcut,!0).split(" + "),keybindHook:function(e,t){return U("span",{
className:D.default.keybindHintKeysWrapper},t,U(c.default,{className:D.default.keybindShortcut,shortcut:(0,I.toString)(G.shortcut,!1)}))},openSettingsHook:function(e,t){return U(m.default,{onClick:Y},t,e)}})):null))}B.displayName="SoundboardPopout";function H(e){var t=e.sounds,n=e.guildId,r=e.onPlay,a=e.checkIsPlayingSound,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getGuild(n)}));return null==o?null:U("div",{className:D.default.soundGrid},void 0,t.map((function(e){return U(N.default,{playing:a(e.id),sound:e,onPlay:function(){return r(e)},guildId:n,enableFavorite:!0,interactive:!0},e.id)})),U(P.default,{sounds:t,guild:o}))}H.displayName="SoundGrid"},131020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(468811)),i=n(923387),u=E(n(954140)),l=E(n(37039)),s=n(55922),d=E(n(265328)),f=E(n(423405)),c=E(n(956117)),p=E(n(160629)),v=E(n(730977)),y=E(n(982244)),m=E(n(915188)),_=E(n(751037)),h=E(n(247001)),g=["channel","iconClassName"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.channel,n=e.iconClassName,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g),E=(0,f.default)(t),S=E.mute,T=E.suppress,C=t.getGuildId(),A=I((0,s.useGetDismissibleContent)([i.DismissibleContent.SOUNDBOARD_EDUCATION]),2),M=A[0],N=A[1],P=(0,l.default)(u.default.SOUNDBOARD_BUTTON).AnalyticsLocationProvider,R=o.default.v4();function w(e){null==e||e();N()}m.default.useExperiment({guildId:null!=C?C:""},{autoTrackExposure:null!=C});if(null==C)return null;var D=b(y.default,{
className:n}),L=function(e){return b(p.default,{position:p.default.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return b(_.default,{guildId:C,onClose:t,analyticsSource:"rtc panel"})}},void 0,(function(t){return a.createElement(c.default,O({},e,t,{disabled:S||T,onClick:function(n){var r;w();null==e||null===(r=e.onClick)||void 0===r||r.call(e);t.onClick(n)},fullWidth:!0,size:c.default.Sizes.SMALL},r),D)}))};if(M===i.DismissibleContent.SOUNDBOARD_EDUCATION)return b(p.default,{positionKey:R,position:p.default.Positions.TOP,align:p.default.Align.CENTER,shouldShow:!0,renderPopout:function(e){var t=e.closePopout;return b(d.default,{header:h.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_HEADER,body:h.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_BODY,tryItText:h.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_GOT_IT,onTryFeature:function(){return w(t)},closePopout:function(){return w(t)},analyticsName:"Soundboard"})}},void 0,(function(){return L()}))
;return b(P,{},void 0,b(v.default,{text:S?h.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:T?h.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:h.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD},void 0,(function(e){return L(e)})))}C.displayName="SoundboardRTCPanelButton"},294498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setSoundpack=function(e){a.default.track(i.AnalyticEvents.SOUNDPACK_UPDATED,{soundpack:e,previous_soundpack:o.default.getSoundpack()});r.default.dispatch({type:"SET_SOUNDPACK",soundpack:e})};var r=u(n(636602)),a=u(n(308920)),o=u(n(796608)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},754966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(967965),i=d(n(329441)),u=n(294498),l=d(n(796608)),s=n(340038);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.className,n=(0,a.useStateFromStores)([l.default],(function(){
return l.default.getSoundpack()})),r=i.default.useExperiment({}).allowSoundpacks;if(!r)return null;var d=r?(0,s.getSoundpackOptionsAprilFools2021)():[];return c(o.SingleSelect,{className:t,onChange:function(e){return(0,u.setSoundpack)(e)},value:n,options:d})}p.displayName="SoundpackSelect"},619476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r=(0,a.useStateFromStores)([u.default,i.default],(function(){return null!=t?(0,s.default)(u.default,i.default,t,e):void 0}),[e,t]);if(null==r||null==e||null==t)return null;var v=r.isCurrentUser||r.notPlayable||r.playingSameTrack,y=r.isCurrentUser||r.syncingWithUser||r.syncingWithParty;return[m(o.MenuItem,{id:"spotify-play-"+e.session_id,action:function(){return(0,f.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:v?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_PLAY):void 0,disabled:v
}),r.canPlaySpotify?m(o.MenuItem,{id:"spotify-sync-"+e.session_id,action:function(){return(0,d.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:y?(0,l.default)(r,c.SpotifyActionTypes.USER_ACTIVITY_SYNC):void 0,disabled:y}):null]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=v(n(423046)),u=v(n(146411)),l=v(n(601715)),s=v(n(985923)),d=v(n(909630)),f=v(n(669790)),c=n(673810),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},1430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.audienceAckRequestToSpeak=E;t.editStage=function(e,t,n){return b.apply(this,arguments)};t.endStage=function(e){return I.apply(this,arguments)};t.inviteUserToStage=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,
request_to_speak_timestamp:(new Date).toISOString(),channel_id:e.id}})};t.moveSelfToAudience=function(e){var t=null==e?void 0:e.getGuildId();(0,r.default)(null!=t,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})};t.moveUserToAudience=function(e,t){if(null==t||null==e)return;var n=t.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");S(t,e.id,!0);return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1}})};t.removeUserFromChannel=function(e,t){var n=null==t?void 0:t.getGuildId();if(null==n||null==e)return;u.default.setChannel(n,e.id,null)};t.setEveryoneRolePermissionAllowed=function(e,t,n){var o=e.getGuildId();(0,r.default)(null!=o,"Channel cannot be guildless");var u=e.permissionOverwrites[o],s=g({id:o,type:l.PermissionOverwriteType.ROLE,allow:f.default.NONE,deny:f.default.NONE
},u);if(n){s.allow=a.default.add(s.allow,t);s.deny=a.default.remove(s.deny,t)}else{s.allow=a.default.remove(s.allow,t);s.deny=a.default.add(s.deny,t)}i.default.updatePermissionOverwrite(e.id,s)};t.setUserSuppress=S;t.startStage=function(e,t,n,r){return O.apply(this,arguments)};t.toggleRequestToSpeak=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");t&&(0,s.trackWithMetadata)(y.AnalyticEvents.REQUEST_TO_SPEAK_INITIATED,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?(new Date).toISOString():null,channel_id:e.id}})};var r=m(n(441143)),a=m(n(267258)),o=m(n(118915)),i=m(n(709403)),u=m(n(415275)),l=n(81069),s=n(844784),d=m(n(387692)),f=m(n(656016)),c=n(411315),p=n(169769),v=n(104144),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}
function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){var n=null==e?void 0:e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");var a=d.default.getVoiceStateForChannel(e.id);(0,v.getAudienceRequestToSpeakState)(a)!==v.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,s.trackWithMetadata)(y.AnalyticEvents.PROMOTED_TO_SPEAKER,g({},(0,c.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id}})}function S(e,t,n){var a=e.getGuildId();(0,r.default)(null!=a,"This channel cannot be guildless.")
;return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(a,t),body:{suppress:n,channel_id:e.id}})}function O(){return(O=h(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.startStageInstance)(t.id,n,r,a);case 4:o=e.sent;E(t,!1);return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=h(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.updateStageInstance)(t.id,n,r);case 4:a=e.sent;return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=h(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return(0,p.endStageInstance)(t.id);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},685810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.participantMemberInfo=function(e){var t;if((0,a.isNewUser)(e.user))return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt;if(null==n)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,i;return null!==(r=null===(i=e.role)||void 0===i?void 0:i.name)&&void 0!==r?r:o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}if((new Date).getTime()-Date.parse(n)<864e5)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER;return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER};var r,a=n(873838),o=(r=n(247001))&&r.__esModule?r:{default:r}},411315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.fillChunk=function(e,t,n){var a=(0,r.chunk)(e,t),o=null!=n?n:t;return a.reduce((function(e,t){if(o<=t.length)return[].concat(v(e),[t]);var n=[].concat(v(t),v(new Array(o-t.length).fill(null)));return[].concat(v(e),[n])}),[])};t.getRemoveModeratorTooltipHint=function(e,t){switch(e){case d.RowType.OWNER:return f.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case d.RowType.ADMINISTRATOR:return f.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case d.RowType.MEMBER:case d.RowType.ROLE:return t?f.default.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:f.default.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case d.RowType.EMPTY_STATE:return null}};t.getStageChannelMetadata=function(e){var t=u.default.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:a.default.getMediaSessionId(),
request_to_speak_state:i.default.canEveryoneRole(s.Permissions.REQUEST_TO_SPEAK,e)?l.RequestToSpeakPermissionStates.EVERYONE:l.RequestToSpeakPermissionStates.NO_ONE,stage_instance_id:null==t?void 0:t.id}};t.isVersionEqual=function(e,t){var n=p(e,2)[1],r=p(t,2)[1];return n===r};t.summarizeUsernamesParticipating=function(e,t,n,r){var a=t[0],i=o.default.getName(e,n,a),u=null!=r?r:t.length;if(1===u&&null!=a)return i;if(null==a)return f.default.Messages.SPEAKING_COUNT.format({count:u});return f.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:i,count:u-1})};t.summarizeUsernamesParticipatingWithSpeakerNickname=function(e,t,n){var r=null!=n?n:e.length;if(1===r&&null!=t)return t;if(null==t)return f.default.Messages.SPEAKING_COUNT.format({count:r});return f.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:t,count:r-1})};var r=n(496486),a=c(n(893160)),o=c(n(29652)),i=c(n(656016)),u=c(n(217964)),l=n(808961),s=n(770348),d=n(739889),f=c(n(247001));function c(e){
return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){
if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},342716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(636602)),a=p(n(740207)),o=n(123516),i=p(n(177230)),u=n(747868),l=p(n(607209)),s=p(n(423046)),d=p(n(644263)),f=p(n(635014)),c=n(104144);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(r))||this).handleVoiceStateUpdates=function(e){var n=e.voiceStates,r=s.default.getId();n.forEach((function(e){var n;if(e.userId===r){if(null===(n=d.default.getChannel(e.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,c.getAudienceRequestToSpeakState)(e)===c.RequestToSpeakStates.ON_STAGE)){t.handleStopStream(e);t.handleStopUserVideo()}}}}))};t.handleStopStream=function(e){var t=l.default.getActiveStreamForUser(e.userId);null!=t&&(0,o.stopStream)((0,u.encodeStreamKey)(t),!1)};t.handleStopUserVideo=function(){f.default.isVideoEnabled()&&a.default.setVideoEnabled(!1)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};n._terminate=function(){r.default.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};n.__getLocalVars=function(){return{}};return t}(i.default));t.default=y},169769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.endStageInstance=function(e){return a.default.delete(o.Endpoints.STAGE_INSTANCE(e))};t.startStageInstance=function(e,t,n,r,a){return l.apply(this,arguments)};t.updateStageInstance=function(e,t,n){return s.apply(this,arguments)};var r,a=(r=n(118915))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t,n,r,i,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.post({url:o.Endpoints.STAGE_INSTANCES,body:{channel_id:t,topic:n,privacy_level:r,guild_scheduled_event_id:u,send_start_notification:i}});case 2:l=e.sent;return e.abrupt("return",l.body);case 4:case"end":
return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=u(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.patch({url:o.Endpoints.STAGE_INSTANCE(t),body:{topic:n,privacy_level:r}});case 2:i=e.sent;return e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},913687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildStageVoice())return!1;if(!u.default.isLive(e.id))return!1;var t=r.default.getId();if(!i.default.isModerator(t,e.id))return!1;var n=a.default.getMutableParticipants(e.id,o.StageChannelParticipantNamedIndex.MODERATOR);if(n.length<=1)return!0;if(!i.default.isSpeaker(t,e.id))return!1;return n.filter((function(e){return e.id!==t&&e.speaker})).length<=0};var r=l(n(423046)),a=l(n(897191)),o=n(921867),i=l(n(258079)),u=l(n(217964));function l(e){return e&&e.__esModule?e:{
default:e}}},530877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getId()}));return(0,i.default)(t,e)===i.RequestToSpeakStates.ON_STAGE};var r,a=n(536211),o=(r=n(423046))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(104144));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},724571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){return(0,r.useStateFromStores)([a.default,o.default,i.default],(function(){var t=a.default.getId();return o.default.getVoiceChannelId()===e?i.default.getPermissionsForUser(t,e):null}),[e])};var r=n(536211),a=u(n(423046)),o=u(n(211136)),i=u(n(258079));function u(e){return e&&e.__esModule?e:{default:e}}},902477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useRequestToSpeakPermission=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getChannel(e)}),[e]),n=i.default.canEveryoneRole(l.Permissions.REQUEST_TO_SPEAK,t),s=(p=r.useState(n),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}
}(p,v)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];var p,v;r.useEffect((function(){n!==d&&c(n)}),[n]);return[d,function(e){if(null!=t){c(e);(0,u.setEveryoneRolePermissionAllowed)(t,l.Permissions.REQUEST_TO_SPEAK,e)}}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(644263)),i=s(n(656016)),u=n(1430),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},945544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useStageChannelParticipantsList=_;t.useStageChannelParticipantsListThrottled=function(e,t,n,r){void 0===r&&(r=!1);var a=_(e,t,r),o=v(a,2),i=o[0],u=o[1],l=v((0,f.useThrottledState)(a,n,[t[s.StageChannelParticipantNamedIndex.AUDIENCE]]),2),d=l[0],c=l[1],p=[i[h.SELECTED],i[h.SPEAKER],d[h.AUDIENCE]],y=[u[h.SELECTED],u[h.SPEAKER],c[h.AUDIENCE]];if(r){p.splice(1,0,i[h.MEDIA]);y.splice(1,0,u[h.MEDIA])}return[p,y]}
;t.useThrottleDurationForChannel=function(e){var t=(0,l.useStageParticipantsCount)(e,s.StageChannelParticipantNamedIndex.AUDIENCE),n=v(r.useState(!1),2),a=n[0],o=n[1];r.useEffect((function(){t>100?o(!0):t<75&&o(!1)}),[t]);return a?5e3:0};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=c(n(825724)),u=c(n(897191)),l=n(216554),s=n(921867),d=n(411315),f=n(2663);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){var l=(0,
o.useStateFromStores)([u.default],(function(){return[e,u.default.getParticipantsVersion(e)]}),[e],d.isVersionEqual),f=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipantId(e)}),[e]);return r.useMemo((function(){var r=[],o=[],i=-1,d=[];if(n)for(var c,p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u.default.getMutableParticipants(e,s.StageChannelParticipantNamedIndex.SPEAKER));!(c=p()).done;){var v=c.value;if(!v.voiceState.selfVideo&&v.type!==s.StageChannelParticipantTypes.STREAM)break;v.id!==f&&d.push(v);i++}var m=function(e,t,n){var u=n?e.filter((function(e,t){
return e.id!==f&&t>i})):e,l=(0,a.chunk)(u,t);o.push(l);r.push(l.length)},_=null!=f?u.default.getParticipant(e,f):null;(null==_?void 0:_.speaker)?m([_],1,!1):m([],1,!1);[s.StageChannelParticipantNamedIndex.SPEAKER,s.StageChannelParticipantNamedIndex.AUDIENCE].forEach((function(e){m(u.default.getMutableParticipants(l[0],e),t[e],e===s.StageChannelParticipantNamedIndex.SPEAKER)}));m(d,1,!1);return[r,o]}),[l,t,f,n,e])}var h;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}(h||(h={}))},641474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=3);return(n=(0,a.useStateFromStores)([o.default],(function(){for(var n,r=o.default.getMutableParticipants(e),a=[],i=function(){var e=n.value;if(a.length>=t)return"break";if(null!=a.find((function(t){return t.id===e.user.id})))return"continue";a.push(e.user)},l=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(n=l()).done;){var s=i();if("break"===s)break}return[{participants:r,usersInSummary:a},o.default.getParticipantsVersion(e)]}),[e,t],i.isVersionEqual),r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(n,r)||u(n,r)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var n,r};var r,a=n(536211),o=(r=n(897191))&&r.__esModule?r:{default:r},i=n(411315);function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThrottledState=t.useThrottledFunction=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return e};t.useThrottledState=function(e,t,n,a){void 0===n&&(n=[]);var o=s(l,t,n,a),i=r.useRef(e);r.useEffect((function(){var t=o(e);i.current=t}),[e,o]);return 0===t?e:i.current};var s=function(e,t,n,o){void 0===n&&(n=[]);var u=r.useRef((0,a.throttle)(e,t,o));r.useEffect((function(){u.current=(0,a.throttle)(e,t,o);return function(){var e;null===(e=u.current)||void 0===e||e.cancel()}}),[e,t,o].concat(i(n)));return u.current};t.useThrottledFunction=s},462867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getId()})),n=(0,
l.default)(t,e.id),r=n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK||n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,s=(p=a.useState(r),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()),d=s[0],c=s[1];var p,v;a.useEffect((function(){c(r)}),[r]);return[d,function(){n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,u.audienceAckRequestToSpeak)(e,!0):(0,u.toggleRequestToSpeak)(e,!d);c(!d)}]};var r,a=d(n(667294)),o=n(536211),i=(r=n(423046))&&r.__esModule?r:{default:r},u=n(1430),l=d(n(104144));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},158579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(667294)),i=s(n(2850)),u=(r=n(339753))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=o.memo((function(e){var t=e.channel,n=e.participants,r=e.maxTiles;if(0===n.length)return null;for(var a=[],o=0;o<r;o++)if(o<n.length){var l=n[o];a.push(d(i.default,{channel:t,participant:l},l.id))}else a.push(d(i.AudienceEmptyTile,{},o));return d("div",{className:u.default.participants},void 0,a)}));t.default=f},386191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=l(n(247001)),u=l(n(326714));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=a.memo((function(e){var t,n=e.role,r=e.participantCount;return d("div",{className:u.default.roleContainer},void 0,d(o.Text,{className:u.default.roleName,variant:"text-xs/normal"
},void 0,null!==(t=null==n?void 0:n.name)&&void 0!==t?t:i.default.Messages.AUDIENCE_LABEL,"—",r))}));t.default=f},2850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AudienceEmptyTile=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=b(n(294184)),i=b(n(441143)),u=n(536211),l=n(378158),s=n(433383),d=b(n(711195)),f=b(n(326939)),c=b(n(876874)),p=b(n(16941)),v=b(n(160629)),y=n(645758),m=b(n(337322)),_=b(n(782732)),h=b(n(924671)),g=b(n(29652)),E=n(104144),S=n(770348),O=b(n(967709));function b(e){return e&&e.__esModule?e:{default:e}}
function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=a.memo((function(e){var t=e.guildId,n=e.channelId,r=e.user,a=e.isPremium,o=e.isBlocked;return M("div",{className:O.default.textContainer},void 0,o?M(m.default,{className:O.default.blockedIcon,color:S.Colors.STATUS_RED}):null,M(y.Text,{className:O.default.text,variant:"text-sm/normal",color:"header-primary"},void 0,g.default.getName(t,n,r)),a?M(_.default,{className:O.default.boost,color:S.Colors.GUILD_BOOSTING_PINK}):null)})),P=a.memo((function(e){var t,n,r,i=e.participant,u=e.guildId,l=e.channel,s=e.isPremium,d=i.user,f=i.blocked,c=i.rtsState,p=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,v=c===E.RequestToSpeakStates.REQUESTED_TO_SPEAK||p;return a.createElement(a.Fragment,null,M("div",{className:O.default.avatarContainer},void 0,v&&M(h.default,{className:(0,o.default)(O.default.icon,(t={},t[O.default.invited]=p,t))}),M("img",{
src:null!==(n=d.getAvatarURL(l.guild_id,56,!1))&&void 0!==n?n:void 0,alt:d.username,"aria-label":d.username,className:(0,o.default)(O.default.avatar,(r={},r[O.default.faded]=f,r))})),M(N,{guildId:u,channelId:l.id,user:d,isPremium:s,isBlocked:f}))})),R=function(){return M("div",{className:O.default.tileBaseContainer})};t.AudienceEmptyTile=R;R.displayName="AudienceEmptyTile";var w=a.memo((function(e){var t=e.participant,r=e.channel,y=t.user,m=t.blocked,_=r.getGuildId(),h=(0,s.useAppContext)(),g=(0,u.useStateFromStores)([c.default],(function(){var e;return null!=_&&null!=(null===(e=c.default.getMember(_,y.id))||void 0===e?void 0:e.premiumSince)}),[_,y.id]);(0,i.default)(null!=_,"Channel cannot be guildless");var E=a.useCallback((function(e){(0,l.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,T({},e,{user:y,guildId:_,channelId:r.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:h})}),[y,_,r.id,h]),S=a.useCallback((function(e){return a.createElement(f.default,T({},e,{guildId:_,channelId:r.id,userId:y.id}))}),[r.id,_,y.id]),b=M(P,{participant:t,guildId:_,channel:r,isPremium:g});return M(v.default,{preload:function(){return(0,d.default)(y.id,y.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:S,position:v.default.Positions.RIGHT,spacing:8},void 0,(function(e){var t;return a.createElement(p.default,T({className:(0,o.default)(O.default.tileContainer,(t={},t[O.default.singleIcon]=g||m,t[O.default.doubleIcon]=g&&m,t)),onContextMenu:E},e),b)}))}));t.default=w},226155:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(709578)),i=d(n(635014)),u=d(n(974661)),l=d(n(180573)),s=["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.aspectRatio,n=e.blocked,r=e.channel,d=e.className,f=e.focused,v=e.children,y=e.inCall,m=e.inPopout,_=e.noBorder,h=e.onClick,g=e.onContextMenu,E=e.onDoubleClick,S=e.onVideoResize,O=e.paused,b=e.pulseSpeakingIndicator,I=e.participant,T=e.width,C=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),A=i.default.getVideoComponent();return c("div",{style:{width:T},className:l.default.spaceBetweenTiles},void 0,c(u.default,{className:l.default.tileSizer,aspectRatio:t},void 0,a.createElement(o.default,p({blocked:n,channel:r,className:d,focused:f,inCall:y,inPopout:m,noBorder:_,onClick:h,onContextMenu:g,onDoubleClick:E,onVideoResize:S,participant:I,paused:O,pulseSpeakingIndicator:b,videoComponent:A,width:T},C)),v))}v.displayName="AutosizingCallTile"},991636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(247001)),i=s(n(300443)),u=s(n(483683)),l=s(n(63685));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.children;return f("div",{className:(0,a.default)(i.default.container,t)},void 0,f("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:l.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleBottom)
}),n,f("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:u.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleTop)}))}c.displayName="IconWithSparkles"},542402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;h(n(667294));var r,a=m(n(294184)),o=m(n(644263)),i=m(n(211136)),u=m(n(956117)),l=n(645758),s=m(n(337322)),d=h(n(177101)),f=n(1430),c=m(n(14325)),p=n(123718),v=m(n(247001)),y=m(n(110717));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=i.default.getVoiceChannelId();if(null!=t){var n=o.default.getChannel(t);null!=n&&(0,f.audienceAckRequestToSpeak)(n,e)}}function S(){var e,t=(0,c.default)(),n=null!==(e=(0,p.useStageBlockedUsersCount)(null==t?void 0:t.id))&&void 0!==e?e:0;return g(d.default,{className:y.default.container,color:d.NoticeColors.DEFAULT},void 0,g("div",{},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER),n>0?g("div",{
className:y.default.blocked},void 0,g(s.default,{width:12,height:12,className:y.default.blockedIcon}),g("div",{className:y.default.blockedText},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n}))):null,g(u.default,{className:(0,a.default)(y.default.button,y.default.acceptButton),size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!1)}},void 0,g(l.Text,{className:y.default.acceptText,variant:"text-xs/normal",color:"none"},void 0,v.default.Messages.STAGE_SPEAK_INVITE_ACCEPT)),g(u.default,{className:(0,a.default)(y.default.button,y.default.declineButton),look:u.default.Looks.OUTLINED,size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!0)}},void 0,g(l.Text,{className:y.default.declineText,variant:"text-xs/normal",color:"none"},void 0,v.default.Messages.STAGE_SPEAK_INVITE_DECLINE)))}S.displayName="InvitedToSpeakNotice"},214563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(730977)),i=d(n(980351)),u=n(478036),l=d(n(247001)),s=d(n(817463));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(){return p(o.default,{text:l.default.Messages.STAGE_MODERATOR_TOOLTIP},void 0,(function(e){return a.createElement("div",c({},e,{className:s.default.container}),p(i.default,{color:u.Colors.WHITE}))}))};v.displayName="ModeratorBadge";var y=v;t.default=y},397789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(966708),u=m(n(145122)),l=m(n(563621)),s=m(n(160629)),d=m(n(91424)),f=m(n(811198)),c=m(n(878556)),p=n(770348),v=m(n(247001)),y=m(n(607673));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,i.useChannelNotificationRadioItems)(t);return S(u.default,{navId:"notification-settings",onClose:n,"aria-label":v.default.Messages.NOTIFICATION_SETTINGS,onSelect:r},void 0,a)}O.displayName="NotificationSettingsMenu";function b(e){var t=e.channel,n=g(a.useState(!1),2),r=n[0],i=n[1],u=(0,o.useStateFromStores)([l.default],(function(){return l.default.getChannelOverrides(t.guild_id)[t.id]}),[t.guild_id,t.id]),m=(null==u?void 0:u.message_notifications)===p.UserNotificationSettings.NO_MESSAGES,_=v.default.Messages.NOTIFICATION_SETTINGS;return S(s.default,{shouldShow:r,animation:s.default.Animation.NONE,
position:s.default.Positions.BOTTOM,align:s.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return i(!1)},renderPopout:function(e){return a.createElement(O,h({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(c.default.Icon,h({},e,{onClick:function(){return i((function(e){return!e}))},tooltip:n?null:_,icon:m?f.default:d.default,foreground:m?y.default.strikethrough:null,"aria-label":_}))}))}b.displayName="NotificationSettingsButton"},885903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=u(n(332282)),o=u(n(991636)),i=u(n(364266));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.className;return s(o.default,{className:t},void 0,s("div",{className:i.default.background},void 0,s(a.default,{className:i.default.foreground,width:32,height:32})))}d.displayName="RaisedHandsEmptyStateImage"},643200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.RaisedHandListButton=C;t.RaisedHandListButtonWithNUX=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(294184)),i=m(n(468811)),u=n(923387),l=m(n(305081)),s=m(n(142024)),d=m(n(143414)),f=m(n(160629)),c=n(645758),p=m(n(247001)),v=m(n(849800)),y=["toggleRequestToSpeakSidebar","showRequestToSpeakSidebar","className","numRequestToSpeak","onClick"];function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=g("rect",{fill:"white",width:"100%",height:"100%"}),b=g("circle",{cx:"20",cy:"19",r:"10",fill:"black"});function I(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,u=e.isBadged,l=void 0!==u&&u,s=E(a.useState((function(){return i.default.v4()})),1)[0];return g("svg",{width:n,height:o,viewBox:"0 0 24 24"},void 0,g("defs",{},void 0,g("mask",{id:s},void 0,O,l&&b)),g("path",{
fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
mask:"url(#"+s+")"}))}I.displayName="RaisedHandListIcon";function T(e){var t=e.className,n=e.numRequestToSpeak,r=n>0,a=n>99?"99+":n;return g("div",{className:(0,o.default)(v.default.raisedHandIcon,t)},void 0,g(I,{isBadged:r}),r?g(c.Text,{className:v.default.raisedHandCount,variant:"text-xs/normal"},void 0,a):null)}T.displayName="RaisedHandListIconContent";function C(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar,r=e.className,o=e.numRequestToSpeak,i=e.onClick,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,y),l=a.useCallback((function(){null==i||i();t()}),[i,t]),s=g(T,{numRequestToSpeak:o,className:r});return a.createElement(d.default,h({onClick:l,label:n?p.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:p.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,className:r,iconComponent:function(){return s}},u))}C.displayName="RaisedHandListButton";function A(e){
var t=e.toggleRequestToSpeakSidebar;return g(l.default,{contentTypes:[u.DismissibleContent.STAGE_RAISED_HAND_MOVED]},void 0,(function(n){var r=n.visibleContent,o=n.markAsDismissed;return r===u.DismissibleContent.STAGE_RAISED_HAND_MOVED?g(f.default,{renderPopout:function(){return g(s.default,{className:v.default.upsellTooltipOffset,header:p.default.Messages.RAISED_HAND_LIST_MOVED_NUX_TITLE,content:p.default.Messages.RAISED_HAND_LIST_MOVED_NUX_DESCRIPTION,onClick:t,buttonCTA:p.default.Messages.TEXT_IN_VOICE_ONBOARDING_CTA,secondaryButtonCTA:p.default.Messages.DISMISS,markAsDismissed:o,caretPosition:s.default.CaretPosition.TOP_RIGHT})},position:f.default.Positions.BOTTOM,align:f.default.Align.RIGHT,animation:f.default.Animation.TRANSLATE,spacing:16,shouldShow:!0},void 0,(function(){return a.createElement(C,h({},e,{onClick:o}))})):a.createElement(C,e)}))}A.displayName="RaisedHandListButtonWithNUX"},460936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=re
;var r,a=F(n(667294)),o=U(n(294184)),i=U(n(441143)),u=n(536211),l=n(378158),s=F(n(538930)),d=n(982437),f=U(n(711195)),c=U(n(326939)),p=U(n(876874)),v=U(n(689389)),y=U(n(788739)),m=U(n(956117)),_=U(n(16941)),h=U(n(160629)),g=U(n(567668)),E=n(645758),S=U(n(730977)),O=U(n(800533)),b=U(n(259530)),I=U(n(833837)),T=U(n(924671)),C=U(n(521358)),A=n(1430),M=n(216554),N=n(685810),P=n(104144),R=U(n(801967)),w=n(902477),D=U(n(885903)),L=n(478036),k=U(n(247001)),j=U(n(983953));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function B(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,u,"next",e)}function u(e){B(o,r,a,i,u,"throw",e)}i(void 0)}))}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}var K,z=Y(T.default,{}),$=Y(b.default,{}),q=a.memo((function(e){var t=e.toggleRequestToSpeakSidebar;return Y("div",{className:j.default.headerContainer},void 0,z,Y(E.Text,{className:j.default.headerTitle,variant:"text-md/normal",color:"header-primary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE),Y(_.default,{className:j.default.headerClose,onClick:t,"aria-label":k.default.Messages.CLOSE},void 0,$))})),X=Y(I.default,{width:16,height:16}),Q=Y(b.default,{width:16,height:16}),Z=a.memo((function(e){var t=e.channel,r=e.participant,v=e.tempDisableOnInit,g=void 0!==v&&v,b=W(a.useState(g),2),I=b[0],T=b[1];a.useEffect((function(){if(I){var e=setTimeout((function(){return T(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var C=t.getGuildId();(0,i.default)(null!=C,"Channel cannot be guildless");var M=(0,u.useStateFromStoresObject)([y.default],(function(){return{isMobile:y.default.isMobileOnline(r.user.id),status:y.default.getStatus(r.user.id,C)}
})),R=M.isMobile,w=M.status,D=(0,u.useStateFromStores)([p.default],(function(){return p.default.getMember(C,r.user.id)})),L=a.useMemo((function(){var e;return(e={})[C]=[r.user.id],e}),[C,r.user.id]);(0,d.useSubscribeGuildMembers)(L);var U=r.rtsState===P.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function G(){(0,A.setUserSuppress)(t,r.user.id,!1)}function F(){(0,A.setUserSuppress)(t,r.user.id,!0)}var B=function(e){(0,l.openContextMenuLazy)(e,H(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,x({},e,{user:r.user,guildId:C,channelId:t.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};return Y("div",{className:j.default.participantRowContainer
},void 0,Y(h.default,{preload:function(){return(0,f.default)(r.user.id,r.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(c.default,x({},e,{userId:r.user.id,guildId:C,channelId:t.id}))},position:h.default.Positions.LEFT,spacing:16},void 0,(function(e){var t;return a.createElement(_.default,x({className:j.default.participantMemberContainer,onContextMenu:B},e),Y(s.default,{size:s.Sizes.SIZE_40,className:j.default.participantAvatar,user:r.user,isMobile:R,status:w}),Y("div",{className:j.default.participantTextContainer},void 0,Y(O.default,{name:r.userNick,color:null!==(t=null==D?void 0:D.colorString)&&void 0!==t?t:void 0,className:j.default.participantName}),Y(E.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,(0,N.participantMemberInfo)(r))))})),Y(S.default,{text:U?k.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:k.default.Messages.REQUEST_TO_SPEAK_ACCEPT},void 0,(function(e){return a.createElement(m.default,x({},e,{
innerClassName:j.default.buttonContainer,look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,onClick:G,disabled:U||I}),X)})),Y(S.default,{text:k.default.Messages.REQUEST_TO_SPEAK_DECLINE},void 0,(function(e){return a.createElement(m.default,x({},e,{innerClassName:(0,o.default)(j.default.buttonContainer,j.default.buttonMargin),look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,onClick:F}),Q)})))})),J=a.memo((function(e){var t=e.channel,n=W((0,w.useRequestToSpeakPermission)(t.id),2),r=n[0],a=n[1];return Y(g.default,{className:j.default.toggle,onChange:a,value:r},void 0,k.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND)})),ee=Y(D.default,{}),te=a.memo((function(){return Y("div",{className:j.default.emptyStateContainer},void 0,ee,Y(E.Text,{className:j.default.emptyStateTitle,variant:"text-lg/normal",color:"header-primary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE),Y(E.Text,{className:j.default.emptyStateBody,variant:"text-sm/normal",color:"header-secondary"
},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY))}));!function(e){e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.PARTICIPANTS=1]="PARTICIPANTS"}(K||(K={}));var ne=Y(te,{},"participants-empty");function re(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=(0,R.default)(t.id).speaker,a=(0,M.useSortedRequestToSpeakParticipants)(t.id),o=[(0,u.useStateFromStores)([v.default],(function(){return v.default.can(L.Permissions.MANAGE_CHANNELS,t)||v.default.can(L.Permissions.MANAGE_ROLES,t)}))?1:0,r?0:1,Math.max(1,a.length)];var i=Y(J,{channel:t},"rts-toggle");return Y("div",{className:j.default.container},void 0,Y(q,{toggleRequestToSpeakSidebar:n}),Y(C.default,{className:j.default.contentContainer,sections:o,sectionHeight:function(e){return e===K.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){case K.TOGGLE_REQUEST_TO_SPEAK:return 66;case K.PARTICIPANTS:return 0===a.length?178:48}return 0},renderRow:function(e){var n=e.section,r=e.row;switch(n){
case K.TOGGLE_REQUEST_TO_SPEAK:return i;case K.PARTICIPANTS:if(0===a.length)return ne;var o=a[r];return Y(Z,{channel:t,participant:o,tempDisableOnInit:!0},o.id)}return null},renderSection:function(e){return e.section===K.PARTICIPANTS?Y(E.Text,{className:j.default.listTitle,variant:"text-xs/normal",color:"header-secondary"},"participants-section",a.length>0?k.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:a.length}):k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE):null}}))}re.displayName="RequestToSpeakSidebar"},492626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null
;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(203418))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t=e.children;return e.shouldAnimate?u("div",{className:o.default.outerContainer},void 0,u("div",{className:o.default.innerContainer},void 0,t)):t};l.displayName="SpeakerPulse";var s=l;t.default=s},551619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0
});t.default=ae;var r,a=K(n(667294)),o=V(n(294184)),i=V(n(441143)),u=n(496486),l=n(473727),s=n(536211),d=V(n(972247)),f=V(n(636602)),c=n(433383),p=V(n(825724)),v=V(n(66384)),y=n(596271),m=K(n(8475)),_=V(n(902305)),h=n(139982),g=V(n(531334)),E=K(n(430251)),S=V(n(866219)),O=V(n(561603)),b=V(n(423046)),I=V(n(30098)),T=V(n(689389)),C=V(n(211136)),A=n(194322),M=n(319986),N=n(864489),P=n(518802),R=V(n(922629)),w=V(n(217964)),D=K(n(285256)),L=V(n(460936)),k=V(n(460372)),j=V(n(600577)),U=V(n(268372)),G=V(n(35997)),F=V(n(357474)),x=n(770348),B=n(859089),H=V(n(247001)),W=V(n(76034));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,u,"next",e)}function u(e){z(o,r,a,i,u,"throw",e)}i(void 0)}))}}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Z="HasBeenInStageChannel",J=function(e,t){
return function(){var n=e.getGuildId();null!=n&&null!=t&&(0,h.transitionToGuild)(n,t);m.openChannelCallPopout(e)}},ee=function(){f.default.wait((function(){return m.close(x.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))};function te(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,o=e.popoutWindow,i=e.selectedParticipant,u=t.getGuildId(),l=(0,s.useStateFromStores)([C.default],(function(){return C.default.getMostRecentSelectedTextChannelId(u)}),[u]),d=b.default.getId(),f=!(0,s.useStateFromStores)([p.default],(function(){return p.default.isFullscreenInContext(n)}))&&(!N.isPlatformEmbedded||N.isPlatformEmbedded&&R.default.supportsFeature(x.NativeFeatures.POPOUT_WINDOWS)),c=null!=i&&i.type!==B.ParticipantTypes.ACTIVITY&&i.user.id!==d,y=a.useMemo((function(){var e;return null!==(e=null==o?void 0:o.window)&&void 0!==e?e:window}),[o]),m=(0,F.default)({channel:t,appContext:n,popoutOpen:r,popoutWindow:o,currentWindow:y});return a.createElement(a.Fragment,null,c?Q(O.default,{context:(0,
v.default)(i.type),userId:i.user.id,currentWindow:y,sliderClassName:W.default.volumeSlider}):null,f?Q(S.default,{className:W.default.rightTrayIcon,popoutOpen:r,onOpenPopout:J(t,l),onClosePopout:ee}):null,m)}function ne(e){var t=e.channel,n=(0,c.useAppContext)(),r=(0,s.useStateFromStores)([T.default],(function(){return T.default.can(x.Permissions.CREATE_INSTANT_INVITE,t)})),a=(0,s.useStateFromStores)([I.default],(function(){return I.default.getGuild(t.guild_id)})),o=(0,s.useStateFromStores)([w.default],(function(){return w.default.getStageInstanceByChannel(t.id)})),i=r||null!=(null==o?void 0:o.invite_code);return null!=a&&i?Q(g.default,{channel:t,appContext:n,className:W.default.leftTrayIcon,analyticsLocation:t.type===x.ChannelTypes.GUILD_STAGE_VOICE?x.AnalyticsPages.GUILD_CHANNEL:x.AnalyticsPages.DM_CHANNEL}):null}ne.displayName="StageChannelInviteButton";function re(e){var t,n=e.channel,r=e.toggleRequestToSpeakSidebar,o=e.showRequestToSpeakSidebar,d=e.popoutWindow,f=e.popoutOpen,v=(0,
c.useAppContext)(),m=(0,s.useStateFromStores)([C.default],(function(){return C.default.getVoiceChannelId()===n.id}),[n.id]),_=(0,s.useStateFromStores)([p.default],(function(){return p.default.getSelectedParticipant(n.id)}),[n.id]),h=f&&v!==x.AppContext.POPOUT,g=q(a.useState(0),2),S=g[0],O=g[1],b=(0,D.default)().isOnStartStageScreen;(0,D.useUpdateIsOnStartStageScreenEffect)(n);a.useEffect((function(){!m&&f&&ee()}),[f,m]);if(!m&&!f){var I=(0,y.getGuildIdForGenericRedirect)(n),T=n.getGuildId();(0,i.default)(null!=T,"Guild voice channel without guild id.");return Q(l.Redirect,{to:(0,M.previousTextChannelRouteForGuild)(null!=I?I:T)})}t=b?Q(G.default,{channel:n,onContinueClick:function(){return(0,D.setIsOnStartStageScreen)(!1)}}):Q(j.default,{channel:n,onScroll:function(e){var t=e.target.scrollTop;(0,u.debounce)((function(){return O(t)}),1e3,{leading:!0})()}});var A=Q(ne,{channel:n}),N=Q(U.default,{channel:n,isOnStartStageScreen:b}),P=Q(te,{channel:n,appContext:v,popoutOpen:f,popoutWindow:d,
selectedParticipant:_}),R=Q(k.default,{toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:o,channel:n});return Q(E.default,{disableGradients:0===S&&E.DisableGradient.TOP,renderBottomLeft:function(){return A},renderBottomCenter:function(){return N},renderBottomRight:function(){return P},renderHeader:function(){return R},onActive:function(){},onPreventIdle:function(){},onAllowIdle:function(){},onForceIdle:function(){},screenMessage:h?{mainText:H.default.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1},void 0,!h&&t)}re.displayName="StageChannelCallContent";function ae(e){var t,r=e.channel,i=q(a.useState(!1),2),u=i[0],l=i[1],f=a.useCallback((function(){l(!u)}),[u,l]),c=(0,s.useStateFromStores)([_.default],(function(){return _.default.getWindow(x.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),p=null!=c&&!c.closed;a.useEffect((function(){if(null==d.default.get(Z)){(0,A.openModalLazy)($(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2345)]).then(n.bind(n,102345));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));d.default.set(Z,Date.now())}}),[]);return Q("div",{className:W.default.container},void 0,Q("div",{className:(0,o.default)(W.default.callContainer,(0,P.getThemeClass)(x.ThemeTypes.DARK),(t={},t[W.default.sidebarVisible]=u,t))},void 0,Q(re,{channel:r,toggleRequestToSpeakSidebar:f,showRequestToSpeakSidebar:u,popoutWindow:c,popoutOpen:p})),u?Q(L.default,{channel:r,toggleRequestToSpeakSidebar:f}):null)}ae.displayName="StageChannelCall"},460372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(294184)),i=n(536211),u=n(433383),l=M(n(678928)),s=M(n(689389)),d=n(645758),f=M(n(634230)),c=M(n(332282)),p=M(n(878556)),v=n(864489),y=n(518802),m=M(n(922629)),_=n(559133),h=n(216554),g=n(921867),E=n(318678),S=n(365744),O=M(n(217964)),b=M(n(397789)),I=n(643200),T=n(770348),C=M(n(247001)),A=M(n(903330));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(){return L.apply(this,arguments)}function L(){return(L=w(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,v.isOSX)()||!v.isPlatformEmbedded){e.next=14;break}e.next=3;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){
e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?m.default.minimize():"Maximize"===a&&m.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t,n=e.channel,r=e.toggleRequestToSpeakSidebar,l=e.showRequestToSpeakSidebar,d=(0,u.useAppContext)(),c=(0,i.useStateFromStores)([s.default],(function(){return s.default.can(S.MODERATE_STAGE_CHANNEL_PERMISSIONS,n)})),v=(0,E.useCanModerateRequestToSpeak)(n.id),y=(0,h.useStageParticipantsCount)(n.id,g.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY);return a.createElement(a.Fragment,null,P(b.default,{channel:n}),c?P(p.default.Icon,{onClick:function(){(0,_.openStageChannelSettings)(n,d)},tooltip:C.default.Messages.STAGE_SETTINGS,"aria-label":C.default.Messages.STAGE_SETTINGS,icon:f.default}):null,!l&&v?a.createElement(a.Fragment,null,P(p.default.Divider,{className:A.default.divider},"divider"),P("div",{className:(0,
o.default)(A.default.topRightContainer,(t={},t[A.default.sidebarOpen]=l,t))},void 0,P(I.RaisedHandListButtonWithNUX,{className:A.default.raisedHandButtonContainer,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:l,numRequestToSpeak:y}))):null)}function j(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=e.showRequestToSpeakSidebar,u=(0,l.default)(t),s=(0,i.useStateFromStores)([O.default],(function(){return O.default.getStageInstanceByChannel(t.id)}));return P(p.default,{toolbar:P(k,{toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:r,channel:t}),onDoubleClick:D,transparent:!0,className:(0,o.default)((0,y.getThemeClass)(T.ThemeTypes.DARK),A.default.participants)},void 0,P(p.default.Icon,{icon:c.default,disabled:!0,"aria-label":C.default.Messages.STAGE_CHANNEL,className:A.default.icon}),P(p.default.Title,{className:A.default.channelName},void 0,u),null!=s?a.createElement(a.Fragment,null,P(p.default.Divider,{className:A.default.divider}),P(d.Text,{variant:"text-md/normal",
color:"header-secondary",className:A.default.title},void 0,null==s?void 0:s.topic)):null)}j.displayName="StageChannelCallHeader"},25974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(294184)),i=n(536211),u=m(n(689389)),l=n(645758),s=m(n(337322)),d=m(n(878338)),f=m(n(855480)),c=n(365744),p=m(n(217964)),v=m(n(247001)),y=m(n(957652));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=14;var E=function(e){var t=e.subtitle;return h(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:(0,o.default)(y.default.subtitle,y.default.height)},void 0,t)};E.displayName="StageSubtitle";var S=function(e){var t=e.speakerCount,n=e.audienceCount,r=e.blockedCount;return h("div",{className:y.default.height},void 0,h("div",{className:y.default.stageSummary},void 0,h(f.default,{height:g,width:g,className:y.default.icon}),h(l.Text,{color:"header-secondary",variant:"text-xs/normal"
},void 0,v.default.Messages.SPEAKING_COUNT.format({count:String(t)})),h("div",{className:y.default.dotSeparator}),h(d.default,{width:g,height:g,className:y.default.icon}),h(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.LISTENING_COUNT.format({count:String(n)})),r>0?a.createElement(a.Fragment,null,h("div",{className:y.default.dotSeparator}),h(s.default,{width:g,height:g,className:y.default.icon}),h(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.BLOCKED_COUNT.format({count:String(r)}))):null))};S.displayName="StageSummary";var O=function(e){var t=e.channel,n=e.speakerCount,r=e.audienceCount,a=e.blockedCount,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getStageInstanceByChannel(t.id)}),[t.id]),s=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(c.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),d=function(e,t){
return t?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR:v.default.Messages.STAGE_START_PROMPT_TITLE}(0,s),f=null!=o,m=s&&!f?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR_DESKTOP:void 0;return h("div",{className:y.default.container},void 0,!f&&h(l.Text,{variant:"text-lg/normal",color:"header-primary",className:y.default.title},void 0,d),null!=m?h(E,{subtitle:m}):h(S,{speakerCount:n,audienceCount:r,blockedCount:a}))};O.displayName="StageChannelCallTopic";var b=O;t.default=b},600577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LayoutSections=void 0;var r,a=b(n(667294)),o=n(536211),i=S(n(864345)),u=S(n(825724)),l=S(n(728429)),s=S(n(387692)),d=S(n(897191)),f=n(921867),c=S(n(217964)),p=n(945544),v=S(n(158579)),y=S(n(386191)),m=S(n(25974)),_=S(n(586315)),h=S(n(576989)),g=b(n(533646)),E=S(n(298579));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,M=424,N=624,P=824;t.LayoutSections=A;!function(e){e[e.SELECTED=0]="SELECTED"
;e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(A||(t.LayoutSections=A={}));var R=function(e){var t,n,r,i=e.channel,S=e.width,O=e.onScroll,b=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.getCurrentUser())||void 0===e?void 0:e.id}),[]),C=(0,o.useStateFromStores)([u.default],(function(){return u.default.getSelectedParticipantId(i.id)})),R=(0,o.useStateFromStores)([s.default],(function(){return s.default.isInChannel(i.id,b)}),[b,i.id]),w=(0,o.useStateFromStoresObject)([d.default],(function(){var e=d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.AUDIENCE);return{speakerCount:d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.SPEAKER),audienceCount:e,blockedCount:d.default.getParticipantCount(i.id,f.StageChannelParticipantNamedIndex.BLOCKED),selectedStageParticipant:null!=C?d.default.getParticipant(i.id,C):null}
}),[C]),D=w.speakerCount,L=w.audienceCount,k=w.blockedCount,j=w.selectedStageParticipant,U=function(e){return Math.floor((e-32)/102)}(S),G=function(e){return e<M?1:e<N?2:e<P?3:4}(S),F=((t={})[f.StageChannelParticipantNamedIndex.SPEAKER]=G,t[f.StageChannelParticipantNamedIndex.AUDIENCE]=U,t[f.StageChannelParticipantNamedIndex.SELECTED]=1,t),x=(0,p.useThrottleDurationForChannel)(i.id),B=T((0,p.useStageChannelParticipantsListThrottled)(i.id,F,x),2),H=B[0],W=B[1],V=[Math.max(null!==(n=H[A.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(r=H[A.SPEAKER])&&void 0!==r?r:1,1),H[A.AUDIENCE]],Y=function(e,t){var n=Math.floor(e/t-8);return{speakerTileWidth:n,speakerTileHeight:Math.floor(n/g.SPEAKER_TILE_ASPECT_RATIO)}}(S,G),K=Y.speakerTileWidth,z=Y.speakerTileHeight,$=Math.min(S-64,3*K+8),q=null!=(0,o.useStateFromStores)([c.default],(function(){return c.default.getStageInstanceByChannel(i.id)}),[i.id]),X=function(e){return e===H.length-1},Q=I(m.default,{channel:i,audienceCount:L,speakerCount:D,
blockedCount:k},"speaker-header");return R?I(_.default,{sections:V,renderSection:function(e){var t=e.section;return t===A.SELECTED?Q:t===A.AUDIENCE?0===L?null:I(y.default,{participantCount:L},"audience-header-"+t):null},sectionHeight:function(e){return e===A.SPEAKER?q?90:154:64},renderRow:function(e){var t=e.section,n=e.row,r=W[t][n];if(null==(null==r?void 0:r.length))return null;switch(t){case A.SELECTED:return 0===r.length||null==r[0]?null:I("div",{className:E.default.focusedRow},"selected-participant",I(g.default,{channel:i,participant:r[0],width:$}));case A.SPEAKER:return I(a.Fragment,{},"speakers-"+t+"-"+n,I(h.default,{tileWidth:K,channel:i,participants:r,selectedParticipant:j}));case A.AUDIENCE:return I(v.default,{channel:i,participants:r,maxTiles:U},"audience-"+t+"-"+n);default:return null}},rowHeight:function(e){return null==W[e][A.SELECTED]?0:e===A.SELECTED?$/g.SPEAKER_TILE_ASPECT_RATIO+8:e===A.SPEAKER?z:98},renderFooter:function(e){var t=e.section
;return t===A.SPEAKER?I("div",{className:E.default.divider},"speaker-divider"):X(t)?I("div",{className:E.default.spacer},"bottom-spacer"):null},footerHeight:function(e){return e===A.SPEAKER?24:X(e)?88:0},className:E.default.scroller,chunkSize:60,onScroll:O}):null};R.displayName="StageChannelCallView";var w=(0,i.default)(R);t.default=w},268372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ae(n(667294)),o=ne(n(294184)),i=n(536211),u=ne(n(136873)),l=n(433383),s=ne(n(825724)),d=ne(n(190320)),f=ne(n(932018)),c=ne(n(590087)),p=ne(n(904577)),v=ne(n(379310)),y=n(668516),m=ne(n(620859)),_=ne(n(473842)),h=ae(n(145122)),g=ne(n(373115)),E=ne(n(431388)),S=ne(n(770404)),O=ne(n(423405)),b=n(839166),I=ne(n(493051)),T=ne(n(222935)),C=n(143414),A=ne(n(607576)),M=ne(n(645675)),N=ne(n(423046)),P=ne(n(635014)),R=ne(n(689389)),w=ne(n(728429)),D=ne(n(956117)),L=ne(n(160629)),k=n(645758),j=ne(n(331546)),U=ne(n(930600)),G=ne(n(155084)),F=ne(n(833837)),x=ne(n(924671)),B=n(559133),H=n(1430),W=n(318678),V=n(365744),Y=ne(n(258079)),K=ne(n(217964)),z=ne(n(461713)),$=ne(n(913687)),q=ne(n(530877)),X=ne(n(697160)),Q=ne(n(462867)),Z=n(770348),J=n(474477),ee=ne(n(247001)),te=ne(n(639286));function ne(e){return e&&e.__esModule?e:{default:e}}function re(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(re=function(e){return e?n:t})(e)}function ae(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=re(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function oe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e){var t=e.channel,n=e.appContext;(0,$.default)(t)?(0,
B.openEndStageModal)(t,n):u.default.disconnect()}function se(e,t){return e?ee.default.Messages.AUDIENCE_LOWER_HAND:t?ee.default.Messages.AUDIENCE_RAISE_HAND_CTA:ee.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}var de=a.memo((function(e){var t=e.channel,n=ie((0,Q.default)(t),2),r=n[0],a=n[1],o=(0,i.useStateFromStores)([R.default],(function(){return R.default.can(Z.Permissions.REQUEST_TO_SPEAK,t)}));return oe("div",{className:te.default.container},void 0,oe(C.CenterControlButton,{color:r?"white":"primaryDark",label:se(r,o),iconComponent:function(){return oe(x.default,{className:r?te.default.raisedHandButtonIconActive:te.default.raisedHandButtonIcon})},onClick:a,disabled:!o&&!r}),oe(ve,{channel:t}))}));function fe(e){var t=e.onClick;return oe(D.default,{size:D.default.Sizes.MEDIUM,color:te.default.primaryButtonColor,className:(0,o.default)(te.default.buttonSpacing,te.default.buttonWithTextButton),onClick:t},void 0,oe("div",{className:te.default.buttonWithTextInnerContainer
},void 0,oe(F.default,{height:24,width:24,className:te.default.buttonWithTextIcon}),oe(k.Text,{color:"none",variant:"text-sm/medium"},void 0,ee.default.Messages.MODERATOR_RAISE_OWN_HAND)))}fe.displayName="MakeMeASpeakerButton";var ce=oe(j.default,{height:24,width:24}),pe=oe(j.default,{height:24,width:24});function ve(e){var t=e.channel,n=e.onSelect,r=(0,l.useAppContext)(),a=(0,y.useCanCreateEditDeleteEvent)(t.guild_id,t),u=(0,i.useStateFromStores)([K.default],(function(){return K.default.getStageInstanceByChannel(t.id)}),[t.id]),s=(0,O.default)(t).suppress,d=null!=(null==u?void 0:u.guild_scheduled_event_id),f=N.default.getId(),c=ie((0,Q.default)(t),1)[0],p=Y.default.isModerator(f,t.id),v=(0,W.useCanModerateRequestToSpeak)(t.id);return(p||d&&a)&&null!=u?oe(L.default,{renderPopout:function(e){var a=e.closePopout;return oe(T.default,{},void 0,oe(h.default,{navId:"exit-options","aria-label":ee.default.Messages.SET_STATUS,onClose:a,onSelect:n},void 0,oe(h.MenuItem,{id:"end-stage",
color:J.MenuItemColor.DANGER,action:function(){return(0,B.openEndGuildEventConfirmationModal)(t,r)},label:ee.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:U.default})))},align:L.default.Align.CENTER,position:L.default.Positions.TOP,animation:L.default.Animation.FADE},void 0,(function(e){var n=e.onClick;return oe(C.CenterControlButton,{className:te.default.buttonSpacing,label:ee.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return ce},onClick:function(){return le({channel:t,appContext:r})},onPopoutClick:n})})):s&&!v||c?oe(D.default,{size:D.default.Sizes.MEDIUM,color:D.default.Colors.RED,className:(0,o.default)(te.default.buttonSpacing,te.default.buttonWithTextButton),onClick:function(){return le({channel:t,appContext:r})}},void 0,oe("div",{className:te.default.buttonWithTextInnerContainer},void 0,oe(j.default,{height:24,width:24,className:te.default.buttonWithTextIcon}),oe(k.Text,{color:"none",variant:"text-sm/medium"
},void 0,ee.default.Messages.AUDIENCE_DISCONNECT))):oe(C.CenterControlButton,{className:te.default.buttonSpacing,label:ee.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return pe},onClick:function(){return le({channel:t,appContext:r})}})}ve.displayName="ExitStageButton";function ye(e){var t=e.onClick;return oe(D.default,{size:D.default.Sizes.MEDIUM,color:te.default.primaryButtonColor,className:(0,o.default)(te.default.buttonSpacing,te.default.buttonWithTextButton),onClick:t},void 0,oe("div",{className:te.default.buttonWithTextInnerContainer},void 0,oe(G.default,{height:24,width:24,className:te.default.buttonWithTextIcon}),oe(k.Text,{color:"none",variant:"text-sm/medium"},void 0,ee.default.Messages.MOVE_ME_TO_AUDIENCE)))}ye.displayName="MoveToAudienceButton";var me=a.memo((function(e){var t,n=e.channel,r=(0,O.default)(n),o=r.suppress,u=r.selfMute,l=r.mute,s=o||u||l,y=(0,W.useCanModerateRequestToSpeak)(n.id),m=z.default.useExperiment({
guildId:null!==(t=n.getGuildId())&&void 0!==t?t:""}).showVideoControls,_=(0,i.useStateFromStores)([p.default],(function(){return null!=p.default.getAwaitingRemoteSessionType()})),h=(0,g.default)(),C=h.cameraUnavailable,N=h.enabled,R=(0,S.default)(n),D=(0,E.default)(n),k=D.limit,j=D.reachedLimit,U=(0,i.useStateFromStores)([w.default],(function(){return w.default.getCurrentUser()})),G=(0,i.useStateFromStores)([P.default],(function(){return(0,v.default)(P.default)}));if(null==U)return null;var F=a.createElement(a.Fragment,null,oe(L.default,{renderPopout:function(e){var t=e.closePopout;return oe(T.default,{},void 0,oe(f.default,{onClose:t}))},position:L.default.Positions.TOP,align:L.default.Align.CENTER,animation:L.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return oe(M.default,{centerButton:!0,color:N?"white":"primaryDark",hasPermission:R,enabled:N,cameraUnavailable:C,onChange:b.handleToggleVideo,onCameraUnavailable:I.default,channelLimitReached:j,
channelLimit:k,popoutOpen:r,onPopoutClick:n})})),oe(b.GoLiveButton,{coloring:[b.BaseControlTrayColors.PRIMARY_DARK,b.ActiveControlTrayColors.WHITE],channel:n,currentUser:U,exitFullScreen:function(){return null},canGoLive:G,hasPermission:R}));return oe("div",{className:te.default.container},void 0,o?null:oe("div",{className:te.default.avControls},void 0,m&&F,oe(L.default,{renderPopout:function(e){var t=e.closePopout;return oe(T.default,{},void 0,oe(d.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0}))},align:L.default.Align.CENTER,position:L.default.Positions.TOP,animation:L.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return oe(A.default,{color:s?"white":"primaryDark",centerButton:!0,onPopoutClick:n,selfMute:u,serverMute:l,suppress:o,popoutOpen:r,onClick:function(){return(0,c.default)(l,o)},awaitingRemote:_})}))),y&&o&&oe(fe,{onClick:function(){return(0,H.audienceAckRequestToSpeak)(n,!1)}}),!o&&oe(ye,{onClick:function(){return(0,
H.moveSelfToAudience)(n)}}),oe(ve,{channel:n}))}));function _e(e){var t=e.channel;return oe("div",{className:te.default.container},void 0,oe(ve,{channel:t}))}_e.displayName="StartStageControlTray";var he=a.memo((function(e){var t=e.channel,n=e.isOnStartStageScreen,r=(0,q.default)(t.id),a=(0,W.useCanModerateRequestToSpeak)(t.id),o=(0,i.useStateFromStores)([R.default],(function(){return R.default.can(V.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),u=t.guild_id,l=(0,X.default)(t.id),d=(0,i.useStateFromStores)([s.default],(function(){return null!=t?s.default.getSelectedParticipant(t.id):null})),f=!l&&null==d;return n?oe(_e,{channel:t}):r||a?oe("div",{className:te.default.containerColumn},void 0,oe("div",{className:te.default.eventPrompts},void 0,f?oe(m.default,{guildId:u,channelId:null==t?void 0:t.id}):null,oe("div",{className:te.default.separator}),f&&o?oe(_.default,{highlight:!0,channel:t}):null,oe("div",{className:te.default.separator})),oe(me,{channel:t})):oe(de,{channel:t})}))
;t.default=he},525339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(636602)),o=c(n(177230)),i=c(n(423046)),u=c(n(644263)),l=c(n(121441)),s=n(194322),d=n(104144),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h="STAGE_INVITED_TO_SPEAK_MODAL",g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];(t=e.call.apply(e,[this].concat(o))||this).handleVoiceStateUpdates=function(e){var t,a=e.voiceStates,o=i.default.getId(),c=null===(t=l.default.getSession())||void 0===t?void 0:t.sessionId,p=a.find((function(e){return e.userId===o&&e.sessionId===c}))
;if(null!=p){var y=p.channelId;if(null!=y){var _=u.default.getChannel(y);if(null==_?void 0:_.isGuildStageVoice()){var g=(0,d.getAudienceRequestToSpeakState)(p)===d.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=_&&g){if((0,s.hasModalOpen)(h))return;(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7025)]).then(n.bind(n,207025));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,v({},e,{channel:_}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:h,onCloseRequest:f.NOOP_NULL})}}}else(0,s.hasModalOpen)(h)&&(0,s.closeModal)(h)}};return t}var o=t.prototype;o._initialize=function(){a.default.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};o._terminate=function(){a.default.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};o.__getLocalVars=function(){
return{MODAL_KEY:h}};return t}(o.default));t.default=g},586315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(753274),o=u(n(237727)),i=u(n(790875));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(i.default.auto,i.default.fade,null!==(r=ResizeObserver)&&void 0!==r?r:a.ResizeObserver);t.default=l},248414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StageChannelNowPlayingDelegate=void 0;var r,a=y(n(667294)),o=p(n(342518)),i=p(n(644263)),u=p(n(16941)),l=n(772575),s=y(n(637356)),d=n(13761),f=p(n(217964)),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t,n,r=e.activity,p=(null!==(t=(0,d.unpackStageChannelParty)(r))&&void 0!==t?t:{}).channelId,v=(0,o.default)([f.default],(function(){return f.default.getStageInstanceByChannel(p)}),[p]),y=a.useRef(null),_=a.useCallback((function(){var e=i.default.getChannel(p)
;null!=e&&s.connectAndOpen(e)}),[p]),h=null!==(n=null==v?void 0:v.topic)&&void 0!==n?n:r.name,g=c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:h});return a.createElement("div",{ref:y},m(u.default,{onClick:_,focusProps:{ringTarget:y}},void 0,m(l.Heading,{variant:"heading-deprecated-14/medium",level:3},void 0,g)))}_.displayName="StageChannelBody";var h=function(){function e(){this.body=_}var t=e.prototype;t.shouldShow=function(e){return(0,d.shouldShowActivity)(e)};t.createHeader=function(e){return{subtitle:c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}();t.StageChannelNowPlayingDelegate=h},576989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(533646)),i=u(n(403800));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=a.memo((function(e){var t=e.channel,n=e.participants,r=e.tileWidth,a=e.selectedParticipant;return s("div",{
className:i.default.rowContainer},void 0,n.map((function(e){return e.id===(null==a?void 0:a.id)?null:s(o.default,{channel:t,participant:e,width:r},e.id)})))}));t.default=d},533646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.SPEAKER_TILE_ASPECT_RATIO=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=N(n(441143)),i=n(536211),u=N(n(229132)),l=n(378158),s=n(123516),d=n(433383),f=n(836233),c=N(n(825724)),p=N(n(904577)),v=n(747868),y=n(385753),m=N(n(711195)),_=N(n(326939)),h=N(n(607209)),g=N(n(30098)),E=N(n(689389)),S=N(n(387692)),O=N(n(160629)),b=N(n(258079)),I=N(n(226155)),T=N(n(214563)),C=n(770348),A=n(859089),M=N(n(892314));function N(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}var k=16/9;t.SPEAKER_TILE_ASPECT_RATIO=k;var j=D(T.default,{}),U=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.guildId,i=e.user,u=e.width,l=e.isModerator,s=e.onContextMenu,d=e.inPopout,c=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,p=t.blocked,v=t.id;return D(O.default,{preload:null==n?void 0:function(){return(0,m.default)(n.user.id,n.user.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:function(e){return a.createElement(_.default,L({},e,{guildId:o,
channelId:r.id,userId:i.id}))},position:O.default.Positions.RIGHT,spacing:8},void 0,(function(e){return a.createElement(I.default,L({key:v},e,{participant:n,aspectRatio:k,blocked:p,channel:r,className:M.default.tile,inCall:!0,inPopout:d,paused:!1,pulseSpeakingIndicator:!c.enabled,width:u,onClick:function(t,n){return e.onClick(n)},onContextMenu:s}),l&&j)}))};U.displayName="StageVoiceTile";var G=D(T.default,{}),F=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.width,l=e.isModerator,d=e.onContextMenu,m=e.inPopout,_=a.useContext(f.AccessibilityPreferencesContext).reducedMotion,O=t.id,b=t.blocked,T=(0,i.useStateFromStoresArray)([h.default],(function(){return h.default.getAllActiveStreams()}),[]),N=(0,i.useStateFromStores)([c.default],(function(){return null!=r?c.default.getSelectedParticipant(r.id):null})),P=a.useCallback((function(e,t){if(e.type===A.ParticipantTypes.STREAM){if(0===T.filter((function(t){return(0,
v.encodeStreamKey)(t)===e.id&&t.state!==C.ApplicationStreamStates.ENDED})).length){if(!(0,y.canWatchStream)(r,S.default,g.default,E.default,p.default)[0])return;(0,s.watchStream)((0,v.decodeStreamKey)(e.id),{forceMultiple:t.shiftKey})}}(null==N?void 0:N.id)===e.id?u.default.selectParticipant(r.id,null):u.default.selectParticipant(r.id,e.id)}),[T,r,N]);return D(I.default,{participant:n,aspectRatio:k,blocked:b,channel:r,className:M.default.tile,inCall:!0,inPopout:m,onClick:P,onContextMenu:d,paused:!1,pulseSpeakingIndicator:!_.enabled,width:o},O,l&&G)};F.displayName="StageMediaTile";var x=a.memo((function(e){var t,r=e.participant,u=e.channel,s=e.width,f=(0,d.useAppContext)(),p=u.getGuildId();(0,o.default)(null!=p,"Channel cannot be guildless");var v=r.user,y=(0,i.useStateFromStores)([c.default],(function(){return c.default.getParticipant(u.id,r.id)}),[u.id,r.id]),m=(0,i.useStateFromStores)([b.default],(function(){return b.default.isModerator(v.id,u.id)}),[u.id,v.id])
;if(null==y||y.type===A.ParticipantTypes.ACTIVITY)return null;var _=function(e,t){switch(e.type){case A.ParticipantTypes.HIDDEN_STREAM:case A.ParticipantTypes.STREAM:(0,l.openContextMenuLazy)(t,w(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(96434).then(n.bind(n,596434));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,L({},t,{stream:e.stream,appContext:f,exitFullscreen:function(){}}))}));case 5:case"end":return t.stop()}}),t)}))),{context:f});return;case A.ParticipantTypes.USER:default:(0,l.openContextMenuLazy)(t,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(81823),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){
return a.createElement(r,L({},e,{user:v,guildId:p,channelId:u.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:f})}},h=y.type===A.ParticipantTypes.USER&&!(null===(t=y.voiceState)||void 0===t?void 0:t.selfVideo);return a.createElement(a.Fragment,null,D(h?U:F,{stageParticipant:r,rtcParticipant:y,channel:u,guildId:p,user:v,width:s,isModerator:m,onContextMenu:_,inPopout:f===C.AppContext.POPOUT}))}));t.default=x},35997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContinuePrompt=C;t.default=M;I(n(667294));var r,a=n(536211),o=n(668516),i=O(n(176079)),u=O(n(5031)),l=O(n(620859)),s=O(n(473842)),d=O(n(689389)),f=n(772575),c=n(645758),p=O(n(332282)),v=I(n(152731)),y=n(365744),m=O(n(641474)),_=O(n(697160)),h=O(n(991636)),g=n(770348),E=O(n(247001)),S=O(n(910215));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){var t=e.onClick;return T(i.default,{
iconContainerClassName:S.default.continueIconContainer,icon:T(p.default,{className:S.default.continueIcon,height:20,width:20}),color:g.Colors.PRIMARY_DARK_700,title:E.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:E.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}C.displayName="ContinuePrompt";function A(e){var t=e.channel,n=(0,m.default)(t.id),r=n.participants,a=n.usersInSummary;return T("div",{className:S.default.audienceSummary},void 0,T(v.default,{className:S.default.summaryItem,guildId:t.guild_id,users:a,size:v.Sizes.SIZE_16}),T(c.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,function(e){if(0===e.length)return"";if(1===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return E.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,
second:e[1].userNick,numOthers:t})}(r)))}A.displayName="AudienceSummary";function M(e){var t=e.channel,n=e.onContinueClick,r=(0,a.useStateFromStores)([d.default],(function(){return d.default.can(y.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),i=t.guild_id,v=(0,o.useCanCreateEditDeleteEvent)(i,t),m=(0,_.default)(t.id);return T("div",{className:S.default.container},void 0,T(h.default,{},void 0,T("div",{className:S.default.iconBackground},void 0,T(p.default,{width:40,height:40,className:S.default.icon}))),T("div",{className:S.default.headerContainer},void 0,T(f.Heading,{className:S.default.title,variant:"heading-xl/medium",level:3},void 0,E.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR),T(c.Text,{className:S.default.subtitle,variant:"text-sm/normal"},void 0,E.default.Messages.STAGE_START_PROMPT_SUBTITLE)),m?null:T(l.default,{guildId:i,channelId:t.id}),r?T(s.default,{className:S.default.eventPrompt,channel:t}):null,v?T(u.default,{className:S.default.eventPrompt,guildId:i
}):null,T("hr",{className:S.default.separator}),T(C,{onClick:n}),T(A,{channel:t}))}M.displayName="StartStageChannelCallView"},357474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=S(n(667294)),o=n(536211),i=g(n(636602)),u=g(n(229132)),l=n(844784),s=g(n(825724)),d=S(n(8475)),f=g(n(278851)),c=g(n(211136)),p=g(n(308920)),v=n(956506),y=n(864489),m=n(245838),_=n(770348),h=g(n(76034));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,g=e.popoutWindow,E=e.currentWindow,S=n===_.AppContext.POPOUT,I=a.useRef(null),T=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMode(t.id),r=n===_.AppContext.POPOUT
;r&&(e=_.ChannelModes.VIDEO);var a=e===_.ChannelModes.VIDEO?s.default.getLayout(t.id,n):_.ChannelLayouts.MINIMUM;r&&a!==_.ChannelLayouts.FULL_SCREEN&&(a=_.ChannelLayouts.NO_CHAT);return{currentLayout:a,mode:e}}),[t,n]),C=T.currentLayout,A=T.mode,M=(0,o.useStateFromStores)([c.default],(function(){return c.default.getVoiceChannelId()===t.id}),[t.id]);a.useEffect((function(){I.current=A}));var N=a.useRef(C),P=a.useMemo((function(){var e=null!=g&&S?g.document:document,t=E.document.getElementById("app-mount");return{currentWindow:E,currentDocument:e,rootNode:t}}),[g,S,E]),R=P.currentDocument,w=P.rootNode,D=r&&!S,L=A===_.ChannelModes.VIDEO&&M&&!D,k=a.useCallback((function(e,r){if(r!==e){u.default.updateLayout(t.id,r,n);r===_.ChannelLayouts.FULL_SCREEN&&t.isPrivate()&&v.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_BLUR)}}),[n,t]),j=a.useCallback((function(e){if(null!=w&&e===_.ChannelLayouts.FULL_SCREEN){k(e,N.current);(0,m.exitFullScreen)((function(e){N.current=e}),R)}
}),[R,k,w]),U=a.useCallback((function(e){return function(){if(null!=w)if(e!==_.ChannelLayouts.FULL_SCREEN){N.current=e;k(e,_.ChannelLayouts.FULL_SCREEN);(0,m.requestFullScreen)(w)}else j(e)}}),[k,j,w]);a.useEffect((function(){var e=function(){null!=w&&((0,m.isFullScreen)(w,R)||C!==_.ChannelLayouts.FULL_SCREEN||U(C)())};R.addEventListener(m.FULLSCREEN_CHANGE_EVENT,e);return function(){R.removeEventListener(m.FULLSCREEN_CHANGE_EVENT,e)}}),[R,C,U,w]);a.useEffect((function(){p.default.track(_.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,b({video_layout:S?"popout":C},(0,l.collectVoiceAnalyticsMetadata)(t.id)));return function(){S&&(0,y.isOSX)()||j(C)}}),[]);a.useEffect((function(){null!=w&&I.current===_.ChannelModes.VIDEO&&A===_.ChannelModes.VOICE&&(0,m.exitFullScreen)(w,R)}),[R,A,I,w]);a.useEffect((function(){!M&&S&&i.default.wait((function(){return d.close(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))}),[M,S]);return L?O(f.default,{themeable:!1,node:w,guestWindow:g,className:h.default.rightTrayIcon,
onClick:U(C)}):null}I.displayName="useFullscreenChannelCallButton"},179274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(645758),o=u(n(417184)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=s(o.default,{width:14,height:14}),f=function(e,t){return s(a.Text,{color:"text-danger",style:{display:"flex",gap:"4px",margin:"8px 0 4px 0",alignItems:"center"},variant:"text-sm/normal"},t,d,e)};f.displayName="warningHook";var c={getTextInVoiceSendMessageChannelPermissionText:function(e){return e?i.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_TIV_DESCRIPTION_TEXT_DISABLED.format({warningHook:f}):i.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT},getTextInVoiceReadMessageHistoryChannelPermissionText:function(e){return e?i.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_WITH_TIV_DESCRIPTION_TEXT_DISABLED.format({warningHook:f
}):i.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT}};t.default=c},965484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(536211)),a=l(n(636602)),o=l(n(649563)),i=l(n(423046)),u=l(n(644263));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={init:function(){a.default.subscribe("CHANNEL_DELETE",(function(e){var t=e.channel;if(null!=t.guild_id){var n=u.default.getAllThreadsForParent(t.id);n.length>0&&r.default.Emitter.batched((function(){for(var e,t=s(n);!(e=t()).done;){var r=e.value;a.default.dispatch({type:"THREAD_DELETE",channel:r,guildHashes:void 0})}}))}}));a.default.subscribe("MESSAGE_CREATE",(function(e){var t,n,r=e.channelId,a=e.message,l=u.default.getChannel(r);if(a.author.id===i.default.getId()&&(null==l?void 0:l.isActiveThread())){var s=new Date(null!==(t=null===(n=l.threadMetadata)||void 0===n?void 0:n.archiveTimestamp)&&void 0!==t?t:0).getTime();Date.now()-s<5e3&&o.default.resort(l.parent_id)}}))}};t.default=f},84902:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.useThreadMemberListSections=function(e,t){(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListVersion(e)}));var n=(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListSections(e)})),l=r.useMemo((function(){var e=(0,a.default)(t.roles).values().filter((function(e){return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e}),[t.roles]);return null==n?[]:l.map((function(e){var r,a,o=t.roles[e];return{label:"online"===e?u.default.Messages.STATUS_ONLINE:"offline"===e?u.default.Messages.STATUS_OFFLINE:o.name,userIds:null!==(r=null===(a=n[e])||void 0===a?void 0:a.userIds)&&void 0!==r?r:[],id:e,roleId:e}}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(496486)),o=n(536211),i=l(n(698099)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},698099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=m(n(496486)),a=m(n(795715)),o=m(n(536211)),i=m(n(636602)),u=m(n(644263)),l=m(n(876874)),s=m(n(832721)),d=m(n(788739)),f=m(n(690445)),c=m(n(728429)),p=n(71246),v=m(n(656016)),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function h(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={},S=function(){
function e(e,t,n){this.guildId=e;this.parentId=t;this.threadId=n;this.version=0;this.sections={};this.allUserIds=new Set}var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.default.getChannel(this.parentId);(0,r.default)(Array.from(this.allUserIds)).map((function(e){var r=h(t.calculateNewState(e,n),3);return{userId:e,sectionId:r[0],displayName:r[1],canViewChannel:r[2]}})).sort((function(e,t){return a.default.compare(e.userId,t.userId)})).sortBy((function(e){return e.displayName})).forEach((function(e){t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1
;var t=h(this.findOldState(e),3),n=t[0],r=t[1],a=t[2],o=h(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),i=o[0],l=o[1],s=o[2];if(n===i&&r===l&&a===s)return!1;this.removeUserId(e,n);this.addUser(e,i,l,s);return!0};t.addUserId=function(e){var t=h(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),n=t[0],r=t[1],a=t[2];this.addUser(e,n,r,a)};t.removeUserId=function(e,t){this.allUserIds.delete(e);if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,a){this.allUserIds.add(e);var o=c.default.getUser(e);if(null!=o&&""!==o.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},userIds:[]});var i=this.sections[t];i.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(a)i.userIds.push(e);else{var u=this.findUserIdSortedPosition(i,e,n);i.userIds.splice(u,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){
for(var r=e.userIds,a=e.usersById,o=0;o<r.length;o++){var i=r[o],u=a[i].displayName;if(u===n){if(t<i)return o}else if(null==u){if(null!=n)return o}else if(null!=n&&n<u)return o}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t];if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]};t.calculateNewState=function(e,t){var n,r,a=l.default.getMember(this.guildId,e),o=c.default.getUser(e),i=c.default.getCurrentUser(),u=(null==o?void 0:o.id)===(null==i?void 0:i.id)?f.default.getStatus():d.default.getStatus(e,this.guildId),s=null!=o&&null!=t&&v.default.can({permission:y.Permissions.VIEW_CHANNEL,user:o,context:t
}),p=u!==y.StatusTypes.OFFLINE&&u!==y.StatusTypes.INVISIBLE&&u!==y.StatusTypes.UNKNOWN?null!==(n=null==a?void 0:a.hoistRoleId)&&void 0!==n?n:"online":"offline",m=null!==(r=null==a?void 0:a.nick)&&void 0!==r?r:null==o?void 0:o.username;return[p,null==m?void 0:m.toLowerCase(),s]};return e}();function O(e){return b(e.user.id)}function b(e){if(null==e)return!1;var t=!1;for(var n in E)E[n].updateUserId(e)&&(t=!0);return t}function I(e){var t=e.guildId,n=!1;for(var r in E)if(E[r].guildId===t){E[r].rebuild();n=!0}return n}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,l.default,s.default,d.default,f.default,c.default);this.syncWith([s.default],(function(){var e=s.default.getSubscribedThreadIds(),t=!1;for(var n in E)if(!e.has(n)){delete E[n];t=!0}return t}));this.syncWith([f.default],(function(){var e
;return b(null===(e=c.default.getCurrentUser())||void 0===e?void 0:e.id)}))};n.getMemberListVersion=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.version};n.getMemberListSections=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.sections};n.canUserViewChannel=function(e,t,n){var r,a,o=E[e];if(null==o)return!1;var i=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(a=null==i?void 0:i.canViewChannel)&&void 0!==a&&a};n.__getLocalVars=function(){return{memberLists:E}};return t}(o.default.Store);T.displayName="ThreadMemberListStore";var C=new T(i.default,{CONNECTION_OPEN:function(){E={}},THREAD_MEMBERS_UPDATE:function(e){if(!(e.id in E))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId;return E[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return E[e.id].removeUserId(t)}))},THREAD_UPDATE:function(e){var t,n=e.channel
;if(!(n.id in E)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete E[n.id]},THREAD_DELETE:function(e){var t=e.channel;if(!(t.id in E))return!1;delete E[t.id]},CHANNEL_UPDATES:function(e){var t=e.updates,n=new Set(t.map((function(e){return e.channel.id}))),r=!1;for(var a in E)if(n.has(E[a].parentId)){E[a].rebuild();r=!0}return r},THREAD_MEMBER_LIST_UPDATE:function(e){var t=e.threadId,n=e.guildId,r=e.members,a=u.default.getChannel(t),o=null==a?void 0:a.parent_id;if(null!=o){E[t]=new S(n,o,t);E[t].rebuild(r.map((function(e){return e.user_id})))}},USER_UPDATE:O,PRESENCE_UPDATES:function(e){return e.updates.map((function(e){return b(e.user.id)})).some((function(e){return e}))},GUILD_MEMBER_ADD:O,GUILD_MEMBER_UPDATE:O,GUILD_MEMBER_REMOVE:O,PRESENCES_REPLACE:function(e){var t=e.presences,n=(0,r.default)(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(p.isNotNullish).uniq().value(),a=!1
;for(var o in E)E[o].updateMultipleUserIds(n)&&(a=!0);return a},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var a in E)E[a].updateMultipleUserIds(n,t)&&(r=!0);return r},GUILD_ROLE_UPDATE:I,GUILD_ROLE_DELETE:I});t.default=C},861370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=fe
;var r,a=re(n(667294)),o=te(n(294184)),i=n(536211),u=te(n(186705)),l=te(n(55189)),s=te(n(786630)),d=te(n(805918)),f=te(n(235879)),c=te(n(954140)),p=te(n(37039)),v=n(573285),y=n(424527),m=te(n(271180)),_=te(n(907616)),h=te(n(820652)),g=te(n(872134)),E=te(n(58941)),S=te(n(2914)),O=te(n(422207)),b=n(770755),I=n(894826),T=te(n(644263)),C=re(n(687549)),A=te(n(30098)),M=te(n(201292)),N=te(n(689389)),P=te(n(680873)),R=te(n(789446)),w=te(n(16941)),D=n(645758),L=re(n(279950)),k=n(730977),j=n(688388),U=te(n(259530)),G=te(n(82050)),F=te(n(830759)),x=te(n(878556)),B=te(n(582945)),H=n(993442),W=n(682937),V=n(871382),Y=n(247726),K=n(192110),z=te(n(521595)),$=n(682640),q=te(n(387812)),X=n(770348),Q=n(665984),Z=te(n(247001)),J=te(n(271615)),ee=te(n(704586));function te(e){return e&&e.__esModule?e:{default:e}}function ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ne=function(e){return e?n:t})(e)}function re(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ne(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ae(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function oe(){oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return oe.apply(this,arguments)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var se,de=v.ChatInputTypes.THREAD_CREATION;!function(e){e[e.Empty=0]="Empty";e[e.AutoMod=1]="AutoMod"}(se||(se={}));function fe(e){var t=e.parentChannelId,n=e.parentMessageId,r=e.location,a=(0,i.useStateFromStores)([T.default],(function(){return T.default.getChannel(t)})),o=(0,p.default)(c.default.CREATE_THREAD).AnalyticsLocationProvider;return null==a?null:le(o,{},void 0,le(H.ComponentDispatchGroupProvider,{},void 0,le("section",{"aria-label":Z.default.Messages.CREATE_THREAD,className:J.default.container},void 0,le(d.default,{channel:a,draftType:C.DraftType.FirstThreadMessage}),le(x.default,{toolbar:le(x.default.Icon,{icon:U.default,tooltip:Z.default.Messages.CLOSE,onClick:function(){return(0,$.closeAndClearThreadSidebar)(t)}})},void 0,le(x.default.Icon,{icon:F.default,disabled:!0,"aria-label":Z.default.Messages.THREAD
}),le(x.default.Title,{},void 0,Z.default.Messages.NEW_THREAD)),le(ce,{parentChannel:a,parentMessageId:n,location:r}))))}fe.displayName="CreateThreadSidebar";function ce(e){var t,n=e.parentChannel,r=e.parentMessageId,l=e.location,d=(0,i.useStateFromStores)([f.default],(function(){return f.default.messageGroupSpacing})),c=(0,i.useStateFromStores)([A.default],(function(){return A.default.getGuild(n.guild_id)})),p=(t=a.useContext(H.ComponentDispatchGroupContext),a.useCallback((function(){t.bumpDispatchPriority()}),[t])),v=function(e,t){var n=ie(a.useState({}),2),r=n[0],o=n[1],i=a.useCallback((function(n){o((function(e){return oe({},e,{},n)}));u.default.changeThreadSettings(e.id,oe({},n,{parentMessageId:t}))}),[e.id,t]);return{threadSettings:r,setThreadSettings:o,updateThreadSettings:i}}(n,r),m=v.threadSettings,_=v.setThreadSettings,g=v.updateThreadSettings,E=function(e,t){var n=ie(a.useState((0,y.createEmptyState)()),2),r=n[0],o=n[1];a.useEffect((function(){function n(n){
var r,a=C.default.getDraft(e.id,C.DraftType.FirstThreadMessage);0!==a.length&&!0!==n||o((0,y.createState)(a));t(null!==(r=C.default.getThreadSettings(e.id))&&void 0!==r?r:{})}n(!0);C.default.addChangeListener(n);return function(){C.default.removeChangeListener(n)}}),[e.id,t]);return{textAreaState:r,setTextAreaState:o}}(n,_),S=E.textAreaState,I=E.setTextAreaState,T=(0,K.usePrivateThreadMode)(n),M=function(e){var t=e.parentChannel,n=e.parentMessageId,r=e.threadSettings,o=e.privateThreadMode,i=e.textAreaState,u=e.location,l=ie(a.useState(null),2),s=l[0],d=l[1],f=ie(a.useState(null),2),c=f[0],p=f[1],v=(0,q.default)({parentChannel:t,parentMessageId:n,threadSettings:r,privateThreadMode:o,location:u,onThreadCreated:$.openThreadSidebarForViewing,useDefaultThreadName:!0}),y=a.useCallback(function(){var e,a=(e=regeneratorRuntime.mark((function e(a,o,u){var l,s,f,c,y,m,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==a&&(a=i.textValue);a=a.trim()
;null!=o&&0!==o.length||(o=null===(s=O.default.getStickerPreview(t.id,de.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=P.default.getUploads(t.id,C.DraftType.FirstThreadMessage));f=null!==(l=r.name)&&void 0!==l?l:"";c=null==n&&0===f.length;y=""===a&&(null==o||0===o.length)&&0===u.length;d(c?se.Empty:null);p(y?se.Empty:null);if(!c&&!y){e.next=11;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=n){e.next=18;break}e.next=14;return(0,V.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:de,channel:t});case 14:if(e.sent.valid){e.next=18;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:e.prev=18;e.next=21;return v(a,o,u);case 21:e.next=28;break;case 23:e.prev=23;e.t0=e.catch(18);(null===(m=e.t0.body)||void 0===m?void 0:m.code)===X.AbortCodes.AUTOMOD_TITLE_BLOCKED&&d(se.AutoMod);(null===(_=e.t0.body)||void 0===_?void 0:_.code)===X.AbortCodes.AUTOMOD_MESSAGE_BLOCKED&&p(se.AutoMod)
;return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 28:(0,b.clearStickerPreview)(t.id,de.drafts.type);return e.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 30:case"end":return e.stop()}}),e,null,[[18,23]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ae(o,r,a,i,u,"next",e)}function u(e){ae(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[v,i.textValue,r.name,n,t]);return{nameError:s,messageError:c,submit:y}}({parentChannel:n,parentMessageId:r,threadSettings:m,privateThreadMode:T,textAreaState:S,location:l}),N=M.nameError,R=M.messageError,w=M.submit,D=(0,K.getIsPrivate)(m,T)?G.default:F.default;return le("div",{className:J.default.chat,onMouseDown:p,onFocus:p},void 0,le("div",{className:(0,o.default)(J.default.messagesWrapper,"group-spacing-"+d)},void 0,le("form",{onSubmit:function(e){e.preventDefault();w()},className:J.default.form},void 0,le(B.default,{
className:J.default.scroller,fade:!0},void 0,le("div",{className:J.default.scrollerInner},void 0,le(h.default,{channelId:"create-thread-null"},void 0,le("div",{className:ee.default.iconWrapper},void 0,le(D,{className:ee.default.icon})),le(ve,{parentChannel:n,parentMessageId:r,threadSettings:m,updateThreadSettings:g,error:N}),n.type===X.ChannelTypes.GUILD_TEXT?le(pe,{startedFromMessage:null!=r,threadSettings:m,updateThreadSettings:g,privateThreadMode:T,guild:c}):null),le(me,{parentChannel:n,parentMessageId:r}))),le("div",{className:J.default.submitContainer},void 0,le(ye,{parentChannel:n,textAreaState:S,setTextAreaState:I,submit:w,error:R}),le(s.default,{channel:n,isThreadCreation:!0})))))}ce.displayName="CreateThreadForm";function pe(e){var t=e.startedFromMessage,n=e.threadSettings,r=e.updateThreadSettings,a=e.privateThreadMode,i=e.guild,u=(0,p.default)().analyticsLocations,l=(0,K.getIsPrivate)(n,a),s=null!=i&&!i.hasFeature(X.GuildFeatures.PRIVATE_THREADS),d=function(e){
e.stopPropagation();e.preventDefault();var t=(0,W.minimumRequiredTierForGuildFeature)(X.GuildFeatures.PRIVATE_THREADS);null!=i&&null!=t&&(0,E.default)({analyticsLocations:u,analyticsSourceLocation:{section:X.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:X.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:i,perks:(0,Q.guildBoostingPerks)()})},f=le("div",{className:J.default.privateThreadFormTitle},void 0,le("span",{className:J.default.privateThreadFormTitleText},void 0,Z.default.Messages.PRIVATE_THREAD),null!=i?le(g.default,{guild:i,guildFeature:X.GuildFeatures.PRIVATE_THREADS,tooltipPosition:k.TooltipPositions.TOP,className:J.default.privateThreadFeaturePill,onClick:d}):null),c=le(R.default,{className:(0,o.default)(J.default.checkbox),type:R.default.Types.INVERTED,disabled:a===K.PrivateThreadMode.PrivateOnly||a===K.PrivateThreadMode.DisabledWithUpsell,value:l,onChange:function(e,t){return r({isPrivate:t})}},void 0,le(D.Text,{variant:"text-md/normal",color:"none"
},void 0,Z.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return t||a===K.PrivateThreadMode.Disabled?null:le(j.FormSection,{title:f,className:J.default.formSection},void 0,s?le(w.default,{onClick:d},void 0,c):c,l?le(D.Text,{className:J.default.privateThreadDescription,variant:"text-xs/normal",color:"header-secondary"},void 0,Z.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}function ve(e){var t,n=e.parentChannel,r=e.parentMessageId,a=e.threadSettings,o=e.updateThreadSettings,i=e.error,u=null!==(t=a.name)&&void 0!==t?t:"",s=(0,K.getDefaultThreadName)(n,r),d=null!=r;return le(j.FormSection,{title:Z.default.Messages.THREAD_NAME+(d?" (Optional)":""),className:J.default.formSection},void 0,le(L.default,{value:u,placeholder:""!==s?s:Z.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:X.MAX_CHANNEL_NAME_LENGTH,onChange:function(e){o({name:(0,z.default)(e,!1)});""!==e?l.default.startTyping(n.id):l.default.stopTyping(n.id)},onBlur:function(){var e=(0,
z.default)(u,!0);e!==u&&o({name:e})},error:i===se.AutoMod?Z.default.Messages.FORUM_POST_AUTOMOD_ERROR:i===se.Empty&&0===u.trim().length?Z.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}ve.displayName="ThreadName";function ye(e){var t,n=e.parentChannel,r=e.textAreaState,s=e.setTextAreaState,d=e.submit,f=e.error,c=ie(a.useState(!0),2),p=c[0],v=c[1],y=a.useCallback((function(){return v(!0)}),[]),h=a.useCallback((function(){return v(!1)}),[]),g=a.useCallback((function(e,t,r){u.default.saveDraft(n.id,t,C.DraftType.FirstThreadMessage);s((function(e){""!==t&&e.textValue!==t?l.default.startTyping(n.id):""===t&&l.default.stopTyping(n.id);return{textValue:t,richValue:r}}))}),[n.id,s]),E=a.useCallback((function(e){var t=e.value,n=e.uploads,r=e.stickers;return d(t,r,n)}),[d]);(0,H.useComponentAction)({event:X.ComponentActions.TEXTAREA_FOCUS,handler:y});(0,H.useComponentAction)({event:X.ComponentActions.TEXTAREA_BLUR,handler:h});var S=(0,i.useStateFromStores)([N.default],(function(){
return N.default.can(X.Permissions.ATTACH_FILES,n)})),O=f===se.Empty&&0===r.textValue.trim().length,b=f===se.AutoMod||O;return a.createElement(a.Fragment,null,le(_.default,{channelId:n.id,type:de,canAttachFiles:S}),le("div",{className:J.default.starterMessageError},void 0,le(L.Error,{error:f===se.AutoMod?Z.default.Messages.FORUM_POST_AUTOMOD_ERROR:O?Z.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null})),le(m.default,{type:de,channel:n,placeholder:Z.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:r.textValue,richValue:r.richValue,focused:p,className:J.default.channelTextArea,innerClassName:(0,o.default)(J.default.channelTextAreaInner,(t={},t[J.default.channelTextAreaInnerError]=b,t)),onFocus:y,onBlur:h,onChange:g,onSubmit:E,promptToUpload:Y.promptToUpload}))}function me(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,i.useStateFromStores)([M.default],(function(){return null==n?null:M.default.getMessage(t.id,n)})),a=I.MessageDisplayCompact.useSetting()
;return null!=r?le(S.default,{className:J.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},556250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(496486)),i=n(536211),u=_(n(265851)),l=_(n(160629)),s=n(645758),d=_(n(830759)),f=n(878556),c=_(n(782270)),p=n(566142),v=_(n(39447)),y=_(n(247001)),m=_(n(517831));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(h=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=S(a.useState(!1),2),r=n[0],_=n[1],h=(0,i.useStateFromStores)([c.default],(function(){return o.default.size(c.default.getThreadsForParent(t.guild_id,t.id))})),O=a.useCallback((function(){_(!1)}),[]),b=a.useCallback((function(){r||(0,p.trackThreadBrowserOpened)("Popout");_(!r)}),[r])
;return E(l.default,{animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,shouldShow:r,onRequestClose:O,renderPopout:function(){return E(u.default,{},void 0,E(v.default,{className:m.default.browser,channel:t,onClose:O}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.Icon,g({},e,{className:m.default.icon,onClick:b,icon:d.default,"aria-label":y.default.Messages.THREADS,tooltip:n?null:y.default.Messages.THREADS,selected:n}),h>0?E(s.Text,{variant:"text-md/normal",color:"interactive-normal",className:m.default.count},void 0,h>=100?"99+":h):null)}))}b.displayName="ThreadBrowserPopout"},73942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(160629)),i=m(n(91424)),u=m(n(811198)),l=m(n(878556)),s=n(956506),d=n(895431),f=m(n(358751)),c=n(64072),p=n(770348),v=m(n(247001)),y=m(n(353121));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.channel,n=(0,d.useThreadNotificationSetting)(t),r=E(a.useState(!1),2),m=r[0],_=r[1];a.useEffect((function(){var e=function(){return _(!0)};s.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){s.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var S=v.default.Messages.NOTIFICATION_SETTINGS;return h(o.default,{shouldShow:m,animation:o.default.Animation.NONE,position:o.default.Positions.BOTTOM,align:o.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return _(!1)},renderPopout:function(e){return a.createElement(f.default,g({},e,{channel:t,navId:"thread-context",
label:v.default.Messages.THREAD_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(l.default.Icon,g({},e,{onClick:function(){return _((function(e){return!e}))},tooltip:r?null:S,icon:n===c.ThreadMemberFlags.NO_MESSAGES?u.default:i.default,foreground:n===c.ThreadMemberFlags.NO_MESSAGES?y.default.strikethrough:null,"aria-label":S,selected:r}))}))}O.displayName="ThreadNotificationSettingsButton"},627900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=O(n(667294)),o=E(n(691692)),i=E(n(609510)),u=E(n(894630)),l=E(n(783938)),s=E(n(326348)),d=E(n(412649)),f=E(n(730205)),c=E(n(730487)),p=O(n(145122)),v=n(894826),y=E(n(160629)),m=E(n(775803)),_=E(n(878556)),h=n(682640),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return I.apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.channel,n=T(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=g.default.Messages.MORE;return b(y.default,{shouldShow:r,animation:y.default.Animation.NONE,position:y.default.Positions.BOTTOM,align:y.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(M,I({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(_.default.Icon,I({},e,{onClick:i,tooltip:n?null:u,icon:m.default,"aria-label":u,selected:n}))}))}A.displayName="ThreadOverflowMenuButton";function M(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,o.default)(t),y=(0,d.default)(t.id),m=(0,s.default)(t),_=(0,c.default)(t.id),E=(0,i.default)(t),S=(0,u.default)(t,"Toolbar Overflow"),O=(0,l.default)(t),I=(0,f.default)(t),T=v.UseThreadSidebar.useSetting();return b(p.default,{navId:"thread-context",onClose:n,
"aria-label":g.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(p.MenuGroup,{},void 0,S),b(p.MenuGroup,{},void 0,m,O,y,T?b(p.MenuItem,{id:"open",label:g.default.Messages.OPEN_IN_SPLIT_VIEW,action:function(){(0,h.openThreadSidebarForViewing)(t)}}):null),b(p.MenuGroup,{},void 0,I,a,E),b(p.MenuGroup,{},void 0,_))}M.displayName="OverflowMenu"},621688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.channel,r=e.baseChannelId;return a.createElement(a.Fragment,null,n.isForumPost()||!0===(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)?null:P(b.default,{channel:n}),P(L,{channel:n}),P(S.default.Icon,{icon:h.default,tooltip:C.default.Messages.CLOSE,onClick:function(){return(0,I.closeThreadSidebar)(null!=r?r:n.parent_id)}}))}
;var r,a=N(n(667294)),o=A(n(691692)),i=A(n(609510)),u=A(n(894630)),l=A(n(783938)),s=A(n(326348)),d=A(n(412649)),f=A(n(480864)),c=A(n(233557)),p=A(n(730205)),v=A(n(730487)),y=N(n(145122)),m=n(391869),_=A(n(160629)),h=A(n(259530)),g=A(n(435012)),E=A(n(775803)),S=A(n(878556)),O=n(956506),b=A(n(73942)),I=n(682640),T=n(770348),C=A(n(247001));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=e.channel,n=w(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=C.default.Messages.MORE;return P(_.default,{shouldShow:r,animation:_.default.Animation.NONE,position:_.default.Positions.BOTTOM,align:_.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(k,R({},e,{channel:t}))}
},void 0,(function(e,t){var n=t.isShown;return a.createElement(S.default.Icon,R({},e,{onClick:i,tooltip:n?null:u,icon:E.default,"aria-label":u,selected:n}))}))}L.displayName="OverflowMenuButton";function k(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,u.default)(t,"Sidebar Overflow"),_=(0,l.default)(t),h=(0,f.default)(t),E=(0,c.default)(t),S=(0,o.default)(t),b=(0,d.default)(t.id),I=(0,s.default)(t),A=(0,i.default)(t),M=(0,v.default)(t.id),N=(0,p.default)(t);function R(){(0,m.transitionToChannel)(t.id)}return P(y.default,{navId:"thread-context",onClose:n,"aria-label":C.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,P(y.MenuGroup,{},void 0,a,P(y.MenuItem,{id:"open",label:C.default.Messages.OPEN_IN_FULL_VIEW,action:R})),P(y.MenuGroup,{},void 0,h,E),P(y.MenuGroup,{},void 0,I,_,b),P(y.MenuGroup,{},void 0,P(y.MenuItem,{id:"search",label:C.default.Messages.SEARCH,icon:g.default,action:function(){R();setTimeout((function(){
O.ComponentDispatch.dispatch(T.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!1})}),2e3)}}),P(y.MenuItem,{id:"pins",label:C.default.Messages.PINS,icon:g.default,action:function(){R();O.ComponentDispatch.dispatch(T.ComponentActions.TOGGLE_CHANNEL_PINS)}})),P(y.MenuGroup,{},void 0,N,S,A),P(y.MenuGroup,{},void 0,M))}k.displayName="OverflowMenu"},252283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,O=(0,o.useStateFromStores)([v.default],(function(){return v.default.getChannel(t)})),b=(0,o.useStateFromStores)([m.default],(function(){return m.default.getGuild(null==O?void 0:O.getGuildId())})),T=(0,d.default)(O),M=a.useRef(!1);a.useEffect((function(){if(null!=O&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(v.default.getChannel(O.id),!0);(0,s.trackWithMetadata)(g.AnalyticEvents.CHANNEL_OPENED,A({},e,{channel_id:O.id,guild_id:O.guild_id,parent_id:O.parent_id,channel_view:"Split View"}))}
}),[O]);if(null==O||null==b)return null;var N=I(h.default,{channel:O,baseChannelId:r});return a.createElement(a.Fragment,null,I(l.default,{channel:O,draftType:y.DraftType.ChannelMessage}),I(_.default,{toolbar:N,"aria-label":E.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,c.renderTitle)({channel:O,channelName:T,guild:b,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,C(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,A({},e,{channel:O}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=O&&(0,p.transitionToChannel)(O.id)}})),I("div",{className:S.default.chat},void 0,I(u.default,{channel:O,guild:b,chatInputType:f.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=O(n(914789)),l=O(n(805918)),s=n(844784),d=O(n(678928)),f=n(573285),c=n(451115),p=n(391869),v=O(n(644263)),y=n(687549),m=O(n(30098)),_=O(n(878556)),h=O(n(621688)),g=n(770348),E=O(n(247001)),S=O(n(974290));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}},387812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.parentChannel,n=e.parentMessageId,a=e.threadSettings,o=e.privateThreadMode,u=e.location,l=e.onThreadCreated,s=e.useDefaultThreadName,d=r.useCallback((function(e,t,n,r){i.default.uploadFiles({channelId:e.id,uploads:t,draftType:c.DraftType.FirstThreadMessage,options:{stickerIds:r},parsedMessage:f.default.parse(e,n)})}),[]);return(0,p.useCreateThreadCommon)({parentChannel:t,parentMessageId:n,threadSettings:a,privateThreadMode:o,location:u,onThreadCreated:l,useDefaultThreadName:s,uploadHandler:d})};t.useCreateForumPost=function(e){var t=e.parentChannel,n=e.guild;var r=(0,d.useForumChannelStore)((function(e){return{name:e.name,appliedTags:e.appliedTags}}),a.default),i=r.name,f=r.appliedTags;return(0,p.useCreateForumPostCommon)({parentChannel:t,name:i,appliedTags:f,upload:function(e,t,r){return new Promise((function(a,i){var d,f=(null===(d=u.default.getCurrentConfig({}))||void 0===d?void 0:d.enabled)?new l.default(e):new s.MultiUploader(e);f.on("error",(function(e,t,r){
t!==v.AbortCodes.EXPLICIT_CONTENT||null==n?i({body:r}):o.default.show({title:y.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,body:y.default.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:n.toString()})})}));f.on("complete",(function(e,t){a({body:t})}));f.uploadFiles(r,t,"message.attachments")}))}})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=m(n(193747)),o=m(n(190040)),i=m(n(274710)),u=m(n(709358)),l=m(n(678303)),s=n(369617),d=n(90926),f=m(n(614293)),c=n(687549),p=n(192110),v=n(770348),y=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}},785992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPEECH_RATE_INCREMENTS=t.MAX_TTS_LENGTH=void 0;t.MAX_TTS_LENGTH=200;t.SPEECH_RATE_INCREMENTS=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},340877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=A(n(636602)),a=C(n(448549)),o=n(678928),i=C(n(86031)),u=n(894826),l=A(n(423046)),s=A(n(502546)),d=A(n(644263)),f=A(n(876874)),c=A(n(30098)),p=A(n(635014)),v=A(n(919935)),y=A(n(290629)),m=A(n(211136)),_=A(n(563621)),h=A(n(871778)),g=A(n(728429)),E=n(43247),S=A(n(91603)),O=n(785992),b=n(770348),I=A(n(247001));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}
function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e){return e&&e.__esModule?e:{default:e}}var M=[],N=null,P=null,R=null;function w(e,t,n,r){var a=c.default.getGuild(n),i=e.replace(b.MARKDOWN_SPOILER_REGEXP_GLOBAL,I.default.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r,a=g.default.getUser(t);return null==a?e:null!==(r=f.default.getNick(n,a.id))&&void 0!==r?r:a.username})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=a?a.roles[t]:null;return null!=n&&null!=n.name?n.name:I.default.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){
var n=d.default.getChannel(t);return null==n?e:(0,o.computeChannelName)(n,g.default,y.default)})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return I.default.Messages.EMOJI+" "+t})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/"+t}));return null==r?I.default.Messages.MESSAGE_TTS.format({username:t,body:i}):I.default.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function D(){if(!a.supported)return!1;var e=h.default.locale;if(null==R){var t;R=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=R.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));P=n.length>0?n[0]:null}function L(e,t,n,r,o){var i=a.createUtterance(e,n);if(null!==i){null==P&&D();if(t)(0,E.stopSpeaking)();else{var u;null===(u=N)||void 0===u||u.removeEventListener("end",E.stopSpeaking)}i.addEventListener("end",E.stopSpeaking);null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);N=i;a.speakUtterance(i,P)}}function k(e,t,n,r,a){
L(e,t,a,(function(){(0,E.speakingMessage)(n,r)}))}function j(e){L(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function U(){null!==N&&N.removeEventListener("end",E.stopSpeaking);a.cancelAll();N=null;return!0}function G(e){var t,n,r,a=e.message,o=e.channel,u=a.type===b.MessageTypes.REPLY?i.default.getMessageByReference(a.messageReference):null,l=(null==u?void 0:u.state)===i.ReferencedMessageState.LOADED?null==u||null===(t=u.message)||void 0===t?void 0:t.author:null,s=null!=l?null!==(n=f.default.getNick(o.guild_id,null==l?void 0:l.id))&&void 0!==n?n:l.username:null,d=o.getGuildId(),c=null!==(r=f.default.getNick(d,a.author.id))&&void 0!==r?r:a.author.username;k(w(a.content,c,d,s),!0,o.id,a.id);return!0}function F(e){var t=e.channelId,n=e.message;if(e.optimistic||p.default.isSelfDeaf())return!1;var r=d.default.getChannel(t);if(null==r)return!1
;var a=m.default.getChannelId(),o=s.default.getCurrentSidebarChannelId(a),i=t===a||t===o,c=u.EnableTTSCommand.getSetting()&&n.tts&&i,h=v.default.getTTSType(),g=n.author.id!==l.default.getId()&&(h===b.TTSNotificationTypes.ALL_CHANNELS||h===b.TTSNotificationTypes.SELECTED_CHANNEL&&i);if((c||g)&&!y.default.isBlocked(n.author.id)){var E,S,I;if(M.indexOf(n.id)>=0)return!1;M.unshift(n.id)>10&&M.pop();var T=r.getGuildId();if(null!=T&&_.default.getMutedChannels(T).has(t))return!1;var C=null!==(E=f.default.getNick(T,n.author.id))&&void 0!==E?E:n.author.username,A=n.type===b.MessageTypes.REPLY?null===(S=n.referenced_message)||void 0===S?void 0:S.author:null,N=null!=A?null!==(I=f.default.getNick(T,null==A?void 0:A.id))&&void 0!==I?I:A.username:null;k(w(n.content,C,T,N),!1,r.id,n.id,O.MAX_TTS_LENGTH)}return!1}function x(e){var t=e.id,n=e.channelId,r=S.default.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,E.stopSpeaking)();return!0}return!1}function B(){
p.default.isSelfDeaf()&&a.cancelAll()}var H={init:function(){r.default.subscribe("SPEAK_TEXT",j);r.default.subscribe("SPEAK_MESSAGE",G);r.default.subscribe("STOP_SPEAKING",U);r.default.subscribe("MESSAGE_CREATE",F);r.default.subscribe("MESSAGE_DELETE",x);r.default.subscribe("AUDIO_TOGGLE_SELF_DEAF",B);r.default.subscribe("USER_SETTINGS_UPDATE",D);r.default.subscribe("I18N_LOAD_SUCCESS",D)}};t.default=H},418968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=h(n(667294)),a=m(n(636602)),o=m(n(177230)),i=m(n(200738)),u=m(n(913900)),l=m(n(288356)),s=m(n(788739)),d=m(n(290629)),f=m(n(728429)),c=n(194322),p=h(n(308920)),v=n(770348),y=n(673810);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}var b=null;function I(e){return T.apply(this,arguments)}
function T(){return(T=O(regeneratorRuntime.mark((function e(t){var a,o,m,_,h,E,S,I,T,C,A,M,N,P,R,w,D,L,k,j,U,G,F,x,B,H,W;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=t.userId,M=t.section,N=t.guildId,P=void 0===N?v.ME:N,R=t.channelId,w=t.friendToken,D=t.autoFocusNote,L=t.analyticsLocation;k=f.default.getUser(A);j=u.default.getUserProfile(A);if(null!=k){e.next=5;break}return e.abrupt("return");case 5:if(null!=(U=s.default.getPrimaryActivity(A))){G=U.party;F=U.assets;x=null!=U.application_id?l.default.getGame(U.application_id):null}B=s.default.getStatus(A);H=s.default.isMobileOnline(A);W=B;B===v.StatusTypes.ONLINE&&(W=H?v.AnalyticsUserStatusTypes.ONLINE_MOBILE:v.AnalyticsUserStatusTypes.ONLINE_DESKTOP);e.next=13;return(0,c.openModalLazy)(O(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(16972)]).then(n.bind(n,116972));case 2:
t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,g({},e,{user:k,autoFocusNote:D,guildId:P,friendToken:w,initialSection:M}))}));case 5:case"end":return e.stop()}}),e)}))));case 13:b=e.sent;p.default.track(v.AnalyticEvents.OPEN_MODAL,g({type:"Profile Modal",guild_id:P!==v.ME?P:null,channel_id:R,other_user_id:A,application_id:null!==(a=null==U?void 0:U.application_id)&&void 0!==a?a:null,application_name:null==U?void 0:U.name,sku_id:null!==(o=null===(m=x)||void 0===m?void 0:m.primarySkuId)&&void 0!==o?o:null,is_friend:d.default.isFriend(A),has_images:Boolean(null!==(_=null===(h=F)||void 0===h?void 0:h.large_image)&&void 0!==_?_:null===(E=F)||void 0===E?void 0:E.small_image),party_max:null===(S=G)||void 0===S||null===(I=S.size)||void 0===I?void 0:I[1],party_id:null===(T=G)||void 0===T?void 0:T.id,party_platform:(0,y.isSpotifyParty)(null===(C=G)||void 0===C?void 0:C.id)?v.PlatformTypes.SPOTIFY:null,game_platform:(0,i.default)(U),profile_user_status:W,
profile_has_nitro_customization:null!=(null==j?void 0:j.banner)},null==L?null:(0,p.expandLocation)(L)));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){null!=b&&(0,c.closeModal)(b);b=null}var A=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe("USER_PROFILE_MODAL_OPEN",I);a.default.subscribe("USER_PROFILE_MODAL_CLOSE",C)};n._terminate=function(){a.default.unsubscribe("USER_PROFILE_MODAL_OPEN",I);a.default.unsubscribe("USER_PROFILE_MODAL_CLOSE",C)};n.__getLocalVars=function(){return{modalKey:b}};return t}(o.default));t.default=A},388139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getAccountUpdateForUpdateRequest=function(e){var t={};void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar)
;void 0!==e.pendingAvatarDecoration&&(t.avatarDecoration=e.pendingAvatarDecoration);return t};t.getGuildMemberChangesForUpdateRequest=function(e){var t={};void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar);if(void 0!==e.pendingNickname){var n;t.nick=null!==(n=e.pendingNickname)&&void 0!==n?n:""}return t};t.getProfileChangesForUpdateRequest=function(e){var t={};void 0!==e.pendingBanner&&(t.banner=e.pendingBanner);null!=e.pendingBio&&(t.bio=e.pendingBio);null!=e.pendingPronouns&&(t.pronouns=e.pendingPronouns);void 0!==e.pendingAccentColor&&(t.accent_color=e.pendingAccentColor);void 0!==e.pendingThemeColors&&(t.theme_colors=e.pendingThemeColors);return t}},142006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=n(483559),l=h(n(257867)),s=h(n(956117)),d=h(n(530250)),f=n(354479),c=n(688388),p=n(3400),v=h(n(582945)),y=n(770348),m=h(n(247001)),_=h(n(634298));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=E(c.FormDivider,{}),C=E(c.FormDivider,{});function A(e){var t=e.transitionState,r=(0,i.useStateFromStoresObject)([l.default],(function(){return{requiredAction:l.default.getAction()}})).requiredAction,h=b(a.useState(!1),2),g=h[0],S=h[1],I=(0,f.useUID)();function A(){return(A=O(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);if(r!==y.UserRequiredActions.AGREEMENTS){e.next=8;break}e.next=4;return(0,u.acceptAgreements)();case 4:t=e.sent;S(t);e.next=13;break;case 8:if(r!==y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT){e.next=13;break
}e.next=11;return(0,u.acknowledgeTOSNotification)();case 11:n=e.sent;S(n);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E(p.ModalRoot,{"aria-labelledby":I,transitionState:t,className:(0,o.default)(_.default.modal,_.default.specificOverride,"theme-light")},void 0,E("div",{id:I,className:_.default.title},void 0,m.default.Messages.NEW_TERMS_TITLE),T,E(v.default,{},void 0,E(c.FormText,{className:_.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?m.default.Messages.TERMS_AGREEMENT_DESCRIPTION_1:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?m.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:y.TOS_AGREEMENT_DUE_BY}):null),E(c.FormText,{className:_.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?m.default.Messages.TERMS_AGREEMENT_DESCRIPTION_2:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?m.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null),E(d.default,{
className:_.default.container,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,E(d.default,{direction:d.default.Direction.VERTICAL},void 0,E("div",{className:_.default.link},void 0,m.default.Messages.TERMS_OF_SERVICE.format({url:y.MarketingURLs.TERMS})),E("div",{className:_.default.link},void 0,m.default.Messages.PRIVACY_POLICY.format({url:y.MarketingURLs.PRIVACY})),E("div",{className:_.default.link},void 0,m.default.Messages.COMMUNITY_GUIDELINES.format({url:y.MarketingURLs.GUIDELINES})),E("div",{className:_.default.link},void 0,m.default.Messages.BLOG_POST.format({url:y.MarketingURLs.TOS_UPDATE_FEB_2022}))),E("img",{className:_.default.image,alt:"",src:n(31890)}))),C,E("div",{className:_.default.buttonContainer},void 0,E(s.default,{className:_.default.button,submitting:g,onClick:function(){return A.apply(this,arguments)}},void 0,m.default.Messages.GOT_IT)))}A.displayName="UserAgreementsModal"},77670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=_(n(667294)),o=y(n(636602)),i=_(n(403607)),u=y(n(728429)),l=n(378444),s=y(n(749033)),d=n(194322),f=n(42031),c=y(n(142006)),p=n(770348),v=n(478036);function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g="AGREEMENTS_MODAL_KEY",E=h(i.default,{}),S={init:function(){o.default.subscribe("CONNECTION_OPEN",this.handleRequiredAction);o.default.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction);o.default.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate);o.default.subscribe("LOGOUT",this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(!f.ProcessArgs.isDisallowPopupsSet())if(null==u.default.getCurrentUser()){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(g)&&(0,d.closeModal)(g)}else if(t===p.UserRequiredActions.REQUIRE_CAPTCHA||t===p.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||t===p.UserRequiredActions.REQUIRE_VERIFIED_PHONE)(0,l.openFullScreenLayer)((function(){return E}),{
layerKey:"verification",Layer:s.default});else if(t===p.UserRequiredActions.AGREEMENTS||t===p.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT)(0,d.openModal)((function(e){return a.createElement(c.default,e)}),{modalKey:g,onCloseRequest:v.NOOP_NULL});else if(null==t){(0,l.closeFullScreenLayer)("verification");(0,d.hasModalOpen)(g)&&(0,d.closeModal)(g)}},handleLogout:function(){(0,l.closeFullScreenLayer)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,d.closeModal)(i.EMAIL_VERIFICATION_MODAL_KEY)}};t.default=S},141057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-06_auth_sessions_user_settings",label:"Auth Sessions User Settings",defaultConfig:{showSettings:!1},treatments:[{id:1,label:"Show settings",config:{showSettings:!0}}]});t.default=r},781900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchEmailSettings=function(){
return p.apply(this,arguments)};t.updateEmailSetting=function(e,t){return v.apply(this,arguments)};t.updateMarketingEmailSettings=function(){return y.apply(this,arguments)};var r=n(47354),a=n(377371),o=s(n(636602)),i=s(n(351772)),u=n(969299),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function p(){return(p=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3
;return i.default.get({url:l.Endpoints.EMAIL_SETTINGS,trackedActionData:{event:r.NetworkActionNames.EMAIL_SETTINGS_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.initialized;return(0,a.exact)({initialized:n})}}});case 3:t=e.sent;o.default.dispatch({type:"EMAIL_SETTINGS_FETCH_SUCCESS",settings:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);o.default.dispatch({type:"EMAIL_SETTINGS_FETCH_FAILURE"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark((function e(t,n){var a,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:(a={},a[t]=n,a)});e.prev=1;e.next=4;return i.default.patch({url:l.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:(u={},u[t]=n,u)}},trackedActionData:{event:r.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:t,value:n}}});case 4:s=e.sent
;o.default.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:s.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(1);o.default.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.MarketingEmailCategories.reduce((function(e,t){var n;return d({},e,((n={})[t]=!1,n))}),{});o.default.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:t});e.prev=2;e.next=5;return i.default.patch({url:l.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:t}},trackedActionData:{event:r.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:"marketing",value:!1}}});case 5:n=e.sent;o.default.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:n.body});e.next=12;break;case 9:e.prev=9;e.t0=e.catch(2);o.default.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});case 12:
case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}},969299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MarketingEmailCategories=t.EmailCategoriesList=t.EmailCategories=t.EMAILS_SUBSECTION=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};var o;t.EMAILS_SUBSECTION="emails";t.EmailCategories=o;!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(o||(t.EmailCategories=o={}));var i=[o.TIPS,o.RECOMMENDATIONS_AND_EVENTS,o.UPDATES_AND_ANNOUNCEMENTS];t.MarketingEmailCategories=i;var u=[{category:o.COMMUNICATION,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:o.SOCIAL,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},
subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:o.UPDATES_AND_ANNOUNCEMENTS,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:o.TIPS,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:o.RECOMMENDATIONS_AND_EVENTS,label:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return a.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}];t.EmailCategoriesList=u},421010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602));function o(e){return e&&e.__esModule?e:{default:e}}
function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}var l={},s=null;function d(){l={};s=null}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getEmailSettings=function(){return{categories:l,initialized:s}};n.__getLocalVars=function(){return{categories:l,initialized:s}};return t}(r.default.Store);f.displayName="EmailSettingsStore";var c=new f(a.default,{CONNECTION_OPEN:d,LOGOUT:d,EMAIL_SETTINGS_FETCH_SUCCESS:function(e){var t=e.settings;l=t.categories;s=t.initialized},EMAIL_SETTINGS_UPDATE_SUCCESS:function(e){var t=e.settings;l=t.categories},EMAIL_SETTINGS_UPDATE:function(e){var t=e.updates;l=u({},l,{},t)}})
;t.default=c},933411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(213192)),a=d(n(496486)),o=d(n(536211)),i=n(358103),u=d(n(972247)),l=n(324828),s=n(840433);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=(0,r.default)({IMAGE:null,VIDEO:null}),n=o.default.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,a){var o=i.FavoriteGIF.create();o.format=r.format===t.IMAGE?i.GIFType.IMAGE:r.format===t.VIDEO?i.GIFType.VIDEO:i.GIFType.NONE;o.src=r.src;o.width=r.width;o.height=r.height;o.order=n.favorites.length-a+e;return{url:r.url,favorite:o}}))}var v=[{version:2,run:function(e){var t=p(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());e.favoriteGifs.gifs={};for(var n,r=f(t);!(n=r()).done;){var a=n.value,o=a.url,u=a.favorite;e.favoriteGifs.gifs[o]=u}
e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1;if(t.favorites.length>0){e.favoriteStickers=i.FavoriteStickers.create();e.favoriteStickers.stickerIds=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.stickerFrecency=i.StickerFrecency.create();e.stickerFrecency.stickers=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:u.default.get("EmojiUsageHistory")||{}}
}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=i.FavoriteEmojis.create();e.favoriteEmojis.emojis=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.emojiFrecency=i.EmojiFrecency.create();e.emojiFrecency.emojis=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("EmojiStore");u.default.remove("EmojiUsageHistory");u.default.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=p(1);if(0===t.length)return!1;(0,a.default)(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){return e.order=t.length+1+n}));for(var n,r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length,o=0,u=f(t);!(n=u()).done;){var l=n.value,d=l.url,c=l.favorite;c.order=t.length-o;o++
;if(d in e.favoriteGifs.gifs)e.favoriteGifs.gifs[d].order=c.order;else{var v=i.FavoriteGIF.toBinary(c).length+d.length+7;if(!(r+v>s.MAX_FAVORITE_GIFS_SIZE)){r+=v;e.favoriteGifs.gifs[d]=c}}}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length;for(;r>s.MAX_FAVORITE_GIFS_SIZE;){var y=0;for(var m in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[m];if(++y>=10)break}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(a.default.size(t.usageHistory)>0){e.applicationCommandFrecency=i.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,l.serializeUsageHistory)(t.usageHistory,500);n=!0}return n},cleanup:function(){u.default.remove("ApplicationCommandFrecency")}}];t.default=v},409501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=v(n(496486)),a=n(358103),o=v(n(972247)),i=v(n(636602)),u=v(n(290760)),l=v(n(371732)),s=v(n(433385)),d=n(828593),f=v(n(960441)),c=n(324828),p=n(840433);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _="lastFrecencySavedTime",h=3e5*Math.random(),g=864e5+Math.floor(36e5*Math.random()),E=null,S=Date.now(),O={init:function(){i.default.subscribe("CONNECTION_OPEN",b);i.default.subscribe("CONNECTION_RESUMED",b);i.default.subscribe("CONNECTION_CLOSED",I);d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return!1},processProto:function(){A(!0)}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){
return l.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(l.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.stickerFrecency=a.StickerFrecency.create();e.stickerFrecency.stickers=(0,c.serializeUsageHistory)(l.default.stickerFrecencyWithoutFetchingLatest.usageHistory,100)}}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return s.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(s.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.emojiFrecency=a.EmojiFrecency.create();e.emojiFrecency.emojis=(0,c.serializeUsageHistory)(s.default.emojiFrecencyWithoutFetchingLatest.usageHistory,100)}}});d.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){
return u.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(u.default.hasPendingUsage()&&f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.applicationCommandFrecency=a.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,c.serializeUsageHistory)(u.default.getCommandFrecencyWithoutLoadingLatest().usageHistory,500)}}})}};t.default=O;function b(){var e;S=null!==(e=o.default.get(_))&&void 0!==e?e:Date.now();A(!1)}function I(){clearTimeout(E);E=null}function T(){return C.apply(this,arguments)}function C(){return(C=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S=Date.now();A(!0);if(f.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.next=6;break}if(!(l.default.hasPendingUsage()||s.default.hasPendingUsage()||u.default.hasPendingUsage())){e.next=6;break}
e.next=6;return d.FrecencyUserSettingsActionCreators.loadIfNecessary();case 6:r.default.forEach(d.UserSettingsActionCreatorsByType,(function(e){e.markDirtyIfHasPendingChange()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){if(e){S=Date.now();o.default.set(_,S)}null!=E&&clearTimeout(E);var t=Date.now()-S,n=Math.max(h,g-t);E=setTimeout(T,n)}},526774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSMSBackupDisabledMessage=function(e){if(e.hasFlag(a.UserFlags.STAFF)||e.hasFlag(a.UserFlags.PARTNER))return o.default.Messages.MFA_SMS_DISABLED_PARTNER;if(null==e.email)return o.default.Messages.MFA_SMS_DISABLED_NO_EMAIL;return null};var r,a=n(770348),o=(r=n(247001))&&r.__esModule?r:{default:r}},562497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(536211)),a=n(923387),o=n(629015),i=p(n(972247)),u=n(6505),l=p(n(644263)),s=n(925179),d=n(324828),f=n(770348),c=n(198622)
;function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array});null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,s.hasBit)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,s.addBit)(e.userContent.dismissedContents,t);n=!0}return n}function y(e,t,n){return!!u.HotspotStore.hasHiddenHotspot(t)&&v(e,n)}var m=[{version:2,run:function(e){var t,n;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(n||(n={}));if(null!=e.inbox)return!1;var r=!1,o=a.InboxSettings.create();e.inbox=o;if(i.default.get("seenInboxTutorial",!1)){o.viewedTutorial=!0;r=!0}var u=i.default.get("recentsButtonTab2");if(null!=u){o.currentTab=u===n.Mentions?a.InboxTab.MENTIONS:a.InboxTab.UNREADS;r=!0}var s=null!==(t=i.default.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(var f in s){var c;if(s[f]){var p=l.default.getChannel(f);if(null!=p){r=!0;(0,
d.mutateUserChannelSettings)(e,null!==(c=p.guild_id)&&void 0!==c?c:"0",p.id,(function(e){e.collapsedInInbox=!0}))}}}return r},cleanup:function(){i.default.remove("seenInboxTutorial");i.default.remove("recentsButtonTab2");i.default.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:i.default.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=o.StringValue.create());e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1
;(!0===i.default.get("HAS_SEEN_HUB_UPSELL")||u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=v(e,a.DismissibleContent.HUB_WAITLIST_UPSELL));return t},cleanup:function(){i.default.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,u,l,s,d,f=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:a.TextAndImagesSettings.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:a.NotificationSettings.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:a.PrivacySettings.create();e.voiceAndVideo=null!==(u=e.voiceAndVideo)&&void 0!==u?u:a.VoiceAndVideoSettings.create();e.gameLibrary=null!==(l=e.gameLibrary)&&void 0!==l?l:a.GameLibrarySettings.create();e.debug=null!==(s=e.debug)&&void 0!==s?s:a.DebugSettings.create();var c=null!==(d=i.default.get("UserSettingsStore"))&&void 0!==d?d:{};if("boolean"==typeof c.useRichChatTextBox){e.textAndImages.useRichChatInput=o.BoolValue.create({value:c.useRichChatTextBox});f=!0}
if("string"==typeof c.renderSpoilers){e.textAndImages.renderSpoilers=o.StringValue.create({value:c.renderSpoilers});f=!0}if("boolean"==typeof c.useThreadSidebar){e.textAndImages.useThreadSidebar=o.BoolValue.create({value:c.useThreadSidebar});f=!0}if("boolean"==typeof c.showInAppNotifications){e.notifications.showInAppNotifications=o.BoolValue.create({value:c.showInAppNotifications});f=!0}if(c.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=c.emojiPickerCollapsedSections;f=!0}if(c.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=c.stickerPickerCollapsedSections;f=!0}if("boolean"==typeof c.viewImageDescriptions){e.textAndImages.viewImageDescriptions=o.BoolValue.create({value:c.viewImageDescriptions});f=!0}if("boolean"==typeof c.showCommandSuggestions){e.textAndImages.showCommandSuggestions=o.BoolValue.create({value:c.showCommandSuggestions});f=!0}if("boolean"==typeof c.alwaysPreviewVideo){
e.voiceAndVideo.alwaysPreviewVideo=o.BoolValue.create({value:c.alwaysPreviewVideo});f=!0}if("boolean"==typeof c.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=o.BoolValue.create({value:c.notifyFriendsOnGoLive});f=!0}if("boolean"==typeof c.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=o.BoolValue.create({value:c.installShortcutDesktop});f=!0}if("boolean"==typeof c.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=o.BoolValue.create({value:c.installShortcutStartMenu});f=!0}if("boolean"==typeof c.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=o.BoolValue.create({value:c.allowActivityPartyPrivacyFriends});f=!0}if("boolean"==typeof c.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=o.BoolValue.create({value:c.allowActivityPartyPrivacyVoiceChannel});f=!0}if("boolean"==typeof c.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=o.BoolValue.create({
value:c.rtcPanelShowVoiceStates});f=!0}return f},cleanup:function(){}},{version:7,run:function(e){return y(e,u.HotspotLocations.APPLICATION_COMMAND_TOOLTIP,a.DismissibleContent.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){return y(e,u.HotspotLocations.CHANNEL_BANNER_MEMBER_LIST_NOTICE,a.DismissibleContent.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP)&&i.default.set(c.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");return y(e,u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP,a.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){var t,n=y(e,u.HotspotLocations.HUB_LINK_CHANNEL_NOTICE,a.DismissibleContent.CHANNEL_NOTICE_HUBLINK),r=null!==(t=i.default.get("channelNotices"))&&void 0!==t?t:{};!1===r[f.ChannelNoticeTypes.INVITE]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_INVITE)&&(n=!0)
;!1===r[f.ChannelNoticeTypes.QUICKSWITCHER]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[f.ChannelNoticeTypes.GUILD_BOOSTING]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){i.default.remove("channelNotices")}},{version:11,run:function(e){var t=!1;y(e,u.HotspotLocations.GUILD_EVENT_UPSELL,a.DismissibleContent.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);y(e,u.HotspotLocations.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);y(e,u.HotspotLocations.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,run:function(e){var t=!1;i.default.get("hideNag")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);i.default.get("hideConnectSpotify")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0)
;i.default.get("hideConnectPlayStation")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideMFASMSNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){i.default.remove("hideNag");i.default.remove("hideConnectSpotify");i.default.remove("hideConnectPlayStation");i.default.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1;i.default.get("hidePremiumPromo")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);i.default.get("hidePremiumTier2TrialEnding")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);i.default.get("hidePremiumReactivateNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);y(e,u.HotspotLocations.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){i.default.remove("hidePremiumPromo");i.default.remove("hidePremiumTier2TrialEnding")
;i.default.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return y(e,u.HotspotLocations.ACTIVITY_BEB_TUTORIAL,a.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}},{version:15,run:function(e){return y(e,u.HotspotLocations.NOW_PLAYING_CONSENT_CARD,a.DismissibleContent.NOW_PLAYING_CONSENT_CARD)},cleanup:function(){}},{version:16,run:function(e){var t=i.default.get("PromotionsPersistedStore");if(null==t)return!1;var n=t._state.lastDismissedOutboundPromotionStartDate;if(null!=n){null==e.userContent&&(e.userContent=a.UserContentSettings.create());if(null==e.userContent.lastDismissedOutboundPromotionStartDate){e.userContent.lastDismissedOutboundPromotionStartDate=o.StringValue.create({value:n});return!0}}return!1},cleanup:function(){}},{version:17,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null).state;if(null==t)return!1;var n=t.expressionSuggestionsEnabled;if(null!=n){
null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());if(null==e.textAndImages.expressionSuggestionsEnabled){e.textAndImages.expressionSuggestionsEnabled=o.BoolValue.create({value:n});return!0}}return!1},cleanup:function(){i.default.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run:function(e){var t=!1;y(e,u.HotspotLocations.GUILD_DELETE_FEEDBACK,a.DismissibleContent.GUILD_DELETE_FEEDBACK)&&(t=!0);y(e,u.HotspotLocations.GUILD_LEAVE_FEEDBACK,a.DismissibleContent.GUILD_LEAVE_FEEDBACK)&&(t=!0);return t},cleanup:function(){}},{version:19,run:function(e){var t,n=!1;null!==(t=i.default.get("forumHelperCardStorageKey"))&&void 0!==t&&t&&(n=v(e,a.DismissibleContent.FORUM_CHANNEL_HELPER_CARD));return n},cleanup:function(){i.default.remove("forumHelperCardStorageKey")}}];t.default=m},109061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getBestMatches=function(e,t){var n=t.split(/\s+/g).filter((function(e){return""!==e}))
;if(0===n.length)return e;for(var r,i=[],u=o(e);!(r=u()).done;){for(var l,s=r.value,f=0,c=o(n);!(l=c()).done;){var p=l.value;d(s,p)&&(f+=1)}if(0!==f){null==i[f]&&(i[f]=[]);i[f].push(s)}}return(0,a.default)(i.filter((function(e){return void 0!==e})).reverse())};t.getEntries=function(e){return Array.from(Object.entries(e)).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(t,n)||i(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{id:r[0],experiment:r[1]}}))};t.getExperimentDateFromId=s;t.matchesDeep=d
;t.sortEntries=function(e){return e.slice().sort((function(e,t){var n=s(e.id),r=s(t.id);if(null!=n&&null!=r){var a=r.localeCompare(n);if(0!==a)return a}return e.experiment.title.localeCompare(t.experiment.title)}))};var r,a=(r=n(385564))&&r.__esModule?r:{default:r};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}
function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=/^(\d{4}-\d{1,2})/;function s(e){var t=l.exec(e);return null!=t?t[1]:null}function d(e,t){if(Array.isArray(e))for(var n,r=o(e);!(n=r()).done;){if(d(n.value,t))return!0}else if("object"==typeof e&&null!==e)for(var a=0,i=Object.values(e);a<i.length;a++){if(d(i[a],t))return!0}else if("string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))return!0;return!1}},859566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(496486)),a=f(n(636602)),o=f(n(933411)),i=f(n(562497)),u=f(n(228087)),l=n(828593),s=f(n(960441)),d=n(840433);function f(e){return e&&e.__esModule?e:{default:e}}var c={init:function(){u.default[d.UserSettingsTypes.PRELOADED_USER_SETTINGS]=i.default;u.default[d.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS]=o.default;a.default.subscribe("CONNECTION_OPEN",p)
;a.default.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",v);a.default.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",y);a.default.subscribe("APP_STATE_UPDATE",m)}};t.default=c;function p(){var e=s.default.getFullState(),t=e[d.UserSettingsTypes.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&l.PreloadedUserSettingsActionCreators.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);r.default.forEach(l.UserSettingsActionCreatorsByType,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function v(e){var t=e.settings,n=t.proto,r=t.type,a=e.delaySeconds,o=e.jitter;l.UserSettingsActionCreatorsByType[r].markDirty(n,{delaySeconds:a,jitter:o})}function y(e){var t=e.settingsType;l.UserSettingsActionCreatorsByType[t].loadIfNecessary()}function m(e){var t=e.state;"inactive"!==t&&"background"!==t||r.default.forEach(l.UserSettingsActionCreatorsByType,(function(e,t){if(null!=s.default.getFullState()[Number(t)].editInfo.timeout){
e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}},860238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.censorEmail=function(e){var t=(o=e.split("@"),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(o,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(o,i)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],a=t[1];var o,i;return"*".repeat(r.length)+"@"+a};t.censorPhone=function(e){return""+"*".repeat(e.length-4)+e.slice(-4)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=s(n(131795)),i=s(n(387316)),u=n(645758),l=s(n(696499));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){
var e,t,n=window.GLOBAL_ENV.RELEASE_CHANNEL,r=null===(e="fd516b28fd26cf7f953d9b420cb3a7e1388df4e1")?void 0:e.substring(0,7),s=null===i.default||void 0===i.default?void 0:i.default.remoteApp.getVersion(),d=null===o.default||void 0===o.default||null===(t=o.default.os)||void 0===t?void 0:t.toString(),c=null!=i.default?"("+i.default.os.release+")":null;return f("div",{className:l.default.info},void 0,f(u.Text,{tag:"span",className:l.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,n," ","141021"," ",f("span",{className:l.default.versionHash},void 0,"(",r,")"))," ",null!=s?a.createElement(a.Fragment,null,f(u.Text,{tag:"span",className:l.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,"Host ",s)," "):null,null!=d?f(u.Text,{tag:"span",className:l.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,d," ",c):null)}c.displayName="ClientDebugInfo"},321424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N
;var r,a=S(n(667294)),o=n(536211),i=g(n(740852)),u=g(n(663303)),l=g(n(956117)),s=g(n(530250)),d=n(645758),f=g(n(279950)),c=n(688388),p=n(194322),v=S(n(308920)),y=n(281699),m=n(770348),_=g(n(247001)),h=g(n(219686));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function A(e,t){
A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={codeInput:"",submitting:!1,hasError:!1,isPromoCode:!1};t.handleChange=function(e){t.setState({codeInput:e,hasError:!1})};t.handleSubmit=function(){var e=T(regeneratorRuntime.mark((function e(r){var o,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault();if(""!==(o=t.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(u=(0,y.processGiftCodeInput)(o))){e.next=8;break}t.setState({hasError:!0});return e.abrupt("return");case 8:t.setState({submitting:!0});e.prev=9;e.next=12;return i.default.resolveGiftCode(u);case 12:if(null==(l=e.sent)||null==l.giftCode.promotion){e.next=16;break}t.setState({
isPromoCode:!0});throw new Error("Cannnot redeem promotion code as gift");case 16:v.default.track(m.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:b({},t.analyticsLocation,{object:m.AnalyticsObjects.BUTTON_CTA})});(0,p.openModalLazy)(T(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,b({code:u},e))}));case 5:case"end":return e.stop()}}),e)}))));t.setState({codeInput:""});e.next=24;break;case 21:e.prev=21;e.t0=e.catch(9);t.setState({hasError:!0});case 24:e.prev=24;t.setState({submitting:!1});return e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(t){return e.apply(this,arguments)}}();return t}t.prototype.render=function(){
var e=this.props.obscureInput,t=this.state,n=t.codeInput,r=t.submitting,a=t.hasError,o=t.isPromoCode;return O(c.FormSection,{tag:c.FormTitleTags.H1,title:_.default.Messages.GIFT_INVENTORY_REDEEM_CODES},void 0,O(c.FormTitle,{},void 0,_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),O("form",{onSubmit:this.handleSubmit},void 0,O(s.default,{},void 0,O(f.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:m.GIFT_CODE_REDEMPTION_PLACEHOLDER,error:!o&&a?_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:h.default.codeRedemptionInput}),O(l.default,{type:"submit",submitting:r},void 0,_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))),o?O(d.Text,{className:h.default.errorMessage,variant:"text-sm/normal"},void 0,_.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMOTION.format({promoLink:"https://discord.com/billing/promotions/"+n})):null)};!function(e,t,n){t&&C(e.prototype,t);n&&C(e,n)
;Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"analyticsLocation",get:function(){return b({},this.props.analyticsContext.location,{object:m.AnalyticsObjects.BUTTON_CTA})}}]);return t}(a.Component);M.displayName="CodeRedemption";function N(){var e=a.useContext(v.AnalyticsContext),t=(0,o.useStateFromStores)([u.default],(function(){return u.default.enabled}));return O(M,{analyticsContext:e,obscureInput:t})}N.displayName="ConnectedCodeRedemption"},164697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(441143)),u=_(n(536211)),l=_(n(728429)),s=_(n(956117)),d=_(n(558402)),f=_(n(530250)),c=n(645758),p=n(194322),v=_(n(950445)),y=_(n(247001)),m=_(n(672103));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=S(f.default.Child,{grow:0,shrink:0},void 0,S(v.default,{})),I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?null!=r?r:y.default.Messages.NOTICE_UNVERIFIED_ACCOUNT:null!=n?n:y.default.Messages.NOTICE_UNCLAIMED_ACCOUNT};r.renderPrimaryAction=function(){return this.props.isClaimed?this.props.hasEmail?b:S(s.default,{size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openChangeEmailModal},void 0,y.default.Messages.ADD_EMAIL_SHORT):S(f.default.Child,{grow:0,shrink:0},void 0,S(s.default,{
size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openClaimAccountModal},void 0,y.default.Messages.CLAIM_ACCOUNT))};r.renderSecondaryAction=function(){return this.props.isClaimed&&this.props.hasEmail?S(f.default.Child,{grow:0,shrink:0},void 0,S(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:this.openChangeEmailModal},void 0,y.default.Messages.CHANGE_EMAIL_SHORT)):null};r.openClaimAccountModal=function(){(0,p.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(41597)]).then(n.bind(n,304388));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))};r.openChangeEmailModal=function(){(0,p.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))};r.render=function(){var e=this.props,t=e.className,n=e.isClaimed,r=e.isVerified;return n&&r?null:S(d.default,{className:(0,o.default)(m.default.wrapper,t)},void 0,S(f.default,{align:f.default.Align.CENTER},void 0,S(f.default.Child,{className:m.default.image,grow:0,shrink:0}),S(f.default.Child,{},void 0,S(c.Text,{variant:"text-sm/normal"},void 0,this.renderNotice()),S(f.default,{justify:f.default.Justify.CENTER,className:m.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))};return t}(a.Component);I.displayName="EmailNotice";var T=u.default.connectStores([l.default],(function(){var e=l.default.getCurrentUser();(0,i.default)(null!=e,"EmailNotice: currentUser cannot be undefined");return{isClaimed:e.isClaimed(),isVerified:e.verified,
hasEmail:null!=e.email}}))(I);t.default=T},39122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=D(n(667294)),o=R(n(730381)),i=R(n(536211)),u=n(91817),l=R(n(740852)),s=R(n(819660)),d=R(n(423046)),f=R(n(288356)),c=R(n(202904)),p=R(n(663303)),v=R(n(909584)),y=R(n(399561)),m=R(n(542618)),_=R(n(956117)),h=R(n(16941)),g=D(n(242881)),E=R(n(530250)),S=R(n(562475)),O=R(n(80828)),b=R(n(69405)),I=n(537683),T=n(856384),C=n(281699),A=n(770348),M=n(265517),N=R(n(247001)),P=R(n(801048));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function L(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function U(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){var t=e.giftStyle,n=e.shouldAnimate;return F(s.default,{giftStyle:t,className:P.default.seasonalGiftBox,shouldAnimate:n})}x.displayName="SeasonalAnimation";var B=function(e){U(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._copyModeTimeout=new u.Timeout;t.state={copyMode:g.CopyInputModes.DEFAULT};t.handleCopy=function(e){var n=t.props,r=n.giftCode,a=n.sku;(0,C.trackGiftCodeCopy)(r,a);try{(0,T.copy)(e);t.setState({copyMode:g.CopyInputModes.SUCCESS})}catch(e){t.setState({copyMode:g.CopyInputModes.ERROR})}t._copyModeTimeout.start(1e3,(function(){t.setState({
copyMode:g.CopyInputModes.DEFAULT})}))};return t}var n=t.prototype;n.componentWillUnmount=function(){this._copyModeTimeout.stop()};n.handleRevoke=function(e){l.default.revokeGiftCode(e)};n.render=function(){var e=this,t=this.props,n=t.hideCode,r=t.giftCode,i=this.state.copyMode;return F(E.default,{direction:E.default.Direction.VERTICAL,className:P.default.giftCodeRow},void 0,F(g.default,{className:P.default.codeText,value:(0,C.getGiftCodeURL)(r.code),text:this.copyButtonText,mode:i,supportsCopy:T.SUPPORTS_COPY,hideMessage:n?N.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:g.default.ButtonColors.BRAND,buttonLook:g.default.ButtonLooks.FILLED}),F("div",{className:P.default.subTextRow},void 0,null!=r.expiresAt?F(a.Fragment,{},void 0,N.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:r.expiresAt.diff((0,o.default)(),"h")})," ","— "):null,F(h.default,{tag:"a",onClick:function(){return e.handleRevoke(r.code)}},void 0,N.default.Messages.REVOKE)))}
;!function(e,t,n){t&&j(e.prototype,t);n&&j(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case g.CopyInputModes.SUCCESS:return N.default.Messages.BILLING_GIFT_COPIED;case g.CopyInputModes.ERROR:return N.default.Messages.FAILED;default:return N.default.Messages.COPY}}}]);return t}(a.PureComponent);B.displayName="GiftCodeRow";var H=function(e){U(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._loadedAt=null;t.state={isOpen:!1,isCreating:!1,isHovered:!1};t.handleGenerateGiftCode=function(){var e=k(regeneratorRuntime.mark((function e(n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation();r=t.props,a=r.skuId,o=r.subscriptionPlanId,i=r.giftStyle;t.setState({isCreating:!0});e.next=5;return l.default.createGiftCode(a,o,i);case 5:t.setState({isCreating:!1,isOpen:!0})
;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleToggleOpen=function(){var e=t.props,n=e.skuId,r=e.subscriptionPlanId,a=e.loadedAt,o=!t.state.isOpen;(null==a||null==t._loadedAt||a<t._loadedAt)&&o&&l.default.fetchUserGiftCodesForSKU(n,r);t.setState({isOpen:!t.state.isOpen})};return t}var n=t.prototype;n.componentDidMount=function(){this._loadedAt=Date.now()};n.renderTitle=function(){var e,t=this.props,n=t.sku,r=t.subscriptionPlan,a=t.giftCodeBatchId;e=a===M.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID?N.default.Messages.BLACK_FRIDAY_PROMOTION_GIFT_INVENTORY_TITLE:a===M.STICKERS_GIFT_CODE_BATCH_ID&&null!=r?(r.interval===A.SubscriptionIntervalTypes.MONTH?N.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_MONTH:N.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_YEAR).format({skuName:n.name,intervalCount:r.intervalCount
}):null==r?n.name:(r.interval===A.SubscriptionIntervalTypes.MONTH?N.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:N.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:n.name,intervalCount:r.intervalCount});return F("div",{className:P.default.gameName},void 0,e)};n.renderGenerateGiftCodeRow=function(){return F(E.default,{justify:E.default.Justify.BETWEEN,align:E.default.Align.CENTER,className:P.default.generateCodeRow},void 0,F("div",{className:P.default.codeText},void 0,N.default.Messages.GIFT_INVENTORY_GENERATE_HELP),F(_.default,{submitting:this.state.isCreating,size:_.default.Sizes.SMALL,color:_.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,N.default.Messages.GIFT_INVENTORY_GENERATE_LINK))};n.setIsHovered=function(e){this.setState({isHovered:e})};n.render=function(){var e=this,t=this.props,n=t.entitlements,r=t.application,o=t.giftCodes,i=t.className,u=t.sku,l=t.isFetching,s=t.hideCodes,d=t.giftStyle,f=this.state.isOpen;return F(m.default,{
className:i},void 0,F(h.default,{onClick:this.handleToggleOpen,className:P.default.card,onMouseEnter:function(){return e.setIsHovered(!0)},onMouseLeave:function(){return e.setIsHovered(!1)}},void 0,F(m.default.Header,{splashArtURL:r.getSplashURL(512)},void 0,F("div",{className:P.default.cardHeader},void 0,F(E.default,{align:E.default.Align.CENTER},void 0,null!=d?F(x,{giftStyle:d,shouldAnimate:this.state.isHovered}):F(S.default,{game:r,size:S.default.Sizes.MEDIUM,skuId:u.id}),F("div",{className:P.default.headerText},void 0,this.renderTitle(),F("div",{className:P.default.subTextHeader},void 0,N.default.Messages.GIFT_INVENTORY_COPIES.format({copies:n.length})))),F(b.default,{direction:f?b.default.Directions.UP:b.default.Directions.DOWN,className:P.default.expandIcon})))),f?F(m.default.Body,{},void 0,l?F(O.default,{className:P.default.spinner}):F(a.Fragment,{},void 0,o.length<n.length?this.renderGenerateGiftCodeRow():null,o.map((function(e){return F(B,{giftCode:e,sku:u,hideCode:s},e.code)
})))):null)};return t}(a.PureComponent);H.displayName="EntitlementGiftGroupCard";var W=i.default.connectStores([y.default,p.default,c.default,f.default,v.default,d.default],(function(e){var t=e.skuId,n=e.subscriptionPlanId,r=e.giftStyle,a=y.default.get(t);if(null==a)throw new Error("SKU was unavailable while rendering gift.");var o=c.default.getForGifterSKUAndPlan(d.default.getId(),t,n).filter((function(e){return!e.isClaimed})).filter((function(e){return e.giftStyle===r}));return{sku:a,hideCodes:p.default.enabled,isFetching:c.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:c.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:f.default.getGame(a.applicationId),subscriptionPlan:null!=n?(0,I.getOrFetchSubscriptionPlan)(n):null,giftCodes:o}}))(H);t.default=W},379743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=U(n(667294)),o=k(n(294184)),i=k(n(496486)),u=k(n(730381)),l=n(536211),s=k(n(636602)),d=n(851792),f=k(n(226800)),c=k(n(213847)),p=n(169749),v=n(436592),y=k(n(268389)),m=n(462827),_=n(969082),h=U(n(113781)),g=k(n(288356)),E=k(n(47969)),S=k(n(956117)),O=k(n(789446)),b=n(772575),I=k(n(80828)),T=n(645758),C=n(688388),A=k(n(3400)),M=n(35033),N=n(281699),P=k(n(39122)),R=n(770348),w=n(265517),D=k(n(247001)),L=k(n(266958));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e){var t=e.drop,n=e.streamLengthRequirement,r=e.unlocked,a=t.title,o=t.imagePath;return B("div",{className:L.default.dropContainer},void 0,B("div",{className:L.default.dropCard},void 0,B("div",{className:L.default.mainPromotionCardContainer},void 0,B("div",{
className:L.default.promotionCardLeftContainer},void 0,B("div",{className:L.default.promotionIcon},void 0,B("img",{alt:"",src:o,className:L.default.promotionIconImage})),B("div",{},void 0,B(b.Heading,{variant:"heading-md/medium",level:3},void 0,a),B(T.Text,{variant:"text-sm/normal",color:"text-normal",className:L.default.promotionText},void 0,D.default.Messages.DROPS_PROMPT_GO_LIVE.format({gameTitle:a,minutes:n})))),B(S.default,{className:L.default.promotionCardButton,color:S.default.Colors.BRAND,size:S.default.Sizes.SMALL,onClick:function(){},disabled:r},void 0,r?D.default.Messages.REDEEM:D.default.Messages.GIFT_INVENTORY_CLAIM_GIFT))),B("div",{className:L.default.dropCriteria},void 0,B(O.default,{value:!1,disabled:!0},void 0,B(T.Text,{color:"text-muted",variant:"text-sm/normal"},void 0,D.default.Messages.DROPS_GO_LIVE_TASK.format({minutes:n})))))}H.displayName="AvailableDropCard";function W(e){
var t,n=e.outboundPromotion,r=e.code,i=e.addClaimedOutboundPromotionCode,l=F(a.useState(!1),2),s=l[0],d=l[1],f=F(a.useState(!1),2),p=f[0],v=f[1],_=function(){return d((function(e){return!e}))},g=(0,c.default)(),E=(0,m.getPromotionImageURL)(n.id,g),O=null!=r,I=O?(0,M.dateFormat)((0,u.default)(n.endDate).add(w.OUTBOUND_PROMOTION_REDEMPTION_EXPIRATION_WINDOW),"LL"):(0,M.dateFormat)((0,u.default)(n.endDate),"LL");O&&s?t=D.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:I,onClickDetails:_}):O&&!s?t=D.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:I,onClickDetails:_}):!O&&s?t=D.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:I,onClickDetails:_}):O||s||(t=D.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:I,onClickDetails:_}));var C=O?D.default.Messages.OUTBOUND_PROMOTION_SEE_CODE:D.default.Messages.PROMOTION_CARD_ACTION_CLAIM,N=a.useCallback((function(){
return v(!1)}),[]),P=n.outboundTitle,R=n.outboundTermsAndConditions;return a.createElement(a.Fragment,null,B("div",{className:(0,o.default)(L.default.skuCard,L.default.promotionCard)},void 0,B("div",{className:L.default.mainPromotionCardContainer},void 0,B("div",{className:L.default.promotionCardLeftContainer},void 0,B("div",{className:L.default.promotionIcon},void 0,B("img",{alt:"",src:E,className:L.default.promotionIconImage})),B("div",{},void 0,B(b.Heading,{variant:"heading-md/medium",level:3},void 0,P),B(T.Text,{variant:"text-sm/normal",color:"text-normal",className:L.default.promotionText},void 0,t))),B(S.default,{className:L.default.promotionCardButton,color:S.default.Colors.BRAND,size:S.default.Sizes.SMALL,onClick:function(){return v(!0)}},void 0,C)),s&&B(T.Text,{className:L.default.promotionLegalese,variant:"text-xs/normal",color:"header-secondary"},void 0,y.default.parse(R,!1,{allowLinks:!0}))),p&&B(A.default,{renderModal:function(e){return a.createElement(h.default,G({},e,{
onClose:N,onClaim:i,code:r,outboundPromotion:n}))},onCloseRequest:N}))}function V(e){var t,n=e.drop,r=e.code,i=F(a.useState(!1),2),l=i[0],s=i[1],d=F(a.useState(!1),2),f=d[0],c=d[1],p=function(){return s((function(e){return!e}))},v=void 0!==r,m=(0,M.dateFormat)((0,u.default)(n.endDate),"LL");v&&l?t=D.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:m,onClickDetails:p}):v&&!l?t=D.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:m,onClickDetails:p}):!v&&l?t=D.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:m,onClickDetails:p}):v||l||(t=D.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:m,onClickDetails:p}));var _=v?D.default.Messages.OUTBOUND_PROMOTION_SEE_CODE:D.default.Messages.PROMOTION_CARD_ACTION_CLAIM,g=a.useCallback((function(){return c(!1)}),[]);return a.createElement(a.Fragment,null,B("div",{className:(0,
o.default)(L.default.skuCard,L.default.promotionCard)},void 0,B("div",{className:L.default.mainPromotionCardContainer},void 0,B("div",{className:L.default.promotionCardLeftContainer},void 0,B("div",{className:L.default.promotionIcon},void 0,B("img",{alt:"",src:n.imagePath,className:L.default.promotionIconImage})),B("div",{},void 0,B(b.Heading,{variant:"heading-md/medium",level:3},void 0,n.title),B(T.Text,{variant:"text-sm/normal",color:"text-normal",className:L.default.promotionText},void 0,t))),B(S.default,{color:S.default.Colors.BRAND,size:S.default.Sizes.SMALL,onClick:function(){return c(!0)}},void 0,_)),l&&B(T.Text,{className:L.default.promotionLegalese,variant:"text-xs/normal",color:"header-secondary"},void 0,y.default.parse(n.termsAndConditions,!1,{allowLinks:!0}))),f&&B(A.default,{renderModal:function(e){return a.createElement(h.DropRedemptionModal,G({},e,{onClose:g,onClaim:function(){},code:r,drop:n}))},onCloseRequest:g}))}var Y=function(){var e=(0,
l.useStateFromStores)([g.default],(function(){return Boolean(g.default.lastFetched)})),t=(0,l.useStateFromStoresArray)([E.default],(function(){return E.default.getGiftable()})),n=F(i.default.partition(t,(function(e){return null==e.giftCodeBatchId})),2),r=n[0],o=n[1],u=i.default.groupBy(r,(function(e){return(0,N.makeComboId)(e.skuId,e.subscriptionPlanId,e.giftStyle)})),c=F(a.useState(!1),2),y=c[0],m=c[1];a.useEffect((function(){s.default.wait((function(){(0,d.fetchGiftableEntitlements)().then((function(){return m(!0)}))}))}),[]);var h=(0,_.useOutboundPromotions)(),S=h.promotionsLoaded,O=h.activeOutboundPromotions,b=h.claimedEndedOutboundPromotions,T=h.claimedOutboundPromotionCodeMap,A=h.addClaimedOutboundPromotionCode,M=(0,v.useDrops)(),k=(0,p.useDropsExperiment)(),j=k.dropsEnabled,U=k.streamLengthRequirement;function x(){f.default.open(R.UserSettingsSections.PREMIUM)}var Y,K,z,$,q,X,Q=B(V,{drop:M});return e&&y&&S?a.createElement(a.Fragment,null,j&&B(C.FormSection,{
tag:C.FormTitleTags.H1,title:D.default.Messages.GIFT_INVENTORY_AVAILABLE_GIFTS},void 0,B(H,{drop:G({},M),streamLengthRequirement:U,unlocked:!0})),(K=o.find((function(e){return e.giftCodeBatchId===w.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID&&!e.consumed})),z=null!==(Y=o.filter((function(e){return e.giftCodeBatchId===w.STICKERS_GIFT_CODE_BATCH_ID&&!e.consumed})))&&void 0!==Y?Y:[],$=F(i.default.partition(z,(function(e){return e.subscriptionPlanId===R.SubscriptionPlans.PREMIUM_YEAR_TIER_2})),2),q=$[0],X=$[1],B(C.FormSection,{tag:C.FormTitleTags.H1,title:O.length+b.length>0?D.default.Messages.GIFT_INVENTORY_YOUR_GIFTS:void 0},void 0,j&&Q,b.map((function(e){var t=e.code,n=e.promotion;return B(W,{outboundPromotion:n,code:t,addClaimedOutboundPromotionCode:A},n.id)})),O.map((function(e){return B(W,{outboundPromotion:e,code:T[e.id],addClaimedOutboundPromotionCode:A},e.id)})),null!=K?B(P.default,{className:L.default.skuCard,skuId:K.skuId,subscriptionPlanId:K.subscriptionPlanId,entitlements:[K],
giftCodeBatchId:w.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID},(0,N.makeComboId)(K.skuId,K.subscriptionPlanId)):null,q.length>0?B(P.default,{className:L.default.skuCard,skuId:q[0].skuId,subscriptionPlanId:q[0].subscriptionPlanId,entitlements:q,giftCodeBatchId:w.STICKERS_GIFT_CODE_BATCH_ID},(0,N.makeComboId)(q[0].skuId,q[0].subscriptionPlanId)):null,X.length>0?B(P.default,{className:L.default.skuCard,skuId:X[0].skuId,subscriptionPlanId:X[0].subscriptionPlanId,entitlements:X,giftCodeBatchId:w.STICKERS_GIFT_CODE_BATCH_ID},(0,N.makeComboId)(X[0].skuId,X[0].subscriptionPlanId)):null)),B(C.FormSection,{tag:C.FormTitleTags.H1,title:D.default.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED},void 0,0===Object.keys(u).length?B("div",{className:L.default.emptyState},void 0,B("div",{className:L.default.emptyStateImage}),B("h2",{className:L.default.emptyStateHeader},void 0,D.default.Messages.GIFT_INVENTORY_NO_GIFTS),B("p",{className:L.default.emptyStateSubtext
},void 0,D.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:x}))):i.default.keys(u).map((function(e){var t=(0,N.parseComboId)(e),n=t.skuId,r=t.subscriptionPlanId,a=t.giftStyle;return B(P.default,{className:L.default.skuCard,skuId:n,subscriptionPlanId:r,entitlements:u[e],giftStyle:a},e)})))):B(I.default,{className:L.default.loading})};t.default=Y},243905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(6505),u=n(645758),l=n(730977),s=n(688388),d=v(n(992193)),f=v(n(259530)),c=n(967965),p=v(n(639617));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){
o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=m(s.FormDivider,{});function E(e){var t=e.hotspotLocation,n=_((0,o.useStateFromStoresArray)([i.HotspotStore],(function(){return[i.HotspotStore.hasHotspot(t,!0),i.HotspotStore.getHotspotOverride(t)]})),2),r=n[0],u=n[1]
;return a.createElement(a.Fragment,null,m(s.FormItem,{title:t,className:p.default.hotspotSwitch},void 0,r?m(l.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Active"},void 0,m(d.default,{className:p.default.checkmark})):m(l.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Inactive"},void 0,m(f.default,{className:p.default.xmark})),m(c.SingleSelect,{className:p.default.overrideSelect,value:u,options:[{value:void 0,label:"No Override"},{value:!0,label:"Force Active"},{value:!1,label:"Force Inactive"}],onChange:function(e){return null!=e?(0,i.setHotspotOverride)(t,e):(0,i.clearHotspotOverride)(t)}})),g)}function S(e){var t=e.className;return m(s.FormSection,{title:"Hotspots",tag:s.FormTitleTags.H1,className:t},void 0,m(u.Text,{className:p.default.helpText,tag:"p",variant:"text-sm/normal"
},void 0,'All the "hotspots" in app, and their current status. Use the select menu to override them on or off.'),Object.keys(i.HotspotLocations).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return m(E,{hotspotLocation:e},e)})))}S.displayName="HotspotConfiguration"},388988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=R(n(294184)),i=R(n(817673)),u=n(536211),l=n(832635),s=n(856259),d=R(n(954140)),f=R(n(37039)),c=R(n(849209)),p=n(547642),v=R(n(500985)),y=R(n(655205)),m=R(n(314182)),_=R(n(30098)),h=R(n(146771)),g=R(n(151097)),E=R(n(956117)),S=n(645758),O=R(n(279950)),b=R(n(730977)),I=n(688388),T=R(n(588417)),C=n(967965),A=n(770348),M=R(n(598022)),N=R(n(349748)),P=R(n(3066));function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=L(I.FormTitle,{},void 0,"Gift"),G=L(I.FormTitle,{},void 0,"Premium Select Plan"),F=L(I.FormTitle,{},void 0,"Boost"),x=L("div",{},void 0,"No Guild to boost"),B=L(I.FormTitle,{},void 0,L("div",{},void 0,"Standalone: Trial Promotion Redemption"),L(g.default,{href:"https://i.dis.gd/createPromo"},void 0,"How to create promotion")),H=L(I.FormTitle,{},void 0,"Standalone: Gift/Subscription Purchase"),W=L(I.FormTitle,{},void 0,"Creator Revenue"),V=L(I.FormTitle,{},void 0,"Helpers");function Y(){var e=k(a.useState(A.PremiumSubscriptionSKUs.TIER_2),2),t=e[0],n=e[1],r=k((0,u.useStateFromStoresArray)([_.default],(function(){return[_.default.getGuilds()]})),1)[0],g=k((0,u.useStateFromStoresArray)([h.default],(function(){
return[h.default.getPremiumSubscription()]})),1)[0],R=Object.values(r).map((function(e){return{value:e,label:e.name}})),w=k(a.useState(R.length>0?R[0].value:null),2),j=w[0],Y=w[1],K=k(a.useState(""),2),z=K[0],$=K[1],q=k(a.useState({plan_id:A.SubscriptionPlans.PREMIUM_MONTH_TIER_2,gift:"true"}),2),X=q[0],Q=q[1],Z="true"!==X.gift&&null!=g,J=k(a.useState(R.length>0?R[0].value:null),2),ee=J[0],te=J[1],ne=(0,f.default)(d.default.PAYMENT_FLOW_TEST_PAGE),re=ne.AnalyticsLocationProvider,ae=ne.analyticsLocations;(0,p.useFetchListingsForGuild)(null==ee?void 0:ee.id);var oe=(0,p.useGroupListingsForGuild)(null==ee?void 0:ee.id),ie=a.useMemo((function(){return null==ee?[]:oe.filter((function(e){return null!=e.subscription_listings&&e.subscription_listings.map((function(e){return e.published})).includes(!0)}))}),[oe,ee]);return L(re,{},void 0,L(I.FormSection,{title:"Payment Flow Modals",tag:I.FormTitleTags.H1},void 0,L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)
},void 0,U,L(C.SingleSelect,{value:t,options:[{value:A.PremiumSubscriptionSKUs.TIER_2,label:"nitro"},{value:A.PremiumSubscriptionSKUs.TIER_1,label:"nitro classic"}],onChange:function(e){return n(e)}}),L(m.default,{subscriptionTier:t,isGift:!0,premiumModalAnalyticsLocation:{},className:N.default.button})),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,G,L(E.default,{onClick:function(){return(0,y.default)({analyticsLocations:ae})}},void 0,"Select Plan")),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,F,L(C.SingleSelect,{value:j,options:R,onChange:function(e){return Y(e)}}),null!=j?L(c.default,{guild:j,analyticsLocation:{}}):x),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,B,L(O.default,{placeholder:"Promotion Code",value:z,onChange:function(e){
return $(e)}}),L(b.default,{text:"Need Promotion Code",shouldShow:z.length<1},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return L(E.default,{disabled:z.length<1,onMouseEnter:t,onMouseLeave:n,onClick:function(){window.open(A.Routes.BILLING_PROMOTION_REDEMPTION(z))}},void 0,"Open Link")}))),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,H,L(C.SingleSelect,{value:X.plan_id,options:[{value:A.SubscriptionPlans.PREMIUM_MONTH_TIER_1,label:"nitro classic"},{value:A.SubscriptionPlans.PREMIUM_MONTH_TIER_2,label:"nitro"}],onChange:function(e){return Q((function(t){return D({},t,{plan_id:e})}))}}),L(C.SingleSelect,{value:X.gift,options:[{value:"true",label:"Gift"},{value:"false",label:"Not Gift"}],onChange:function(e){return Q((function(t){return D({},t,{gift:e})}))}}),L(b.default,{text:"Already subscribed",shouldShow:Z},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return L(E.default,{
onMouseLeave:n,onMouseEnter:t,disabled:Z,onClick:function(){window.open(A.Routes.BILLING_PREMIUM_SUBSCRIBE+"?"+i.default.stringify(D({},X)))}},void 0,"Open Link")}))),L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,P.default.alignCenter,M.default.formItem)},void 0,W,L(S.Text,{className:M.default.guildServerDescription,variant:"text-sm/normal"},void 0,"Premium Server Subscription For"),L(C.SingleSelect,{value:ee,options:R,onChange:function(e){return te(e)}})),null!=ee?L("div",{className:(0,o.default)(M.default.groupListings,P.default.flex)},void 0,ie.map((function(e){return e.subscription_listings_ids.map((function(t){return L(v.default,{guildId:ee.id,groupListingId:e.id,listingId:t},t)}))}))):null,L(T.default,{className:M.default.formDivider}),L(I.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,V,L(E.default,{onClick:function(){return(0,s.resetSubscriptionPlanData)()}
},void 0,"Reset SubscriptionPlanStore"),L(E.default,{onClick:function(){return(0,l.resetSubscriptionStore)()}},void 0,"Reset SubscriptionStore"))))}Y.displayName="PaymentFlowModalTestPage";var K=Y;t.default=K},950445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(441143)),i=y(n(536211)),u=y(n(939949)),l=y(n(88509)),s=y(n(728429)),d=y(n(956117)),f=n(645758),c=y(n(502197)),p=n(194322),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={isSendingVerificationEmail:!1};t.handleResendVerification=function(){var e=t.props,n=e.currentUser,r=e.onClick;null==r||r();t.setState({isSendingVerificationEmail:!0},(function(){u.default.verifyResend().then((function(){return(0,p.openModal)((function(e){return a.createElement(c.default,_({header:v.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:v.default.Messages.OKAY,confirmButtonColor:d.default.Colors.BRAND},e),h(f.Text,{variant:"text-md/normal"},void 0,v.default.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})))}))})).catch((function(e){var t=e.body,n=v.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email);(0,p.openModal)((function(e){return a.createElement(l.default,_({title:v.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))}))})).then((function(){return t.setState({isSendingVerificationEmail:!1})}))}))}
;return t}t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,r=e.size;return h(d.default,{look:n,size:r,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,v.default.Messages.RESEND_VERIFICATION_EMAIL)};return t}(a.Component);E.displayName="ResendEmailVerificationButton";E.defaultProps={size:d.default.Sizes.MEDIUM,color:d.default.Colors.BRAND};var S=i.default.connectStores([s.default],(function(){var e=s.default.getCurrentUser();(0,o.default)(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined");return{currentUser:e}}))(E);t.default=S},815780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(805764)),o=f(n(151097)),i=f(n(877622)),u=f(n(170331)),l=f(n(637853)),s=n(770348),d=f(n(126436));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v={offset:{top:-8}};function y(){return p("div",{
className:d.default.socialLinks},void 0,p(o.default,{target:"_blank",tabIndex:-1,rel:"author",title:"Twitter",href:(0,a.default)(s.LocalizedLinks.TWITTER),className:d.default.link,focusProps:v},void 0,p(l.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Facebook",tabIndex:-1,href:s.SOCIAL_LINKS.FACEBOOK_URL,className:d.default.link,focusProps:v},void 0,p(i.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Instagram",tabIndex:-1,href:s.SOCIAL_LINKS.INSTAGRAM_URL,className:d.default.link,focusProps:v},void 0,p(u.default,{foreground:d.default.foreground,"aria-hidden":!0})))}y.displayName="SocialLinks"},825541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w
;var r,a,o=T(n(667294)),i=n(536211),u=b(n(636602)),l=T(n(446637)),s=b(n(525917)),d=b(n(424099)),f=b(n(956117)),c=b(n(530250)),p=b(n(682473)),v=b(n(279950)),y=n(354479),m=n(688388),_=n(3400),h=n(967965),g=n(770348),E=b(n(247001)),S=b(n(253769)),O=b(n(380203));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()
}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.LOCALHOST="localhost";e.PROXY="proxy"}(a||(a={}));function R(e,t,n){if(null==e)return null;switch(e){case a.LOCALHOST:return"https://localhost:"+t;case a.PROXY:return(0,s.default)(n)}}function w(e){var t=e.onClose,n=e.transitionState,r=(0,i.useStateFromStoresObject)([d.default],(function(){return{authorizedApplicationId:d.default.testModeApplicationId,
authorizationError:d.default.error,authorizing:d.default.isFetchingAuthorization}})),s=r.authorizedApplicationId,b=r.authorizationError,I=r.authorizing,T=N(o.useState(null!=s?s:""),2),A=T[0],P=T[1],w=N(o.useState("8080"),2),D=w[0],L=w[1],k=N(o.useState(a.LOCALHOST),2),j=k[0],U=k[1],G=(0,y.useUID)(),F=g.SNOWFLAKE_REGEX.test(A);o.useEffect((function(){return function(){return u.default.wait((function(){return l.resetError()}))}}),[]);function x(){return(x=M(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.resetError();n=R(j,D,A);e.next=4;return l.authorizeAndSetTestModeApplication(A,n);case 4:null!=e.sent&&t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=null!=s&&s===A,H=B?function(){l.reset();P("");U(null)}:function(){return x.apply(this,arguments)};return C(_.ModalRoot,{"aria-labelledby":G,transitionState:n},void 0,C(_.ModalHeader,{justify:c.default.Justify.BETWEEN,separator:!1
},void 0,C(m.FormTitle,{id:G,tag:m.FormTitle.Tags.H1,className:O.default.marginReset},void 0,E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),C(_.ModalCloseButton,{onClick:t})),C(_.ModalContent,{className:S.default.modalContent},void 0,C(m.FormText,{className:O.default.marginBottom20,type:m.FormText.Types.DESCRIPTION},void 0,E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),null==b?null:C(p.default,{className:O.default.marginBottom20},void 0,b),C("form",{onSubmit:function(e){e.preventDefault();H()}},void 0,C(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.START},void 0,C(m.FormItem,{className:S.default.inputWrapper,title:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER,required:!0},void 0,C(v.default,{value:A,maxLength:19,error:F?null:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID,onChange:function(e){P(e)},disabled:I})),C(m.FormItem,{className:S.default.inputWrapper,
title:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ORIGIN_LABEL},void 0,C(h.SingleSelect,{isDisabled:!F||""===A,value:j,options:[{value:a.LOCALHOST,label:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_LOCALHOST_OPTION,key:"localhost"},{value:a.PROXY,label:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PROXY_OPTION,key:"proxy"}],onChange:function(e){U(e)},placeholder:"URL Origin Type"})),j!==a.LOCALHOST?null:C(m.FormItem,{className:S.default.inputWrapper,title:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PORT_NUMBER_LABEL,required:!0},void 0,C(v.default,{value:D,maxLength:5,onChange:function(e){return L(e)},disabled:I})),C(f.default,{submitting:I,type:"submit",disabled:!F||0===A.length||j===a.LOCALHOST&&0===D.length,color:B?f.default.Colors.RED:f.default.Colors.GREEN},void 0,B?E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))}w.displayName="TextModeModal"},874364:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=L(n(667294)),o=w(n(294184)),i=w(n(441143)),u=w(n(536211)),l=w(n(163521)),s=w(n(498811)),d=w(n(410671)),f=w(n(149342)),c=w(n(54725)),p=n(947472),v=w(n(753304)),y=w(n(728429)),m=w(n(151097)),_=L(n(956117)),h=w(n(789446)),g=w(n(16941)),E=w(n(530250)),S=n(688388),O=n(194322),b=n(856384),I=n(135628),T=n(526774),C=w(n(418082)),A=n(770348),M=n(52656),N=w(n(247001)),P=w(n(177056)),R=w(n(380203));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,u,"next",e)}function u(e){j(o,r,a,i,u,"throw",e)}i(void 0)}))}}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){var t=e.code,n=t.code,r=t.consumed,o=n.substr(0,4)+"-"+n.substr(4),i=a.useRef(null),u=a.useCallback((function(e){if("c"===e.key&&e.metaKey&&b.SUPPORTS_COPY){var t;e.preventDefault();e.stopPropagation();(0,b.copy)(o);null==i||null===(t=i.current)||void 0===t||t.focus()}}),[o]);return F("li",{className:R.default.marginBottom20},void 0,F(g.default,{innerRef:i,className:P.default.backupCode,onKeyDown:u},void 0,F(h.default,{displayOnly:!0,readOnly:!0,className:P.default.codeCheckbox,value:r},void 0,F("span",{className:P.default.code},void 0,o))))}x.displayName="BackupCodeItem";var B=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={
revealed:!1,password:""};t.togglePhoneNumberVisibility=function(e){e.preventDefault();t.setState({revealed:!t.state.revealed})};t.handleDisableMFA=function(){l.default.disable()};t.generateBackupCodes=U(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v.default.getVerificationKey();e.next=3;return l.default.confirmViewBackupCodes(t,!0);case 3:case"end":return e.stop()}}),e)})));t.sendMFABackupCodesVerificationKeyEmail=function(){(0,O.openModal)((function(e){return a.createElement(f.default,k({},e,{handleSubmit:function(e){return l.default.sendMFABackupCodesVerificationKeyEmail(e).then((function(){t.viewBackupCodes(e)}))},title:N.default.Messages.TWO_FA_VIEW_BACKUP_CODES_ENTER_PASSWORD,actionText:N.default.Messages.TWO_FA_BACKUP_CODES_NEXT_ACTION}))}))};t.viewBackupCodes=function(e){(0,O.openModal)((function(t){return a.createElement(d.default,k({},t,{handleSubmit:function(e){
return l.default.confirmViewBackupCodes(e,!1).then((function(){return t.onClose()}))},maxLength:8,title:N.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_LABEL,label:N.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_INPUT_LABEL,forceNoPlaceholder:!0,retryPrompt:N.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_PROMPT,retrySuccessMessage:N.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_SUCCESS,onRetry:function(){return l.default.sendMFABackupCodesVerificationKeyEmail(e)},actionText:N.default.Messages.TWO_FA_VIEW_CODES_SUBMIT,helpMessage:N.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_BODY}))}))};t.getDownloadFileContents=function(){var e=t.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")})).join("\r\n");return N.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e};t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()}
;t.handleEnableSMS=function(){var e=function(){(0,O.openModal)((function(e){return a.createElement(f.default,k({},e,{handleSubmit:l.default.enableSMS,title:N.default.Messages.MFA_SMS_ENABLE}))}))};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()};t.handleDisableSMS=function(){(0,O.openModal)((function(e){return a.createElement(f.default,k({},e,{handleSubmit:l.default.disableSMS,title:N.default.Messages.MFA_SMS_REMOVE}),N.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)}))};return t}var r=t.prototype;r.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)};r.renderMFASMS=function(){var e,t,n=this.state.revealed,r=this.props,a=r.currentUser,o=r.togglingSMS,i=null!=a.phone,u=a.hasFlag(A.UserFlags.MFA_SMS);if(i||u){var l=n?a.phone:this.maskPhoneNumber(a.phone);t=F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom8},void 0,N.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:l
}),F(m.default,{onClick:this.togglePhoneNumberVisibility,className:P.default.phoneRevealer},void 0,n?N.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:N.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(u)e=F(E.default,{className:i?"":R.default.marginTop8},void 0,F(_.default,{color:_.default.Colors.RED,look:_.default.Looks.OUTLINED,size:_.default.Sizes.SMALL,submitting:o,onClick:this.handleDisableSMS},void 0,N.default.Messages.MFA_SMS_REMOVE));else{var s=(0,T.getSMSBackupDisabledMessage)(a);e=F(E.default,{className:i?"":R.default.marginTop8},void 0,F(_.default,{onClick:this.handleEnableSMS,size:_.default.Sizes.SMALL,submitting:o,disabled:null!=s},void 0,null!=s?s:N.default.Messages.MFA_SMS_ENABLE),i?F(_.default,{onClick:this.handleChangePhoneNumber,color:_.default.Colors.PRIMARY,size:_.default.Sizes.SMALL,look:_.default.Looks.LINK},void 0,N.default.Messages.CHANGE_PHONE_NUMBER):null)}return F(S.FormSection,{className:R.default.marginTop40,title:N.default.Messages.MFA_SMS_AUTH
},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,N.default.Messages.MFA_SMS_AUTH_SALES_PITCH),t,e)};r.renderEnabled=function(){var e,t=this.props.backupCodes,r=F(_.default,{onClick:this.sendMFABackupCodesVerificationKeyEmail,size:_.default.Sizes.SMALL},void 0,N.default.Messages.TWO_FA_VIEW_BACKUP_CODES);if(t.length>0){r=F(s.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,F(_.default,{size:_.default.Sizes.SMALL},void 0,N.default.Messages.TWO_FA_DOWNLOAD_CODES));var a=function(e){return e.map((function(e){return F(x,{code:e},e.code)}))};e=F(S.FormSection,{title:N.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,N.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),F(E.default,{},void 0,F(E.default.Child,{},void 0,F("ul",{className:P.default.checkboxGroup
},void 0,a(t.slice(0,t.length/2)))),F(E.default.Child,{},void 0,F("ul",{className:P.default.checkboxGroup},void 0,a(t.slice(t.length/2))))),F("div",{},void 0,F(_.default,{onClick:this.generateBackupCodes,look:_.ButtonLooks.LINK,size:_.ButtonSizes.MIN},void 0,N.default.Messages.TWO_FA_GENERATE_CODES)),F(S.FormDivider,{className:R.default.marginTop20}))}return F(S.FormSection,{},void 0,F(S.FormTitle,{className:(0,o.default)(P.default.isEnabled,R.default.marginTop4,R.default.marginBottom8)},void 0,F("img",{alt:"",className:(0,o.default)(P.default.lockIcon),src:n(392544)}),N.default.Messages.TWO_FA_ENABLED),F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,N.default.Messages.TWO_FA_DESCRIPTION),F(E.default,{justify:E.default.Justify.START,className:R.default.marginBottom20},void 0,F(E.default.Child,{wrap:!0,grow:0},void 0,r),F(E.default.Child,{wrap:!0},void 0,F(_.default,{onClick:this.handleDisableMFA,size:_.default.Sizes.SMALL,
color:_.ButtonColors.RED,look:_.ButtonLooks.OUTLINED},void 0,N.default.Messages.TWO_FA_REMOVE))),e,this.renderMFASMS())};r.renderDisabled=function(){return F(S.FormSection,{title:N.default.Messages.TWO_FA},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,N.default.Messages.TWO_FA_SALES_PITCH),F(S.FormItem,{},void 0,F(_.default,{onClick:C.default.enableMFA,size:_.ButtonSizes.SMALL},void 0,N.default.Messages.TWO_FA_ENABLE)))};r.render=function(){var e=this.props.currentUser;return I.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():F(S.FormSection,{title:N.default.Messages.TWO_FA},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,N.default.Messages.TWO_FA_NOT_VERIFIED)):F(S.FormSection,{title:N.default.Messages.TWO_FA},void 0,F(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,N.default.Messages.TWO_FA_USE_DESKTOP_APP))};r.openPhoneVerificationModal=function(e){void 0===e&&(e={});(0,
O.openModal)((function(t){return a.createElement(c.default,k({reason:p.ChangePhoneReason.USER_SETTINGS_UPDATE},t,e))}),{modalKey:M.PHONE_VERIFICATION_MODAL_KEY})};return t}(a.PureComponent);B.displayName="TwoFactorAuth";var H=u.default.connectStores([y.default,v.default],(function(){var e=y.default.getCurrentUser();(0,i.default)(null!=e,"TwoFactorAuth: currentUser cannot be undefined");return{currentUser:e,togglingSMS:v.default.togglingSMS}}))(B);t.default=H},362979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie
;var r,a=q(n(667294)),o=z(n(294184)),i=z(n(496486)),u=n(536211),l=z(n(226800)),s=q(n(448549)),d=n(354575),f=z(n(235879)),c=z(n(79300)),p=n(178235),v=z(n(843314)),y=n(202929),m=z(n(551048)),_=n(907932),h=z(n(259890)),g=z(n(355152)),E=n(43247),S=z(n(91603)),O=q(n(956117)),b=z(n(558402)),I=z(n(789446)),T=z(n(530250)),C=z(n(960082)),A=z(n(26172)),M=z(n(118777)),N=z(n(567668)),P=n(645758),R=n(354479),w=n(688388),D=z(n(339759)),L=z(n(118138)),k=q(n(628551)),j=z(n(550270)),U=n(894826),G=z(n(175896)),F=n(770348),x=n(216287),B=n(289081),H=n(785992),W=z(n(247001)),V=z(n(218863)),Y=z(n(380203)),K=z(n(603008));function z(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}function q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=(0,R.uid)(),te=(0,R.uid)(),ne=(0,
R.uid)(),re=i.default.debounce((function(e){(0,d.setSaturation)(e)}),250),ae=i.default.debounce((function(e){(0,E.setSpeechRate)(e)}),250),oe=J(w.FormDivider,{});function ie(e){var t=c.default.useExperiment({},{autoTrackExposure:!0}).allowRoleStyles;return J(w.FormSection,{tag:w.FormTitleTags.H1,title:W.default.Messages.ACCESSIBILITY},void 0,le,de,oe,t?a.createElement(a.Fragment,null,ce,J(w.FormDivider,{className:Y.default.marginTop20})):null,(0,p.canEnableForcedColors)()?ve:null,me,he,Ee,Te,J(w.FormDivider,{className:Y.default.marginBottom20}),J(P.Text,{variant:"text-md/normal"},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_APPEARANCE_LINK.format({onAppearanceClick:function(){l.default.open(F.UserSettingsSections.APPEARANCE)}})))}ie.displayName="UserSettingsAccessibility";function ue(){var e=U.MessageDisplayCompact.useSetting(),t=Q(a.useState((function(){var e=(0,y.createMessageRecord)(X({},(0,m.default)({channelId:"1337",
content:W.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_LINK_PREVIEW_MESSAGE.format({previewLink:"https://discord.com/accessibility"})}),{state:F.MessageStates.SENT,id:"0"}));e.colorString="green";return e})),1)[0];return J(C.default,{},void 0,J(b.default,{className:V.default.preview,"aria-hidden":!0},void 0,J("div",{className:V.default.previewHeader},void 0,J(O.default,{size:O.default.Sizes.SMALL,color:O.default.Colors.BRAND},void 0,W.default.Messages.ACCESSIBILITY_EXAMPLE_BUTTON_LABEL),J("div",{className:V.default.previewAvatars},void 0,[F.StatusTypes.ONLINE,F.StatusTypes.DND,F.StatusTypes.IDLE].map((function(e){return J(k.AnimatedAvatar,{"aria-label":"avatar",src:K.default,size:k.default.Sizes.SIZE_32,status:e})})))),J("div",{className:V.default.previewMessage},void 0,J(h.default,{compact:e,author:X({},(0,_.getMessageAuthor)(t),{colorString:"#DD80F4"}),message:t}))))}ue.displayName="MessagePreview";var le=J(ue,{});function se(){var e=(0,
u.useStateFromStoresObject)([f.default],(function(){return{saturation:f.default.saturation,desaturateUserColors:f.default.desaturateUserColors}})),t=e.saturation,n=e.desaturateUserColors;return J(w.FormSection,{className:Y.default.marginTop20},void 0,J(w.FormTitle,{id:ee,className:Y.default.marginBottom8},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_TITLE),J(w.FormText,{id:te,type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom20},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_DESCRIPTION),J(M.default,{"aria-labelledby":ee,"aria-describedby":te,markers:F.Accessibility.SATURATION_INCREMENTS,equidistant:!0,stickToMarkers:!0,maxValue:1,minValue:0,initialValue:t,onValueChange:re,onMarkerRender:function(e){return 100*e%2==0?100*e+"%":void 0}}),J(N.default,{hideBorder:!0,className:(0,o.default)(Y.default.marginTop8,Y.default.marginBottom20),value:n,onChange:d.toggleDesaturateUserColors,
note:W.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_DESCRIPTION},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_LABEL))}se.displayName="UserSettingsAccessibilitySaturation";var de=J(se,{});function fe(){var e=(0,u.useStateFromStores)([f.default],(function(){return f.default.roleStyle}));return J(w.FormItem,{title:W.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_TITLE,className:Y.default.marginTop20},void 0,J(w.FormText,{type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DESCRIPTION),J(A.default,{options:[{name:W.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_USERNAME_LABEL,value:"username"},{name:W.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DOT_LABEL,value:"dot"},{name:W.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_HIDDEN_LABEL,value:"hidden"}],onChange:function(e){(0,d.setRoleStyle)(e.value)},value:e}))}
fe.displayName="UserSettingsAccessibilityRoleStyle";var ce=J(fe,{});function pe(){var e=Q((0,u.useStateFromStoresArray)([f.default],(function(){return[f.default.syncForcedColors,f.default.systemForcedColors]})),2),t=e[0],n=e[1],r=Q(a.useState(t),2),o=r[0],i=r[1];a.useEffect((function(){i(t)}),[t]);var l=a.useRef(null);a.useEffect((function(){if(null!=l.current){clearTimeout(l.current);l.current=null}o!==t&&(l.current=setTimeout((function(){return(0,d.setSyncForcedColors)(o)}),150))}),[o,t]);var s="active"===n?W.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION_WITH_FEEDBACK.format({learnMoreLink:j.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS),shareFeedbackLink:x.FORCED_COLORS_FEEDBACK_LINK}):W.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION.format({learnMoreLink:j.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS)});return J(w.FormItem,{title:W.default.Messages.ACCESSIBILITY_SETTINGS_CONTRAST,className:Y.default.marginTop20
},void 0,J(N.default,{value:o,note:s,onChange:i},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_LABEL))}pe.displayName="UserSettingsAccessibilityContrast";var ve=J(pe,{});function ye(){var e=U.GifAutoPlay.useSetting(),t=U.AnimateEmoji.useSetting(),n=(0,u.useStateFromStoresObject)([f.default,G.default],(function(){return{systemPrefersReducedMotion:f.default.systemPrefersReducedMotion,rawPrefersReducedMotion:f.default.rawPrefersReducedMotion,useReducedMotion:f.default.useReducedMotion,gifAutoPlayOverrideReason:G.default.getAppliedOverrideReasonKey("gifAutoPlay"),animateEmojiOverrideReason:G.default.getAppliedOverrideReasonKey("animateEmoji")}})),r=n.useReducedMotion,i=n.rawPrefersReducedMotion,l=n.systemPrefersReducedMotion,s=n.gifAutoPlayOverrideReason,c=n.animateEmojiOverrideReason,p="auto"===i,v=a.useCallback((function(e,t){(0,d.setPrefersReducedMotion)(t?"auto":l)}),[l]),y=a.useCallback((function(e){(0,d.setPrefersReducedMotion)(e?"reduce":"no-preference")}),[])
;return J(w.FormItem,{title:W.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION,className:Y.default.marginTop20},void 0,J(w.FormText,{type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,W.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_DESCRIPTION.format({helpdeskArticle:j.default.getArticleURL(F.HelpdeskArticles.REDUCED_MOTION)})),J(I.default,{className:Y.default.marginTop20,value:p,shape:I.default.Shapes.BOX,type:I.default.Types.INVERTED,onChange:v},void 0,J(P.Text,{variant:"text-sm/normal"},void 0,W.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_AUTO)),J(N.default,{className:Y.default.marginTop20,value:r,onChange:y},void 0,W.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_ENABLE),J(N.default,{className:Y.default.marginBottom40,value:e,note:null!=s?(0,g.default)(s):void 0,onChange:U.GifAutoPlay.updateSetting},void 0,W.default.Messages.GIF_AUTO_PLAY_LABEL),J(N.default,{className:(0,
o.default)(Y.default.marginTop8,Y.default.marginBottom20),value:t,note:null!=c?(0,g.default)(c):void 0,onChange:U.AnimateEmoji.updateSetting},void 0,W.default.Messages.ANIMATE_EMOJI))}ye.displayName="UserSettingsAccessibilityReducedMotion";var me=J(ye,{});function _e(){var e=U.AnimateStickers.useSetting(),t=(0,u.useStateFromStores)([G.default],(function(){return G.default.getAppliedOverrideReasonKey("animateStickers")})),n=a.useCallback((function(e){U.AnimateStickers.updateSetting(e.value)}),[]);return J(w.FormItem,{className:Y.default.marginBottom40,title:W.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,J(w.FormText,{type:w.FormText.Types.DESCRIPTION,className:Y.default.marginBottom8},void 0,null!=t?(0,g.default)(t):W.default.Messages.STICKERS_AUTO_PLAY_HELP),J(A.default,{options:[{name:W.default.Messages.STICKERS_ALWAYS_ANIMATE,value:B.StickerAnimationSettings.ALWAYS_ANIMATE},{name:W.default.Messages.STICKERS_ANIMATE_ON_INTERACTION,
desc:W.default.Messages.STICKERS_ANIMATE_ON_INTERACTION_DESCRIPTION,value:B.StickerAnimationSettings.ANIMATE_ON_INTERACTION},{name:W.default.Messages.STICKERS_NEVER_ANIMATE,value:B.StickerAnimationSettings.NEVER_ANIMATE}],onChange:n,value:e}))}_e.displayName="UserSettingsAccessibilityStickers";var he=J(_e,{});function ge(){var e=(0,u.useStateFromStores)([f.default],(function(){return f.default.isSubmitButtonEnabled}));return J(w.FormItem,{},void 0,J(w.FormTitle,{className:Y.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_ACCESSIBILITY_CHAT_INPUT),J(N.default,{className:Y.default.marginTop20,value:e,onChange:d.toggleSubmitButton},void 0,W.default.Messages.DISPLAY_SUBMIT_BUTTON))}ge.displayName="UserSettingsAccessibilityMessages";var Ee=J(ge,{}),Se=J(D.default,{width:24,height:24}),Oe=J(L.default,{width:24,height:24}),be=J("span",{},void 0,"x1.0");function Ie(){var e=U.EnableTTSCommand.useSetting(),t=(0,u.useStateFromStores)([S.default],(function(){return S.default.speechRate
})),n=Q(a.useState(!1),2),r=n[0],o=n[1];if(!s.supported)return null;return a.createElement(a.Fragment,null,J(w.FormItem,{},void 0,J(w.FormTitle,{className:Y.default.marginBottom8},void 0,W.default.Messages.FORM_LABEL_TTS),J(N.default,{className:Y.default.marginTop20,value:e,onChange:U.EnableTTSCommand.updateSetting},void 0,W.default.Messages.ALLOW_TTS_COMMAND)),J(w.FormItem,{className:Y.default.marginBottom20},void 0,J(w.FormTitle,{id:ne,className:Y.default.marginBottom20},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL),J("div",{className:V.default.ttsPreviewWrapper},void 0,J(O.default,{color:O.ButtonColors.BRAND_NEW,onClick:function(){if(r){(0,E.stopSpeaking)();o(!1)}else{(0,E.speakText)(W.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_TEST,!0,void 0,(function(){return o(!0)}),(function(){return o(!1)}));o(!0)}}},void 0,J(T.default,{align:T.default.Align.CENTER
},void 0,r?Se:Oe,J("span",{},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_PREVIEW),J(v.default,{},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL)))),J(M.default,{markers:H.SPEECH_RATE_INCREMENTS,initialValue:t,defaultValue:1,stickToMarkers:!0,onValueChange:ae,onValueRender:function(e){return"x"+e.toFixed(2)},onMarkerRender:function(e){return 0===e?J("span",{className:V.default.ttsSliderMarker},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_SLOWER):10===e?J("span",{className:V.default.ttsSliderMarker},void 0,W.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_FASTER):1===e?be:e%1==0?"":void 0},"aria-labelledby":ne})))}var Te=J(Ie,{})},371077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=j(n(667294)),o=L(n(294184)),i=L(n(441143)),u=n(536211),l=L(n(163521)),s=n(825185),d=L(n(524791)),f=L(n(149342)),c=L(n(915539)),p=L(n(711195)),v=L(n(30098)),y=L(n(753304)),m=L(n(663303)),_=L(n(871778)),h=L(n(728429)),g=j(n(956117)),E=L(n(530250)),S=n(645758),O=n(688388),b=n(502197),I=n(194322),T=L(n(950445)),C=L(n(874364)),A=L(n(174128)),M=L(n(319155)),N=L(n(66272)),P=n(770348),R=L(n(247001)),w=L(n(177056)),D=L(n(380203));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}var x=G(M.default,{}),B=G(d.default,{}),H=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}(t,e);function t(t){var n
;(n=e.call(this,t)||this).state={disableAccountErrorMessage:null,shouldRenderOwnedGuildsModal:!1,shouldRenderDeleteAccountConfirmModal:!1,shouldRenderDisableAccountErrorModal:!1};return n}var r=t.prototype;r.componentDidMount=function(){var e=this.props.currentUser;(0,p.default)(e.id,e.getAvatarURL(void 0,80))};r.componentWillUnmount=function(){l.default.clearBackupCodes();(0,s.accountDetailsClose)()};r.renderAccountWarning=function(){var e=this.props.currentUser;if(!e.isClaimed()){var t=G("section",{},void 0,G("div",{className:w.default.accountWarningBodyText},void 0,R.default.Messages.UNCLAIMED_ACCOUNT_BODY_2),G(g.default,{look:g.ButtonLooks.INVERTED,size:g.ButtonSizes.SMALL,color:g.default.Colors.RED,onClick:function(){return c.default.openClaimAccountModal()}},void 0,R.default.Messages.CLAIM_ACCOUNT_LONG));return G(O.FormNotice,{type:O.FormNotice.Types.DANGER,className:D.default.marginBottom20,imageData:{src:n(350672),width:60,height:60},
title:R.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:t})}if(null==e.email)return null;if(!e.verified){var r=G("section",{},void 0,G("div",{className:w.default.accountWarningBodyText},void 0,R.default.Messages.USER_SETTINGS_UNVERIFIED_EMAIL_BODY),G(T.default,{size:g.ButtonSizes.SMALL,color:g.default.Colors.PRIMARY}));return G(O.FormNotice,{type:O.FormNotice.Types.PRIMARY,className:D.default.marginBottom20,imageData:{src:n(24264),width:60,height:60},title:R.default.Messages.UNVERIFIED_EMAIL_TITLE,body:r})}};r.renderAccountSettings=function(){return G(O.FormSection,{tag:O.FormTitleTags.H1,title:R.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:w.default.userSettingsAccount},void 0,this.renderAccountWarning(),x)};r.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,r=e.currentUser,i=e.theme===P.ThemeTypes.DARK?n(273361):n(129428);return G(O.FormSection,{className:(0,o.default)(w.default.userSettingsSecurity,D.default.marginTop40),
title:R.default.Messages.USER_SETTINGS_ACCOUNT_PASSWORD_AND_AUTHENTICATION,tag:O.FormTitle.Tags.H1},void 0,G("div",{},void 0,G(g.default,{size:g.default.Sizes.SMALL,className:w.default.changePasswordButton,onClick:function(){return(0,I.openModal)((function(e){return a.createElement(N.default,U({},e,{onSuccess:e.onClose}))}))}},void 0,R.default.Messages.CHANGE_PASSWORD)),G(E.default,{align:E.default.Align.STRETCH},void 0,G(E.default.Child,{wrap:!0},void 0,G(C.default,{backupCodes:t})),r.mfaEnabled?null:G(E.default,{align:E.default.Align.CENTER,basis:"323px",grow:0},void 0,G("img",{src:i,className:w.default.userSettingsSecurityImage,alt:""}))))};r.renderConfirmModals=function(){var e=this,t=this.state,n=t.shouldRenderOwnedGuildsModal,r=t.shouldRenderDeleteAccountConfirmModal,a=t.shouldRenderDisableAccountErrorModal,o=t.disableAccountErrorMessage;if(n){var i=function(){return e.setState({shouldRenderOwnedGuildsModal:!1})};return G(b.DeclarativeConfirmModal,{dismissable:!0,
header:R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:i,onConfirm:i},void 0,G(S.Text,{variant:"text-md/normal"},void 0,R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}if(r){var u=function(){return e.setState({shouldRenderDeleteAccountConfirmModal:!1})};return G(b.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT,confirmText:R.default.Messages.DELETE_ACCOUNT,cancelText:R.default.Messages.CANCEL,onCancel:u,onConfirm:function(){return(0,s.disableAccount)("",!0).then(u)}},void 0,G(S.Text,{variant:"text-md/normal"},void 0,R.default.Messages.DELETE_ACCOUNT_BODY))}if(a){var l=function(){return e.setState({shouldRenderDisableAccountErrorModal:!1,disableAccountErrorMessage:null})};return G(b.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT_ERROR,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:l,
onConfirm:l},void 0,G(S.Text,{variant:"text-md/normal"},void 0,o))}};r.render=function(){var e=this;if(this.props.hide)return B;var t=this.props.currentUser;return G("div",{},void 0,this.renderConfirmModals(),this.renderAccountSettings(),t.isClaimed()?a.createElement(a.Fragment,null,G(O.FormDivider,{className:D.default.marginTop40}),this.renderSecuritySettings(),G(O.FormDivider,{className:D.default.marginTop40})):null,G(A.default,{className:D.default.marginTop40,currentUser:t,handleDisableAccount:function(){return e.handleDisableAccount(!1)},handleDeleteAccount:function(){return e.handleDisableAccount(!0)}}))};r.handleDisableAccountError=function(e){if(e.body.code===P.AbortCodes.INVALID_PASSWORD)throw e;this.setState({shouldRenderDisableAccountErrorModal:!0,disableAccountErrorMessage:e.body.message})};r.handleSubmitDisableAccount=function(e,t){return(0,s.disableAccount)(e,t).then(P.NOOP,this.handleDisableAccountError)};r.handleDisableAccount=function(e){var t=this;void 0===e&&(e=!1)
;var n=this.props.currentUser,r=v.default.getGuilds();Object.keys(r).filter((function(e){return r[e].ownerId===n.id})).length>0?this.setState({shouldRenderOwnedGuildsModal:!0}):n.isClaimed()?(0,I.openModal)((function(n){return a.createElement(f.default,U({},n,{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT,actionText:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT}),e?R.default.Messages.DELETE_ACCOUNT_BODY:R.default.Messages.DISABLE_ACCOUNT_BODY)})):this.setState({shouldRenderDeleteAccountConfirmModal:!0})};return t}(a.PureComponent);H.displayName="UserSettingsAccount";var W=function(){var e=(0,u.useStateFromStores)([h.default],(function(){var e=h.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserAccountSettings: currentUser cannot be undefined");return e})),t=(0,u.useStateFromStores)([y.default],(function(){return y.default.getBackupCodes()})),n=(0,
u.useStateFromStores)([m.default],(function(){return m.default.hidePersonalInformation})),r=(0,u.useStateFromStores)([_.default],(function(){return _.default.theme}));return G(H,{currentUser:e,backupCodes:t,hide:n,theme:r})};W.displayName="ConnectedUserAccountSettings";var V=W;t.default=V},748726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=S(n(667294)),o=g(n(30098)),i=g(n(956117)),u=g(n(567668)),l=n(645758),s=g(n(874331)),d=g(n(956303)),f=S(n(662197)),c=n(194322),p=g(n(550270)),v=n(864489),y=n(894826),m=n(770348),_=g(n(247001)),h=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(){var e=y.ShowCurrentGame.useSetting(),t=y.DefaultGuildsActivityRestricted.useSetting(),r=v.isPlatformEmbedded?_.default.Messages.SHOW_CURRENT_ACTIVITY_DESC_EMBEDDED:_.default.Messages.SHOW_CURRENT_ACTIVITY_DESC,s=function(e){y.DefaultGuildsActivityRestricted.updateSetting(e);!function(e){var t=function(){y.ActivityRestrictedGuilds.updateSetting(e?Object.keys(o.default.getGuilds()):[])};(0,c.openModalLazy)(T(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({header:_.default.Messages.USER_DM_SETTINGS_TITLE,
confirmText:_.default.Messages.NO_TEXT,cancelText:_.default.Messages.YES_TEXT,onCancel:t,confirmButtonColor:i.default.Colors.BRAND},e),b(l.Text,{variant:"text-md/normal"},void 0,_.default.Messages.ACTIVITY_RESTRICTION_MODAL_DESC))}));case 5:case"end":return e.stop()}}),e)}))))}(e)};return b(d.default,{className:h.default.marginBottom40},void 0,b(f.default,{tag:f.Tags.H5,className:h.default.marginBottom8},void 0,_.default.Messages.ACTIVITY_STATUS),b(u.default,{value:e,onChange:function(e){return y.ShowCurrentGame.updateSetting(e)},note:r},void 0,_.default.Messages.SHOW_CURRENT_ACTIVITY),b(u.default,{value:!t,note:_.default.Messages.ACTIVITY_RESTRICTION_DEFAULT_NOTE.format({helpdeskArticle:p.default.getArticleURL(m.HelpdeskArticles.ACTIVITY_STATUS_SETTINGS)}),onChange:function(e){return s(!e)}},void 0,_.default.Messages.ACTIVITY_RESTRICTION_DEFAULT))}C.displayName="ActivityStatusSettings";function A(){
var e=y.AllowActivityPartyPrivacyFriends.useSetting(),t=y.AllowActivityPartyPrivacyVoiceChannel.useSetting();return b(d.default,{className:h.default.marginBottom40},void 0,b(f.default,{tag:f.Tags.H5,className:h.default.marginBottom8},void 0,_.default.Messages.ACTIVITY_PARTY_PRIVACY),b(u.default,{value:e,note:_.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS_HELP,onChange:function(e){return y.AllowActivityPartyPrivacyFriends.updateSetting(e)}},void 0,_.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS),b(u.default,{value:t,note:_.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL_HELP,onChange:function(e){return y.AllowActivityPartyPrivacyVoiceChannel.updateSetting(e)}},void 0,_.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL))}A.displayName="ActivityPartyPrivacy";function M(){return b(d.default,{className:h.default.marginBottom40},void 0,b(s.default,{type:s.default.Types.PRIMARY,body:_.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:m.MarketingURLs.TERMS,
privacyLink:m.MarketingURLs.PRIVACY})}))}M.displayName="PrivacyAndTermsNote";var N=b(C,{}),P=b(A,{}),R=b(M,{});function w(){return b(d.default,{tag:f.Tags.H1,title:_.default.Messages.ACTIVITY_PRIVACY},void 0,N,P,R)}w.displayName="UserSettingsActivityPrivacy"},8395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=b(n(667294)),o=n(536211),i=b(n(446637)),u=S(n(191839)),l=S(n(424099)),s=S(n(567668)),d=n(645758),f=n(688388),c=S(n(502197)),p=n(194322),v=n(856384),y=n(864489),m=S(n(922629)),_=n(894826),h=S(n(825541)),g=n(770348),E=S(n(247001));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(){var e=C(a.useState((function(){return m.default.getEnableHardwareAcceleration()
})),1)[0],t=_.DisableGamesTab.useSetting(),n=_.DeveloperMode.useSetting(),r=(0,o.useStateFromStoresObject)([l.default,u.default],(function(){return{hasLibraryApplication:u.default.hasLibraryApplication(),testModeApplicationId:l.default.testModeApplicationId}})),S=r.hasLibraryApplication,O=r.testModeApplicationId,b=a.useCallback((function(e){_.DisableGamesTab.updateSetting(!e)}),[]),A=a.useCallback((function(e){e?(0,p.openModal)((function(e){return a.createElement(h.default,e)})):i.reset()}),[]),M=a.useCallback((function(e){(0,p.openModal)((function(t){return a.createElement(c.default,I({header:E.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:E.default.Messages.OKAY,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return m.default.setEnableHardwareAcceleration(e)}},t),T(d.Text,{variant:"text-sm/normal"},void 0,E.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))}))}),[]);return T(f.FormSection,{tag:f.FormTitleTags.H1,title:E.default.Messages.SETTINGS_ADVANCED
},void 0,v.SUPPORTS_COPY&&T(s.default,{value:n,onChange:_.DeveloperMode.updateSetting,note:E.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:g.MarketingURLs.API_DOCS})},void 0,E.default.Messages.DEVELOPER_MODE),y.isPlatformEmbedded&&T(s.default,{value:e,onChange:M,note:E.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,E.default.Messages.HARDWARE_ACCELERATION),S&&T(s.default,{value:!t,onChange:b,note:E.default.Messages.USER_SETTINGS_SHOW_LIBRARY_NOTE},void 0,E.default.Messages.USER_SETTINGS_SHOW_LIBRARY),n&&T(s.default,{value:null!=O,note:E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:A},void 0,E.default.Messages.DEVELOPER_APPLICATION_TEST_MODE))}M.displayName="UserSettingsAdvanced"},556825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Q;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=U(n(294184)),i=n(536211),u=U(n(929031)),l=U(n(226800)),s=U(n(351336)),d=U(n(14096)),f=n(354575),c=U(n(235879)),p=n(178235),v=n(202929),y=U(n(551048)),m=n(907932),_=U(n(259890)),h=U(n(871778)),g=U(n(558402)),E=U(n(530250)),S=U(n(960082)),O=U(n(26172)),b=U(n(118777)),I=U(n(567668)),T=n(645758),C=n(354479),A=n(688388),M=n(864489),N=U(n(174508)),P=n(894826),R=n(770348),w=n(100678),D=n(251984),L=U(n(247001)),k=U(n(926105)),j=U(n(380203));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}var H="cozy",W="compact",V=(0,C.uid)(),Y=(0,C.uid)(),K=(0,C.uid)(),z=(0,C.uid)(),$="1337",q=function(e){var t=0;return[(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1}),{state:R.MessageStates.SENT,id:""+t++
})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:e===R.ThemeTypes.DARK?L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(B({},(0,y.default)({channelId:$,content:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5}),{state:R.MessageStates.SENT,id:"4"}))]},X=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;x(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).darkMessages=q(R.ThemeTypes.DARK);t.lightMessages=q(R.ThemeTypes.LIGHT);t.handleThemeChange=function(e){var t=e.value;"system"!==t&&u.default.updateRemoteSettings({theme:t});u.default.updatedUnsyncedSettings({useSystemTheme:"system"===t?D.SystemThemeState.ON:D.SystemThemeState.OFF})};t.handleDisplayCompactAvatarsChanged=function(e){u.default.updatedUnsyncedSettings({displayCompactAvatars:e})};t.handleMessageDisplayModeChange=function(e){var t=e.value;P.MessageDisplayCompact.updateSetting(t===W);(0,f.setMessageGroupSpacing)()};return t}var n=t.prototype;n.getPreviewMessage=function(e){return e===R.ThemeTypes.DARK?L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT};n.renderZoomSlider=function(){return M.isPlatformEmbedded?F(A.FormItem,{className:j.default.marginTop20},void 0,F(A.FormTitle,{id:Y,tag:A.FormTitleTags.H5,className:j.default.marginBottom8
},void 0,L.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL),F(b.default,{className:(0,o.default)(j.default.marginTop20,j.default.marginBottom4),initialValue:this.props.zoom,defaultValue:R.Accessibility.ZOOM_DEFAULT,markers:R.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender,"aria-labelledby":Y}),F(A.FormText,{type:A.FormText.Types.DESCRIPTION},void 0,L.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:d.default.modKey}))):null};n.renderFontScaleSlider=function(){return F(A.FormItem,{className:j.default.marginTop20},void 0,F(A.FormTitle,{id:K,tag:A.FormTitleTags.H5,className:j.default.marginBottom8},void 0,L.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL),F(E.default,{align:E.default.Align.CENTER},void 0,F(b.default,{className:(0,o.default)(j.default.marginTop20,j.default.marginBottom4),initialValue:this.props.fontSize,defaultValue:R.Accessibility.FONT_SIZE_DEFAULT,markers:R.Accessibility.FONT_SIZES,
stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":K})))};n.renderMessageGroupSpacingSlider=function(){var e=this.props,t=e.messageDisplayCompact,n=e.messageGroupSpacing;return F(A.FormItem,{className:j.default.marginTop20},void 0,F(A.FormTitle,{id:z,tag:A.FormTitleTags.H5,className:j.default.marginBottom8},void 0,L.default.Messages.ACCESSIBILITY_MESSAGE_GROUP_SPACING),F(b.default,{className:(0,o.default)(j.default.marginTop20,j.default.marginBottom4),initialValue:n,defaultValue:t?w.DEFAULT_COMPACT_SPACING:w.DEFAULT_COZY_SPACING,markers:w.MESSAGE_GROUP_SPACING,stickToMarkers:!0,onValueChange:this.handleMessageSpacingChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":z}))};n.renderPreview=function(){
var e=this.props,t=e.messageDisplayCompact,n=e.theme,r=e.messageGroupSpacing,a=e.renderMediaEmbeds,i=n===R.ThemeTypes.DARK?this.darkMessages:this.lightMessages;return F(S.default,{},void 0,F(g.default,{className:(0,o.default)(k.default.preview,j.default.marginBottom40,t?k.default.compactPreview:void 0,"group-spacing-"+(null!=r?r:t?w.DEFAULT_COMPACT_SPACING:w.DEFAULT_COZY_SPACING)),outline:!0,"aria-hidden":!0},void 0,i.map((function(e,n){return F(_.default,{author:(0,m.getMessageAuthor)(e),message:e,compact:t,isGroupStart:n%2==0,className:0===n?k.default.firstMessage:void 0,renderMediaEmbeds:a},e.id)}))))};n.renderTheme=function(){var e=this.props,t=e.theme,n=e.useForcedColors,r=e.useSystemTheme,a=e.darkSidebar,o=r===D.SystemThemeState.ON||n;return F(A.FormItem,{className:j.default.marginTop8,title:L.default.Messages.THEME},void 0,n&&F(A.FormText,{type:A.FormText.Types.DEFAULT,className:k.default.forcedColorsWarning},void 0,(0,
p.canEnableForcedColors)()?L.default.Messages.THEME_DISABLED_FOR_CONTRAST_SYNC.format({onClick:function(){l.default.open(R.UserSettingsSections.ACCESSIBILITY)}}):L.default.Messages.THEME_DISABLED_FOR_FORCED_COLORS),F(O.default,{options:[{name:L.default.Messages.THEME_DARK,value:R.ThemeTypes.DARK},{name:L.default.Messages.THEME_LIGHT,value:R.ThemeTypes.LIGHT},{name:L.default.Messages.THEME_SYSTEM,value:"system"}],onChange:this.handleThemeChange,value:o?"system":t,disabled:n,"aria-labelledBy":V}),F(I.default,{value:a&&t===R.ThemeTypes.LIGHT&&!n,disabled:t!==R.ThemeTypes.LIGHT||n,onChange:this.handleDarkSidebarChecked,className:j.default.marginTop20},void 0,L.default.Messages.ACCESSIBILITY_DARK_SIDEBAR))};n.renderDisplayMode=function(){return F(A.FormItem,{title:L.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:j.default.marginTop8},void 0,F(O.default,{options:[{name:L.default.Messages.COZY_MODE,value:H},{name:L.default.Messages.COMPACT_MODE,value:W}],
onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?W:H}),s.default.getCurrentConfig({}).enabled&&F(I.default,{value:this.props.messageDisplayCompact&&this.props.displayCompactAvatars,disabled:!this.props.messageDisplayCompact,onChange:this.handleDisplayCompactAvatarsChanged,className:j.default.marginTop20},void 0,L.default.Messages.DISPLAY_COMPACT_AVATARS))};n.handleDarkSidebarChecked=function(){(0,f.toggleDarkSidebar)()};n.renderScalingAndSpacing=function(){return a.createElement(a.Fragment,null,this.renderFontScaleSlider(),this.renderMessageGroupSpacingSlider(),this.renderZoomSlider(),F(A.FormDivider,{className:j.default.marginTop20}))};n.render=function(){return F(A.FormSection,{tag:A.FormTitleTags.H1,title:L.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderTheme(),this.renderDisplayMode(),F(A.FormDivider,{className:j.default.marginTop20}),this.renderScalingAndSpacing(),F(T.Text,{variant:"text-md/normal",
className:j.default.marginTop20},void 0,L.default.Messages.APPEARANCE_SETTINGS_ACCESSIBILITY_LINK.format({onAccessibilityClick:function(){l.default.open(R.UserSettingsSections.ACCESSIBILITY)}})))};n.handleSliderRender=function(e){return e.toFixed(0)+"%"};n.handleSliderRenderPX=function(e){return e.toFixed(0)+"px"};n.handleSliderValueText=function(e){return L.default.Messages.PIXEL_VALUE_A11Y_TEXT.format({value:e})};n.handleFontSizeChange=function(e){(0,f.setFontSize)(e)};n.handleMessageSpacingChange=function(e){switch(e){case 0:case 4:case 8:case 16:case 24:(0,f.setMessageGroupSpacing)(e)}};n.handleZoomChange=function(e){(0,f.setZoom)(e)};return t}(a.Component);X.displayName="UserSettingsAppearance";function Q(){var e=P.MessageDisplayCompact.useSetting(),t=P.InlineEmbedMedia.useSetting(),n=P.RenderEmbeds.useSetting(),r=(0,i.useStateFromStoresObject)([h.default,N.default,c.default],(function(){return{theme:h.default.theme,useForcedColors:c.default.useForcedColors,
useSystemTheme:N.default.useSystemTheme,darkSidebar:c.default.darkSidebar,fontSize:c.default.fontSize,zoom:c.default.zoom,messageGroupSpacing:c.default.messageGroupSpacing,displayCompactAvatars:N.default.displayCompactAvatars}}));return a.createElement(X,B({messageDisplayCompact:e,renderMediaEmbeds:t&&n},r))}Q.displayName="ConnectedUserSettingsAppearance"},835672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=A(n(294184)),i=N(n(536211)),u=A(n(392654)),l=A(n(524791)),s=A(n(88509)),d=n(746920),f=A(n(303798)),c=n(348655),p=A(n(395425)),v=A(n(663303)),y=A(n(871778)),m=N(n(956117)),_=N(n(558402)),h=N(n(737705)),g=A(n(530250)),E=A(n(80828)),S=n(688388),O=n(194322),b=A(n(692711)),I=A(n(247001)),T=A(n(102172)),C=A(n(380203));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}var w=i.default.connectStores([y.default],(function(){return{theme:y.default.theme}}))(h.default),D=function(e){var t,n,r=e.scopes,i=e.application,u=e.onDelete,l=function(){return(0,O.openModal)((function(e){return a.createElement(s.default,R({title:I.default.Messages.DEAUTHORIZE_APP,body:I.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:I.default.Messages.DEAUTHORIZE,cancelText:I.default.Messages.CANCEL,onConfirm:u},e))}))};return P(_.default,{className:(0,o.default)(T.default.authedApp,C.default.marginBottom8),outline:!0},void 0,(t=b.default.getApplicationIconURL({id:i.id,icon:i.icon}),n=null!=t?P(g.default.Child,{className:T.default.appAvatar,grow:0},void 0,P("img",{src:t,alt:""})):null,P(g.default,{className:(0,o.default)(T.default.header,C.default.marginBottom20)},void 0,P(g.default,{className:T.default.headerInfo},void 0,n,P(g.default.Child,{},void 0,P(S.FormText,{
type:S.FormTextTypes.LABEL_BOLD},void 0,P("span",{},void 0,i.name)))),P(g.default.Child,{wrap:!0,grow:0},void 0,P(m.default,{className:T.default.deleteApp,color:m.ButtonColors.RED,look:m.ButtonLooks.OUTLINED,size:m.ButtonSizes.SMALL,onClick:l},void 0,I.default.Messages.DEAUTHORIZE)))),function(){if(null!=i.description&&""!==i.description)return P(S.FormItem,{faded:!0,title:I.default.Messages.ABOUT_THIS_APP},void 0,P(S.FormText,{},void 0,i.description))}(),function(){var e=r.map((function(e){return P("li",{className:(0,o.default)(T.default.permission,C.default.marginTop8)},e,P("i",{className:T.default.permissionCheckmark}),P(S.FormText,{},void 0,(0,c.getScopeName)(e,r)))}));if(e.length>0)return P(S.FormItem,{faded:!0,title:I.default.Messages.PERMISSIONS,className:C.default.marginTop20},void 0,P("ul",{},void 0,e))}())};D.displayName="AuthorizedApp";var L=P(l.default,{}),k=function(){var e=(0,i.useStateFromStores)([v.default],(function(){return v.default.hidePersonalInformation})),t=(0,
i.useStateFromStores)([p.default],(function(){return p.default.getApps()})),r=(0,i.useStateFromStores)([f.default],(function(){return f.default.getSelfEmbeddedActivities()}));a.useEffect((function(){u.default.fetch()}),[]);return e?L:P(S.FormSection,{tag:S.FormTitleTags.H1,title:I.default.Messages.AUTHORIZED_APPS},void 0,P(S.FormNotice,{className:C.default.marginBottom40,type:_.Types.PRIMARY,title:I.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:I.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),null==t?P(E.default,{className:C.default.marginTop20,type:E.default.Type.SPINNING_CIRCLE}):0===t.length?P(w,{className:T.default.marginTop20},void 0,P(h.EmptyStateImage,{darkSrc:n(3874),lightSrc:n(302255),width:380,height:282}),P(h.EmptyStateText,{note:I.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,I.default.Messages.NO_AUTHORIZED_APPS)):t.map((function(e){return a.createElement(D,R({key:e.id,onDelete:function(){return function(e){var t=e.id,n=e.application;u.default.delete(t)
;var a=r.get(n.id);null!=a&&(0,d.stopEmbeddedActivity)({channelId:a.channelId,applicationId:n.id})}(e)}},e))})))};k.displayName="UserSettingsAuthedApps";var j=k;t.default=j},24072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=j;var r,a=N(n(667294)),o=A(n(441143)),i=n(536211),u=A(n(636602)),l=N(n(832635)),s=A(n(226800)),d=A(n(524791)),f=A(n(109043)),c=A(n(565093)),p=n(421748),v=A(n(663303)),y=A(n(871778)),m=A(n(728429)),_=A(n(697952)),h=A(n(748826)),g=A(n(146771)),E=A(n(558402)),S=A(n(530250)),O=A(n(80828)),b=A(n(662197)),I=n(770348),T=A(n(247001)),C=A(n(196806));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=P(d.default,{}),D=P(O.default,{}),L=P(p.BlockedPaymentsWarning,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){u.default.wait((function(){l.fetchPaymentSources();l.fetchSubscriptions()}))};n.handleRedemptionRedirect=function(){s.default.setSection(I.UserSettingsSections.INVENTORY)};n.render=function(){var e=this.props,t=e.syncing,n=e.hide,r=e.paymentSources,a=e.defaultPaymentSourceId,o=e.locale,i=e.premiumSubscription,u=e.isRemovingPaymentSource,l=e.isUpdatingPaymentSource;return n?w:P("div",{className:C.default.userSettingsBilling},void 0,t&&0===Object.keys(r).length?P("div",{className:C.default.syncing},void 0,D):P(c.default,{paymentSources:r,defaultPaymentSourceId:a,premiumSubscriptionPaymentSourceId:null!=i&&i.status!==I.SubscriptionStatusTypes.CANCELED?i.paymentSourceId:null,locale:o,removing:u,submitting:l}),P("div",{className:C.default.paymentHistory},void 0,P(b.default,{tag:b.default.Tags.H1},void 0,P(S.default,{align:S.default.Align.CENTER
},void 0,T.default.Messages.BILLING_PAYMENT_HISTORY)),L,P(f.default,{locale:o})),P(E.default,{className:C.default.codeRedemptionRedirect,type:E.default.Types.CUSTOM},void 0,T.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))};return t}(a.PureComponent);k.displayName="UserSettingsBilling";function j(){var e=(0,i.useStateFromStoresObject)([y.default,_.default,h.default,m.default,v.default,g.default],(function(){var e=g.default.getPremiumTypeSubscription(),t=m.default.getCurrentUser();(0,o.default)(null!=t,"UserSettingsBilling: currentUser cannot be undefined");return{locale:y.default.locale,hide:v.default.enabled,isClaimed:t.isClaimed(),isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:h.default.defaultPaymentSourceId,paymentSources:h.default.paymentSources,syncing:_.default.isSyncing,isRemovingPaymentSource:_.default.isRemovingPaymentSource,isUpdatingPaymentSource:_.default.isUpdatingPaymentSource}}))
;return a.createElement(k,e)}j.displayName="UserSettingsBillingConnected"},710033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=U(n(667294)),o=k(n(294184)),i=n(536211),u=k(n(861315)),l=k(n(524791)),s=k(n(169404)),d=k(n(88509)),f=k(n(213847)),c=k(n(155502)),p=k(n(6887)),v=k(n(754416)),y=n(595955),m=k(n(513266)),_=k(n(30098)),h=k(n(663303)),g=k(n(151097)),E=U(n(956117)),S=k(n(16941)),O=U(n(737705)),b=k(n(380439)),I=k(n(80828)),T=k(n(567668)),C=n(688388),A=k(n(259530)),M=n(194322),N=n(864489),P=n(894826),R=n(770348),w=k(n(247001)),D=k(n(125354)),L=k(n(380203));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}var B=function(e){var t,n,r,a=e.integration,o=(0,i.useStateFromStores)([m.default],(function(){return m.default.isJoining(a.id)}),[a.id]);null!=(0,i.useStateFromStores)([_.default],(function(){return _.default.getGuild(a.guild.id)}),[a.guild.id])||(r=x(E.default,{size:E.ButtonSizes.SMALL,onClick:function(){u.default.joinServer(a.id,(function(){}))},disabled:o},void 0,x("span",{},void 0,o?w.default.Messages.JOINING_GUILD:w.default.Messages.JOIN_GUILD)));return x("div",{className:D.default.integration},void 0,x("div",{},void 0,x(b.default,{size:b.default.Sizes.SMALL,guild:a.guild,className:D.default.guildIcon}),x("div",{className:D.default.integrationInner},void 0,x(C.FormText,{className:D.default.integrationName},void 0,a.guild.toString()),x(g.default,{className:D.default.channelLink,href:null===(t=c.default.get(a.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,a.account)},void 0,a.account.name))),r)};B.displayName="Integration"
;var H=x(A.default,{width:16,height:16}),W=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReconnect=function(){(0,v.default)(n.props.account.type,"User Settings")};n.handleDisconnect=function(){var e=c.default.get(n.props.account.type);(0,M.openModal)((function(t){return a.createElement(d.default,G({title:w.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:w.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:w.default.Messages.DISCONNECT_ACCOUNT,cancelText:w.default.Messages.CANCEL,onConfirm:n.props.onDisconnect},t))}))};n.handleVisibilityChange=function(e){var t=n.props.account,r=e?1:0;if(t.verified){n.setState({visibility:r});u.default.setVisibility(t.type,t.id,r)}else{n._inProgressVisibility=r;(0,v.default)(t.type,"User Settings")}};n.handleInProgressVisibilityChange=function(){if(null!=n._inProgressVisibility){var e=n.props.account
;u.default.setVisibility(e.type,e.id,n._inProgressVisibility);n._inProgressVisibility=null}};n.handleFriendSyncChange=function(e){var t=n.props.account;n.setState({friendSync:e});u.default.setFriendSync(t.type,t.id,e)};n.handleShowActivityChange=function(e){var t=n.props.account;n.setState({showActivity:e});u.default.setShowActivity(t.type,t.id,e)};var r=t.account,o=r.friendSync,i=r.visibility,l=r.showActivity;n.state={friendSync:o,visibility:i,showActivity:l,accountProps:t.account};return n}t.getDerivedStateFromProps=function(e,t){var n=t.accountProps,r=n.friendSync,a=n.visibility,o=n.showActivity,i=e.account,u=i.friendSync,l=i.visibility,s=i.showActivity;return r!==u||a!==l||o!==s?{friendSync:u,visibility:l,showActivity:s,accountProps:e.account}:null};var n=t.prototype;n.componentDidUpdate=function(e){var t=e.account.verified,n=this.props.account.verified;!t&&n&&this.handleInProgressVisibilityChange()};n.renderHeader=function(e){var t=this.props,n=t.account,r=t.theme;return x("div",{
className:D.default.connectionHeader},void 0,x("img",{alt:e.name,className:D.default.connectionIcon,src:r===R.ThemeTypes.DARK?e.icon.darkSVG:e.icon.lightSVG}),x("div",{},void 0,x(C.FormText,{className:D.default.connectionAccountValue},void 0,n.name),x(C.FormText,{className:D.default.connectionAccountLabel,type:C.FormTextTypes.DESCRIPTION},void 0,c.default.get(n.type).name)),x(S.default,{className:D.default.connectionDelete,onClick:this.handleDisconnect,"aria-label":w.default.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}}},void 0,H))};n.renderConnectionOptions=function(e){var t,n,r=this.state,a=r.visibility,o=r.friendSync,i=r.showActivity,u=this.props,l=u.account,s=u.inXboxExperiment;R.FRIEND_SYNC_PLATFORM_TYPES.has(l.type)&&(t=x(T.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:o,onChange:this.handleFriendSyncChange},void 0,x("span",{className:D.default.subEnabledTitle},void 0,w.default.Messages.SYNC_FRIENDS)))
;if(R.ACTIVITY_PLATFORM_TYPES.has(l.type)){var d=s&&l.type===R.PlatformTypes.XBOX;n=x(T.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,tooltipNote:d?w.default.Messages.FEATURE_DISABLED_WHILE_IN_BETA:null,disabled:d,value:i,onChange:this.handleShowActivityChange},void 0,x("span",{className:D.default.subEnabledTitle},void 0,w.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name})))}return x("div",{className:D.default.connectionOptionsWrapper},void 0,x("div",{className:D.default.connectionOptions},void 0,x(T.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:1===a,onChange:this.handleVisibilityChange},void 0,x("span",{className:D.default.subEnabledTitle},void 0,w.default.Messages.DISPLAY_ON_PROFILE)),n,t))};n.renderIntegrations=function(){var e=this.props.account;return e.revoked?x(C.FormItem,{className:D.default.integrationsWrapper},void 0,x(C.FormText,{className:D.default.integrationRevoked
},void 0,w.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):e.integrations.length>0?x(C.FormItem,{className:D.default.integrationsWrapper},void 0,x(C.FormTitle,{tag:C.FormTitleTags.H5},void 0,x("span",{className:D.default.subEnabledTitle},void 0,w.default.Messages.SUB_ENABLED_SERVERS)),x("div",{},void 0,e.integrations.map((function(e){return x(B,{integration:e},e.id)})))):void 0};n.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return x(C.FormDivider,{className:D.default.connectedAccountSeparator})};n.render=function(){var e=this.props.account,t=c.default.get(e.type);return x("div",{className:D.default.connection},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations())};return t}(a.PureComponent);W.displayName="ConnectedAccount";var V=x(l.default,{}),Y=function(){var e,t=(0,i.useStateFromStores)([h.default],(function(){
return h.default.hidePersonalInformation})),r=(0,i.useStateFromStores)([m.default],(function(){return m.default.isFetching()})),l=(0,i.useStateFromStores)([m.default],(function(){return m.default.getAccounts()})),d=P.DetectPlatformAccounts.useSetting(),v=(0,f.default)(),_=p.default.useExperiment({}).enabled,g=(0,y.useAllowXboxSwitching)();a.useEffect((function(){u.default.fetch()}),[]);return t?V:x(C.FormSection,{className:D.default.connections,tag:C.FormTitleTags.H1,title:w.default.Messages.CONNECTIONS},void 0,x("div",{className:(0,o.default)(D.default.accountList,(e={},e[L.default.marginBottom20]=!N.isPlatformEmbedded,e))},void 0,x(C.FormTitle,{className:L.default.marginBottom4},void 0,w.default.Messages.CONNECT_ACCOUNT_TITLE),x(C.FormText,{className:L.default.marginBottom8},void 0,w.default.Messages.CONNECT_ACCOUNT_DESCRIPTION),x("div",{className:D.default.connectedAccounts},void 0,c.default.filter((function(e){return e.enabled&&(e.type!==R.PlatformTypes.PLAYSTATION||_)
})).map((function(e){return x(s.default,{type:e.type,className:D.default.accountBtn,innerClassName:D.default.accountBtnInner},e.type)})))),function(){if(N.isPlatformEmbedded)return x(T.default,{value:d,onChange:P.DetectPlatformAccounts.updateSetting,className:(0,o.default)(L.default.marginTop20,L.default.marginBottom20)},void 0,w.default.Messages.DETECT_PLATFORM_ACCOUNTS)}(),function(){var e;e=r?x(I.default,{className:L.default.marginTop20,type:I.default.Type.SPINNING_CIRCLE}):0===l.length?x(O.default,{className:L.default.marginTop40,theme:v},void 0,x(O.EmptyStateImage,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),x(O.EmptyStateText,{note:w.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,w.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):l.filter((function(e){return c.default.isSupported(e.type)})).map((function(e,t){return x(W,{theme:v,account:e,onDisconnect:function(){return n=(t=e).type,r=t.id,void u.default.disconnect(n,r);var t,n,r},inXboxExperiment:g},t)}))
;return x(C.FormItem,{className:D.default.connectionList},void 0,e)}())};Y.displayName="UserSettingsConnections";var K=Y;t.default=K},367865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=K(n(667294)),o=V(n(294184)),i=V(n(496486)),u=K(n(536211)),l=n(188622),s=K(n(622349)),d=K(n(483559)),f=V(n(379319)),c=V(n(680219)),p=V(n(14096)),v=n(713746),y=n(224179),m=n(329117),_=n(113307),h=V(n(954970)),g=V(n(909243)),E=V(n(859024)),S=V(n(871778)),O=V(n(728429)),b=n(81636),I=K(n(956117)),T=V(n(558402)),C=K(n(737705)),A=V(n(530250)),M=n(772575),N=V(n(80828)),P=V(n(567668)),R=n(645758),w=V(n(279950)),D=n(688388),L=V(n(114655)),k=n(3400),j=n(194322),U=n(967965),G=n(770348),F=n(871615),x=V(n(383654)),B=V(n(122688)),H=V(n(380203)),W=V(n(840348));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function K(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||q(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function J(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ee(e,t)}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var re=["discord_web","discord_marketing","discord_ios","discord_android"],ae=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function oe(e){return"discord_ios"in e||"discord_android"in e}var ie=ne(k.ModalHeader,{separator:!1},void 0,ne(M.Heading,{variant:"heading-lg/medium",level:2},void 0,"Choose A Project to Override"));function ue(e){return new Promise((function(t){(0,j.openModal)((function(n){var r=function(e){n.onClose();t(e)};return a.createElement(k.ModalRoot,te({},n,{"aria-label":"Choose A Project to Override"}),ie,ne(k.ModalContent,{},void 0,ne("div",{className:x.default.buildOverrideList},void 0,e.map((function(e){return ne(I.default,{value:e,color:I.default.Colors.GREEN,onClick:function(){return r(e)}},e,e)})))),ne(k.ModalFooter,{},void 0,ne(I.default,{color:I.default.Colors.PRIMARY,look:I.default.Looks.LINK,onClick:function(){return r(null)}},void 0,"Nevermind")))}))}))}var le=function(e){
J(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRemoveBuildOverride=function(){t.props.onBuildOverrideRemoved(t.props.project)};t.handleOverrideIdChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{id:e})};t.handleOverrideTypeChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{type:e,id:""})};return t}t.prototype.render=function(){var e,t=this.props,n=t.project,r=t.overrideType,a=t.overrideId,i=t.disabled,u=t.error,l="branch"===r?"Branch Name":"Build ID";return ne(A.default,{direction:A.default.Direction.VERTICAL,className:(0,o.default)(x.default.buildOverrideGroup,H.default.marginBottom20,B.default.card,x.default.row)},void 0,ne(f.default,{className:(0,o.default)(x.default.removeBuildOverride,(e={},e[x.default.removeBuildOverrideDisabled]=i,e)),onClick:i?void 0:this.handleRemoveBuildOverride}),ne(A.default,{className:H.default.marginBottom8
},void 0,ne(A.default.Child,{basis:"50%"},void 0,ne(D.FormItem,{title:"Override Type",className:x.default.item},void 0,ne(U.SingleSelect,{options:ae,onChange:this.handleOverrideTypeChanged,value:r,isDisabled:i}))),ne(A.default.Child,{basis:"50%"},void 0,ne(D.FormItem,{title:l,className:x.default.item},void 0,ne(w.default,{value:a,onChange:this.handleOverrideIdChanged,disabled:i})))),ne(A.default.Child,{},void 0,null!=u&&""!==u&&ne(D.FormText,{className:x.default.item,style:{color:G.Colors.STATUS_RED},type:D.FormText.Types.DESCRIPTION},void 0,u),ne(D.FormText,{className:x.default.item,type:D.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",ne("code",{},void 0,n)," project.")))};return t}(a.Component);le.displayName="BuildOverride";var se=ne(C.EmptyStateText,{},void 0,"You have no build overrides configured."),de=ne(R.Text,{color:"text-danger",variant:"text-md/normal"
},void 0,"Mobile build overrides must be generated using the desktop/web stable client for now!"),fe=ne(D.FormDivider,{}),ce=function(e){J(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1};t.handleAddBuildOverride=Z(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return ue(t.getAvailableProjects());case 2:if(null!=(r=e.sent)){e.next=5;break}return e.abrupt("return");case 5:a=te({},t.state.buildOverrides,((n={})[r]={type:"branch",id:""},n));t.setState({buildOverrides:a});case 7:case"end":return e.stop()}}),e)})));t.handleBuildOverrideUpdated=function(e,n){var r,a=t.state.buildOverrides,o=te({},null!=a?a[e]:{},{},n),i=te({},t.state.buildOverrides,((r={})[e]=o,r));t.setState({buildOverrides:i})}
;t.handleBuildOverrideRemoved=function(e){var n=te({},t.state.buildOverrides);delete n[e];t.setState({buildOverrides:n})};t.handleDiscardChanges=function(){t.setState({buildOverrides:i.default.cloneDeep(t.state.loadedBuildOverrides),errors:{},didSave:!1})};t.handleSaveChanges=Z(regeneratorRuntime.mark((function e(){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.state.buildOverrides)){e.next=3;break}return e.abrupt("return");case 3:t.setState({saving:!0});e.next=6;return(0,v.applyStaffBuildOverride)(n);case 6:if(200===(r=e.sent).status){a=r.body;t.setState({buildOverrides:a,loadedBuildOverrides:i.default.cloneDeep(a),errors:{},didSave:!0,saving:!1})}else if(400===r.status){o=r.body;t.setState({errors:o,saving:!1,didSave:!1})}else t.setState({saving:!1,didSave:!1});case 8:case"end":return e.stop()}}),e)})));t.handleLinkGeneration=function(){var e=t.state.buildOverrides;(0,j.openModal)((function(t){
return a.createElement(ve,te({},t,{buildOverrides:e}))}))};return t}var r=t.prototype;r.refreshBuildOverrides=function(){var e=Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0});e.next=3;return(0,y.getBuildOverride)();case 3:t=e.sent;this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:i.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}();r.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!i.default.isEqual(t,n)};r.componentDidMount=function(){this.refreshBuildOverrides()};r.getAvailableProjects=function(){var e=this.state.buildOverrides;if(null==e)return[];var t=Object.keys(e);return i.default.without.apply(i.default,[re].concat($(t)))};r.renderEmpty=function(){return ne(C.default,{theme:S.default.theme,className:(0,
o.default)(H.default.marginTop40,H.default.marginBottom20)},void 0,ne(C.EmptyStateImage,{darkSrc:n(921912),lightSrc:n(964766),width:294,height:192}),se)};r.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,r=t.saving,a=t.errors;return null==n?null:i.default.map(n,(function(t,n){return ne(le,{project:n,overrideType:t.type,overrideId:t.id,disabled:r,error:a[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)}))};r.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:ne(A.default,{grow:0,direction:A.default.Direction.HORIZONTAL_REVERSE},void 0,ne(A.default.Child,{grow:0},void 0,ne(I.default,{onClick:function(){return location.reload()},color:I.default.Colors.PRIMARY},void 0,"Reload App")))};r.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:ne(A.default,{grow:0,direction:A.default.Direction.HORIZONTAL_REVERSE
},void 0,ne(A.default.Child,{grow:0},void 0,ne(I.default,{onClick:this.handleLinkGeneration,color:I.default.Colors.BRAND},void 0,"Generate Public Link")))};r.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state,t=e.saving,n=e.buildOverrides;return ne(A.default,{grow:0,direction:A.default.Direction.HORIZONTAL_REVERSE},void 0,ne(A.default.Child,{grow:0},void 0,ne(I.default,{disabled:oe(null!=n?n:{}),onClick:this.handleSaveChanges,submitting:t,color:I.default.Colors.GREEN},void 0,"Save Build Overrides")),ne(A.default.Child,{grow:0},void 0,ne(I.default,{onClick:this.handleDiscardChanges,disabled:t,color:I.default.Colors.RED},void 0,"Discard Changes")))};r.render=function(){var e,t=this.state,n=t.loading,r=t.saving,a=t.buildOverrides;e=n?ne(N.default,{className:H.default.marginTop20}):null!=a&&0===Object.keys(a).length?this.renderEmpty():this.renderItems()
;var o=!r&&!n&&this.getAvailableProjects().length>0,i=oe(null!=a?a:{})&&"stable"!==window.GLOBAL_ENV.RELEASE_CHANNEL?de:null;return ne(D.FormSection,{className:H.default.marginTop60},void 0,ne(A.default,{className:H.default.marginBottom20},void 0,ne(A.default.Child,{},void 0,ne(D.FormTitle,{tag:D.FormTitleTags.H1},void 0,"Build Overrides")),ne(A.default.Child,{grow:0},void 0,ne(I.default,{size:I.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!o},void 0,"Add Build Override"))),fe,ne(A.default,{direction:A.default.Direction.VERTICAL},void 0,i,e,ne(A.default,{grow:0,direction:A.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))};return t}(a.Component);ce.displayName="BuildOverrides";var pe=ne(M.Heading,{variant:"heading-lg/medium",level:2},void 0,"Generate Public Build Override Link"),ve=function(e){J(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).state={ttlSeconds:3600,releaseChannel:"all",userIds:[],userIdEntry:"",userIdEntryError:null,allowedVersions:[],allowedVersionEntry:"",allowedVersionEntryError:null,publicLink:" ",statusText:null,statusTextColor:L.default.Colors.STATUS_RED,allowLoggedOut:!1};t.setUserEntryError=function(e){t.setState({userIdEntryError:e})};t.setStatusMessage=function(e,n){t.setState({statusText:e,statusTextColor:null!=n?n:L.default.Colors.STATUS_RED})};t.handleUserIDEntry=function(e){e=e.trim();if(!/^\d+$/.test(e))return t.setUserEntryError("User IDs are numbers!");t.setState({userIdEntry:e})};t.handleUserEnter=function(e){e.charCode===G.KeyboardKeys.ENTER&&t.handleAddUser()};t.handleAddUser=function(){var e=t.state,n=e.userIds,r=e.userIdEntry;if(0===r.length)return t.setUserEntryError("Enter a valid user ID!");if(n.indexOf(r)>=0)return t.setUserEntryError("You already added that user!");t.setState({userIds:[].concat($(n),[r]),userIdEntry:""})}
;t.handleRemoveUser=function(e){var n=t.state.userIds;n=n.filter((function(t){return t!==e}));t.setState({userIds:n})};t.setAllowedVersionError=function(e){t.setState({allowedVersionEntryError:e})};t.handleAllowedVersionEntry=function(e){t.setState({allowedVersionEntry:e})};t.handleAllowedVersionEnter=function(e){e.charCode===G.KeyboardKeys.ENTER&&t.handleAddAllowedVersion()};t.handleAddAllowedVersion=function(){var e=t.state,n=e.allowedVersions,r=e.allowedVersionEntry;if(0===(r=r.trim()).length)return t.setAllowedVersionError("Enter a valid version number!");if(n.indexOf(r)>=0)return t.setAllowedVersionError("You already added that version!");t.setState({allowedVersions:[].concat($(n),[r]),allowedVersionEntry:"",allowedVersionEntryError:""})};t.handleRemoveAllowedVersion=function(e){var n=t.state.allowedVersions;n=n.filter((function(t){return t!==e}));t.setState({allowedVersions:n})};t.handleAllowLoggedOut=function(e){t.setState({allowLoggedOut:e})}
;t.handleExpirationChange=function(e){t.setState({ttlSeconds:e})};t.handleReleaseChannelChange=function(e){t.setState({releaseChannel:e})};t.generatePayload=function(){return{overrides:t.props.buildOverrides,meta:{release_channel:"all"===t.state.releaseChannel?null:t.state.releaseChannel,ttl_seconds:t.state.ttlSeconds,user_ids:t.state.userIds,allowed_versions:t.isMobile()?t.state.allowedVersions:void 0,allow_logged_out:t.state.allowLoggedOut}}};t.handleGenerateLink=Z(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isMobile()||0!==t.state.allowedVersions.length){e.next=3;break}t.setAllowedVersionError("You must add at least one allowed version for iOS");return e.abrupt("return");case 3:t.setStatusMessage(null);n=t.generatePayload();e.next=7;return(0,v.getPublicBuildOverrideLink)(n);case 7:if(!1!==(r=e.sent).error)t.setStatusMessage(r.error.toString(),L.default.Colors.STATUS_RED);else{t.setState({
publicLink:r.url.toString()});0===n.meta.user_ids.length&&t.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",L.default.Colors.STATUS_YELLOW)}case 9:case"end":return e.stop()}}),e)})));return t}var r=t.prototype;r.isMobile=function(){var e;return oe(null!==(e=this.props.buildOverrides)&&void 0!==e?e:{})};r.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,r=t.releaseChannel,o=t.userIdEntry,i=t.userIdEntryError,u=t.userIds,l=t.allowedVersions,s=t.allowedVersionEntry,d=t.allowedVersionEntryError,f=t.allowLoggedOut,c=F.BUILD_OVERRIDE_EXPIRATION_OPTIONS.find((function(e){return e.value===n})),p=l.map((function(e){return{label:e,value:e}})),v=u.map((function(e){return{label:e,value:e}}));return ne(A.default.Child,{basis:"70%"},void 0,ne(D.FormItem,{title:"Expire After",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:null!=c?c.value:null,options:F.BUILD_OVERRIDE_EXPIRATION_OPTIONS,
onChange:this.handleExpirationChange})),this.isMobile()?null:ne(D.FormItem,{title:"Release Channel",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:r,options:F.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS,onChange:this.handleReleaseChannelChange})),this.isMobile()?a.createElement(a.Fragment,null,ne(D.FormItem,{title:"Add allowed app version (required)",className:H.default.marginBottom20},void 0,ne(A.default,{direction:A.default.Direction.HORIZONTAL},void 0,ne(A.default.Child,{wrap:!0,basis:"90%"},void 0,ne(w.default,{autoFocus:!0,value:s,onKeyPress:this.handleAllowedVersionEnter,error:d,onChange:this.handleAllowedVersionEntry,placeholder:"Example: 34.0"})),ne(I.default,{onClick:this.handleAddAllowedVersion},void 0,"Add"))),ne(D.FormItem,{title:"Remove allowed app version",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:null,options:p,onChange:this.handleRemoveAllowedVersion,isDisabled:0===l.length
}))):null,this.isMobile()?null:a.createElement(a.Fragment,null,ne(D.FormItem,{title:"Add User ID (optional)",className:H.default.marginBottom20},void 0,ne(A.default,{direction:A.default.Direction.HORIZONTAL},void 0,ne(A.default.Child,{wrap:!0,basis:"90%"},void 0,ne(w.default,{autoFocus:!0,value:o,onKeyPress:this.handleUserEnter,error:i,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),ne(I.default,{onClick:this.handleAddUser},void 0,"Add"))),ne(D.FormItem,{title:"Remove User ID",className:H.default.marginBottom20},void 0,ne(U.SingleSelect,{value:null,options:v,onChange:this.handleRemoveUser,isDisabled:0===u.length}))),ne(P.default,{onChange:this.handleAllowLoggedOut,value:f},void 0,"Allow logged out users"))};r.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=function(){return e},r=ne(m.LazyLibrary,{createPromise:function(){return Promise.resolve().then(n.bind(n,891433))},webpackId:891433,renderFallback:t,
render:function(n){var r=n.highlight("json",e,!0);return null==r?t():ne("code",{className:"hljs scroller "+r.language+" "+W.default.scrollbarGhost+" "+x.default.codebox,dangerouslySetInnerHTML:{__html:r.value}})}});return ne(A.default.Child,{},void 0,ne(T.default,{},void 0,ne("pre",{},void 0,r)))};r.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,r=e.publicLink;return ne("div",{},void 0,ne(D.FormItem,{title:"Signed Link"},void 0,ne(A.default,{},void 0,ne(A.default.Child,{wrap:!0,basis:"75%"},void 0,ne(c.default,{value:r})),ne(I.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),ne(L.default,{color:t,className:H.default.marginBottom8+" "+H.default.marginTop8},void 0,n))};r.render=function(){var e=this.props,t=e.onClose,n=e.transitionState;return ne(k.ModalRoot,{size:k.ModalSize.LARGE,transitionState:n,"aria-label":"Generate Public Build Override Link"},void 0,ne(k.ModalHeader,{justify:A.default.Justify.BETWEEN,separator:!1
},void 0,pe,ne(k.ModalCloseButton,{onClick:t})),ne(k.ModalContent,{},void 0,ne(A.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))};return t}(a.Component);ve.displayName="BuildOverrideLinkModal";var ye=function(e){var t=e.isTracingRequests,n=e.isForcedCanary,r=e.isLoggingGatewayEvents,o=e.isLoggingOverlayEvents,i=e.isLoggingAnalyticsEvents,s=(e.isAxeEnabled,e.isSourceMapsEnabled),f=e.isAnalyticsDebuggerEnabled,c=e.isDevToolsEnabled,v=(0,u.useStateFromStores)([O.default],(function(){return O.default.getCurrentUser()}));return ne(D.FormSection,{title:"Developer Flags",tag:D.FormTitleTags.H1},void 0,(null==v?void 0:v.isStaff())&&ne(P.default,{value:c,note:a.createElement(a.Fragment,null,"Enable client DevTools (open via Help menu in top right or with"," ",ne("kbd",{className:x.default.key},void 0,p.default.modKey)," + ",ne("kbd",{className:x.default.key},void 0,p.default.altKey)," ","+ ",ne("kbd",{className:x.default.key},void 0,"O"),")."),
onChange:function(e){return(0,_.updateDevToolsSettings)({devToolsEnabled:e})}},void 0,"Enable DevTools"),ne(P.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){return(0,l.setDeveloperOptionSettings)({trace:e})}},void 0,"Enable Tracing Requests"),ne(P.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){return(0,l.setDeveloperOptionSettings)({canary:e})}},void 0,"Enable Forced Canary"),ne(P.default,{value:r,note:"Logs all incoming and outgoing gateway events to the developer console, enable verbose logging in the developer console to see!",onChange:function(e){return(0,l.setDeveloperOptionSettings)({logGatewayEvents:e})}},void 0,"Enable Logging of Gateway Events to Console"),ne(P.default,{value:o,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){return(0,l.setDeveloperOptionSettings)({logOverlayEvents:e})}
},void 0,"Enable Logging of Overlay RPC Events & Commands"),ne(P.default,{value:i,note:"Logs all analytics events to the developer console",onChange:function(e){return(0,l.setDeveloperOptionSettings)({logAnalyticsEvents:e})}},void 0,"Enable Logging of Analytics Events"),ne(P.default,{value:s,note:"Only enable on devices you trust.",onChange:function(e){return(0,l.setDeveloperOptionSettings)({sourceMapsEnabled:e})}},void 0,"Enable source maps to be loaded on this client"),ne(P.default,{value:f,note:"Displays a floating debugger with viewed impressions",onChange:function(e){return(0,l.setDeveloperOptionSettings)({analyticsDebuggerEnabled:e})}},void 0,"Enable standard analytics debugger view"),null,(null==v?void 0:v.isStaff())?ne(P.default,{value:null==v?void 0:v.hasDisabledPremium(),note:"Force non premium user experience locally",onChange:function(e){return d.setFlag(G.UserFlags.DISABLE_PREMIUM,e)}},void 0,"Enable force non nitro experience locally"):null)}
;ye.displayName="DeveloperFlagsInner";var me=ne(I.default,{onClick:function(){throw new Error("Send help")}},void 0,"Trigger onClick Throw");function _e(){var e=z(a.useState(!1),2),t=e[0],n=e[1],r=z(a.useState(""),2),o=r[0],i=r[1];a.useEffect((function(){Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,b.getOverlayURL)();case 2:t=e.sent;i(t);case 4:case"end":return e.stop()}}),e)})))()}),[]);return t?{}:ne("div",{className:x.default.buttonsContainer},void 0,ne(I.default,{onClick:function(){return n(!0)}},void 0,"Trigger React Crash"),me,ne(I.default,{onClick:function(){return window.open(o,"_blank")},disabled:""===o},void 0,"Open Overlay"))}_e.displayName="UsefulButtons";var he=u.default.connectStores([g.default,h.default],(function(){return{isTracingRequests:g.default.isTracingRequests,isForcedCanary:g.default.isForcedCanary,isLoggingGatewayEvents:g.default.isLoggingGatewayEvents,
isLoggingOverlayEvents:g.default.isLoggingOverlayEvents,isLoggingAnalyticsEvents:g.default.isLoggingAnalyticsEvents,isAxeEnabled:g.default.isAxeEnabled,isSourceMapsEnabled:g.default.sourceMapsEnabled,isAnalyticsDebuggerEnabled:g.default.isAnalyticsDebuggerEnabled,isDevToolsEnabled:h.default.devToolsEnabled}}))(ye),ge=ne(D.FormTitle,{},void 0,"Copy the ID of the Survey you want to test:"),Ee=ne(I.default,{type:"submit"},void 0,"Save Override");function Se(){var e=(0,u.useStateFromStores)([E.default],(function(){return E.default.getSurveyOverride()})),t=z(a.useState(null!=e?e:""),2),n=t[0],r=t[1];return ne(D.FormSection,{tag:D.FormTitleTags.H1,title:"Survey Override",className:H.default.marginTop60},void 0,ge,ne("form",{className:x.default.surveyOverride,onSubmit:function(e){e.preventDefault();n.length>0?s.overrideSurvey(n):s.overrideSurvey(null)}},void 0,ne(w.default,{className:x.default.surveyOverrideInput,value:n,onChange:r}),Ee))}Se.displayName="SurveyOverride"
;var Oe=ne(a.Fragment,{},void 0,ne(he,{}),ne(_e,{}),ne(Se,{}),ne(ce,{})),be=function(e){J(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return Oe};return t}(a.PureComponent);be.displayName="UserSettingsModalDeveloperOptions";var Ie=be;t.default=Ie},140572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(567668)),u=v(n(956303)),l=n(662197),s=n(374699),d=n(894826),f=n(770348),c=v(n(247001)),p=v(n(380203));function v(e){
return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){var e=d.FriendSourceFlagsSetting.useSetting(),t=a.useMemo((function(){return(0,s.computeFlags)(e)}),[e]);return m(u.default,{tag:l.Tags.H1,title:c.default.Messages.FRIEND_REQUESTS},void 0,m(u.default,{title:c.default.Messages.FRIEND_PERMITTED_SOURCE,className:p.default.marginBottom40},void 0,m(i.default,{className:(0,o.default)(p.default.marginTop8,p.default.marginBottom20),value:t.all,
onChange:function(e){return d.FriendSourceFlagsSetting.updateSetting(e?f.AllFriendSourceFlags:f.AllFriendSourceFlags&~f.FriendSourceFlags.NO_RELATION)}},void 0,c.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),m(i.default,{value:t.all||t.mutualFriends,onChange:function(t){return d.FriendSourceFlagsSetting.updateSetting(t?e|f.FriendSourceFlags.MUTUAL_FRIENDS:e&~f.FriendSourceFlags.MUTUAL_FRIENDS)}},void 0,c.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),m(i.default,{className:p.default.marginReset,value:t.all||t.mutualGuilds,onChange:function(t){return d.FriendSourceFlagsSetting.updateSetting(t?e|f.FriendSourceFlags.MUTUAL_GUILDS:e&~f.FriendSourceFlags.MUTUAL_GUILDS)}},void 0,c.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS)))}_.displayName="UserSettingsFriendRequests"},117944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Z
;var r,a=k(n(667294)),o=D(n(294184)),i=k(n(536211)),u=D(n(234161)),l=D(n(379319)),s=D(n(834162)),d=D(n(871778)),f=k(n(956117)),c=D(n(16941)),p=D(n(265851)),v=k(n(737705)),y=D(n(410208)),m=D(n(618993)),_=D(n(160629)),h=D(n(730977)),g=n(688388),E=D(n(68259)),S=D(n(330998)),O=D(n(804080)),b=D(n(614617)),I=n(862728),T=n(864489),C=n(770348),A=D(n(247001)),M=D(n(835244)),N=D(n(480798)),P=D(n(3066)),R=D(n(122688)),w=D(n(380203));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function j(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=i.default.connectStores([d.default],(function(){return{theme:d.default.theme}}))(v.default),Y=(0,T.isWindows)();function K(e){var t=e.onClose,n=(0,i.useStateFromStores)([s.default],(function(){return s.default.getCandidateGames()})),r=B(a.useState(null),2),l=r[0],d=r[1];var c=n.map((function(e){return{value:e.pid,label:null!=e.name?e.name:""}}));return x(p.default,{className:(0,o.default)(M.default.addGamePopout,N.default.elevationBorderHigh),"aria-label":A.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME},void 0,x(b.default,{placeholder:A.default.Messages.SELECT,value:l,options:c,onChange:function(e){d(e)}}),x(g.FormDivider,{className:(0,o.default)(w.default.marginTop8,w.default.marginBottom8)}),x("div",{
className:(0,o.default)(M.default.actions,P.default.horizontal)},void 0,x(f.default,{className:M.default.cancelButton,look:f.ButtonLooks.LINK,color:f.ButtonColors.PRIMARY,onClick:t},void 0,A.default.Messages.CANCEL),x(f.default,{disabled:null==l,onClick:function(){if(null!=l){u.default.addGame(l);t()}}},void 0,A.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))}K.displayName="AddGamePopout";var z=function(e){G(t,e);function t(){for(var t,n,r,a,o,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];(o=e.call.apply(e,[this].concat(l))||this).state={editingName:null!==(t=null===(n=o.props.game)||void 0===n?void 0:n.name)&&void 0!==t?t:"",gameName:null!==(r=null===(a=o.props.game)||void 0===a?void 0:a.name)&&void 0!==r?r:""};o.handleRemoveClick=function(){var e=o.props.game;null!=e&&u.default.deleteEntry(e)};o.handleNameEdit=function(){var e=o.props.game,t=o.state.editingName;null!=e&&e.name!==t&&u.default.editName(e,t)};o.handleNameChange=function(e){o.setState({
editingName:e.target.value})};o.handleOverlayToggle=function(){var e=o.props.game;null!=e&&u.default.toggleOverlay(e)};return o}t.getDerivedStateFromProps=function(e,t){var n,r=e.game,a=e.nowPlaying,o=t.editingName,i=t.gameName;return a&&null!=r&&r.name!==i&&r.name!==o?{editingName:r.name,gameName:r.name}:{gameName:null!==(n=null==r?void 0:r.name)&&void 0!==n?n:""}};var n=t.prototype;n.renderName=function(){var e=this.props,t=e.game,n=e.isOverride;return null==t?x("div",{className:M.default.gameName},void 0,A.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):t.verified&&!n?x("div",{className:M.default.detectedApplication},void 0,x("div",{className:M.default.gameName},void 0,t.name),x(h.default,{text:A.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,(function(e){return a.createElement(y.default,U({className:M.default.gameVerifiedIcon,size:18,color:C.Colors.BRAND_500},e),x(O.default,{width:18,height:18,color:C.Colors.WHITE}))}))):x("input",{className:(0,
o.default)(M.default.gameName,M.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})};n.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return x("div",{className:M.default.lastPlayed},void 0,A.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var r,a=t.played,o=t.exePath;n?r=A.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:null!=a&&""!==a&&(r=A.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:a}));return x("div",{className:M.default.lastPlayed},void 0,x(m.default,{hoverText:null!=o&&""!==o?o.toUpperCase():""},void 0,r))};n.renderOverlayToggle=function(){var e=this,t=this.props.game;if(!Y||null==t)return null;var n=t.overlay,r=t.overlayWarn,i=n?A.default.Messages.SETTINGS_GAMES_OVERLAY_ON:A.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,u=n?x(E.default,{className:M.default.overlayToggleIconOn,foreground:M.default.fill}):x(S.default,{
className:M.default.overlayToggleIconOff,foreground:M.default.fill}),l=r?x(h.default,{text:A.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,(function(e){return a.createElement("i",U({className:M.default.overlayWarningIcon},e))})):null;return x("div",{className:(0,o.default)(P.default.flexCenter,P.default.noWrap,P.default.justifyBetween)},void 0,l,x("div",{className:M.default.overlayStatusText},void 0,i),x(h.default,{text:A.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return x(c.default,{"aria-label":A.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:M.default.overlayToggleIcon,onClick:e.handleOverlayToggle,onMouseEnter:n,onMouseLeave:r},void 0,u)})))};n.renderRemove=function(){return x(l.default,{className:M.default.removeGame,onClick:this.handleRemoveClick})};n.render=function(){var e,t=this.props,n=t.nowPlaying,r=t.game,a=t.isOverride,i=null!=r;return x("div",{className:(0,
o.default)(P.default.flexCenter,((e={})[M.default.game]=!n,e[M.default.activeGame]=n,e[R.default.card]=!n,e[M.default.nowPlaying]=i&&n,e[M.default.notDetected]=!i&&n,e))},void 0,x("div",{className:(0,o.default)(M.default.gameNameLastPlayed,P.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),null==r||n&&!a?null:this.renderRemove())};n.handleEnterKey=function(e){if(13===e.keyCode){e.currentTarget.blur();e.preventDefault()}};return t}(a.PureComponent);z.displayName="Game";z.defaultProps={nowPlaying:!1,isOverride:!1};function $(e){var t=e.children;return x(V,{className:w.default.marginTop40},void 0,x(v.EmptyStateImage,{darkSrc:n(498913),lightSrc:n(598150),width:430,height:250}),t)}$.displayName="GameEmptyStateImage";var q=x($,{}),X=function(e){G(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){s.default.watchCandidateGames(!0)};n.componentWillUnmount=function(){
s.default.watchCandidateGames(!1)};n.renderPopout=function(e){return x(K,{onClose:e.closePopout})};n.renderGameList=function(){var e=this.props,t=e.gameHistory,n=e.overrideExePaths;return 0===t.length?x($,{},void 0,x(v.EmptyStateText,{},void 0,A.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER)):x(g.FormSection,{className:w.default.marginTop40},void 0,x(g.FormTitle,{className:w.default.marginBottom4},void 0,A.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),t.map((function(e){return x(z,{game:e,isOverride:n.has(e.exePath)},e.exePath)})))};n.renderGameDetails=function(){if(!T.isPlatformEmbedded)return q;var e=this.props,t=e.runningGame,n=e.overrideExePaths;return a.createElement(a.Fragment,null,x(z,{game:t,isOverride:null!=t&&n.has(t.exePath),nowPlaying:!0}),x("div",{className:(0,o.default)(M.default.nowPlayingAdd,w.default.marginReset,w.default.marginTop8,w.default.marginBottom20)},void 0,x("span",{},void 0,A.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),x(_.default,{
renderPopout:this.renderPopout,align:_.default.Align.CENTER,position:_.default.Positions.BOTTOM},void 0,(function(e){return a.createElement(f.default,U({},e,{look:f.ButtonLooks.LINK,size:f.ButtonSizes.MIN,color:f.ButtonColors.LINK}),A.default.Messages.SETTINGS_GAMES_ADD_GAME)}))),this.renderGameList())};n.render=function(){return x(a.Fragment,{},void 0,x(g.FormSection,{tag:g.FormTitle.Tags.H1,title:A.default.Messages.REGISTERED_GAMES},void 0,this.renderGameDetails()))};return t}(a.PureComponent);X.displayName="UserSettingsGameActivity";var Q=(0,I.cachedFunction)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map((function(e){return e.exePath})))}));function Z(){var e=(0,i.useStateFromStoresObject)([s.default],(function(){return{gameHistory:s.default.getGamesSeen(!0),runningGame:s.default.getSettingsGame(),overrideExePaths:Q.apply(void 0,j(s.default.getOverrides()))}}));return a.createElement(X,e)}
Z.displayName="ConnectedUserSettingsGameActivity"},418415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(441143)),i=g(n(536211)),u=g(n(810139)),l=g(n(508875)),s=g(n(677837)),d=g(n(958698)),f=g(n(728429)),c=g(n(558402)),p=n(772575),v=n(645758),y=g(n(164697)),m=n(770348),_=g(n(247001)),h=g(n(676366));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}
function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=S(u.default,{}),I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIntroHeader=function(){return null==this.props.houseMembership?_.default.Messages.HYPESQUAD_HEADING:_.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER};n.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified
;return S(a.Fragment,{},void 0,S("div",{className:h.default.intro},void 0,S(p.Heading,{variant:"heading-xxl/medium",className:h.default.introHeader,level:3},void 0,this.renderIntroHeader()),S(v.Text,{variant:"text-lg/normal"},void 0,_.default.Messages.HYPESQUAD_SUBHEADING)),S(y.default,{className:h.default.verificationNotice,unclaimedNotice:_.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:_.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),S(l.default,{houseMembership:t,isClaimed:n,isVerified:r}),b,S(s.default,{isHypeSquadOnlineMember:null!=t}),S(c.default,{className:h.default.attendeeCTA},void 0,_.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:m.MarketingURLs.HYPESQUAD})))};return t}(a.PureComponent);I.displayName="UserSettingsHypeSquad";var T=i.default.connectStores([f.default,d.default],(function(){var e=f.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsHypeSquad: currentUser cannot be undefined");return{
houseMembership:d.default.getHouseMembership(),isClaimed:e.isClaimed(),isVerified:e.verified}}))(I);t.default=T},122253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){if((0,i.useBlockedPaymentsConfig)())return m;return a.createElement(a.Fragment,null,y(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,_),y(l.FormDivider,{className:c.default.divider}),y(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,h))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=p(n(284382)),i=n(444272),u=n(421748),l=n(688388),s=p(n(321424)),d=p(n(379743)),f=n(770348),c=p(n(827079));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=y(u.BlockedPaymentsContentSettings,{}),_=y(s.default,{}),h=y(d.default,{})},913458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie
;var r,a=V(n(667294)),o=H(n(294184)),i=H(n(496486)),u=V(n(536211)),l=H(n(511066)),s=H(n(379319)),d=H(n(372936)),f=n(497677),c=n(726485),p=n(246049),v=H(n(14096)),y=H(n(379310)),m=H(n(749666)),_=n(915188),h=n(205809),g=H(n(122913)),E=H(n(635014)),S=H(n(871778)),O=H(n(527501)),b=H(n(81636)),I=V(n(956117)),T=V(n(737705)),C=H(n(530250)),A=n(772575),M=V(n(20902)),N=n(645758),P=n(688388),R=V(n(37241)),w=n(967965),D=H(n(550270)),L=n(864489),k=V(n(339943)),j=n(770348),U=n(697984),G=H(n(247001)),F=H(n(437338)),x=H(n(122688)),B=H(n(380203));function H(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return z.apply(this,arguments)}function $(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;q(e,t)}function q(e,t){q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return q(e,t)}function X(e){return(0,e.children)([c.KeybindGroup.MESSAGE,c.KeybindGroup.NAVIGATION,c.KeybindGroup.DND,c.KeybindGroup.CHAT,c.KeybindGroup.VOICE_AND_VIDEO,c.KeybindGroup.MISCELLANEOUS])}var Q=(0,i.default)((0,c.getDefaultLayoutContent)()).filter((function(e){return e.description!==G.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG})).groupBy((function(e){return e.group})).value(),Z=u.default.connectStores([S.default],(function(){return{theme:S.default.theme}}))(T.default),J=function(e){$(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleActionChanged=function(e){l.default.setKeybind(z({},t.props.keybind,{action:e}))};t.handleShortcutChange=function(e){
l.default.setKeybind(z({},t.props.keybind,{shortcut:e}))};t.handleDeleteKeybind=function(){l.default.deleteKeybind(t.props.keybind.id)};return t}var n=t.prototype;n.renderMessage=function(){var e=this.props.keybind,t=k.toString(e.shortcut);return v.default.hasBind(t)?K(R.default,{className:F.default.keybindMessage,type:R.Types.DESCRIPTION,style:{color:j.Colors.STATUS_RED}},void 0,G.default.Messages.KEYBIND_CONFLICT):U.NavigationShortcuts.has(t)?K(R.default,{className:F.default.keybindMessage,type:R.Types.DESCRIPTION,style:{color:j.Colors.STATUS_RED}},void 0,G.default.Messages.KEYBIND_NAVIGATION_CONFLICT.format({keyboardNavArticle:D.default.getArticleURL(j.HelpdeskArticles.KEYBOARD_NAVIGATION)})):K(R.default,{className:F.default.keybindMessage,type:R.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])};n.render=function(){var e=this.props.keybind.managed;return K(C.default,{direction:C.default.Direction.VERTICAL,className:(0,
o.default)(F.default.keybindGroup,x.default.card)},void 0,!e&&K(s.default,{"aria-label":G.default.Messages.REMOVE_KEYBIND,className:F.default.removeKeybind,onClick:this.handleDeleteKeybind,look:s.default.Looks.FILLED}),K(C.default,{className:B.default.marginBottom8},void 0,K(C.default.Child,{basis:"50%"},void 0,K(P.FormItem,{title:G.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:F.default.item},void 0,K(w.SingleSelect,{value:this.props.keybind.action,options:this.props.keybindActionTypes,onChange:this.handleActionChanged,isDisabled:e}))),K(C.default.Child,{basis:"50%"},void 0,K(P.FormItem,{title:G.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:F.default.item},void 0,K(d.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),K(C.default.Child,{},void 0,this.renderMessage()))};return t}(a.PureComponent);J.displayName="KeybindEntry"
;var ee=K(P.FormDivider,{}),te=K(P.FormDivider,{}),ne=K(P.FormDivider,{}),re=K(P.FormDivider,{}),ae=K(P.FormDivider,{}),oe=function(e){$(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleAddKeybind=function(){l.default.addKeybind()};return t}var r=t.prototype;r.componentDidMount=function(){v.default.disable()};r.componentWillUnmount=function(){v.default.enable();var e=[j.Layers.USER_SETTINGS,j.Layers.CHANNEL_SETTINGS,j.Layers.GUILD_SETTINGS];g.default.getLayers().some((function(t){return e.includes(t)}))&&v.default.enableTemp(p.SETTINGS_LAYERS_LAYOUT)};r.renderKeybinds=function(e){var t=this;return e.map((function(e){return K("div",{className:F.default.row},e.id,K(J,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id))}))};r.renderEmpty=function(e){if(0===e.length)return K(Z,{className:B.default.marginTop60},void 0,K(T.EmptyStateImage,{
darkSrc:n(656470),lightSrc:n(789885),width:320,height:170}))};r.render=function(){var e=(0,i.default)(this.props.keybinds).reject((function(e){return e.managed&&e.action!==j.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET})).sortBy((function(e){return e.id})).sortBy((function(e){return!0===e.managed?-1:0})).value();return a.createElement(a.Fragment,null,K(P.FormSection,{tag:P.FormTitleTags.H1,title:G.default.Messages.KEYBINDS},void 0,L.isPlatformEmbedded?a.createElement(a.Fragment,null,K(C.default,{justify:C.default.Justify.BETWEEN,className:B.default.marginBottom20},void 0,K(C.default.Child,{grow:0},void 0,K(M.default,{messageType:M.HelpMessageTypes.WARNING},void 0,G.default.Messages.ADD_KEYBIND_WARNING)),K(C.default.Child,{wrap:!0,grow:0},void 0,K(I.default,{size:I.ButtonSizes.LARGE,onClick:this.handleAddKeybind},void 0,G.default.Messages.ADD_KEYBIND))),ee,K(P.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e))):K(M.default,{messageType:M.HelpMessageTypes.INFO,
fontSize:M.HelpMessageFontSizes.FONT_SIZE_16,className:F.default.browserNotice},void 0,G.default.Messages.KEYBIND_IN_BROSWER_NOTICE.format({downloadLink:j.MarketingURLs.DOWNLOAD}))),te,K(P.FormSection,{tag:P.FormTitleTags.H1,title:G.default.Messages.USER_SETTINGS_KEYBINDS_DEFAULT_KEYBINDS_TITLE,className:B.default.marginTop60},void 0,K("div",{className:F.default.defaultKeybind},void 0,K(N.Text,{variant:"text-md/normal"},void 0,G.default.Messages.USER_SETTINGS_KEYBINDS_SHOW_LIST_TITLE),K("div",{className:F.default.defaultKeybindShortcutGroup},void 0,K(m.default,{shortcut:f.TOGGLE_HOTKEYS.binds[0],className:F.default.defaultKeybindShortcut}))),ne,K(X,{},void 0,(function(e){return a.createElement(a.Fragment,null,e.map((function(e){var t,n=(0,c.getNameForKeybindGroup)(e),r=(0,c.getDescriptionForKeybindGroup)(e),i=Q[e];return K("div",{className:F.default.defaultKeybindGroup},void 0,K(A.Heading,{variant:"heading-sm/medium",className:(0,o.default)(F.default.defaultKeybindGroupHeader,(t={},
t[F.default.defaultKeybindGroupWithDescription]=null!=r,t)),level:3},void 0,n),null!=r&&K(N.Text,{color:"header-secondary",className:F.default.defaultKeybindGroupDescription,variant:"text-sm/normal"},void 0,r),re,i.map((function(e){return K(a.Fragment,{},e.description,K("div",{className:F.default.defaultKeybind},void 0,K(N.Text,{variant:"text-md/normal"},void 0,e.description),K("div",{className:F.default.defaultKeybindShortcutGroup},void 0,e.binds.map((function(e){return K(m.default,{shortcut:e},e)})))),ae)})))})))}))))};!function(e,t,n){t&&Y(e.prototype,t);n&&Y(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"keybindActionTypes",get:function(){var e=this.props,t=e.overlaySupported,n=e.canGoLive,r=e.allowSoundboard,a=[{value:j.GlobalKeybindActions.UNASSIGNED,label:G.default.Messages.KEYBIND_UNASSIGNED},{value:j.GlobalKeybindActions.PUSH_TO_TALK,label:G.default.Messages.KEYBIND_PUSH_TO_TALK},{value:j.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY,
label:G.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:j.GlobalKeybindActions.PUSH_TO_MUTE,label:G.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:j.GlobalKeybindActions.TOGGLE_MUTE,label:G.default.Messages.KEYBIND_TOGGLE_MUTE},{value:j.GlobalKeybindActions.TOGGLE_DEAFEN,label:G.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:j.GlobalKeybindActions.TOGGLE_VOICE_MODE,label:G.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:j.GlobalKeybindActions.TOGGLE_STREAMER_MODE,label:G.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}];if(t){a.push({value:j.GlobalKeybindActions.TOGGLE_OVERLAY,label:G.default.Messages.KEYBIND_TOGGLE_OVERLAY});a.push({value:j.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK,label:G.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK});a.push({value:j.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:G.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})}n&&(0,L.isWindows)()&&a.push({value:j.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING,
label:G.default.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING});if((0,L.isDesktop)()){a.push({value:j.GlobalKeybindActions.NAVIGATE_BACK,label:G.default.Messages.KEYBIND_NAVIGATE_BACK},{value:j.GlobalKeybindActions.NAVIGATE_FORWARD,label:G.default.Messages.KEYBIND_NAVIGATE_FORWARD});r&&(0,h.isSoundboardSupported)()&&a.push({value:j.GlobalKeybindActions.SOUNDBOARD,label:G.default.Messages.KEYBIND_SOUNDBOARD},{value:j.GlobalKeybindActions.SOUNDBOARD_HOLD,label:G.default.Messages.KEYBIND_SOUNDBOARD_HOLD})}return a}},{key:"keybindDescriptions",get:function(){var e,t=this.props,n=t.overlaySupported,r=t.canGoLive,a=((e={})[j.GlobalKeybindActions.UNASSIGNED]=G.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,e[j.GlobalKeybindActions.PUSH_TO_MUTE]=G.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,e[j.GlobalKeybindActions.PUSH_TO_TALK]=G.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,e[j.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]=G.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,
e[j.GlobalKeybindActions.TOGGLE_MUTE]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,e[j.GlobalKeybindActions.TOGGLE_DEAFEN]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,e[j.GlobalKeybindActions.TOGGLE_VOICE_MODE]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,e[j.GlobalKeybindActions.TOGGLE_STREAMER_MODE]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,e);if(n){a[j.GlobalKeybindActions.TOGGLE_OVERLAY]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY;a[j.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK}r&&(0,L.isWindows)()&&(a[j.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]=G.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING);if((0,L.isDesktop)()){a[j.GlobalKeybindActions.NAVIGATE_BACK]=G.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_BACK;a[j.GlobalKeybindActions.NAVIGATE_FORWARD]=G.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_FORWARD
;a[j.GlobalKeybindActions.SOUNDBOARD]=(0,L.isWindows)()?G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_GLOBAL:G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD;a[j.GlobalKeybindActions.SOUNDBOARD_HOLD]=(0,L.isWindows)()?G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD_GLOBAL:G.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD}return a}}]);return t}(a.PureComponent);oe.displayName="UserSettingsKeybinds";function ie(){var e=(0,u.useStateFromStores)([O.default],(function(){return O.default.getState()})),t=(0,u.useStateFromStores)([E.default],(function(){return(0,y.default)(E.default)})),n=(0,u.useStateFromStores)([b.default],(function(){return b.default.isSupported()})),r=(0,_.useGlobalSoundboardConfig)().allowSoundboard;return K(oe,{keybinds:e,canGoLive:t,overlaySupported:n,allowSoundboard:r})}ie.displayName="UserSettingsKeybindsConnected"},783949:(e,t,n)=>{"use strict";var r=n(734155);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=p(n(536211)),u=p(n(929031)),l=p(n(871778)),s=p(n(26172)),d=n(688388),f=p(n(247001)),c=p(n(391431));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=_(o.useState(e.currentLocale),2),a=t[0],i=t[1],l=_(o.useState((function(){return f.default.getAvailableLocales().map((function(e){var t;try{t=n(357605)("./"+e.value+".png")}catch(e){t=n(223693)}return m({},e,{name:y("div",{className:c.default.option},void 0,y("span",{className:c.default.localeName},void 0,e.name),y("span",{className:c.default.localizedName},void 0,e.localizedName),y("div",{className:c.default.flag,"aria-hidden":!0},void 0,y("img",{alt:"",src:t,className:c.default.flagImage})))})}))})),1)[0],p=o.useCallback((function(e){var t=e.value;i(t);r.nextTick((function(){
return u.default.updateRemoteSettings({locale:t})}))}),[]);return y(d.FormSection,{tag:d.FormTitleTags.H1,title:f.default.Messages.LANGUAGE},void 0,y(d.FormSection,{},void 0,y(d.FormItem,{title:f.default.Messages.LANGUAGE_SELECT},void 0,y(s.default,{onChange:p,options:l,value:a}))))}g.displayName="UserSettingsLocale";var E=i.default.connectStores([l.default],(function(){return{currentLocale:l.default.locale}}))(g);t.default=E},764422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G;var r,a=P(n(667294)),o=M(n(294184)),i=M(n(496486)),u=n(536211),l=M(n(969226)),s=P(n(448549)),d=M(n(329441)),f=M(n(754966)),c=M(n(919935)),p=M(n(16941)),v=M(n(26172)),y=M(n(567668)),m=n(688388),_=M(n(149982)),h=n(967965),g=M(n(169617)),E=n(864489),S=P(n(179379)),O=n(894826),b=M(n(55181)),I=n(770348),T=M(n(247001)),C=M(n(66662)),A=M(n(380203));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e){var t=e.label,n=e.enabled,r=e.disabled,a=e.onPreview,o=e.onChange;return D(y.default,{className:C.default.soundRow,value:n,onChange:o,disabled:r},void 0,D("div",{className:C.default.notificationSound},void 0,D("div",{className:C.default.soundName},void 0,t),D(p.default,{className:C.default.soundIcon,onClick:a,"aria-label":T.default.Messages.USER_SETTINGS_NOTIFICATIONS_PREVIEW_SOUND},void 0,D(_.default,{width:16,height:16,className:C.default.icon,"aria-hidden":!0}))))}L.displayName="NotificationSound";function k(e){var t=e.disabledSounds,n=e.disableAllSounds,r=d.default.useExperiment({}).allowSoundpacks;a.useEffect((function(){d.default.trackExposure({})}),[]);var o=a.useRef(),i=a.useCallback((function(e,t){t.stopPropagation()
;t.preventDefault();null!=o.current&&o.current.stop();o.current=S.playSound(e)}),[]),u=a.useCallback((function(e,n){var r=t.filter((function(t){return t!==e}));n||r.push(e);l.default.setDisabledSounds(r)}),[t]),s=[{label:T.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:T.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:T.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:T.default.Messages.MUTE,sound:"mute"},{label:T.default.Messages.UNMUTE,sound:"unmute"},{label:T.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:T.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:T.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:T.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:T.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:T.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:T.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:T.default.Messages.SOUND_INCOMING_RING,
sound:"call_ringing"},{label:T.default.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:T.default.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:T.default.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:T.default.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"},{label:T.default.Messages.SOUND_INVITED_TO_SPEAK,sound:"reconnect"}];return D(m.FormSection,{tag:m.FormTitleTags.H1,title:T.default.Messages.SOUNDS},void 0,r?a.createElement(a.Fragment,null,D(m.FormTitle,{className:A.default.marginBottom20},void 0,T.default.Messages.SOUNDPACK_LABEL),D(f.default,{className:A.default.marginBottom40})):null,D(y.default,{note:T.default.Messages.SOUND_DISABLE_ALL_NOTE,value:n,onChange:l.default.toggleDisableAllSounds},void 0,T.default.Messages.SOUND_DISABLE_ALL),s.map((function(e){var r=e.label,a=e.sound;return D(L,{label:r,disabled:n,onChange:function(e){return u(a,e)},onPreview:function(e){return i(a,e)},enabled:!n&&!t.includes(a)},a)})))}
k.displayName="NotificationSounds";var j=D(b.default,{}),U=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleToggleShowUnreadBadge=function(){l.default.setDisableUnreadBadge(!t.props.disableUnreadBadge)};t.handleToggleShowFlash=function(){l.default.setTaskbarFlash(!t.props.taskbarFlash)};t.renderTTS=function(){if(!s.supported)return null;var e=[{name:T.default.Messages.TTS_ALLS,value:I.TTSNotificationTypes.ALL_CHANNELS},{name:T.default.Messages.TTS_CURRENT,value:I.TTSNotificationTypes.SELECTED_CHANNEL},{name:T.default.Messages.TTS_NEVER,value:I.TTSNotificationTypes.NEVER}];return D(m.FormItem,{title:T.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,D(m.FormText,{type:m.FormTextTypes.DESCRIPTION,className:A.default.marginBottom8},void 0,T.default.Messages.FORM_DESCRIPTION_TTS),D(v.default,{
options:e,onChange:t.handleTTSChange,value:t.props.ttsType}))};return t}var n=t.prototype;n.handleDesktopChange=function(e){var t,n=e?I.DesktopNotificationTypes.ALL:I.DesktopNotificationTypes.NEVER;n!==I.DesktopNotificationTypes.NEVER?(t="UserSettingsModal",g.default.requestPermission((function(e){var n=e?I.NotificationPermissionTypes.ENABLED:I.NotificationPermissionTypes.BLOCKED;l.default.setPermissionsState(n,t)}))):l.default.setDesktopType(n)};n.handleTTSChange=function(e){var t=e.value;l.default.setTTSType(t)};n.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,r=e.disableUnreadBadge,a=e.taskbarFlash,u=e.disabledSounds,l=e.disableAllSounds,s=E.isPlatformEmbedded&&(0,E.isWindows)(),d=i.default.range(1,11).map((function(e){return{value:60*e,label:T.default.Messages.DURATION_MINUTES.format({minutes:e})}}));return D(m.FormSection,{tag:m.FormTitleTags.H1,title:T.default.Messages.NOTIFICATIONS},void 0,D(y.default,{className:A.default.marginBottom20,
value:t!==I.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:T.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,T.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),D(y.default,{className:s?A.default.marginBottom20:A.default.marginBottom40,value:!r,note:T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge},void 0,T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),s?D(y.default,{className:A.default.marginBottom40,value:a,note:T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,T.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,D(m.FormItem,{title:T.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,D(h.SingleSelect,{value:n,onChange:O.AfkTimeout.updateSetting,options:d}),D(m.FormText,{type:m.FormTextTypes.DESCRIPTION,className:A.default.marginTop8
},void 0,T.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),D(m.FormDivider,{className:(0,o.default)(A.default.marginTop40,A.default.marginBottom40)})),this.renderTTS(),D(m.FormDivider,{className:(0,o.default)(A.default.marginTop40,A.default.marginBottom40)}),D(m.FormItem,{},void 0,D(k,{disabledSounds:u,disableAllSounds:l})),j)};return t}(a.PureComponent);U.displayName="UserSettingsNotifications";function G(){var e=(0,u.useStateFromStoresObject)([c.default],(function(){return{disableUnreadBadge:c.default.getDisableUnreadBadge(),taskbarFlash:c.default.taskbarFlash,disabledSounds:c.default.getDisabledSounds(),disableAllSounds:c.default.getDisableAllSounds(),desktopType:c.default.getDesktopType(),ttsType:c.default.getTTSType()}}));return a.createElement(U,R({},e,{afkTimeout:O.AfkTimeout.useSetting()}))}G.displayName="ConnectedUserSettingsNotifications"},720034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(536211)),i=T(n(511066)),u=T(n(390557)),l=T(n(372936)),s=n(555437),d=T(n(527501)),f=T(n(81636)),c=T(n(945771)),p=T(n(530250)),v=T(n(26172)),y=T(n(567668)),m=n(688388),_=T(n(510596)),h=T(n(738858)),g=T(n(308920)),E=(T(n(550270)),n(339943)),S=n(770348),O=T(n(247001)),b=T(n(780663)),I=T(n(380203));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}function P(){var e=c.default.getNotificationPositionMode(),t=e!==S.OverlayNotificationPositions.DISABLED,n=d.default.getOverlayKeybind(),r=d.default.getOverlayChatKeybind();g.default.track(S.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:f.default.enabled,notifications_enabled:t,
notifications_position:t?e:null,text_notifications_mode:c.default.getTextChatNotificationMode(),hotkey:null!=n?(0,E.toString)(n.shortcut):null,text_activation_hotkey:null!=r?(0,E.toString)(r.shortcut):null,text_opacity_slider:c.default.getTextWidgetOpacity()})}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleChangeEnabled=function(e){u.default.setEnabled(e);P();g.default.track(S.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e,setting_type:"overlay toggled - global"})};t.handleChangeDisplayNameMode=function(e){var t=e.value;u.default.setDisplayNameMode(t)};t.handleChangeAvatarSizeMode=function(e){var t=e.value;u.default.setAvatarSizeMode(t)};t.handleChangeDisplayUserMode=function(e){var t=e.value;u.default.setDisplayUserMode(t)};t.handleChangeTextNotificationMode=function(){
var e=S.OverlayNotificationTextChatTypes.ENABLED,n=S.OverlayNotificationTextChatTypes.DISABLED,r=t.props.textChatNotificationMode===e?n:e;u.default.setTextChatNotificationMode(r);P()};t.handleChangeNotificationPositionMode=function(e,t){u.default.setNotificationPositionMode(t);P()};t.handleInputLockShortcutChange=function(e){i.default.setKeybind(M({},t.props.inputLockKeybind,{shortcut:e}));P()};return t}var n=t.prototype;n.renderExplanation=function(){return null};n.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind,r=(0,s.isHookModuleTooOld)();return A(p.default,{className:I.default.marginBottom20},void 0,A(p.default.Child,{basis:"50%"},void 0,A(_.default,{},void 0,A(m.FormTitle,{tag:m.FormTitleTags.H5},void 0,O.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),A(y.default,{className:I.default.marginBottom20,style:{marginTop:16},value:t,disabled:r,note:r?O.default.Messages.OVERLAY_DISABLED_OLD_CLIENT:null,hideBorder:!0,
onChange:this.handleChangeEnabled},void 0,O.default.Messages.ENABLE_INGAME_OVERLAY))),A(p.default.Child,{basis:"50%"},void 0,A(_.default,{title:O.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,A(l.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))};n.renderAvatarSize=function(){return A(p.default,{className:I.default.marginBottom20},void 0,A(p.default.Child,{},void 0,A(_.default,{title:O.default.Messages.FORM_LABEL_AVATAR_SIZE},void 0,A(v.default,{options:[{name:O.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:S.OverlayAvatarSizes.LARGE},{name:O.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:S.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))};n.renderDisplayNames=function(){return A(p.default,{className:I.default.marginBottom20},void 0,A(p.default.Child,{},void 0,A(_.default,{title:O.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,A(v.default,{options:[{
name:O.default.Messages.DISPLAY_OPTION_ALWAYS,value:S.OverlayDisplayNames.ALWAYS},{name:O.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:S.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:O.default.Messages.DISPLAY_OPTION_NEVER,value:S.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))};n.renderDisplayUsers=function(){return A(p.default,{className:I.default.marginBottom20},void 0,A(p.default.Child,{},void 0,A(_.default,{title:O.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,A(v.default,{options:[{name:O.default.Messages.DISPLAY_OPTION_ALWAYS,value:S.OverlayDisplayUsers.ALWAYS},{name:O.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:S.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))};n.renderTextNotificationMode=function(){
var e=this.props.notificationPositionMode!==S.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===S.OverlayNotificationTextChatTypes.ENABLED;return A(p.default,{className:I.default.marginBottom20},void 0,A(p.default.Child,{},void 0,A(_.default,{},void 0,A(y.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,O.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))};n.renderNotificationPosition=function(){return A(p.default,{className:I.default.marginBottom20},void 0,A(p.default.Child,{},void 0,A(_.default,{title:O.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,A("div",{className:b.default.notificationSettings},void 0,A(h.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))};n.render=function(){return A(a.Fragment,{},void 0,A(m.FormSection,{tag:m.FormTitleTags.H1,title:O.default.Messages.OVERLAY
},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),A(m.FormSection,{tag:m.FormTitleTags.H1,title:O.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:I.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))};return t}(a.PureComponent);R.displayName="UserSettingsOverlay";var w=o.default.connectStores([f.default,c.default,d.default],(function(){return{enabled:f.default.enabled,avatarSizeMode:c.default.getAvatarSizeMode(),displayNameMode:c.default.getDisplayNameMode(),displayUserMode:c.default.getDisplayUserMode(),notificationPositionMode:c.default.getNotificationPositionMode(),textChatNotificationMode:c.default.getTextChatNotificationMode(),inputLockKeybind:d.default.getOverlayKeybind()}}))(R);t.default=w},830967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=X(n(667294)),o=$(n(294184)),i=n(536211),u=n(923387),l=$(n(636602)),s=$(n(861315)),d=$(n(524791)),f=$(n(169404)),c=$(n(88509)),p=$(n(213847)),v=$(n(155502)),y=$(n(754416)),m=n(203847),_=$(n(314234)),h=n(316932),g=$(n(144254)),E=n(227313),S=$(n(513266)),O=$(n(30098)),b=$(n(663303)),I=$(n(151097)),T=X(n(956117)),C=$(n(16941)),A=X(n(737705)),M=$(n(410208)),N=$(n(380439)),P=n(772575),R=$(n(80828)),w=$(n(567668)),D=n(645758),L=$(n(730977)),k=n(688388),j=$(n(259530)),U=$(n(863771)),G=$(n(804080)),F=n(194322),x=$(n(308920)),B=n(894826),H=n(770348),W=n(946085),V=$(n(247001)),Y=$(n(805647)),K=$(n(380203)),z=$(n(637472));function $(e){return e&&e.__esModule?e:{default:e}}function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function X(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=function(e){
var t,n,r,a=e.integration,o=(0,i.useStateFromStores)([S.default],(function(){return S.default.isJoining(a.id)}),[a.id]);null!=(0,i.useStateFromStores)([O.default],(function(){return O.default.getGuild(a.guild.id)}),[a.guild.id])||(r=ee(T.default,{size:T.ButtonSizes.SMALL,onClick:function(){s.default.joinServer(a.id,(function(){}))},disabled:o},void 0,ee("span",{},void 0,o?V.default.Messages.JOINING_GUILD:V.default.Messages.JOIN_GUILD)));return ee("div",{className:Y.default.integration},void 0,ee(N.default,{size:N.default.Sizes.SMALL,guild:a.guild,className:Y.default.guildIcon}),ee("div",{className:Y.default.integrationInner},void 0,ee(D.Text,{variant:"text-md/semibold",color:"header-primary"},void 0,a.guild.toString()),ee(I.default,{href:null===(t=v.default.get(a.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,a.account)},void 0,ee(D.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,a.account.name))),r)};te.displayName="Integration"
;var ne=ee(G.default,{}),re=ee(j.default,{width:16,height:16});function ae(e){var t=e.onDisconnect,n=e.account,r=e.theme,o=Z(a.useState(n.friendSync),2),i=o[0],u=o[1],l=Z(a.useState(n.visibility),2),d=l[0],f=l[1],p=Z(a.useState(n.showActivity),2),m=p[0],_=p[1],h=Z(a.useState(null),2),g=h[0],S=h[1],O=v.default.get(n.type),b=a.useRef(n.verified);a.useEffect((function(){!b.current&&n.verified&&function(){if(null==g)return;s.default.setVisibility(n.type,n.id,g);S(null)}()}));function I(){(0,y.default)(n.type,"User Settings")}function A(){var e=v.default.get(n.type);(0,F.openModal)((function(n){return a.createElement(c.default,Q({title:V.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:V.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:V.default.Messages.DISCONNECT_ACCOUNT,cancelText:V.default.Messages.CANCEL,onConfirm:t},n))}))}function N(e){var t=e?1:0;if(n.verified){f(t);s.default.setVisibility(n.type,n.id,t)}else{S(t);(0,y.default)(n.type,"User Settings")}}
function P(e){u(e);s.default.setFriendSync(n.type,n.id,e)}function R(e){_(e);s.default.setShowActivity(n.type,n.id,e)}return ee("div",{className:Y.default.connection},void 0,function(e){var t,n=v.default.get(e.type),a="1"===(null!==(t=e.metadata)&&void 0!==t?t:{})[W.MetadataFields.TWITTER_VERIFIED],o=null;n.type===H.PlatformTypes.TWITTER&&a&&(o=ee(M.default,{className:Y.default.connectionAccountLabelVerified,color:H.Colors.TWITTER},void 0,ne));return ee("div",{className:Y.default.connectionHeader},void 0,ee("img",{alt:n.name,className:Y.default.connectionIcon,src:r===H.ThemeTypes.DARK?n.icon.darkSVG:n.icon.lightSVG}),ee("div",{},void 0,ee(D.Text,{color:"header-primary",variant:"text-md/semibold",className:Y.default.connectionAccountValue},void 0,ee("div",{className:Y.default.connectionAccountLabelContainer},void 0,e.name,o)),ee(D.Text,{variant:"text-xs/normal",color:"header-secondary",className:Y.default.connectionAccountLabel},void 0,v.default.get(e.type).name)),ee(C.default,{
className:Y.default.connectionDelete,onClick:A,"aria-label":V.default.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}}},void 0,re))}(n),function(e){var t,n=null!==(t=e.metadata)&&void 0!==t?t:{},r=null;switch(e.type){case H.PlatformTypes.REDDIT:r=(0,E.generateRedditMetadataItems)(n,Y.default.metadataItem);break;case H.PlatformTypes.STEAM:r=(0,E.generateSteamMetadataItems)(n,Y.default.metadataItem);break;case H.PlatformTypes.TWITTER:r=(0,E.generateTwitterMetadataItems)(n,Y.default.metadataItem)}if(null==r||0===r.length)return null;r.push(ee(T.default,{className:Y.default.metadataRefreshButton,size:T.default.Sizes.SMALL,onClick:function(){return(0,y.default)(e.type)}},void 0,V.default.Messages.REFRESH));return ee("div",{className:Y.default.metadataContainer},void 0,r)}(n),function(e){var t,r;H.FRIEND_SYNC_PLATFORM_TYPES.has(n.type)&&(t=ee(w.default,{className:Y.default.connectionOptionSwitch,hideBorder:!0,value:i,onChange:P},void 0,ee(D.Text,{
variant:"text-sm/semibold"},void 0,V.default.Messages.SYNC_FRIENDS)));H.ACTIVITY_PLATFORM_TYPES.has(n.type)&&(r=ee(w.default,{className:Y.default.connectionOptionSwitch,hideBorder:!0,value:m,onChange:R},void 0,ee(D.Text,{variant:"text-sm/semibold"},void 0,V.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))));return ee("div",{className:Y.default.connectionOptionsWrapper},void 0,ee("div",{className:Y.default.connectionOptions},void 0,ee(w.default,{className:Y.default.connectionOptionSwitch,hideBorder:!0,value:1===d,onChange:N},void 0,ee(D.Text,{variant:"text-sm/semibold"},void 0,V.default.Messages.DISPLAY_ON_PROFILE)),r,t))}(O),function(){if(n.revoked||n.integrations.length>0)return ee(k.FormDivider,{className:Y.default.connectedAccountSeparator})}(),n.revoked?ee(k.FormItem,{className:Y.default.integrationsWrapper},void 0,ee(k.FormText,{className:Y.default.integrationRevoked},void 0,V.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:I
}))):n.integrations.length>0?ee(k.FormItem,{className:Y.default.integrationsWrapper},void 0,ee(k.FormTitle,{tag:k.FormTitleTags.H5},void 0,ee(D.Text,{variant:"text-xs/semibold"},void 0,V.default.Messages.SUB_ENABLED_SERVERS)),ee("div",{},void 0,n.integrations.map((function(e){return ee(te,{integration:e},e.id)})))):void 0)}ae.displayName="ConnectedAccount";function oe(){return ee("div",{className:Y.default.topContainer},void 0,ee("div",{className:Y.default.passportHeaderContainer},void 0,ee(P.Heading,{variant:"display-lg",className:Y.default.passportHeader},void 0,V.default.Messages.USER_SETTINGS_PASSPORT_HEADER),ee(P.Heading,{variant:"text-md/normal",color:"header-secondary"},void 0,V.default.Messages.USER_SETTINGS_PASSPORT_SUBHEADER)),ee("img",{src:z.default,className:Y.default.banner,alt:""}))}oe.displayName="Header";function ie(e){return ee("div",{className:Y.default.connectContainer},void 0,ee(g.default,{},void 0,V.default.Messages.CONNECT_ACCOUNT_TITLE),ee(D.Text,{
variant:"text-md/normal"},void 0,V.default.Messages.USER_SETTINGS_PASSPORT_CONNECT_SUBTEXT),ue(e))}ie.displayName="NewConnectSection";function ue(e){function t(e){var t=v.default.get(e);(0,y.default)(t.type);x.default.track(H.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})}return ee("div",{className:Y.default.connectionsContainer},void 0,(0,h.getPlatforms)(!1,void 0,e).slice(0,10).map((function(e){return ee(f.default,{type:e.type,className:Y.default.accountButton,innerClassName:Y.default.accountButtonInner},e.type)})),ee(L.default,{text:V.default.Messages.PASSPORT_CONTROLS_VIEW_MORE},void 0,(function(e){var n=e.onMouseEnter,r=e.onMouseLeave;return ee("div",{className:(0,o.default)(Y.default.accountAddWrapper,Y.default.accountButton)},void 0,ee(_.default,{},void 0,ee("button",{onMouseEnter:n,onMouseLeave:r,className:(0,o.default)(Y.default.accountAddInner,Y.default.accountButtonInner),type:"button",
onClick:function(){l.default.dispatch({type:"PASSPORT_CONNECTIONS_MODAL_SHOW",onComplete:t})},"aria-label":V.default.Messages.ADD_NEW_CONNECTION},void 0,ee(U.default,{height:18,width:18,"aria-label":V.default.Messages.PASSPORT_CONTROLS_VIEW_MORE}))))})))}ue.displayName="NewConnectionsList";function le(e,t,r){var a;a=e?ee(R.default,{className:K.default.marginTop20,type:R.default.Type.SPINNING_CIRCLE}):0===t.length?ee(A.default,{className:K.default.marginTop40,theme:r},void 0,ee(A.EmptyStateImage,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),ee(A.EmptyStateText,{note:V.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,V.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):t.filter((function(e){return v.default.isSupported(e.type)})).map((function(e,t){return ee(ae,{theme:r,account:e,onDisconnect:function(){return n=(t=e).type,r=t.id,void s.default.disconnect(n,r);var t,n,r}},t)}));return ee(k.FormItem,{className:Y.default.connectionList},void 0,a)}
le.displayName="ConnectionList";var se=ee(d.default,{}),de=function(){var e=(0,i.useStateFromStores)([b.default],(function(){return b.default.hidePersonalInformation})),t=(0,i.useStateFromStores)([S.default],(function(){return S.default.isFetching()})),n=(0,i.useStateFromStores)([S.default],(function(){return S.default.getAccounts()})),r=(B.DetectPlatformAccounts.useSetting(),(0,p.default)()),o=a.useMemo((function(){var e=new Set;n.forEach((function(t){return e.add(t.type)}));return e}),[n]);a.useEffect((function(){s.default.fetch()}),[]);a.useEffect((function(){(0,m.markDismissibleContentAsDismissed)(u.DismissibleContent.PASSPORT_USER_SETTINGS)}),[]);return e?se:ee(k.FormSection,{className:Y.default.connections,tag:k.FormTitleTags.H1,title:V.default.Messages.PASSPORT},void 0,oe(),ie(o),le(t,n,r))};de.displayName="UserSettingsPassport";var fe=de;t.default=fe},325539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ne
;var r,a=$(n(667294)),o=K(n(294184)),i=n(536211),u=K(n(636602)),l=$(n(832635)),s=n(233271),d=n(264720),f=n(856259),c=n(547855),p=n(421748),v=K(n(266603)),y=K(n(474258)),m=K(n(843675)),_=K(n(404203)),h=n(95034),g=K(n(887609)),E=K(n(890535)),S=K(n(748826)),O=K(n(146771)),b=K(n(16941)),I=K(n(380439)),T=n(772575),C=K(n(638707)),A=K(n(427370)),M=K(n(80828)),N=n(645758),P=n(688388),R=K(n(394617)),w=K(n(782732)),D=K(n(634567)),L=K(n(878338)),k=K(n(340858)),j=K(n(545449)),U=K(n(526432)),G=K(n(830759)),F=K(n(289799)),x=K(n(308920)),B=n(71246),H=K(n(550270)),W=n(770348),V=K(n(247001)),Y=K(n(156661));function K(e){return e&&e.__esModule?e:{default:e}}function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function X(e){var t=e.guild;return q(b.default,{onClick:function(){(0,h.transitionToGuild)(t.id,{state:{shouldShowSubscribeTooltip:!0}});(0,d.popLayer)()},className:Y.default.cardWrapper},void 0,q(A.default,{className:Y.default.card},void 0,q(I.default,{guild:t,
size:I.default.Sizes.LARGE,"aria-hidden":!0}),q("div",{className:Y.default.guildInfo},void 0,q(N.Text,{variant:"text-md/normal",className:Y.default.guildName},void 0,t.name),q("div",{className:Y.default.subscriptionInfo},void 0,q(w.default,{className:Y.default.guildBoostingIcon}),q(N.Text,{className:Y.default.subscriberCount,variant:"text-sm/normal"},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:t.premiumSubscriberCount})))),q(C.default,{guildId:t.id,subscriberCount:t.premiumSubscriberCount})))}X.displayName="GuildSubscriptionInfoCard";function Q(){var e=(0,i.useStateFromStores)([g.default],(function(){return g.default.getFlattenedGuilds()})).slice(0,W.NUMBER_OF_GUILDS_TO_RECOMMEND_BOOSTING),t=(0,c.useSubscriptionPlansLoaded)().hasLoaded;return a.createElement(a.Fragment,null,q("div",{className:Y.default.divider}),q("div",{className:Y.default.marketingLogo},void 0,q(D.default,{className:Y.default.marketingLogoIcon,
"aria-label":V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,role:"heading"}),q("div",{className:Y.default.marketingLogoImage})),q(T.Heading,{className:Y.default.marketingHeader,variant:"heading-lg/medium",level:3},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER),q(N.Text,{variant:"text-md/normal"},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB),q(T.Heading,{className:Y.default.featureHeaderTop,variant:"heading-lg/medium",color:"header-secondary",level:3},void 0,V.default.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER),q(_.default,{features:[{description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,icon:w.default,iconClass:Y.default.memberBadgeIcon},{description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return q("div",{className:(0,o.default)(e,Y.default.profileBadgeIcon)})}},{description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,icon:k.default,iconClass:Y.default.roleIcon}],
columns:3}),q(T.Heading,{className:Y.default.featureHeader,variant:"heading-lg/medium",color:"header-secondary",level:3},void 0,V.default.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER),q(_.default,{features:[{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,icon:R.default,iconClass:Y.default.emojiIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_STICKERS,icon:U.default,iconClass:Y.default.stickerIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,icon:L.default,iconClass:Y.default.audioQualityIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,icon:F.default,iconClass:Y.default.uploadSizeIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_CUSTOMIZATION,icon:j.default,iconClass:Y.default.customizationIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_THREADS,icon:G.default,iconClass:Y.default.threadIcon}].filter(B.isNotNullish),columns:3}),q(N.Text,{
className:Y.default.guildFullFeatures,variant:"text-md/normal"},void 0,V.default.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:H.default.getArticleURL(W.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),q("section",{className:Y.default.guildsSection},void 0,t?q(y.default,{className:Y.default.guildSubscriptionHeading}):null,null==e||0===e.length?a.createElement(a.Fragment,null,q("div",{className:Y.default.emptyGuilds}),q(N.Text,{variant:"text-lg/normal",className:Y.default.emptyGuildsTitle},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE),q(N.Text,{variant:"text-md/normal",className:Y.default.emptyGuildsText},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT)):a.createElement(a.Fragment,null,q(N.Text,{variant:"text-md/normal",className:Y.default.guildsBlurb},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB),q("div",{className:Y.default.guilds
},void 0,e.map((function(e){return q(X,{guild:e},e.id)}))))),q(v.default,{onOpenPremiumClick:function(){x.default.track(W.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:{page:W.AnalyticsPages.USER_SETTINGS,section:W.AnalyticsSections.NITRO_CROSS_PROMO_FROM_BOOSTING,object:W.AnalyticsObjects.BUTTON_CTA}})}}))}var Z=q(M.default,{}),J=q(p.BlockedPaymentsWarning,{}),ee=q(m.default,{}),te=q(Q,{});function ne(){a.useEffect((function(){u.default.wait((function(){l.fetchSubscriptions();l.fetchPaymentSources();(0,s.fetchGuildBoostSlots)();(0,f.fetchPremiumSubscriptionPlans)()}))}),[]);var e=(0,i.useStateFromStores)([O.default],(function(){return O.default.hasFetchedSubscriptions()})),t=(0,c.useSubscriptionPlansLoaded)().hasLoaded,n=(0,i.useStateFromStores)([S.default],(function(){return S.default.hasFetchedPaymentSources})),r=(0,i.useStateFromStores)([E.default],(function(){return E.default.boostSlots}));return e&&t&&n?q("div",{className:Y.default.container},void 0,q("div",{
className:Y.default.background}),q("div",{className:Y.default.content},void 0,Object.keys(r).length>0?a.createElement(a.Fragment,null,q(P.FormTitle,{tag:P.FormTitle.Tags.H1},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE),J,ee):null,te)):q("div",{className:(0,o.default)(Y.default.container,Y.default.loading)},void 0,Z)}ne.displayName="UserSettingsPremiumGuildSubscriptions"},313900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X
;var r,a=W(n(667294)),o=B(n(294184)),i=B(n(441143)),u=B(n(730381)),l=n(536211),s=B(n(190040)),d=n(642230),f=n(825185),c=B(n(226800)),p=B(n(8549)),v=B(n(30098)),y=B(n(728429)),m=B(n(956117)),_=B(n(558402)),h=B(n(530250)),g=B(n(26172)),E=B(n(567668)),S=n(645758),O=B(n(730977)),b=n(688388),I=B(n(588417)),T=B(n(874331)),C=B(n(956303)),A=W(n(37241)),M=W(n(662197)),N=B(n(502197)),P=n(194322),R=B(n(308920)),w=B(n(550270)),D=n(943112),L=n(374699),k=n(894826),j=n(770348),U=B(n(247001)),G=B(n(584397)),F=B(n(380203)),x=["body"];function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function W(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t){V=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V(e,t)}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function z(e){var t=e.body,n=function(e,t){
if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,x),r=Y(S.Text,{variant:"text-md/normal"},void 0,t);(0,P.openModal)((function(e){return a.createElement(N.default,K({},e,n),r)}))}function $(e){var t=e.message;z({header:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:U.default.Messages.OKAY,body:t})}var q=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;V(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleChangeDefaultGuildsRestricted=function(e){n.setState({defaultGuildsRestricted:!e},(function(){return n.showGuildRestrictionModal(!e)}))};n.handleUsageStatisticsChange=function(){!n.props.usageStatistics?(0,d.setConsents)([j.Consents.USAGE_STATISTICS],[]).catch($):z({header:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,
confirmText:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[j.Consents.USAGE_STATISTICS]).catch($)}})};n.handlePersonalizationChange=function(){!n.props.personalization?(0,d.setConsents)([j.Consents.PERSONALIZATION],[]).catch($):z({header:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[j.Consents.PERSONALIZATION]).catch($)},body:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})};n.handleAccessibilityDetectionChange=function(){k.AllowAccessibilityDetection.updateSetting(!n.props.allowAccessibilityDetection)};n.handleDataDownloadRequest=function(){z({header:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,
body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){n.setState({requestingHarvest:!0},(function(){(0,f.requestHarvest)().then((function(e){if(null!=e&&null!=e.body){n.setState({currentHarvestRequest:e.body});s.default.show({body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})}else s.default.show({title:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}),(function(){return s.default.show({title:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})})).finally((function(){return n.setState({requestingHarvest:!1})}))}))}})};var r=t.defaultGuildsRestricted;n.state={defaultGuildsRestricted:r,
currentHarvestRequest:null,requestingHarvest:!0};return n}var n=t.prototype;n.componentDidMount=function(){var e=this;(0,d.fetchConsents)();(0,f.getHarvestStatus)().then((function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)}),(function(){e.setState({requestingHarvest:!1})}))};n.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})};n.showGuildRestrictionModal=function(e){var t=this;z({header:U.default.Messages.USER_DM_SETTINGS_TITLE,body:U.default.Messages.USER_DM_SETTINGS_DESCRIPTION,confirmText:U.default.Messages.NO_TEXT,cancelText:U.default.Messages.YES_TEXT,confirmButtonColor:m.default.Colors.BRAND,onConfirm:function(){k.DefaultGuildsRestricted.updateSetting(e);t.trackDefaulDmsUpdated(e,!1)},onCancel:function(){k.DefaultGuildsRestricted.updateSetting(e);k.RestrictedGuildIds.updateSetting(e?Object.keys(v.default.getGuilds()):[])
;t.trackDefaulDmsUpdated(e,!0)}})};n.trackDefaulDmsUpdated=function(e,t){R.default.track(j.AnalyticEvents.GUILD_DEFAULT_DMS_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};n.renderDMSafety=function(){return Y(C.default,{className:F.default.marginBottom40},void 0,Y(b.FormItem,{tag:M.Tags.H5,className:F.default.marginBottom4,title:U.default.Messages.USER_EXPLICIT_CONTENT_FILTER},void 0,Y(A.default,{type:A.Types.DESCRIPTION,className:F.default.marginBottom8},void 0,U.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),Y(g.default,{value:this.props.explicitContentFilter,options:(0,D.generateDMSafetyOptions)(),onChange:function(e){var t=e.value;return k.ExplicitContentFilter.updateSetting(t)}})))};n.renderServerPrivacy=function(){var e=this.props,t=e.viewNsfwGuilds,n=!0===e.currentUser.nsfwAllowed;return Y(C.default,{className:F.default.marginBottom40},void 0,Y(M.default,{tag:M.Tags.H5,className:F.default.marginBottom8
},void 0,U.default.Messages.USER_DM_SETTINGS),Y(E.default,{className:F.default.marginReset,value:!this.state.defaultGuildsRestricted,note:U.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,U.default.Messages.NEW_GUILDS_DM_ALLOWED),Y(E.default,{className:F.default.marginReset,value:!!n&&t,note:U.default.Messages.NSFW_GUILDS_TOGGLE_CAPTION,disabled:!n,onChange:k.ViewNsfwGuilds.updateSetting},void 0,U.default.Messages.NSFW_GUILDS_TOGGLE_HEADER))};n.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization,r=e.allowAccessibilityDetection;return Y(C.default,{className:F.default.marginBottom40},void 0,Y(M.default,{tag:M.Tags.H5,className:F.default.marginBottom8},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS),Y(E.default,{value:t,note:U.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:w.default.getArticleURL(j.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),
onChange:this.handleUsageStatisticsChange},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),Y(E.default,{value:n,note:U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:w.default.getArticleURL(j.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handlePersonalizationChange},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),Y(E.default,{value:r,note:U.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_NOTE.format({helpdeskArticle:w.default.getArticleURL(j.HelpdeskArticles.ACCESSIBILITY_TRACKING)}),onChange:this.handleAccessibilityDetectionChange},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_TITLE),Y(M.default,{tag:M.Tags.H3,className:(0,o.default)(F.default.marginTop20,F.default.marginBottom8)},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),Y(A.default,{type:A.Types.DESCRIPTION,className:F.default.marginBottom20
},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){c.default.setSection(j.UserSettingsSections.ACCOUNT)}})),this.renderHarvestRequest())};n.renderHarvestRequest=function(){var e,t=this,n=this.props.currentUser,r=this.state,o=r.requestingHarvest,i=r.currentHarvestRequest,l=(0,L.harvestDisabled)(i,n),s=Y(O.default,{text:n.verified?null:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,(function(e){var n=e.onMouseEnter,r=e.onMouseLeave;return Y(m.default,{disabled:l,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:r,look:m.default.Looks.OUTLINED,color:m.default.Colors.BRAND,submitting:o},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD)}));if(l&&null!=i){e=Y(_.default,{className:G.default.card},void 0,Y(S.Text,{variant:"text-md/normal"},void 0,U.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,
u.default)(i.created_at).add(j.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")})));s=null}null!=s&&(s=Y(h.default,{},void 0,s));return Y(a.Fragment,{},void 0,Y(I.default,{className:F.default.marginBottom20}),Y(M.default,{tag:M.Tags.H3},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),Y(A.default,{type:A.Types.DESCRIPTION,className:F.default.marginBottom20},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:w.default.getArticleURL(j.HelpdeskArticles.GDPR_REQUEST_DATA)})),e,s)};n.renderPrivacyAndTermsNote=function(){return Y(C.default,{className:F.default.marginBottom40},void 0,Y(T.default,{type:T.default.Types.PRIMARY,body:U.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:j.MarketingURLs.TERMS,privacyLink:j.MarketingURLs.PRIVACY})}))};n.render=function(){var e=this.props.fetchedConsents;return Y(C.default,{tag:M.Tags.H1,title:U.default.Messages.PRIVACY_AND_SAFETY
},void 0,this.renderDMSafety(),this.renderServerPrivacy(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())};return t}(a.PureComponent);q.displayName="UserSettingsPrivacySafety";function X(){var e=(0,l.useStateFromStores)([y.default],(function(){var e=y.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserSettingsPrivacySafety: currentUser cannot be undefined");return e})),t=(0,l.useStateFromStoresObject)([p.default],(function(){return{fetchedConsents:p.default.fetchedConsents,usageStatistics:p.default.hasConsented(j.Consents.USAGE_STATISTICS),personalization:p.default.hasConsented(j.Consents.PERSONALIZATION)}}));return a.createElement(q,K({currentUser:e,defaultGuildsRestricted:k.DefaultGuildsRestricted.useSetting(),viewNsfwGuilds:k.ViewNsfwGuilds.useSetting(),allowAccessibilityDetection:k.AllowAccessibilityDetection.useSetting(),explicitContentFilter:k.ExplicitContentFilter.useSetting(),showCurrentGame:k.ShowCurrentGame.useSetting()},t))}
X.displayName="ConnectedUserSettingsPrivacySafety"},385831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(294184)),i=n(536211),u=n(923387),l=T(n(524791)),s=n(51108),d=n(79030),f=n(203847),c=T(n(663303)),p=T(n(956117)),v=T(n(16941)),y=T(n(80828)),m=n(645758),_=n(688388),h=T(n(259530)),g=T(n(499693)),E=T(n(68259)),S=n(71246),O=n(583551),b=T(n(247001)),I=T(n(811179));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=A(l.default,{}),R=A(y.default,{});function w(){var e,t=(0,d.useAuthSessions)(),n=t.currentSession,r=t.otherSessions,o=(0,i.useStateFromStores)([c.default],(function(){return c.default.hidePersonalInformation})),l=M(a.useState(!1),2),v=l[0],y=l[1];a.useEffect((function(){(0,f.markDismissibleContentAsDismissed)(u.DismissibleContent.AUTH_SESSIONS_NEW,{dismissAction:O.ContentDismissActionType.AUTO});(0,s.fetchAuthSessions)();var e=setTimeout((function(){return y(!0)
}),500);return function(){clearTimeout(e);(0,s.clearAuthSessions)()}}),[]);if(o)return P;e=null==n&&0===r.length?v?A("div",{className:I.default.loading},void 0,R):null:a.createElement(a.Fragment,null,A("div",{className:I.default.sessions},void 0,A(_.FormSection,{tag:_.FormTitleTags.H5,title:b.default.Messages.AUTH_SESSIONS_CURRENT,titleClassName:I.default.groupTitle},void 0,null!=n?A(j,{session:n,current:!0}):null),r.length>0?A(_.FormSection,{tag:_.FormTitleTags.H5,title:b.default.Messages.AUTH_SESSIONS_OTHERS,titleClassName:I.default.groupTitle,className:I.default.otherSessions},void 0,r.map((function(e){return A(j,{session:e},e.id_hash)}))):null),r.length>0?A(_.FormSection,{tag:_.FormTitleTags.H5,title:b.default.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_TITLE},void 0,A(_.FormText,{type:_.FormTextTypes.DESCRIPTION},void 0,b.default.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_DESCRIPTION),A(p.default,{look:p.default.Looks.OUTLINED,color:p.default.Colors.RED,size:p.default.Sizes.SMALL,
className:I.default.logOutAllButton,onClick:function(){return(0,s.logOutSessions)(r.map((function(e){return e.id_hash})))}},void 0,b.default.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_ACTION)):null);return A(_.FormSection,{tag:_.FormTitleTags.H1,title:b.default.Messages.AUTH_SESSIONS},void 0,A(_.FormText,{type:_.FormTextTypes.DESCRIPTION,className:I.default.description},void 0,b.default.Messages.AUTH_SESSIONS_DESCRIPTION),e)}w.displayName="UserSettingsSessions";var D=A("span",{},void 0,"·"),L=A("span",{},void 0,"·"),k=A(h.default,{});function j(e){var t,n,r,i=e.session,u=e.current,l=null===(t=i.client_info)||void 0===t?void 0:t.ip,f=null===(n=i.client_info)||void 0===n?void 0:n.platform,c=function(e){switch(null==e?void 0:e.toLowerCase().trim()){case null:case void 0:case"":return{text:b.default.Messages.AUTH_SESSIONS_OS_UNKNOWN,icon:E.default};case"ios":case"android":return{text:e,icon:g.default};default:return{text:e,icon:E.default}}
}(null===(r=i.client_info)||void 0===r?void 0:r.os),p=c.text,y=c.icon,_=u?null:(0,d.formatDate)(i.approx_last_used_time),h=[p,f].filter(S.isNotNullish),O=[l,_].filter(S.isNotNullish);return A("div",{className:(0,o.default)(I.default.session,u?I.default.currentSesssion:null)},i.id_hash,A("div",{className:I.default.sessionIcon},void 0,A(y,{width:"32",height:"32"})),A("div",{className:I.default.sessionInfo},void 0,A(m.Text,{variant:"eyebrow",className:I.default.sessionInfoRow},void 0,A("span",{},void 0,h[0]),h.length>1&&a.createElement(a.Fragment,null,D,A("span",{},void 0,h[1]))),A(m.Text,{variant:"text-sm/medium",className:I.default.sessionInfoRow},void 0,A("span",{},void 0,O[0]),O.length>1&&a.createElement(a.Fragment,null,L,A("span",{},void 0,O[1])))),u?null:A(v.default,{className:I.default.sessionMoreButton,onClick:function(){return(0,s.logOutSessions)(i.id_hash)},"aria-label":b.default.Messages.AUTH_SESSIONS_SESSION_LOG_OUT},void 0,k))}j.displayName="SessionInfo"},394163:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(536211)),u=h(n(105988)),l=h(n(226800)),s=h(n(663303)),d=h(n(871778)),f=h(n(567668)),c=n(688388),p=n(864489),v=n(770348),y=h(n(247001)),m=h(n(328451)),_=h(n(380203));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderNotice=function(){return S(c.FormNotice,{className:_.default.marginBottom40,iconClassName:m.default.noticeIcon,type:c.FormNoticeTypes.PRIMARY,imageData:{
src:n(566300),width:184,height:110,position:c.FormNoticeImagePositions.RIGHT},title:y.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:y.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:v.MarketingURLs.STREAMKIT})})};r.renderAutoToggle=function(){if(p.isPlatformEmbedded)return S(f.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:y.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,y.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)};r.render=function(){return S(c.FormSection,{className:m.default.container,tag:c.FormTitleTags.H1,title:y.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),S(f.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:y.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,y.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),S(c.FormTitle,{className:(0,
o.default)(_.default.marginTop40,_.default.marginBottom8)},void 0,y.default.Messages.OPTIONS),S(f.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:y.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,y.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),S(f.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:y.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,y.default.Messages.HIDE_INSTANT_INVITES_LABEL),S(f.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:y.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,y.default.Messages.DISABLE_SOUNDS_LABEL),S(f.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:y.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,y.default.Messages.DISABLE_NOTIFICATIONS_LABEL))}
;r.handleChange=function(e,t){var n;u.default.update(((n={})[e]=t,n))};r.handleGotoKeybinds=function(){l.default.setSection(v.UserSettingsSections.KEYBINDS)};return t}(a.PureComponent);b.displayName="UserSettingsModalStreamerMode";var I=i.default.connectStores([d.default,s.default],(function(){return E({},s.default.getSettings(),{theme:d.default.theme})}))(b);t.default=I},332798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;S(n(667294));var r,a=g(n(294184)),o=g(n(954140)),i=g(n(37039)),u=g(n(268389)),l=g(n(26172)),s=g(n(567668)),d=g(n(510596)),f=g(n(956303)),c=g(n(37241)),p=S(n(662197)),v=g(n(308920)),y=n(894826),m=n(770348),_=g(n(247001)),h=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){
var e=y.ExpressionSuggestionsEnabled.useSetting(),t=y.UseRichChatTextBox.useSetting(),n=y.RenderSpoilers.useSetting(),r=y.UseThreadSidebar.useSetting(),g=y.ViewImageDescriptions.useSetting(),E=y.ConvertEmoticons.useSetting(),S=y.InlineAttachmentMedia.useSetting(),b=y.InlineEmbedMedia.useSetting(),I=y.RenderEmbeds.useSetting(),T=y.RenderReactions.useSetting(),C=(0,i.default)(o.default.TEXT_AND_IMAGES).analyticsLocations;return O(f.default,{tag:p.Tags.H1,title:_.default.Messages.TEXT_AND_IMAGES},void 0,O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.INLINE_MEDIA_LABEL),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:b,onChange:y.InlineEmbedMedia.updateSetting},void 0,_.default.Messages.INLINE_EMBED_MEDIA),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:S,note:_.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:y.InlineAttachmentMedia.updateSetting
},void 0,_.default.Messages.INLINE_ATTACHMENT_MEDIA),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:g,note:_.default.Messages.IMAGE_DESCRIPTION_HELP,onChange:y.ViewImageDescriptions.updateSetting},void 0,_.default.Messages.USER_SETTINGS_IMAGE_DESCRIPTIONS),O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.RENDER_EMBEDS_LABEL),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom40),value:I,onChange:y.RenderEmbeds.updateSetting},void 0,_.default.Messages.RENDER_EMBEDS),O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.EMOJI),O(s.default,{className:(0,a.default)(h.default.marginTop8,h.default.marginBottom20),value:T,onChange:y.RenderReactions.updateSetting},void 0,_.default.Messages.RENDER_REACTIONS),O(s.default,{className:h.default.marginBottom40,value:E,note:u.default.parse(_.default.Messages.CONVERT_EMOTICONS_HELP),onChange:y.ConvertEmoticons.updateSetting
},void 0,_.default.Messages.CONVERT_EMOTICONS),O(d.default,{className:h.default.marginBottom20,title:_.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,O(s.default,{className:(0,a.default)(h.default.marginTop20,h.default.marginBottom20),value:e,note:_.default.Messages.AUTO_SUGGEST_STICKERS_DESCRIPTION,onChange:function(t){v.default.track(m.AnalyticEvents.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!e,location:{section:m.AnalyticsSections.SETTINGS_TEXT_AND_IMAGES},location_stack:C});y.ExpressionSuggestionsEnabled.updateSetting(!e)}},void 0,_.default.Messages.AUTO_SUGGEST_STICKERS)),O(f.default,{className:h.default.marginBottom8},void 0,O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.FORM_LABEL_USE_RICH_CHAT_BOX),O(s.default,{className:h.default.marginTop8,value:t,onChange:function(e){v.default.track(m.AnalyticEvents.RICH_CHAT_TEXT_BOX_TOGGLED,{is_enabled:e});y.UseRichChatTextBox.updateSetting(e)}
},void 0,_.default.Messages.USE_RICH_CHAT_BOX_DESCRIPTION)),O(f.default,{className:h.default.marginBottom40},void 0,O(p.default,{className:h.default.marginBottom8},void 0,_.default.Messages.THREADS),O(s.default,{className:h.default.marginTop8,value:r,onChange:y.UseThreadSidebar.updateSetting},void 0,_.default.Messages.USE_THREADS_SIDEBAR_DESCRIPTION)),O(d.default,{title:_.default.Messages.SHOW_SPOILER_CONTENT},void 0,O(c.default,{type:c.default.Types.DESCRIPTION,className:h.default.marginBottom8},void 0,_.default.Messages.SHOW_SPOILER_CONTENT_HELP),O(l.default,{options:[{name:_.default.Messages.SHOW_SPOILER_ON_CLICK,value:m.SpoilerRenderSetting.ON_CLICK},{name:_.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:m.SpoilerRenderSetting.IF_MODERATOR},{name:_.default.Messages.SHOW_SPOILER_ALWAYS,value:m.SpoilerRenderSetting.ALWAYS}],onChange:function(e){return y.RenderSpoilers.updateSetting(e.value)},value:n})))}b.displayName="UserSettingsTextImages"},811030:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=Ie;var r,a=ue(n(667294)),o=oe(n(294184)),i=oe(n(496486)),u=ue(n(536211)),l=n(601759),s=n(91817),d=oe(n(740207)),f=ue(n(361983)),c=oe(n(226800)),p=ue(n(712283)),v=oe(n(372936)),y=oe(n(88509)),m=n(646002),_=oe(n(387316)),h=oe(n(529600)),g=oe(n(9056)),E=oe(n(635014)),S=oe(n(99462)),O=oe(n(397228)),b=oe(n(871778)),I=oe(n(728429)),T=oe(n(151097)),C=oe(n(956117)),A=n(558402),M=oe(n(530250)),N=oe(n(26172)),P=oe(n(118777)),R=oe(n(565281)),w=oe(n(567668)),D=n(645758),L=n(354479),k=oe(n(588417)),j=oe(n(510596)),U=ue(n(874331)),G=oe(n(956303)),F=oe(n(37241)),x=ue(n(662197)),B=oe(n(502197)),H=n(194322),W=n(967965),V=oe(n(308920)),Y=oe(n(165551)),K=oe(n(550270)),z=n(758956),$=n(864489),q=oe(n(922629)),X=n(894826),Q=oe(n(629598)),Z=n(770348),J=n(376293),ee=oe(n(247001)),te=oe(n(819887)),ne=oe(n(3066)),re=oe(n(380203)),ae=oe(n(73432));function oe(e){return e&&e.__esModule?e:{default:e}}function ie(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(ie=function(e){return e?n:t})(e)}function ue(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function le(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){le(o,r,a,i,u,"next",e)}function u(e){le(o,r,a,i,u,"throw",e)}i(void 0)}))}}function de(){de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return de.apply(this,arguments)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function pe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ve(e,t)}function ve(e,t){ve=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ve(e,t)}var ye=(0,L.uid)(),me=(0,L.uid)(),_e=(0,L.uid)(),he=(0,L.uid)(),ge=(0,L.uid)(),Ee=ce("div",{className:"grow"}),Se=function(e){pe(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._timeout=new s.Timeout;t.state={volume:-100,speaking:!1};t.setupVoiceActivity=function(){E.default.getMediaEngine().on(l.MediaEngineEvent.VoiceActivity,t.handleVoiceActivity);t._timeout.stop()};t.handleVoiceActivity=function(e,n){t.setState({volume:e,speaking:(n&J.SpeakingFlags.VOICE)===J.SpeakingFlags.VOICE})};t.handleAutoThresholdChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.threshold;null==r||r(a,e)};t.handleSensitivityChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.auto;null==r||r(-1*(100-e),a)};return t}var n=t.prototype;n.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){E.default.getMediaEngine().removeListener(l.MediaEngineEvent.VoiceActivity,this.handleVoiceActivity);this._timeout.stop()};n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"}
;n.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if(E.default.supports(J.Features.AUTOMATIC_VAD))return ce(L.UID,{},void 0,(function(n){return ce("div",{className:(0,o.default)(ne.default.horizontal,re.default.marginBottom4)},void 0,ce(x.default,{tag:x.Tags.H3,className:re.default.marginReset},void 0,ce("label",{htmlFor:n},void 0,ee.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),ce(R.default,{id:n,checked:t,onChange:e.handleAutoThresholdChange}))}))};n.renderSlider=function(){var e=this.props,t=e.auto,n=e.threshold,r=this.state.speaking;if(t){var a;return ce("section",{className:te.default.inputSensitivityToggle},void 0,ce("div",{className:ae.default.slider},void 0,ce("div",{className:(0,o.default)(ae.default.bar,te.default.sliderBar,(a={},a[te.default.speaking]=r||this.state.speaking,a))})),ce(F.default,{type:F.default.Types.DESCRIPTION,className:re.default.marginBottom8},void 0,ee.default.Messages.FORM_HELP_AUTOMATIC_VAD))}return ce("section",{className:(0,
o.default)(te.default.inputSensitivityToggle,te.default.manual)},void 0,ce(P.default,{initialValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:Z.Colors.STATUS_GREEN_600},fillStyles:{background:Z.Colors.STATUS_YELLOW_500},"aria-labelledby":ye},void 0,ce("div",{className:(0,o.default)(te.default.sliderBar,te.default.microphone,ae.default.bar)},void 0,ce("div",{className:(0,o.default)(te.default.fill,ae.default.barFill),style:{width:this.state.volume+100+"%"}}),Ee)))};n.renderInputDisabledWarning=function(){if(!E.default.isEnabled())return ce(F.default,{type:F.default.Types.DESCRIPTION,className:(0,o.default)(te.default.inputDisabledWarning,re.default.marginBottom8)},void 0,ee.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:d.default.enable}))};n.render=function(){return ce(j.default,{className:te.default.sensitivity},void 0,ce(x.default,{id:ye,tag:x.Tags.H5,className:re.default.marginBottom8
},void 0,ee.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),ce("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())};return t}(a.PureComponent);Se.displayName="VoiceSensitivity";var Oe=u.default.connectStores([O.default],(function(){return{speaking:O.default.isCurrentUserSpeaking()}}))(Se),be=function(e){pe(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={showCamera:!1,disableDebugUpload:!1};t.handleInputModeChange=function(e){var n=e.value;n===Z.InputModes.PUSH_TO_TALK&&t.props.usePTTLimited&&(0,H.openModal)((function(e){return a.createElement(y.default,de({title:ee.default.Messages.PTT_LIMITED_TITLE,confirmText:ee.default.Messages.DOWNLOAD,cancelText:ee.default.Messages.OKAY,onConfirm:t.handleDownload.bind(fe(t),"PTT Limited Modal"),body:ee.default.Messages.PTT_LIMITED_BODY},e))}));d.default.setMode(n)};t.handleDelayChange=function(e){
d.default.setMode(t.props.inputMode,{delay:e})};t.handleThresholdChange=function(e,n){d.default.setMode(t.props.inputMode,{threshold:e,autoThreshold:n})};t.handleAdvancedVoiceActivityChange=function(e){d.default.setMode(t.props.inputMode,{vadUseKrisp:e})};t.handleHardwareH264Change=function(e){d.default.setHardwareH264(e)};t.handleDebugLoggingChange=function(e){(0,H.openModal)((function(t){return a.createElement(B.default,de({header:ee.default.Messages.SET_DEBUG_LOGGING,confirmText:ee.default.Messages.OKAY,cancelText:ee.default.Messages.CANCEL,onCancel:t.onClose,onConfirm:function(){return d.default.setDebugLogging(e)}},t),ce(D.Text,{variant:"text-md/normal"},void 0,ee.default.Messages.SET_DEBUG_LOGGING_BODY))}))};t.handleAecDumpChange=function(e){d.default.setAecDump(e)};t.handleAttenuationChange=function(e){d.default.setAttenuation(e,t.props.attenuateWhileSpeakingSelf,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateSelfChanged=function(e){
d.default.setAttenuation(t.props.attenuation,e,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateOthersChanged=function(e){var n=t.props,r=n.attenuation,a=n.attenuateWhileSpeakingSelf;d.default.setAttenuation(r,a,e)};t.handleShortcutChange=function(e){d.default.setMode(t.props.inputMode,{shortcut:e})};t.handleShowCamera=function(){t.setState({showCamera:!0})};t.handleShowVoiceModuleFolder=se(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return _.default.fileManager.getModulePath();case 2:t=e.sent;n=_.default.fileManager.join(t,"discord_voice");_.default.fileManager.showItemInFolder(n);case 5:case"end":return e.stop()}}),e)})));t.handleUploadDebugFiles=function(){t.setState({disableDebugUpload:!0});E.default.getMediaEngine().writeAudioDebugState().finally((function(){return Y.default.submitLiveCrashReport({message:{message:"User Live Dump"}})})).finally((function(){return(0,
m.uploadDebugFiles)().then((function(){return(0,H.openModal)((function(e){return a.createElement(B.default,de({header:ee.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,confirmButtonColor:C.default.Colors.BRAND,confirmText:ee.default.Messages.OKAY},e),ce(D.Text,{variant:"text-md/normal"},void 0,ee.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS))}))})).catch((function(e){return(0,H.openModal)((function(t){return a.createElement(B.default,de({header:ee.default.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER,confirmButtonColor:C.default.Colors.BRAND,confirmText:ee.default.Messages.OKAY},t),ce(D.Text,{variant:"text-md/normal"},void 0,e.displayMessage))}))})).finally((function(){t.setState({disableDebugUpload:!1})}))}))};t.handleConnectionLogChange=function(e){f.setShouldRecordNextConnection(e)};t.handleOpenConnectionReplay=function(){f.openReplay()};t.handleOpenH264Change=function(e){d.default.setOpenH264(e);d.default.setHardwareH264(e)};t.handleEnableSoundshare=function(){
d.default.enableSoundshare()};t.renderDeviceValue=function(e){return t.renderDevice(e[0])};t.renderDevice=function(e){var r,a=e.label,o=e.value;if(g.default.isCertified(o)){r=ce("img",{src:t.props.theme===Z.ThemeTypes.LIGHT?n(956863):n(874638),alt:"Certified",className:te.default.deviceOptionCertified})}return ce("span",{className:te.default.deviceOption},o,ce("span",{className:te.default.deviceOptionLabel},void 0,g.default.getCertifiedDeviceName(o,a)),r)};t.handleKrispLinkClick=function(e){var t=e.currentTarget;V.default.track(Z.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{page:Z.AnalyticsPages.USER_SETTINGS,section:Z.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})};return t}var r=t.prototype;r.handleInputDeviceChange=function(e){d.default.setInputDevice(e,"Settings")};r.handleOutputDeviceChange=function(e){d.default.setOutputDevice(e,"Settings")};r.handleDownload=function(e){(0,H.openModal)((function(t){return a.createElement(h.default,de({source:e
},t))}))};r.handleInputVolumeChange=function(e){d.default.setInputVolume((0,z.perceptualToAmplitude)(e))};r.handleOutputVolumeChange=function(e){d.default.setOutputVolume((0,z.perceptualToAmplitude)(e))};r.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"};r.handleVideoDeviceChange=function(e){d.default.setVideoDevice(e,Z.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO)};r.handleNoiseSuppressionChange=function(e){d.default.setNoiseSuppression(e,{page:Z.AnalyticsPages.USER_SETTINGS,section:Z.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleNoiseCancellationChange=function(e){d.default.setNoiseCancellation(e,{page:Z.AnalyticsPages.USER_SETTINGS,section:Z.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleEchoCancellationChange=function(e){d.default.setEchoCancellation(e,{page:Z.AnalyticsPages.USER_SETTINGS,section:Z.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleAutomaticGainControlChange=function(e){
d.default.setAutomaticGainControl(e,{page:Z.AnalyticsPages.USER_SETTINGS,section:Z.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};r.handleExperimentalEncodersChange=function(e){d.default.setExperimentalEncoders(e)};r.handleSilenceWarningChange=function(e){d.default.setSilenceWarning(e)};r.handleVideoHookChange=function(e){d.default.setVideoHook(e)};r.handleGraphicsCaptureChange=function(e){d.default.setGraphicsCapture(e);e&&d.default.setVideoHook(!1)};r.handleExperimentalSoundshareChange=function(e){d.default.setExperimentalSoundshare(e)};r.handleQoSChanged=function(e){d.default.setQoS(e)};r.handleVoiceReset=function(){(0,H.openModal)((function(e){return a.createElement(B.default,de({header:ee.default.Messages.RESET_VOICE_SETTINGS,confirmText:ee.default.Messages.OKAY,cancelText:ee.default.Messages.CANCEL,onConfirm:d.default.reset},e),ce(D.Text,{variant:"text-md/normal"},void 0,ee.default.Messages.RESET_VOICE_SETTINGS_BODY))}))};r.handleAudioSubsystemChanged=function(e){(0,
H.openModal)((function(t){return a.createElement(B.default,de({header:ee.default.Messages.SWITCH_SUBSYSTEM,confirmText:ee.default.Messages.OKAY,cancelText:ee.default.Messages.CANCEL,onConfirm:function(){return d.default.setAudioSubsystem(e)}},t),ce(D.Text,{variant:"text-md/normal"},void 0,ee.default.Messages.SWITCH_SUBSYSTEM_BODY))}))};r.renderDevices=function(){var e,t,n=this.props,r=n.inputDevices,a=n.inputDeviceId,o=n.outputDeviceId,u=n.outputDevices,l=n.canSetInputDevice,s=n.canSetOutputDevice;l||(e=ce(F.default,{type:F.default.Types.DESCRIPTION,className:re.default.marginTop8},void 0,ee.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));s||(t=ce(F.default,{type:F.default.Types.DESCRIPTION,className:re.default.marginTop8},void 0,ee.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,
i.default)(r).values().first(),f=null!=d?d.disabled:null!=e,c=(0,i.default)(u).values().first(),p=null!=c?c.disabled:null!=t;return ce(M.default,{className:re.default.marginBottom20},void 0,ce(M.default.Child,{basis:"50%"},void 0,ce(x.default,{tag:x.Tags.H5,className:re.default.marginBottom8},void 0,ee.default.Messages.FORM_LABEL_INPUT_DEVICE),ce(W.SingleSelect,{value:a,onChange:this.handleInputDeviceChange,options:i.default.map(r,(function(e){return{value:e.id,label:e.name}})),isDisabled:f,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),e),ce(M.default.Child,{basis:"50%"},void 0,ce(x.default,{tag:x.Tags.H5,className:re.default.marginBottom8},void 0,ee.default.Messages.FORM_LABEL_OUTPUT_DEVICE),ce(W.SingleSelect,{value:o,onChange:this.handleOutputDeviceChange,options:i.default.map(u,(function(e){return{value:e.id,label:e.name}})),isDisabled:p,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),t))}
;r.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return ce(M.default,{className:"volume"},void 0,ce(M.default.Child,{basis:"50%"},void 0,ce(x.default,{id:me,tag:x.Tags.H5,className:re.default.marginBottom4},void 0,ee.default.Messages.FORM_LABEL_INPUT_VOLUME),ce(P.default,{initialValue:(0,z.amplitudeToPerceptual)(t),asValueChanges:this.handleInputVolumeChange,"aria-labelledby":me})),ce(M.default.Child,{basis:"50%"},void 0,ce(x.default,{id:_e,tag:x.Tags.H5,className:re.default.marginBottom4},void 0,ee.default.Messages.FORM_LABEL_OUTPUT_VOLUME),ce(P.default,{initialValue:(0,z.amplitudeToPerceptual)(n),maxValue:200,onValueRender:function(e){return e.toFixed(0)+"%"},asValueChanges:this.handleOutputVolumeChange,"aria-labelledby":_e})))};r.renderMicTest=function(){return E.default.supports(J.Features.LOOPBACK)?ce("div",{className:te.default.micTest},void 0,ce(p.default,{title:ee.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE,
description:ee.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION,notchBackground:p.NotchBackground.GRAY,captionVoice:ee.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION,captionNoVoice:a.createElement(a.Fragment,null,ee.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,ce(T.default,{className:te.default.micTestHelpLink,href:K.default.getArticleURL(Z.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ee.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT)),buttonTest:ee.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE,buttonStop:ee.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE,buttonClassName:te.default.micTestButton,buttonColor:C.default.Colors.BRAND,location:{page:Z.AnalyticsPages.USER_SETTINGS,section:Z.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})):null};r.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,r=[{value:Z.InputModes.VOICE_ACTIVITY,name:ee.default.Messages.INPUT_MODE_VAD},{
value:Z.InputModes.PUSH_TO_TALK,name:t?ee.default.Messages.INPUT_MODE_PTT_LIMITED:ee.default.Messages.INPUT_MODE_PTT}];return ce(j.default,{title:ee.default.Messages.FORM_LABEL_INPUT_MODE,className:re.default.marginBottom20},void 0,ce(N.default,{onChange:this.handleInputModeChange,options:r,value:n}))};r.renderPTTTools=function(){var e,t=this.props,n=t.inputMode,r=t.delay,a=t.shortcut;if(n!==Z.InputModes.PUSH_TO_TALK)return null;e=$.isPlatformEmbedded||n!==Z.InputModes.PUSH_TO_TALK?ce(F.default,{type:F.default.Types.DESCRIPTION,className:(0,o.default)(te.default.pttToolsMessage,re.default.marginBottom8)},void 0,ee.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return c.default.setSection(Z.UserSettingsSections.KEYBINDS)}})):ce(F.default,{type:F.default.Types.DESCRIPTION,className:(0,o.default)(te.default.pttToolsMessage,te.default.pttToolsWarning,re.default.marginBottom8)},void 0,ee.default.Messages.PTT_LIMITED_WARNING.format({
onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")}));return ce("div",{className:te.default.pttTools},void 0,ce(M.default,{},void 0,ce(M.default.Child,{basis:"50%"},void 0,ce(j.default,{title:ee.default.Messages.FORM_LABEL_SHORTCUT},void 0,ce(v.default,{defaultValue:a,onChange:this.handleShortcutChange}))),ce(M.default.Child,{basis:"50%"},void 0,ce(j.default,{},void 0,ce(x.default,{id:he,tag:x.Tags.H5,className:re.default.marginBottom8},void 0,ee.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY),ce(P.default,{initialValue:r,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:Z.MAX_PTT_RELEASE_DELAY,"aria-labelledby":he})))),e)};r.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,r=e.vadAutoThreshold;return t!==Z.InputModes.VOICE_ACTIVITY?null:ce(Oe,{inputMode:t,threshold:n,auto:r,onThresholdChange:this.handleThresholdChange})};r.renderVideoWarnings=function(){return ce(U.default,{type:A.Types.PRIMARY,
title:ee.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:ee.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:ce(C.default,{size:C.default.Sizes.SMALL,className:re.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,ee.default.Messages.DOWNLOAD_APP)})};r.renderNoiseCancellation=function(){var e=this.props,t=e.theme,r=e.noiseCancellation;if(e.noiseCancellationSupported){var a;a=t===Z.ThemeTypes.LIGHT?n(235920):n(200824);return ce(G.default,{className:re.default.marginBottom20},void 0,ce(w.default,{className:(0,o.default)(re.default.marginTop8,re.default.marginBottom20),value:r,hideBorder:!0,onChange:this.handleNoiseCancellationChange,note:ee.default.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION},void 0,ee.default.Messages.USER_SETTINGS_NOISE_CANCELLATION),ce(U.default,{className:re.default.marginBottom20,type:U.Types.PRIMARY,imageData:{src:a,width:70,height:40},align:M.default.Align.CENTER,body:ce(T.default,{
href:K.default.getArticleURL(Z.HelpdeskArticles.NOISE_SUPPRESSION),onClick:this.handleKrispLinkClick},void 0,ee.default.Messages.LEARN_MORE)}))}};r.renderCodec=function(){var e;e=this.props.theme===Z.ThemeTypes.LIGHT?n(396448):n(680664);return ce(G.default,{className:re.default.marginBottom20,title:ee.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE},void 0,ce(U.default,{className:re.default.marginBottom20,type:U.Types.PRIMARY,imageData:{src:e,width:70,height:40},align:M.default.Align.CENTER,body:ee.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION}))};r.renderVideoCodec=function(){if(!E.default.supports(J.Features.OPEN_H264))return null;var e,t=this.props,n=t.openH264,r=t.experimentalEncoders,a=t.hardwareH264;"stable"!==q.default.releaseChannel&&E.default.isExperimentalEncodersSupported()&&(e=ce(w.default,{className:(0,o.default)(re.default.marginTop8,re.default.marginBottom20),value:r,onChange:this.handleExperimentalEncodersChange,disabled:!1
},void 0,ee.default.Messages.EXPERIMENTAL_ENCODERS));return ce(G.default,{className:re.default.marginBottom20,title:ee.default.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE},void 0,ce(w.default,{className:(0,o.default)(re.default.marginTop8,re.default.marginBottom20),value:n,onChange:this.handleOpenH264Change,disabled:!1,note:ee.default.Messages.FORM_HELP_OPEN_H264},void 0,ee.default.Messages.USER_SETTINGS_VOICE_OPEN_H264),ce(w.default,{className:(0,o.default)(re.default.marginTop8,re.default.marginBottom20),value:a,onChange:this.handleHardwareH264Change,disabled:!n,note:ee.default.Messages.FORM_HELP_HARDWARE_H264},void 0,ee.default.Messages.USER_SETTINGS_VOICE_HARDWARE_H264),e)};r.renderVoiceProcessing=function(){if(!E.default.supports(J.Features.VOICE_PROCESSING))return null
;var e,t,n=this.props,r=n.noiseSuppression,a=n.echoCancellation,i=n.automaticGainControl,u=n.inputDeviceId,l=n.noiseCancellation,s=n.vadUseKrisp,d=n.inputMode,f=n.vadAutoThreshold,c=n.advancedVoiceActivitySupported,p=g.default.hasEchoCancellation(u),v=g.default.hasNoiseSuppression(u),y=g.default.hasAutomaticGainControl(u);(p||p||y)&&(e=ce(F.default,{className:re.default.marginBottom20,type:F.default.Types.DESCRIPTION},void 0,ee.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING));if(c){var m=d===Z.InputModes.VOICE_ACTIVITY&&f;t=ce(w.default,{value:s,onChange:this.handleAdvancedVoiceActivityChange,note:ee.default.Messages.USER_SETTINGS_DISABLE_ADVANCED_VOICE_ACTIVITY,disabled:!m},void 0,ee.default.Messages.ADVANCED_VOICE_ACTIVITY)}return ce(G.default,{className:re.default.marginBottom20,title:ee.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,e,ce(w.default,{className:(0,o.default)(re.default.marginTop8,re.default.marginBottom20),value:a,
onChange:this.handleEchoCancellationChange,disabled:p},void 0,ee.default.Messages.ECHO_CANCELLATION),ce(w.default,{value:r,onChange:this.handleNoiseSuppressionChange,note:l&&ee.default.Messages.USER_SETTINGS_DISABLE_NOISE_SUPPRESSION,disabled:v||l},void 0,ee.default.Messages.NOISE_SUPPRESSION),t,ce(w.default,{className:"",value:i,onChange:this.handleAutomaticGainControlChange,disabled:y},void 0,ee.default.Messages.AUTOMATIC_GAIN_CONTROL))};r.renderQoS=function(){if(!E.default.supports(J.Features.QOS))return null;var e=this.props.qosEnabled;return ce(G.default,{className:re.default.marginBottom20,title:ee.default.Messages.FORM_LABEL_QOS},void 0,ce(w.default,{className:"",value:e,onChange:this.handleQoSChanged,note:ee.default.Messages.FORM_HELP_QOS},void 0,ee.default.Messages.FORM_CHECKBOX_QOS))};r.renderAttenutation=function(){if(!E.default.supports(J.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,r=e.attenuateWhileSpeakingOthers
;return ce(G.default,{className:re.default.marginBottom20},void 0,ce(x.default,{id:ge,tag:x.Tags.H5,className:re.default.marginBottom8},void 0,ee.default.Messages.FORM_LABEL_ATTENUATION),ce(P.default,{initialValue:t,onValueChange:this.handleAttenuationChange,"aria-labelledby":ge}),ce(F.default,{className:re.default.marginBottom20,type:F.default.Types.DESCRIPTION},void 0,ee.default.Messages.FORM_HELP_ATTENUATION),ce(k.default,{className:re.default.marginBottom20}),ce(w.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,ee.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),ce(w.default,{className:"",value:r,onChange:this.handleAttenuateOthersChanged},void 0,ee.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))};r.renderAudioSubsystem=function(){if(!E.default.supports(J.Features.LEGACY_AUDIO_SUBSYSTEM)&&!E.default.supports(J.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:J.AudioSubsystems.STANDARD,label:"Standard"}]
;E.default.supports(J.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:J.AudioSubsystems.LEGACY,label:"Legacy"});E.default.supports(J.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:J.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props.audioSubsystem;return ce(G.default,{className:re.default.marginBottom20,title:ee.default.Messages.FORM_LABEL_SUBSYSTEM},void 0,ce(W.SingleSelect,{className:re.default.marginBottom20,value:t,options:e,onChange:this.handleAudioSubsystemChanged}),ce(k.default,{className:re.default.marginBottom20}))};r.renderScreenshare=function(){if(!$.isPlatformEmbedded)return null;var e,t,n,r,a=this.props,o=a.videoHook,i=a.graphicsCapture,u=a.experimentalSoundshare,l=a.soundshareEnabled;E.default.supports(J.Features.VIDEO_HOOK)&&(e=ce(w.default,{value:o,onChange:this.handleVideoHookChange,disabled:i},void 0,ee.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL));E.default.supportsGraphicsCapture()&&(t=ce(w.default,{value:i,
onChange:this.handleGraphicsCaptureChange},void 0,ee.default.Messages.USER_SETTINGS_VOICE_GRAPHICS_CAPTURE_LABEL));E.default.supportsExperimentalSoundshare()&&(n=ce(w.default,{value:u,onChange:this.handleExperimentalSoundshareChange},void 0,ee.default.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL));if(E.default.supportsEnableSoundshare()){var s=ee.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_NOT_ENABLED_LABEL;l===Z.SoundshareEnableState.ENABLING?s=ee.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLING_LABEL:l===Z.SoundshareEnableState.ENABLED?s=ee.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLED_LABEL:l===Z.SoundshareEnableState.FAILED_TO_ENABLE&&(s=ee.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_FAILED_TO_ENABLE_LABEL);r=ce(j.default,{},void 0,ce(F.default,{className:re.default.marginBottom20},void 0,s.format({helpdeskArticle:K.default.getArticleURL(Z.HelpdeskArticles.OSX_SOUNDSHARE)})),ce(M.default,{},void 0,ce(M.default.Child,{grow:0,shrink:0
},void 0,ce(C.default,{className:re.default.marginBottom20,size:C.default.Sizes.SMALL,onClick:this.handleEnableSoundshare,disabled:l!==Z.SoundshareEnableState.NOT_ENABLED},void 0,ee.default.Messages.USER_SETTINGS_VOICE_INSTALL_LABEL))),ce(k.default,{className:re.default.marginBottom20}))}return null==e&&null==t&&null==n&&null==r?null:ce(G.default,{className:re.default.marginBottom20,title:ee.default.Messages.FORM_LABEL_SCREENSHARE},void 0,e,t,n,r)};r.renderDiagnostics=function(){if(!$.isPlatformEmbedded)return null;var e=this.props.silenceWarning;return ce(G.default,{className:re.default.marginBottom20,title:ee.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,ce(w.default,{className:"",value:e,onChange:this.handleSilenceWarningChange},void 0,ee.default.Messages.DISPLAY_SILENCE_WARNING))};r.renderDebugLogs=function(){if($.isPlatformEmbedded&&E.default.supports(J.Features.DEBUG_LOGGING)&&null!=_.default.fileManager.readLogFiles){
var e=this.props,t=e.debugLogging,n=e.aecDumpSupported,r=e.aecDumpEnabled,o=e.shouldRecordNextConnection,i=e.isStaff,u=this.state.disableDebugUpload,l=a.createElement(a.Fragment,null,ce(w.default,{hideBorder:!0,value:t,onChange:this.handleDebugLoggingChange,note:ee.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,ee.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING)),s=n?a.createElement(a.Fragment,null,ce(w.default,{value:r,onChange:this.handleAecDumpChange,note:ee.default.Messages.FORM_HELP_AEC_DUMP},void 0,ee.default.Messages.FORM_CHECKBOX_AEC_DUMP)):null,d=("canary"===q.default.releaseChannel||"development"===q.default.releaseChannel)&&i&&E.default.supports(J.Features.CONNECTION_REPLAY)?a.createElement(a.Fragment,null,ce(w.default,{hideBorder:!0,value:o,onChange:this.handleConnectionLogChange,note:ee.default.Messages.FORM_HELP_CONNECTION_LOG},void 0,ee.default.Messages.FORM_CHECKBOX_CONNECTION_LOG),ce(j.default,{},void 0,ce(M.default,{className:re.default.marginBottom20
},void 0,ce(M.default.Child,{grow:0,shrink:0},void 0,ce(C.default,{size:C.default.Sizes.SMALL,onClick:this.handleOpenConnectionReplay},void 0,ee.default.Messages.OPEN_CONNECTION_REPLAY))))):null;return ce(G.default,{className:re.default.marginBottom40,title:ee.default.Messages.FORM_LABEL_DEBUG},void 0,s,d,l,ce(j.default,{},void 0,ce(M.default,{},void 0,ce(M.default.Child,{grow:0,shrink:0},void 0,ce(C.default,{disabled:u,size:C.default.Sizes.SMALL,onClick:this.handleUploadDebugFiles},void 0,ee.default.Messages.UPLOAD)),ce(M.default.Child,{grow:0,shrink:0},void 0,ce(C.default,{size:C.default.Sizes.SMALL,onClick:this.handleShowVoiceModuleFolder},void 0,ee.default.Messages.SHOW_FOLDER)))))}};r.renderResetVoiceSettings=function(){return ce(j.default,{},void 0,ce(C.default,{look:C.default.Looks.OUTLINED,color:C.default.Colors.RED,onClick:this.handleVoiceReset,size:C.default.Sizes.SMALL},void 0,ee.default.Messages.RESET_VOICE_SETTINGS))};r.renderVideoSettings=function(){
return ce("div",{},void 0,ce(x.default,{tag:x.Tags.H1,className:re.default.marginBottom20},void 0,ee.default.Messages.VIDEO_SETTINGS),E.default.supports(J.Features.VIDEO)?ce(Q.default,{previewEnabled:this.state.showCamera,onEnablePreview:this.handleShowCamera}):this.renderVideoWarnings(),ce(k.default,{className:(0,o.default)(re.default.marginBottom40,re.default.marginTop40)}))};r.render=function(){var e=K.default.getArticleURL(Z.HelpdeskArticles.VOICE_VIDEO_TROUBLESHOOTING)+"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-voice-video&utm_content=--t%3Apm";return ce(G.default,{className:te.default.userSettingsVoice,tag:x.Tags.H1,title:ee.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),ce(F.default,{className:re.default.marginBottom20,type:F.default.Types.DESCRIPTION},void 0,ee.default.Messages.FORM_HELP_VOICE_VIDEO_TROUBLESHOOTING_GUIDE.format({guideURL:e})),ce(k.default,{className:(0,
o.default)(re.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),ce(k.default,{className:re.default.marginBottom40}),this.renderVideoSettings(),ce(x.default,{tag:x.Tags.H1,className:re.default.marginBottom20},void 0,ee.default.Messages.SETTINGS_ADVANCED),this.renderNoiseCancellation(),this.renderCodec(),this.renderVideoCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderScreenshare(),this.renderDiagnostics(),this.renderDebugLogs(),this.renderResetVoiceSettings())};return t}(a.PureComponent);be.displayName="UserSettingsVoice";function Ie(){var e=(0,u.useStateFromStores)([b.default],(function(){return b.default.theme})),t=(0,u.useStateFromStores)([E.default],(function(){return E.default.supports(J.Features.AUDIO_INPUT_DEVICE)})),n=(0,u.useStateFromStores)([E.default],(function(){return E.default.supports(J.Features.AUDIO_OUTPUT_DEVICE)})),r=(0,
u.useStateFromStores)([E.default],(function(){return E.default.getInputVolume()})),a=(0,u.useStateFromStores)([E.default],(function(){return E.default.getOutputVolume()})),o=(0,u.useStateFromStores)([E.default],(function(){return E.default.getInputDeviceId()})),i=(0,u.useStateFromStores)([E.default],(function(){return E.default.getInputDevices()})),l=(0,u.useStateFromStores)([E.default],(function(){return E.default.getOutputDevices()})),s=(0,u.useStateFromStores)([E.default],(function(){return E.default.getOutputDeviceId()})),d=(0,u.useStateFromStores)([E.default],(function(){return E.default.getVideoDevices()})),f=(0,u.useStateFromStores)([E.default],(function(){return E.default.getVideoDeviceId()})),c=(0,u.useStateFromStores)([E.default],(function(){return E.default.getEchoCancellation()})),p=(0,u.useStateFromStores)([E.default],(function(){return E.default.getLoopback()})),v=(0,u.useStateFromStores)([E.default],(function(){return E.default.getNoiseSuppression()})),y=(0,
u.useStateFromStores)([E.default],(function(){return E.default.getAutomaticGainControl()})),m=(0,u.useStateFromStores)([E.default],(function(){return E.default.getNoiseCancellation()})),_=(0,u.useStateFromStores)([E.default],(function(){return E.default.isNoiseCancellationSupported()})),h=(0,u.useStateFromStores)([E.default],(function(){return E.default.isAdvancedVoiceActivitySupported()})),O=(0,u.useStateFromStores)([E.default],(function(){return E.default.getMode()})),T=(0,u.useStateFromStores)([E.default],(function(){return E.default.getModeOptions().shortcut})),C=(0,u.useStateFromStores)([E.default],(function(){return E.default.getModeOptions().threshold})),A=(0,u.useStateFromStores)([E.default],(function(){return E.default.getModeOptions().autoThreshold})),M=(0,u.useStateFromStores)([E.default],(function(){return E.default.getModeOptions().vadUseKrisp})),N=(0,u.useStateFromStores)([E.default],(function(){return E.default.getModeOptions().delay})),P=(0,
u.useStateFromStores)([E.default],(function(){return E.default.getAttenuation()})),R=(0,u.useStateFromStores)([E.default],(function(){return E.default.getAttenuateWhileSpeakingSelf()})),w=(0,u.useStateFromStores)([E.default],(function(){return E.default.getAttenuateWhileSpeakingOthers()})),D=(0,u.useStateFromStores)([E.default],(function(){return E.default.getEnableSilenceWarning()})),L=(0,u.useStateFromStores)([E.default],(function(){return E.default.getDebugLogging()})),k=(0,u.useStateFromStores)([E.default],(function(){return E.default.getQoS()})),j=(0,u.useStateFromStores)([E.default],(function(){return E.default.getAudioSubsystem()})),U=(0,u.useStateFromStores)([g.default],(function(){return g.default.getRevision()})),G=(0,u.useStateFromStores)([E.default],(function(){return E.default.getVideoHook()})),F=(0,u.useStateFromStores)([E.default],(function(){return E.default.getGraphicsCapture()})),x=(0,u.useStateFromStores)([E.default],(function(){
return E.default.getExperimentalSoundshare()})),B=(0,u.useStateFromStores)([E.default],(function(){return E.default.getOpenH264()})),H=(0,u.useStateFromStores)([E.default],(function(){return E.default.getExperimentalEncoders()})),W=(0,u.useStateFromStores)([E.default],(function(){return E.default.getHardwareH264()})),V=(0,u.useStateFromStores)([E.default],(function(){return E.default.isAecDumpSupported()})),Y=(0,u.useStateFromStores)([E.default],(function(){return E.default.getAecDump()})),K=(0,u.useStateFromStores)([S.default],(function(){return S.default.shouldRecordNextConnection()})),z=(0,u.useStateFromStores)([I.default],(function(){var e;return!!(null===(e=I.default.getCurrentUser())||void 0===e?void 0:e.isStaff())})),q=(0,u.useStateFromStores)([E.default],(function(){return E.default.getSoundshareEnabled()})),Q=X.AlwaysPreviewVideo.useSetting();return ce(be,{theme:e,canSetInputDevice:t,canSetOutputDevice:n,inputVolume:r,outputVolume:a,inputDeviceId:o,inputDevices:i,
outputDevices:l,outputDeviceId:s,videoDevices:d,videoDeviceId:f,echoCancellation:c,loopback:p,noiseSuppression:v,automaticGainControl:y,noiseCancellation:m,noiseCancellationSupported:_,advancedVoiceActivitySupported:h,inputMode:O,shortcut:T,vadThreshold:C,vadAutoThreshold:A,vadUseKrisp:M,delay:N,usePTTLimited:!$.isPlatformEmbedded,attenuation:P,attenuateWhileSpeakingSelf:R,attenuateWhileSpeakingOthers:w,silenceWarning:D,debugLogging:L,qosEnabled:k,audioSubsystem:j,certifiedDeviceRevision:U,videoHook:G,graphicsCapture:F,experimentalSoundshare:x,openH264:B,experimentalEncoders:H,hardwareH264:W,aecDumpSupported:V,aecDumpEnabled:Y,shouldRecordNextConnection:K,isStaff:z,soundshareEnabled:q,alwaysPreviewVideo:Q})}Ie.displayName="UserSettingsVoiceWrapper"},541247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(567668)),u=p(n(956303)),l=y(n(662197)),s=n(864489),d=p(n(922629)),f=p(n(247001)),c=p(n(380203))
;function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleToggleOpenOnStartup=function(){var e=!n.state.openOnStartup;n.setState({openOnStartup:e});d.default.send("TOGGLE_OPEN_ON_STARTUP",e)};n.handleToggleStartMinimized=function(){var e=!n.state.startMinimized;n.setState({startMinimized:e});d.default.send("TOGGLE_START_MINIMIZED",e)};n.handleToggleMinimizeToTray=function(){var e=!n.state.minimizeToTray;n.setState({minimizeToTray:e});d.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};n.state={openOnStartup:!0,startMinimized:!1,minimizeToTray:!0};return n}var n=t.prototype;n.componentDidMount=function(){
var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this;e.next=3;return d.default.getSetting("OPEN_ON_STARTUP",!0);case 3:e.t1=e.sent;e.next=6;return d.default.getSetting("START_MINIMIZED",!1);case 6:e.t2=e.sent;e.next=9;return d.default.getSetting("MINIMIZE_TO_TRAY",!0);case 9:e.t3=e.sent;e.t4={openOnStartup:e.t1,startMinimized:e.t2,minimizeToTray:e.t3};e.t0.setState.call(e.t0,e.t4);case 12:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();n.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,r=e.minimizeToTray,a=(0,s.isLinux)()?f.default.Messages.USER_SETTINGS_LINUX_SETTINGS:f.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return m(u.default,{tag:l.Tags.H1,title:a
},void 0,m(l.default,{},void 0,f.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),m(i.default,{className:c.default.marginBottom20,value:t,note:f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),(0,s.isWindows)()?m(i.default,{disabled:!t,className:(0,o.default)(c.default.marginTop8,c.default.marginBottom20),value:!!t&&n,note:f.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,f.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,m(l.default,{className:(0,o.default)(c.default.marginTop20,c.default.marginBottom8)},void 0,f.default.Messages.USER_SETTINGS_CLOSE_BUTTON),m(i.default,{className:c.default.marginBottom20,value:r,note:f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))};return t}(a.PureComponent)
;g.displayName="UserSettingsWindows";var E=g;t.default=E},629598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=S(n(667294)),o=n(536211),i=g(n(636602)),u=n(556470),l=n(659022),s=n(144594),d=n(700192),f=S(n(393198)),c=g(n(635014)),p=g(n(728429)),v=g(n(956117)),y=g(n(730977)),m=n(770348),_=g(n(247001)),h=g(n(471749));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(){
O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=387,A=218,M=b(f.FilterLoadingIndicator,{});function N(e){var t=e.previewEnabled,n=e.onEnablePreview,r=c.default.getCameraComponent(),g=I(a.useState((0,l.getLastUsedVideoBackgroundOption)(p.default.getCurrentUser())),2),E=g[0],S=g[1],T=a.useRef(!1),N=a.useRef(E),P=(0,u.useAnalyticsContext)(),R=(0,o.useStateFromStores)([c.default],(function(){
return Object.values(c.default.getVideoDevices()).length>0}));a.useEffect((function(){return function(){T.current&&i.default.wait((function(){return(0,s.saveLastUsedBackgroundOption)(N.current)}))}}),[]);return b(f.default,{selectedBackgroundOption:E,onSelectBackgroundOption:function(e){T.current=!0;N.current=e;S(e);(0,d.applyBackgroundOptionLive)(e,{location:P.location}).catch(m.NOOP)},renderCamera:function(e){return t?b("div",{className:h.default.cameraWrapper},void 0,b("div",{className:h.default.camera},void 0,b(r,{deviceId:e,width:C,height:A,disabled:!t}),M)):b("div",{className:h.default.cameraWrapper},void 0,b("div",{className:h.default.previewImage}),b(y.default,{text:R?null:_.default.Messages.CAMERA_UNAVAILABLE},void 0,(function(e){return a.createElement(v.default,O({},e,{onClick:n,disabled:!R}),_.default.Messages.TEST_VIDEO)})))}})}N.displayName="VideoSettingsCamera"},547342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(413577),u=_(n(956704)),l=_(n(16941)),s=n(772575),d=_(n(665759)),f=n(645758),c=n(688388),p=n(967965),v=_(n(571028)),y=n(109061),m=_(n(957372));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n,r=E(a.useState(null!=e.descriptor),2),o=r[0],u=r[1],s=a.useCallback((function(){u((function(e){return!e}))}),[]),d=(t=e.experiment.description,Array.isArray(t)?t:[t]),_=(0,y.getExperimentDateFromId)(e.experimentId);return g("div",{className:m.default.group},void 0,g(c.FormSection,{},void 0,g(l.default,{onClick:s},void 0,g(c.FormTitle,{tag:c.FormTitleTags.H3,className:m.default.title},void 0,g("div",{},void 0,g("span",{},void 0,e.experiment.title),g(f.Text,{color:"text-muted",variant:"text-sm/normal"},void 0,e.experimentId)),g("span",{className:m.default.experimentDate},void 0,_))),o?g("div",{},void 0,g(c.FormItem,{title:"Bucket Override"},void 0,g(p.SingleSelect,{
value:null!=e.descriptor?e.descriptor.bucket:null,clearable:null!=e.descriptor,options:(n=e.experiment.buckets,n.map((function(e){return{label:v.default.getExperimentBucketName(e),value:e}}))),onChange:function(t){(0,i.overrideBucket)(e.experimentId,t)}})),g("div",{className:m.default.description},void 0,d.map((function(e,t){return g(c.FormText,{type:c.FormTextTypes.DESCRIPTION},t,e," ")})))):null),g(c.FormDivider,{className:m.default.divider}))}O.displayName="ExperimentGroup";var b=g(s.Heading,{variant:"heading-md/medium",level:3},void 0,"No Experiments Found");function I(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{experiments:u.default.getRegisteredExperiments(),overrides:u.default.getExperimentOverrides()}})),t=e.experiments,n=e.overrides,r=E(a.useState(""),2),i=r[0],l=r[1],s=(0,y.getBestMatches)((0,y.sortEntries)((0,y.getEntries)(t)),i);return g(c.FormSection,{tag:c.FormTitleTags.H1,title:"Experiments"},void 0,g(d.default,{size:d.default.Sizes.LARGE,
query:i,onChange:l,onClear:function(){return l("")}}),s.length>0?s.map((function(e){return g(O,{experiment:e.experiment,experimentId:e.id,descriptor:n[e.id]},e.id)})):g("div",{className:m.default.emptyState},void 0,b))}I.displayName="UserSettingsExperiments"},174128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;d(n(667294));var r,a=d(n(956117)),o=n(688388),i=l(n(247001)),u=l(n(983200));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.currentUser,r=e.handleDisableAccount,l=e.handleDeleteAccount,s=n.isClaimed();return f(o.FormSection,{className:t,title:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_SECTION},void 0,f(o.FormText,{className:u.default.description,type:o.FormText.Types.DESCRIPTION},void 0,s?i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION_UNCLAIMED),f("div",{
className:u.default.buttonContainer},void 0,s?f(a.default,{className:u.default.disableButton,look:a.ButtonLooks.FILLED,color:a.ButtonColors.RED,size:a.ButtonSizes.SMALL,onClick:r},void 0,i.default.Messages.DISABLE_ACCOUNT):null,f(a.default,{look:a.ButtonLooks.OUTLINED,color:a.ButtonColors.RED,size:a.ButtonSizes.SMALL,onClick:l},void 0,i.default.Messages.DELETE_ACCOUNT)))}c.displayName="UserSettingsAccountDisableAccountSection"},954663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(825185),u=p(n(669879)),l=n(388139),s=n(401648),d=p(n(816624)),f=p(n(871778)),c=n(914905);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){
m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){var e=(0,o.useStateFromStores)([f.default],(function(){return f.default.theme})),t=(0,o.useStateFromStores)([d.default],(function(){return d.default.getIsDisableSubmit()})),n=h(a.useState(!1),2),r=n[0],p=n[1],v=a.useCallback(_(regeneratorRuntime.mark((function e(){var t,n,r,a,o,u,f,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0);t=d.default.getAllPending();n=(0,l.getAccountUpdateForUpdateRequest)(t);r=(0,l.getProfileChangesForUpdateRequest)(t);a=!0;if(!(Object.keys(n).length>0)){e.next=11;break}e.next=8;return(0,i.saveAccountChanges)(n);case 8:f=e.sent;a=a&&null!==(o=null==f?void 0:f.ok)&&void 0!==o&&o;(null==f?void 0:f.ok)?(0,i.resetPendingAccountChanges)():null!=(null==f||null===(u=f.body)||void 0===u?void 0:u.username)&&(0,c.showInvalidUsernameToast)();case 11:if(!(Object.keys(r).length>0)){e.next=17;break}e.next=14;return(0,s.saveProfileChanges)(r);case 14:y=e.sent
;a=a&&null!==(v=null==y?void 0:y.ok)&&void 0!==v&&v;(null==y?void 0:y.ok)&&(0,s.resetPendingProfileChanges)();case 17:a&&(0,i.clearErrors)();p(!1);case 19:case"end":return e.stop()}}),e)}))),[]),m=a.useCallback((function(){(0,i.resetAllPending)()}),[]);return y(u.default,{theme:e,submitting:r,onSave:v,onReset:m,disabled:t})}E.displayName="UserSettingsAccountNotice"},319155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=x(n(667294)),o=G(n(294184)),i=G(n(441143)),u=n(536211),l=G(n(226800)),s=G(n(252149)),d=G(n(149342)),f=G(n(915539)),c=G(n(730487)),p=G(n(145122)),v=x(n(947472)),y=G(n(286004)),m=x(n(674356)),_=G(n(784073)),h=G(n(816624)),g=G(n(728429)),E=G(n(956117)),S=G(n(16941)),O=G(n(160629)),b=n(645758),I=n(688388),T=G(n(775803)),C=n(194322),A=x(n(628551)),M=G(n(308920)),N=n(856384),P=G(n(922629)),R=n(894826),w=n(860238),D=n(770348),L=n(52656),k=n(248348),j=G(n(247001)),U=G(n(517401));function G(e){return e&&e.__esModule?e:{default:e}}
function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return B.apply(this,arguments)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){V(o,r,a,i,u,"next",e)}function u(e){V(o,r,a,i,u,"throw",e)}i(void 0)}))}}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=P.default.getEnableHardwareAcceleration()?A.AnimatedAvatar:A.default;function $(e){var t=e.className,r=e.user,i=a.useRef(null),u=null!=i.current&&i.current.scrollWidth>i.current.clientWidth;return K("div",{className:(0,o.default)(U.default.field,t)},void 0,K("div",{className:U.default.constrainedRow},void 0,K("div",{className:U.default.usernameRow},void 0,K(I.FormTitle,{className:U.default.fieldTitle
},void 0,j.default.Messages.USER_SETTINGS_LABEL_USERNAME),a.createElement("div",{className:U.default.usernameInnerRow,ref:i},K(b.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,r.username),K(b.Text,{tag:"span",color:"header-secondary",variant:"text-md/normal"},void 0,"#",r.discriminator)))),K(E.default,{className:U.default.fieldButton,size:E.default.Sizes.SMALL,color:E.default.Colors.PRIMARY,onClick:function(){return(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(97011)]).then(n.bind(n,197011));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,u?j.default.Messages.DISAPPROVAL:j.default.Messages.EDIT))}$.displayName="EditUsernameRow";function q(e){var t=e.text,n=e.censor,r=H(a.useState(!1),2),o=r[0],i=r[1],u=o?t:n(t)
;return a.createElement(a.Fragment,null,u,K(E.default,{look:E.default.Looks.LINK,size:E.default.Sizes.MIN,color:E.default.Colors.LINK,onClick:function(){return i(!o)}},void 0,o?j.default.Messages.HIDE:j.default.Messages.REVEAL))}function X(e){var t,r=e.className,i=e.user;if(i.isClaimed())if(null==i.email)t={buttonText:j.default.Messages.ADD,buttonColor:E.default.Colors.PRIMARY,valueMessage:j.default.Messages.USER_SETTINGS_NO_EMAIL_PLACEHOLDER,handleClick:function(){return(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}};else{var u=i.email;t={buttonText:j.default.Messages.EDIT,buttonColor:E.default.Colors.PRIMARY,valueMessage:K(q,{text:u,censor:w.censorEmail}),
handleClick:function(){return(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}}}else t={buttonText:j.default.Messages.CLAIM_ACCOUNT_SHORT,buttonColor:E.default.Colors.BRAND,valueMessage:j.default.Messages.USER_SETTINGS_ADD_EMAIL_CLAIM,handleClick:function(){return f.default.openClaimAccountModal()}};return K("div",{className:(0,o.default)(U.default.field,r)},void 0,K("div",{className:U.default.constrainedRow},void 0,K("div",{},void 0,K(I.FormTitle,{className:U.default.fieldTitle},void 0,j.default.Messages.USER_SETTINGS_LABEL_EMAIL),K("div",{},void 0,K(b.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,t.valueMessage)))),K(E.default,{
className:U.default.fieldButton,size:E.default.Sizes.SMALL,color:E.default.Colors.PRIMARY,onClick:t.handleClick},void 0,t.buttonText))}X.displayName="EditEmailRow";function Q(e){var t=e.className,r=e.user;if(!r.isClaimed())return null;var i,u=r.phone,l=r.email;i=null==u?j.default.Messages.USER_SETTINGS_NO_PHONE_PLACEHOLDER:K(q,{text:u,censor:w.censorPhone});return K("div",{className:(0,o.default)(U.default.field,t)},void 0,K("div",{className:U.default.constrainedRow},void 0,K("div",{},void 0,K(I.FormTitle,{className:U.default.fieldTitle},void 0,j.default.Messages.USER_SETTINGS_LABEL_PHONE_NUMBER),K("div",{},void 0,K(b.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,i)))),K("div",{className:U.default.fieldButtonList},void 0,null!=u&&null!=l?K(E.default,{className:(0,o.default)(U.default.fieldButton,U.default.removeButton),size:E.default.Sizes.SMALL,look:E.default.Looks.LINK,color:E.default.Colors.PRIMARY,onClick:function(){(0,C.openModal)((function(e){
return a.createElement(d.default,B({},e,{title:j.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_NUMBER_TITLE,children:r.hasFlag(D.UserFlags.MFA_SMS)?j.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_SMS_BACKUP_WARNING:void 0,actionText:j.default.Messages.REMOVE,handleSubmit:function(e){return v.default.removePhone(e,v.ChangePhoneReason.USER_SETTINGS_UPDATE)}}))}))}},void 0,j.default.Messages.REMOVE):null,K(E.default,{className:U.default.fieldButton,size:E.default.Sizes.SMALL,color:E.default.Colors.PRIMARY,onClick:function(){(0,C.openModalLazy)(Y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,54725));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,B({reason:v.ChangePhoneReason.USER_SETTINGS_UPDATE},e))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:L.PHONE_VERIFICATION_MODAL_KEY})}
},void 0,null==u?j.default.Messages.ADD:j.default.Messages.EDIT)))}Q.displayName="EditPhoneRow";function Z(e){var t=e.user,n=(0,c.default)(t.id);return R.DeveloperMode.useSetting()&&N.SUPPORTS_COPY?K(O.default,{renderPopout:function(e){var t=e.closePopout;return K(p.default,{onClose:t,onSelect:void 0,navId:"copy-id","aria-label":j.default.Messages.USER_MORE_ACTIONS_MENU_LABEL},void 0,n)}},void 0,(function(e){return a.createElement(S.default,B({},e,{className:U.default.overflowMenuButton,"aria-label":j.default.Messages.ACTIONS}),K(T.default,{className:U.default.overflowMenuIcon,height:24,width:24}))})):null}Z.displayName="CopyUserIdMenu";function J(){l.default.setSection(D.UserSettingsSections.PROFILE_CUSTOMIZATION)}function ee(){M.default.track(D.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:D.AnalyticsPages.USER_SETTINGS,location_section:D.AnalyticsSections.SETTINGS_ACCOUNT,location_object:D.AnalyticsObjects.TOOLTIP});l.default.setSection(D.UserSettingsSections.PREMIUM)}
function te(){var e,t=(0,u.useStateFromStores)([g.default],(function(){var e=g.default.getCurrentUser();(0,i.default)(null!=e,"UserSettingsAccountProfileCard: currentUser cannot be undefined");return e})),n=(0,_.default)(t.id),r=R.StatusSetting.useSetting(),a=(0,u.useStateFromStores)([h.default],(function(){return h.default.getErrors()})),o=null==a||null===(e=a.avatar)||void 0===e?void 0:e[0];return K("div",{className:U.default.accountProfileCard},void 0,K(y.default,{displayProfile:n,user:t,allowEdit:!1,guildId:void 0,bannerType:k.UserBannerTypes.SETTINGS}),K("div",{className:U.default.userInfo},void 0,K(z,{className:U.default.avatar,src:t.getAvatarURL(void 0,80,!0),status:r,size:A.default.Sizes.SIZE_80,"aria-label":t.username}),K("div",{},void 0,K("div",{className:U.default.profileCardUsernameRow},void 0,K(s.default,{user:t,className:U.default.userTag,discriminatorClass:U.default.discriminator}),K(Z,{user:t})),K(m.default,{user:t,premiumSince:null==n?void 0:n.premiumSince,
premiumGuildSince:null==n?void 0:n.premiumGuildSince,size:m.BadgeSizes.SIZE_22,openPremiumSettings:ee})),K(E.default,{onClick:J,size:E.default.Sizes.SMALL},void 0,j.default.Messages.USER_SETTINGS_EDIT_PROFILE)),K("div",{className:U.default.background},void 0,null!=o?K(b.Text,{className:U.default.avatarError,variant:"text-xs/normal",color:"text-danger"},void 0,o):null,K("div",{className:U.default.fieldList},void 0,K($,{user:t}),K(X,{className:U.default.fieldSpacer,user:t}),K(Q,{className:U.default.fieldSpacer,user:t}))))}te.displayName="UserSettingsAccountProfileCard"},66272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(825185),u=E(n(816624)),l=E(n(956117)),s=n(645758),d=E(n(279950)),f=n(354479),c=n(688388),p=E(n(114655)),v=n(3400),y=n(914905),m=n(770348),_=n(371621),h=E(n(247001)),g=E(n(843204));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t,n,r,E,S=e.transitionState,b=e.onSuccess,C=e.onClose,A=e.requirementsUpdated,M=e.noSkip,N=void 0!==M&&M,P=(0,f.useUID)(),R=T(a.useState(""),2),w=R[0],D=R[1],L=T(a.useState(""),2),k=L[0],j=L[1],U=T(a.useState(""),2),G=U[0],F=U[1],x=T(a.useState(null),2),B=x[0],H=x[1],W=T(a.useState(null),2),V=W[0],Y=W[1],K=(0,o.useStateFromStores)([u.default],(function(){return u.default.getErrors()})),z=(0,o.useStateFromStores)([u.default],(function(){return u.default.getFormState()})),$=a.useRef(null);a.useEffect((function(){if(S===_.ModalTransitionState.ENTERED){var e;null===(e=$.current)||void 0===e||e.focus()}}),[S]);function q(){return(q=I(regeneratorRuntime.mark((function e(t){var n,r,a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();(0,i.clearErrors)();n=!1;if(""===k){H(h.default.Messages.PASSWORD_REQUIREMENTS_EMPTY);n=!0}else H(null);if(k!==G){Y(h.default.Messages.FORM_LABEL_NEW_PASSWORD_MISMATCH);n=!0}else Y(null);if(!n){e.next=7;break}return e.abrupt("return");case 7:e.next=9;return(0,i.saveAccountChanges)({password:w,newPassword:k});case 9:(null==(r=e.sent)?void 0:r.ok)?b():null!=(null==r||null===(a=r.body)||void 0===a?void 0:a.username)&&(0,y.showInvalidUsernameToast)();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return O(v.ModalRoot,{transitionState:S,"aria-labelledby":P},void 0,O(v.ModalHeader,{id:P,separator:!1,className:g.default.header},void 0,O(p.default,{color:p.default.Colors.HEADER_PRIMARY,size:p.default.Sizes.SIZE_24,className:g.default.title},void 0,h.default.Messages.UPDATE_PASSWORD),O(s.Text,{color:"header-secondary",variant:"text-md/normal",className:g.default.subtitle
},void 0,A?h.default.Messages.FORCE_PASSWORD_UPDATE_DESCRIPTION:h.default.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_PROMPT_DESKTOP),!0!==N&&O(v.ModalCloseButton,{onClick:C,className:g.default.modalCloseButton})),O("form",{onSubmit:function(e){return q.apply(this,arguments)}},void 0,O(v.ModalContent,{className:g.default.content},void 0,O(c.FormItem,{title:h.default.Messages.FORM_LABEL_CURRENT_PASSWORD,error:null==K||null===(t=K.password)||void 0===t?void 0:t[0]},void 0,O(d.default,{type:"password",value:w,onChange:D,inputRef:$})),O(c.FormItem,{className:g.default.newPassword,title:h.default.Messages.FORM_LABEL_NEW_PASSWORD,error:null!==(n=null!==(r=null==K||null===(E=K.new_password)||void 0===E?void 0:E[0])&&void 0!==r?r:B)&&void 0!==n?n:void 0},void 0,O(d.default,{type:"password",value:k,onChange:j})),O(c.FormItem,{className:g.default.newPassword,title:h.default.Messages.FORM_LABEL_CONFIRM_NEW_PASSWORD,error:null!=V?V:void 0},void 0,O(d.default,{type:"password",value:G,onChange:F
}))),O(v.ModalFooter,{},void 0,O(l.default,{type:"submit",color:l.default.Colors.BRAND,size:l.default.Sizes.MEDIUM,submitting:z===m.FormStates.SUBMITTING},void 0,h.default.Messages.DONE),!0!==N&&O(l.default,{className:g.default.cancel,look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:C},void 0,h.default.Messages.CANCEL))))}A.displayName="ChangePasswordModal"},55181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStores)([u.default],(function(){return u.default.getSubsection()})),t=a.createRef(),n=(0,i.useStateFromStoresObject)([c.default],(function(){return c.default.getEmailSettings()})),r=n.categories,s=n.initialized;a.useEffect((function(){if(null==s)(0,f.fetchEmailSettings)();else if(e===p.EMAILS_SUBSECTION.toUpperCase()){var n;null==t||null===(n=t.current)||void 0===n||n.scrollIntoView(!0)}}),[s,t,e]);var _=p.MarketingEmailCategories.reduce((function(e,t){return e||!!r[t]}),!1)
;return s?a.createElement(a.Fragment,null,a.createElement("div",{ref:t}),E(d.FormSection,{className:(0,o.default)(m.default.marginTop40),tag:d.FormTitleTags.H1,title:v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS},void 0,p.EmailCategoriesList.map((function(e){var t=e.category,n=e.label,a=e.subLabel;return E(S,{label:n(),subLabel:a(),enabled:r[t],onChange:function(e){return function(e,t){(0,f.updateEmailSetting)(e,t)}(t,e)}},n())})),E(l.default,{className:y.default.marketingUnsubscribeButton,disabled:!_,look:l.ButtonLooks.LINK,color:l.ButtonColors.LINK,onClick:f.updateMarketingEmailSettings},void 0,v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING),E(d.FormText,{type:d.FormTextTypes.DESCRIPTION},void 0,v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING_DESCRIPTION),E(d.FormDivider,{className:(0,o.default)(m.default.marginTop40,m.default.marginBottom40)}))):null}
;var r,a=g(n(667294)),o=_(n(294184)),i=n(536211),u=_(n(516818)),l=g(n(956117)),s=_(n(567668)),d=n(688388),f=n(781900),c=_(n(421010)),p=n(969299),v=_(n(247001)),y=_(n(55386)),m=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.label,n=e.onChange,r=e.enabled,a=e.subLabel;return E(s.default,{value:!!r,onChange:n,note:a},void 0,t)}S.displayName="CategorySwitch"},366712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;P(n(667294));var r,a=M(n(441143)),o=n(235234),i=n(536211),u=n(825185),l=M(n(135631)),s=P(n(125478)),d=n(832215),f=n(100618),c=M(n(482117)),p=M(n(96194)),v=M(n(498163)),y=M(n(561511)),m=M(n(431676)),_=M(n(777018)),h=M(n(974847)),g=M(n(421338)),E=n(401648),S=M(n(913900)),O=M(n(816624)),b=M(n(728429)),I=M(n(838583)),T=M(n(267309)),C=n(770348),A=M(n(247001));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(N=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(){var e,t,n,r=(0,i.useStateFromStores)([b.default],(function(){var e=b.default.getCurrentUser();(0,a.default)(null!=e,"DefaultCustomizationSections: user cannot be undefined");return e})),M=(0,i.useStateFromStores)([S.default],(function(){return S.default.getUserProfile(r.id)})),N=(0,i.useStateFromStoresObject)([O.default],(function(){return w({},O.default.getAllPending(),{errors:O.default.getErrors()})})),P=N.pendingAvatar,D=N.pendingBanner,L=N.pendingBio,k=N.pendingPronouns,j=N.pendingAccentColor,U=N.pendingThemeColors,G=N.errors,F=I.default.canUsePremiumProfileCustomization(r),x=void 0===P?r.getAvatarURL(void 0,80):P,B=null!==(e=(0,o.hex2int)((0,s.default)(x,C.Colors.PRIMARY_DARK_530,s.ColorFormats.HEX)))&&void 0!==e?e:0,H=void 0===P?null!=r.avatar:null!=P,W=void 0===D?null!=(null==M?void 0:M.banner):null!=D,V=(0,
d.useGlobalHasAvatarDecorations)().canUseAvatarDecorations,Y=l.default.useExperiment({}).showPronouns,K=g.default.useExperiment({},{autoTrackExposure:!0}).showProfileSkins;return R("div",{},void 0,R(v.default,{onAvatarChange:u.setPendingAvatar,showRemoveAvatarButton:H,errors:G.avatar,sectionTitle:A.default.Messages.USER_SETTINGS_AVATAR},"avatar"),V?R(p.default,{user:r},"decoration"):null,(!K||!I.default.isPremium(r,C.PremiumTypes.TIER_2))&&R(m.default,{defaultAvatarColor:B,savedUserColor:null==M?void 0:M.accentColor,pendingColor:j,setPendingAccentColor:E.setPendingAccentColor},"color"),K&&R(h.default,{user:r,userProfile:M,pendingColors:U,setPendingThemeColors:E.setPendingThemeColors}),R(y.default,{sectionTitle:A.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:F,showRemoveBannerButton:W,errors:G.banner,upsellButton:R(T.default,{user:r}),onBannerChange:E.setPendingBanner},"banner"),Y&&R(_.default,{sectionTitle:A.default.Messages.USER_SETTINGS_PRONOUNS,
errors:G.pronouns,onPronounsChange:E.setPendingPronouns,pendingPronouns:k,currentPronouns:null!==(t=null==M?void 0:M.pronouns)&&void 0!==t?t:""},"pronouns"),R(c.default,{sectionTitle:A.default.Messages.USER_SETTINGS_ABOUT_ME,errors:G.bio,onBioChange:function(e){(0,f.setNewPendingUserBio)(e,null==M?void 0:M.bio);(0,u.setDisableSubmit)(null!=e&&e.length>C.BIO_MAX_LENGTH)},pendingBio:L,currentBio:null!==(n=null==M?void 0:M.bio)&&void 0!==n?n:""},"bio"))}D.displayName="DefaultCustomizationSections"},229024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=x
;var r,a=L(n(667294)),o=w(n(441143)),i=n(235234),u=n(536211),l=w(n(636602)),s=n(825185),d=w(n(226800)),f=w(n(524791)),c=w(n(954140)),p=w(n(37039)),v=L(n(125478)),y=w(n(931059)),m=w(n(468532)),_=w(n(845176)),h=w(n(377579)),g=w(n(421338)),E=n(401648),S=w(n(784073)),O=w(n(663303)),b=w(n(816624)),I=w(n(728429)),T=w(n(308920)),C=w(n(838583)),A=w(n(427588)),M=w(n(366712)),N=n(770348),P=w(n(247001)),R=w(n(944641));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function U(){T.default.track(N.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:N.AnalyticsPages.USER_SETTINGS,location_section:N.AnalyticsSections.SETTINGS_ACCOUNT,location_object:N.AnalyticsObjects.BADGE});d.default.setSection(N.UserSettingsSections.PREMIUM)}var G=k(f.default,{}),F=k(M.default,{});function x(){
var e,t=y.default.useExperiment({}).enabled,n=(0,u.useStateFromStores)([I.default],(function(){var e=I.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsProfileCustomization: user cannot be undefined");return e})),r=(0,S.default)(n.id),d=(0,u.useStateFromStores)([O.default],(function(){return O.default.hidePersonalInformation})),f=(0,u.useStateFromStoresObject)([b.default],(function(){return j({},b.default.getAllPending(),{errors:b.default.getErrors()})})),T=f.pendingAvatar,M=f.pendingBanner,w=f.pendingBio,D=f.pendingPronouns,L=f.pendingAccentColor,x=f.pendingAvatarDecoration,B=f.pendingThemeColors,H=C.default.canUsePremiumProfileCustomization(n),W=void 0===T?n.getAvatarURL(void 0,80):T,V=null!==(e=(0,i.hex2int)((0,v.default)(W,N.Colors.PRIMARY_DARK_530,v.ColorFormats.HEX)))&&void 0!==e?e:0,Y=void 0===L?null==r?void 0:r.primaryColor:L,K=(0,p.default)(c.default.PROFILE).AnalyticsLocationProvider,z=g.default.useExperiment({}).showProfileSkins,$={user:n,
canUsePremiumCustomization:H,onUpsellClick:A.default,onAvatarChange:s.setPendingAvatar,onBannerChange:E.setPendingBanner,pendingBanner:M,pendingBio:w,pendingPronouns:D,pendingAvatar:T,pendingAvatarDecoration:x,openPremiumSettings:U};a.useEffect((function(){return function(){return l.default.wait(s.resetAllPending)}}),[]);return d?G:k(K,{},void 0,k(m.default,{title:t?null:P.default.Messages.USER_SETTINGS_USER_PROFILE,description:t?null:k("div",{className:R.default.divider}),profilePreview:z?a.createElement(h.default,j({},$,{pendingThemeColors:B})):a.createElement(_.default,j({},$,{bannerColor:null!=Y?Y:V}))},void 0,F))}x.displayName="UserSettingsProfileCustomization"},267309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(37039)),i=m(n(956117)),u=m(n(60097)),l=m(n(41024)),s=m(n(308920)),d=m(n(838583)),f=m(n(427588)),c=n(770348),p=n(265517),v=m(n(247001)),y=m(n(430099));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function g(e){var t=e.user,n=(0,o.default)().analyticsLocations,r=d.default.isPremium(t)?v.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPGRADE_UPSELL:v.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL;a.useEffect((function(){s.default.track(c.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:p.PremiumUpsellTypes.CUSTOM_PROFILE_SETTINGS_BANNER_BUTTON,location:{page:c.AnalyticsPages.USER_SETTINGS,section:c.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,object:c.AnalyticsObjects.BUTTON_CTA},location_stack:n})}),[n]);return h(u.default,{color:i.default.Colors.GREEN,onClick:f.default,innerClassName:y.default.nitroUpsellButtonInner},void 0,h(l.default,{className:y.default.nitroUpsellButtonWheel}),r)}g.displayName="UserSettingsProfileUpsellButton"},197105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=c(n(740207)),u=n(145122),l=c(n(999607)),s=c(n(635014)),d=n(758956),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(){var e=(0,o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getInputVolume())}));return v(u.MenuControlItem,{id:"input",label:f.default.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return a.createElement(l.default,y({},t,{ref:n,value:e,onChange:function(e){return i.default.setInputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":f.default.Messages.FORM_LABEL_INPUT_VOLUME}))}})}m.displayName="useInputDeviceVolumeItem"},989546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=!l.isPlatformEmbedded,t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getMode()})),n=function(e,n){
return p(i.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,action:function(){return o.default.setMode(e)}},e)};return[n(s.InputModes.VOICE_ACTIVITY,d.default.Messages.INPUT_MODE_VAD),n(s.InputModes.PUSH_TO_TALK,e?d.default.Messages.INPUT_MODE_PTT_LIMITED:d.default.Messages.INPUT_MODE_PTT)]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=f(n(740207)),i=n(145122),u=f(n(635014)),l=n(864489),s=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},793963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=p(n(740207)),u=n(145122),l=p(n(999607)),s=p(n(635014)),d=n(758956),f=n(864489),c=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(){var e=(0,
o.useStateFromStores)([s.default],(function(){return(0,d.amplitudeToPerceptual)(s.default.getOutputVolume())}));return y(u.MenuControlItem,{id:"output",label:c.default.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return a.createElement(l.default,m({},t,{ref:n,value:e,maxValue:f.isPlatformEmbedded?200:100,onChange:function(e){return i.default.setOutputVolume((0,d.perceptualToAmplitude)(e))},"aria-label":c.default.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}_.displayName="useOutputDeviceVolumeItem"},300433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.unseenGiftCount,r=e.showPrepaidPaymentPastDueWarning,p=e.showPassport,M=e.canUsePremiumGuildMemberProfile,pe=e.showProfileThemes;return[{section:f.SectionTypes.HEADER,label:fe.default.Messages.USER_SETTINGS},{section:de.UserSettingsSections.ACCOUNT,label:fe.default.Messages.USER_SETTINGS_MY_ACCOUNT,ariaLabel:fe.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:F.default},{
section:de.UserSettingsSections.PROFILE_CUSTOMIZATION,type:pe?f.ContentTypes.WIDE:f.ContentTypes.DEFAULT,label:fe.default.Messages.USER_SETTINGS_PROFILES,ariaLabel:fe.default.Messages.USER_SETTINGS_PROFILES,element:pe?O.default:S.default,notice:{stores:[T.default,y.default],element:E.default},onSettingsClose:function(){i.default.wait((function(){(0,v.resetAndCloseGuildIdentityForm)();(0,s.resetAndCloseUserProfileForm)();d.default.clearSubsection(de.UserSettingsSections.PROFILE_CUSTOMIZATION)}))},newIndicatorDismissibleContentType:!pe&&M?o.DismissibleContent.CENTRALIZED_PROFILE_EDITING_SETTINGS_PAGE:null},{section:de.UserSettingsSections.PRIVACY_AND_SAFETY,label:fe.default.Messages.PRIVACY_AND_SAFETY,element:re.default},{section:de.UserSettingsSections.AUTHORIZED_APPS,label:fe.default.Messages.AUTHORIZED_APPS,element:W.default},{section:de.UserSettingsSections.SESSIONS,label:fe.default.Messages.AUTH_SESSIONS,ariaLabel:fe.default.Messages.AUTH_SESSIONS,element:ae.default,
newIndicatorDismissibleContentType:o.DismissibleContent.AUTH_SESSIONS_NEW,predicate:function(){return D.default.getCurrentConfig({}).showSettings}},{section:de.UserSettingsSections.CONNECTIONS,label:p?fe.default.Messages.PASSPORT:fe.default.Messages.CONNECTIONS,ariaLabel:p?fe.default.Messages.PASSPORT:fe.default.Messages.CONNECTIONS,element:p?te.default:Y.default,newIndicatorDismissibleContentType:p?o.DismissibleContent.PASSPORT_USER_SETTINGS:null,icon:p?he:null},{section:de.UserSettingsSections.FRIEND_REQUESTS,label:fe.default.Messages.FRIEND_REQUESTS,element:z.default},{section:f.SectionTypes.DIVIDER},{section:f.SectionTypes.HEADER,label:fe.default.Messages.BILLING_SETTINGS},{section:de.UserSettingsSections.PREMIUM,ariaLabel:fe.default.Messages.PREMIUM,label:fe.default.Messages.PREMIUM,element:h.default,className:ce.default.premiumTab},{section:de.UserSettingsSections.GUILD_BOOSTING,label:fe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:ne.default},{
section:de.UserSettingsSections.SUBSCRIPTIONS,ariaLabel:fe.default.Messages.SUBSCRIPTIONS_TITLE,label:fe.default.Messages.SUBSCRIPTIONS_TITLE,element:g.default,icon:r?me(N.default,{width:16,height:16,color:de.Colors.STATUS_YELLOW}):null},{section:de.UserSettingsSections.INVENTORY,label:fe.default.Messages.GIFT_INVENTORY,element:X.default,ariaLabel:fe.default.Messages.GIFT_INVENTORY,badgeCount:t},{section:de.UserSettingsSections.BILLING,label:fe.default.Messages.BILLING,element:V.default},{section:f.SectionTypes.DIVIDER},{section:f.SectionTypes.HEADER,label:fe.default.Messages.APP_SETTINGS},{section:de.UserSettingsSections.APPEARANCE,label:fe.default.Messages.APPEARANCE,element:H.default},{section:de.UserSettingsSections.ACCESSIBILITY,label:fe.default.Messages.ACCESSIBILITY,element:G.default},{section:de.UserSettingsSections.VOICE,label:fe.default.Messages.VOICE_AND_VIDEO,element:ue.default,predicate:function(){return I.default.isSupported()}},{
section:de.UserSettingsSections.POGGERMODE,label:fe.default.Messages.POGGERMODE,ariaLabel:fe.default.Messages.POGGERMODE,element:_.default,predicate:m.poggermodeEnabled,icon:me("img",{alt:"",src:n(20278),className:ce.default.poggermodeIcon})},{section:de.UserSettingsSections.TEXT,label:fe.default.Messages.TEXT_AND_IMAGES,element:ie.default},{section:de.UserSettingsSections.NOTIFICATIONS,label:fe.default.Messages.NOTIFICATIONS,element:J.default},{section:de.UserSettingsSections.KEYBINDS,label:fe.default.Messages.KEYBINDS,element:Q.default},{section:de.UserSettingsSections.LOCALE,label:fe.default.Messages.LANGUAGE,element:Z.default},{section:de.UserSettingsSections.WINDOWS,label:fe.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:le.default,predicate:function(){return w.isPlatformEmbedded&&(0,w.isWindows)()}},{section:de.UserSettingsSections.LINUX,label:fe.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:_e,predicate:function(){return w.isPlatformEmbedded&&(0,w.isLinux)()}},{
section:de.UserSettingsSections.STREAMER_MODE,label:fe.default.Messages.STREAMER_MODE,element:oe.default},{section:de.UserSettingsSections.ADVANCED,label:fe.default.Messages.SETTINGS_ADVANCED,element:B.default},{section:f.SectionTypes.DIVIDER},{section:f.SectionTypes.HEADER,label:fe.default.Messages.ACTIVITY_SETTINGS},{section:de.UserSettingsSections.ACTIVITY_PRIVACY,label:fe.default.Messages.ACTIVITY_PRIVACY,element:x.default},{section:de.UserSettingsSections.REGISTERED_GAMES,label:fe.default.Messages.REGISTERED_GAMES,element:$.default},{section:de.UserSettingsSections.OVERLAY,label:fe.default.Messages.OVERLAY,element:ee.default,predicate:function(){return C.default.isSupported()||!1}},{section:f.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return l.default.showChangeLog()},label:fe.default.Messages.WHATS_NEW},{section:de.UserSettingsSections.HYPESQUAD_ONLINE,label:fe.default.Messages.USER_SETTINGS_HYPESQUAD,element:q.default},{
section:de.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:se.default,predicate:function(){return b.default.isDeveloper}},{section:de.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:K.default,predicate:function(){return b.default.isDeveloper}},{section:de.UserSettingsSections.HOTSPOT_OPTIONS,label:"Hotspot Options",element:k.default,predicate:function(){return b.default.isDeveloper}},{section:de.UserSettingsSections.DISMISSIBLE_CONTENT_OPTIONS,label:"Dismissible Contents",element:c.default,predicate:function(){return b.default.isDeveloper}},{section:de.UserSettingsSections.PAYMENT_FLOW_MODAL_TEST_PAGE,label:"Payment Flow Modals",element:j.default,predicate:function(){return b.default.isDeveloper}},{section:f.SectionTypes.DIVIDER},{section:"logout",onClick:function(){(0,R.openModal)((function(e){return a.createElement(P.default,ye({header:fe.default.Messages.LOGOUT,confirmText:fe.default.Messages.LOGOUT,cancelText:fe.default.Messages.CANCEL,
onCancel:e.onClose,onConfirm:function(){return u.default.logout()}},e),me(A.Text,{variant:"text-md/normal"},void 0,fe.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}))},label:fe.default.Messages.LOGOUT,ariaLabel:fe.default.Messages.LOGOUT,icon:ge},{section:f.SectionTypes.DIVIDER},{section:f.SectionTypes.CUSTOM,element:U.default},{section:f.SectionTypes.CUSTOM,element:L.default}]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ve(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(923387),i=pe(n(636602)),u=pe(n(939949)),l=pe(n(241165)),s=n(825185),d=pe(n(226800)),f=n(826859),c=pe(n(142721)),p=pe(n(526098)),v=n(799393),y=pe(n(350957)),m=n(962119),_=pe(n(101499)),h=pe(n(137787)),g=pe(n(225249)),E=pe(n(859639)),S=pe(n(260532)),O=pe(n(416743)),b=pe(n(776115)),I=pe(n(635014)),T=pe(n(816624)),C=pe(n(81636)),A=n(645758),M=pe(n(434663)),N=pe(n(417184)),P=pe(n(502197)),R=n(194322),w=n(864489),D=pe(n(141057)),L=pe(n(730146)),k=pe(n(243905)),j=pe(n(388988)),U=pe(n(815780)),G=pe(n(362979)),F=pe(n(371077)),x=pe(n(748726)),B=pe(n(8395)),H=pe(n(556825)),W=pe(n(835672)),V=pe(n(24072)),Y=pe(n(710033)),K=pe(n(367865)),z=pe(n(140572)),$=pe(n(117944)),q=pe(n(418415)),X=pe(n(122253)),Q=pe(n(913458)),Z=pe(n(783949)),J=pe(n(764422)),ee=pe(n(720034)),te=pe(n(830967)),ne=pe(n(325539)),re=pe(n(313900)),ae=pe(n(385831)),oe=pe(n(394163)),ie=pe(n(332798)),ue=pe(n(811030)),le=pe(n(541247)),se=pe(n(547342)),de=n(770348),fe=pe(n(247001)),ce=pe(n(648670));function pe(e){
return e&&e.__esModule?e:{default:e}}function ve(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ve=function(e){return e?n:t})(e)}function ye(){ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return ye.apply(this,arguments)}function me(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _e=le.default,he=me(p.default,{}),ge=me(M.default,{width:16,height:16})},914905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.showInvalidUsernameToast=function(){(0,o.showToast)((0,a.createToast)(i.default.Messages.USER_SETTINGS_UPDATE_FAILURE,a.ToastType.FAILURE))};var r,a=n(767019),o=n(143586),i=(r=n(247001))&&r.__esModule?r:{default:r}},712594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,r.useStateFromStores)([a.default],(function(){return(0,o.default)(a.default)}))};var r=n(536211),a=i(n(635014)),o=i(n(895355));function i(e){return e&&e.__esModule?e:{default:e}}},203737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(t.type===o.ParticipantTypes.ACTIVITY){var r;return null!==(r=null==n?void 0:n.name)&&void 0!==r?r:null}return a.default.getName(e.getGuildId(),e.id,t.user)};var r,a=(r=n(29652))&&r.__esModule?r:{default:r},o=n(859089)},183612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;return e.type!==r.ParticipantTypes.ACTIVITY&&((0,
r.isStreamParticipant)(e)?null!=e.streamId:null!==(t=null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&void 0!==t&&t)};var r=n(859089)},373115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStoresObject)([o.default],(function(){var e,t,n=null===(e=null===(t=(0,r.default)(o.default.getVideoDevices()).values().first())||void 0===t?void 0:t.disabled)||void 0===e||e;return{enabled:o.default.isVideoEnabled(),cameraUnavailable:n||!o.default.supports(i.Features.VIDEO)}})),t=e.enabled,n=e.cameraUnavailable;return{enabled:t,cameraUnavailable:n}};var r=u(n(496486)),a=n(536211),o=u(n(635014)),i=n(376293);function u(e){return e&&e.__esModule?e:{default:e}}},105847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getDeafStates=l;var r=n(536211),a=u(n(423046)),o=u(n(635014)),i=u(n(387692));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){var u
;void 0===t&&(t=i.default);void 0===n&&(n=o.default);void 0===r&&(r=a.default);var l=null!=e?t.getVoiceState(e.getGuildId(),r.getId()):null;return{selfDeaf:n.isSelfDeaf(),deaf:null!==(u=null==l?void 0:l.deaf)&&void 0!==u&&u}}var s=function(e){return(0,r.useStateFromStoresObject)([i.default,o.default,a.default],(function(){return l(e,i.default,o.default,a.default)}))};t.default=s},423405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getMuteStates=f;var r=n(536211),a=d(n(686305)),o=d(n(423046)),i=d(n(635014)),u=d(n(689389)),l=d(n(387692)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){
var t,n=e.channel,r=e.authenticationStore,d=void 0===r?o.default:r,f=e.voiceStateStore,c=void 0===f?l.default:f,p=e.mediaEngineStore,v=void 0===p?i.default:p,y=e.permissionStore,m=void 0===y?u.default:y,_=e.viewAsRoleStore,h=void 0===_?a.default:_,g=null!=n?c.getVoiceState(n.getGuildId(),d.getId()):null,E=v.isSelfMute()||v.isSelfMutedTemporarily(),S=null==n?void 0:n.getGuildId(),O=h.isViewingRoles(S)&&!m.can(s.Permissions.SPEAK,n);return{selfMute:E,suppress:(null==g?void 0:g.suppress)||O,mute:null!==(t=null==g?void 0:g.mute)&&void 0!==t&&t}}var c=function(e){return(0,r.useStateFromStoresObject)([o.default,l.default,i.default,u.default,a.default],(function(){return f({channel:e,authenticationStore:o.default,voiceStateStore:l.default,mediaEngineStore:i.default,permissionStore:u.default,viewAsRoleStore:a.default})}))};t.default=c},830543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Avatars=x;t.TileSize=void 0;t.default=H;var r,a,o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=L(n(294184)),u=n(536211),l=n(556470),s=L(n(303798)),d=L(n(516325)),f=L(n(474177)),c=L(n(93879)),p=L(n(933577)),v=L(n(769195)),y=L(n(697749)),m=L(n(322946)),_=L(n(954140)),h=L(n(37039)),g=L(n(469487)),E=L(n(423046)),S=L(n(689389)),O=L(n(728429)),b=L(n(956117)),I=n(645758),T=n(730977),C=L(n(628551)),A=L(n(152731)),M=n(71246),N=L(n(29652)),P=n(770348),R=n(942675),w=L(n(247001)),D=L(n(854911));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){
return e?n:t})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.TileSize=a;!function(e){e[e.SMALL=0]="SMALL";e[e.MEDIUM=1]="MEDIUM";e[e.LARGE=2]="LARGE"}(a||(t.TileSize=a={}));var F=["embedded_background"];function x(e){var t=e.avatarSize,n=e.guildId,r=e.channelId,a=e.users,o=null!=t?t:R.Sizes.SIZE_32,i=(0,R.getAvatarSize)(o);return G(A.default,{size:i,guildId:n,users:a,max:4,renderUser:function(e){if(null==e)return null;var t=N.default.getName(n,r,e);return G(T.TooltipContainer,{text:t,color:T.TooltipColors.GREY},e.id,G("img",{src:e.getAvatarURL(n,i),alt:t,className:D.default.avatar},e.id))}})}x.displayName="Avatars"
;function B(e){var t,n,r,o,f,c=e.participants,p=e.application,v=e.currentEmbeddedApplication,m=e.channel,_=e.width,g=function(e){return e>400?a.LARGE:e>300?a.MEDIUM:a.SMALL}(_),T=function(e){return e>400?[C.default.Sizes.SIZE_56,56]:e>300?[C.default.Sizes.SIZE_32,32]:[C.default.Sizes.SIZE_24,24]}(_),A=j(T,1)[0],R=(0,u.useStateFromStoresArray)([O.default,E.default],(function(){return Array.from(c).map((function(e){return E.default.getId()===e?null:O.default.getUser(e)})).filter(M.isNotNullish)})),L=(0,u.useStateFromStores)([s.default],(function(){return s.default.getEmbeddedActivitiesForChannel(m.id).find((function(e){return e.application_id===p.id}))})),k=(0,h.default)().analyticsLocations,U=(0,l.useAnalyticsContext)(),F=null!==(t=N.default.getName(m.getGuildId(),m.id,null==R?void 0:R[0]))&&void 0!==t?t:null==R||null===(n=R[0])||void 0===n?void 0:n.username,B=(0,u.useStateFromStores)([S.default],(function(){return S.default.can(P.Permissions.USE_EMBEDDED_ACTIVITIES,m)
}),[m]),H=null!==(r=m.getGuildId())&&void 0!==r?r:void 0;return G("div",{className:D.default.splash},void 0,G(x,{avatarSize:A,guildId:H,channelId:m.id,users:R}),G(I.Text,{className:(0,i.default)(D.default.subheader,(o={},o[D.default.small]=g===a.SMALL,o[D.default.medium]=g===a.MEDIUM,o)),variant:"text-sm/normal"},void 0,R.length>1?w.default.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:F,count:R.length-1}):w.default.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:F})),G(I.Text,{className:(0,i.default)(D.default.header,(f={},f[D.default.small]=g===a.SMALL,f[D.default.medium]=g===a.MEDIUM,f)),variant:"text-sm/normal"},void 0,p.name),G("div",{className:D.default.buttons},void 0,B?G(b.default,{size:function(e){switch(e){case a.LARGE:return b.default.Sizes.LARGE;case a.MEDIUM:return b.default.Sizes.MEDIUM;case a.SMALL:return b.default.Sizes.SMALL}}(g),className:D.default.button,color:b.default.Colors.PRIMARY,onClick:function(e){e.stopPropagation();null!=L&&(0,
d.default)({activity:L,currentEmbeddedApplication:v,activityChannelId:m.id,locationObject:U.location,embeddedActivitiesManager:y.default,analyticsLocations:k})}},void 0,w.default.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY):null))}B.displayName="Splash";function H(e){var t=e.participant,n=e.width,r=e.selected,a=e.interactible,i=e.channel,u=(0,h.default)(_.default.ACTIVITY_TILE).AnalyticsLocationProvider,l=t.id,s=(0,f.default)(),d=(null==s?void 0:s.channelId)===i.id&&s.application_id===l,y=(0,c.default)(),E=j((0,g.default)([l]),1)[0],S=(0,p.default)({applicationId:l,names:F,size:1024}).url,O=!r&&d,b=!d,I=!d&&!r;return G(u,{},void 0,G("div",{className:D.default.container},void 0,o.createElement(o.Fragment,null,O&&G(v.default,{className:D.default.iframe,embedId:(0,m.default)(i.id,l)}),b&&null!=E&&null!=S&&""!==S?G("img",{className:D.default.splashImage,alt:E.name,src:S}):null,I&&null!=E&&G(B,{width:n,channel:i,participants:t.participants,application:E,currentEmbeddedApplication:y
}),a||b?null:G("div",{className:D.default.clickShield}))))}H.displayName="ActivityTile"},611456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(294184)),o=i(n(917507));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=r.forwardRef((function(e,t){var n,i=e.children,u=e.className,l=e.style,s=e.noBorder,d=void 0!==s&&s,f=e.participantUserId
;return r.createElement("div",{className:(0,a.default)(u,o.default.tile,(n={},n[o.default.noBorder]=d,n)),style:l,ref:t,"data-selenium-video-tile":f},i)}));t.default=l},440556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(969600));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={aStreamId:null,aReady:!1,
bStreamId:t.props.streamId,bReady:!0};t.handleReady=function(){t.state.aReady?t.setState({bReady:!0,aStreamId:null,aReady:!1}):t.setState({aReady:!0,bStreamId:null,bReady:!1})};t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.id;null==r||r(e,a)};t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.id;null==r||r(e,a)};return t}t.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1};return null};var n=t.prototype;n.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,u=n.paused,l=n.component;if(null==e){if(null==r)return null;var f=a.Children.only(r);return a.cloneElement(f,d({style:{display:t&&!o?void 0:"none"}},f.props))}return s(l,{paused:u,className:i.default.media,streamId:e,onReady:t?null:this.handleReady
})};n.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return s("div",{className:(0,o.default)(i.default.video,r,(e={},e[i.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))};return t}(a.PureComponent);c.displayName="BufferedVideo";c.defaultProps={paused:!0};var p=c;t.default=p},709578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.CallTileOverlay=t.CallTileFit=void 0
;var r,a=$(n(667294)),o=K(n(294184)),i=n(536211),u=K(n(740207)),l=K(n(284382)),s=K(n(66384)),d=K(n(143493)),f=K(n(100205)),c=n(625905),p=$(n(858271)),v=K(n(52709)),y=K(n(423046)),m=K(n(635014)),_=K(n(16941)),h=n(645758),g=K(n(730977)),E=$(n(971146)),S=K(n(337322)),O=K(n(79027)),b=K(n(428990)),I=K(n(324582)),T=K(n(287317)),C=K(n(68259)),A=K(n(775803)),M=K(n(149982)),N=K(n(335709)),P=K(n(203737)),R=K(n(830543)),w=K(n(611456)),D=$(n(55055)),L=K(n(522503)),k=n(227482),j=K(n(700598)),U=n(770348),G=n(859089),F=n(378542),x=n(376293),B=K(n(247001)),H=K(n(32599)),W=["onClick"],V=["onClick"],Y=["onClick"];function K(e){return e&&e.__esModule?e:{default:e}}function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=a.memo((function(e){var t,n,r,h,g=e.participant,S=e.onDoubleClick,b=e.onContextMenu,I=e.onClick,T=e.onMouseDown,C=e.onKeyDown,A=e.className,M=e.style,N=e.channel,k=e.width,B=e.inPopout,W=e.onVideoResize,V=e.inCall,Y=void 0!==V&&V,K=e.selected,z=void 0!==K&&K,$=e.noBorder,q=void 0!==$&&$,X=e.noVideoRender,J=void 0!==X&&X,ee=e.focused,te=void 0!==ee&&ee,ne=e.blocked,re=void 0!==ne&&ne,ae=e.fit,ie=void 0===ae?E.default.Fit.CONTAIN:ae,ue=e.paused,le=void 0!==ue&&ue,se=e.pulseSpeakingIndicator,de=void 0!==se&&se,fe=a.useContext(c.IdleStateContext),ce=Z(a.useState(!1),2),pe=ce[0],ve=ce[1],ye=(0,i.useStateFromStores)([y.default],(function(){return y.default.getId()})),me=g.type===G.ParticipantTypes.ACTIVITY?null:null===(t=g.user)||void 0===t?void 0:t.id,_e=(0,i.useStateFromStores)([m.default],(function(){return null!=me&&m.default.isLocalVideoDisabled(me,(0,s.default)(g.type))}),[me,g.type]),he=(0,
j.default)(g,ye),ge=he.speaking,Ee=he.muted,Se=he.deafen,Oe=he.ringing,be=he.hasVideo,Ie=(0,i.useStateFromStores)([m.default],(function(){return null!=me&&m.default.isLocalMute(me,(0,s.default)(g.type))}),[me,g.type]),Te=g.type===G.ParticipantTypes.STREAM&&me===ye,Ce=(0,i.useStateFromStores)([p.default],(function(){return null!=me?p.default.getEffectEmojiForUserId(me):null}));a.useEffect((function(){ve(te)}),[te]);var Ae=a.useCallback((function(){null!=me&&u.default.toggleLocalMute(me,x.MediaEngineContextTypes.STREAM)}),[me]),Me=a.useCallback((function(e){null==I||I(g,e)}),[I,g]),Ne=a.useCallback((function(e){null==S||S(g,e)}),[S,g]),Pe=a.useCallback((function(e){null==b||b(g,e)}),[b,g]),Re=null,we=null,De=!0;switch(g.type){case G.ParticipantTypes.STREAM:Re=Q(D.default,{participant:g,selected:z,width:k,fit:ie,onVideoResize:W,paused:le,inPopout:B});we=Q(D.StreamTileIndicators,{participant:g,selected:z,width:k,focused:te,idle:fe});De=!1;break;case G.ParticipantTypes.USER:Re=Q(L.default,{
channel:N,inCall:Y,participant:g,fit:ie,onVideoResize:W,paused:le,selected:z,width:k,blocked:re,noVideoRender:J,pulseSpeakingIndicator:de});break;case G.ParticipantTypes.ACTIVITY:Re=Q(R.default,{interactible:te,participant:g,selected:z,channel:N,width:k});break;case G.ParticipantTypes.HIDDEN_STREAM:Re=Q(D.default,{participant:g,selected:z,width:k,fit:ie,onVideoResize:W,paused:le,inPopout:B})}var Le=a.useRef(null);return Q(l.default,{section:U.AnalyticsSections.VOICE_CHANNEL_TILE},void 0,Q("div",{className:(0,o.default)(H.default.wrapper,(n={},n[H.default.ringing]=Oe,n),A)},void 0,Q(f.default,{shakeLocation:F.ShakeLocation.VOICE_USER,isShaking:ge,className:H.default.tile},void 0,a.createElement(w.default,{ref:Le,className:(0,o.default)(H.default.tile,(r={},r[H.default.noBorder]=q,r[H.default.noInteraction]=null==I,r[H.default.idle]=fe,r[H.default.videoLayer]=De,r)),noBorder:q,style:M,participantUserId:me},Q(_.default,{focusProps:{ringTarget:Le,offset:1},onDoubleClick:Ne,
onContextMenu:Pe,onClick:Me,onMouseDown:T,onKeyDown:C,className:H.default.tileChild},void 0,g.type!==G.ParticipantTypes.USER||null==me||te||null==Ce?null:Q(v.default,{voiceChannelEffectEmoji:Ce,onComplete:function(){return(0,p.clearVoiceChannelEffectForUser)(me)}}),Re,q?null:Q("div",{className:H.default.indicators},void 0,we),z?Q("div",{className:H.default.selectedScreen},void 0,Q(O.default,{className:H.default.selectedIcon})):null,g.type!==G.ParticipantTypes.ACTIVITY?Q(oe,{focused:te,width:k,inCall:Y,participantType:g.type,hasVideo:null!=be&&be,muted:Ee,deafen:Se,idle:fe,title:(0,P.default)(N,g),blocked:re,localMute:Ie,localVideoDisabled:_e,hideAudioIcon:Te,onContextMenu:Pe,onToggleMute:Ae}):null,Y&&!q?Q("div",{className:(0,o.default)(H.default.border,(h={},h[H.default.speaking]=ge&&!te,h))}):null)),Q(d.default,{isFiring:pe,callTileRef:Le.current}))))}));ee.displayName="CallTile";var te=Q(N.default,{}),ne=Q(M.default,{}),re=Q(A.default,{}),ae=Q("div",{}),oe=a.memo((function(e){
var t,n,r=e.muted,i=e.deafen,u=e.idle,l=e.title,s=e.width,d=e.hasVideo,f=e.inCall,c=e.localMute,p=e.localVideoDisabled,v=e.focused,y=e.blocked,E=e.hideAudioIcon,A=e.participantType,M=e.onContextMenu,N=e.onToggleMute,P=null,R=null,w=null,D=(0,k.isVideoCompact)(s),L=(0,k.isNamesCompact)(s);if(!E)if(i||r||c){var j;P=Q(i?I.default:T.default,{foreground:(0,o.default)((j={},j[H.default.localMuteStrikethrough]=c&&!i,j)),className:H.default.status});c&&A===G.ParticipantTypes.STREAM&&d&&!v&&(P=Q(g.default,{text:B.default.Messages.UNMUTE},void 0,(function(e){var t=e.onClick,n=X(e,W);return a.createElement(_.default,q({},n,{onClick:function(e){e.stopPropagation();null==t||t();N()},className:(0,o.default)(H.default.status,H.default.interactive)}),te)})))}else c||A!==G.ParticipantTypes.STREAM||!d||D||v||(P=Q(g.default,{text:B.default.Messages.MUTE},void 0,(function(e){var t=e.onClick,n=X(e,V);return a.createElement(_.default,q({},n,{onClick:function(e){e.stopPropagation();null==t||t();N()},
className:(0,o.default)(H.default.status,H.default.interactive,H.default.toggleMute)}),ne)})));f&&m.default.supports(x.Features.VIDEO)||!d||(R=Q(O.default,{className:H.default.status}));f&&d&&p&&(R=Q(b.default,{className:H.default.status,foreground:H.default.localMuteStrikethrough}));A===G.ParticipantTypes.STREAM&&!v&&d&&(w=Q(g.default,{text:B.default.Messages.OPTIONS},void 0,(function(e){var t=e.onClick,n=X(e,Y);return a.createElement(_.default,q({},n,{onClick:function(e){e.stopPropagation();null==t||t();M(e)},className:(0,o.default)(H.default.status,H.default.interactive)}),re)})));return Q("div",{className:(0,o.default)(H.default.overlay,(t={},t[H.default.small]=s<195,t))},void 0,L||v?ae:Q(h.Text,{className:(0,o.default)(H.default.overlayTitle,(n={},n[H.default.idle]=u,n)),color:"none",variant:"text-md/normal"},void 0,y?Q("div",{className:H.default.blocked},void 0,Q(S.default,{className:H.default.blockedIcon,color:U.Colors.STATUS_RED
})):null,A===G.ParticipantTypes.STREAM&&Q(C.default,{className:H.default.titleIcon}),null!=l&&""!==l?Q("span",{className:H.default.overlayTitleText},void 0,l):null),Q("div",{className:H.default.statusContainer},void 0,R,P,w))}));t.CallTileOverlay=oe;oe.displayName="CallTileOverlay";var ie=E.VideoStreamFit;t.CallTileFit=ie;var ue=ee;t.default=ue},288146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CallTileCTA=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(956117)),u=d(n(730977)),l=d(n(760443)),s=["onClick"];function d(e){
return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.children,n=e.onClick,r=e.className,d=e.tooltip;return c(u.default,{text:d},void 0,(function(e){var u=e.onClick,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(i.default,p({},d,{onClick:function(e){null==n||n(e);null==u||u()},innerClassName:l.default.buttonReset,color:(0,o.default)(l.default.cta,r),size:i.default.Sizes.MIN}),t)}))}v.displayName="CallTileCTA"},921532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=c(n(667294)),o=d(n(972247)),i=n(365561),u=c(n(709578)),l=n(770348),s=d(n(974777));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="CameraPreviewPosition";function _(e){var t=e.width,n=e.onContextMenuParticipant,r=e.height,d=e.channel,f=e.participants,c=function(){var e=v(a.useState((function(){return o.default.get(m,l.PictureInPicturePositions.BOTTOM_RIGHT)})),2),t=e[0],n=e[1];return[t,a.useCallback((function(e){o.default.set(m,e);n(e)}),[])]}(),y=v(c,2),_=y[0],h=y[1],g=a.useRef(null),E=null==d.getGuildId()?70:50;a.useLayoutEffect((function(){var e
;null===(e=g.current)||void 0===e||e.ensureIsInPosition()}),[f.length]);return p("div",{className:s.default.container},void 0,a.createElement(i.PictureInPictureWindow,{position:_,id:0,ref:g,onMove:function(e,t){return h(t)},maxX:t,maxY:r,edgeOffsetTop:E,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16},p("div",{className:s.default.tileContainer},void 0,f.map((function(e){return p(u.default,{participant:e,channel:d,onContextMenu:n,className:s.default.tile,fit:u.CallTileFit.COVER,inCall:!0,inPopout:!1,width:160})})))))}_.displayName="CameraPreview"},839166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseControlTrayColors=t.ActiveControlTrayColors=void 0;t.GoLiveButton=Ge;t.default=We;t.handleToggleVideo=Ue
;var r,a,o,i,u=Me(n(667294)),l=Ce(n(294184)),s=Ce(n(441143)),d=n(248088),f=n(536211),c=n(923387),p=Ce(n(740207)),v=Ce(n(136873)),y=n(123516),m=Ce(n(284382)),_=n(556470),h=Ce(n(213847)),g=n(433383),E=n(836233),S=Ce(n(235879)),O=n(746920),b=Ce(n(303798)),I=n(186096),T=Ce(n(198016)),C=Ce(n(282827)),A=n(695475),M=n(245546),N=Ce(n(151120)),P=Ce(n(954140)),R=Ce(n(37039)),w=Ce(n(825724)),D=Ce(n(190320)),L=Ce(n(932018)),k=Ce(n(590087)),j=Ce(n(305081)),U=Ce(n(904577)),G=Ce(n(970007)),F=n(747868),x=Ce(n(379310)),B=Ce(n(908921)),H=n(902399),W=Ce(n(604686)),V=Ce(n(620859)),Y=Ce(n(134893)),K=Ce(n(222935)),z=Ce(n(605520)),$=Ce(n(643779)),q=Ce(n(67286)),X=Ce(n(401311)),Q=Ce(n(607576)),Z=Ce(n(305914)),J=Ce(n(735319)),ee=Ce(n(645675)),te=Ce(n(928034)),ne=Ce(n(607209)),re=Ce(n(635014)),ae=Ce(n(689389)),oe=Ce(n(211136)),ie=Ce(n(728429)),ue=Ce(n(230047)),le=Ce(n(160629)),se=Me(n(730977)),de=Ce(n(656016)),fe=Ce(n(373115)),ce=Ce(n(431388)),pe=Ce(n(770404)),ve=Ce(n(423405)),ye=Ce(n(989704)),me=Ce(n(336940)),_e=Ce(n(493051)),he=Ce(n(152803)),ge=Ce(n(310261)),Ee=Ce(n(30269)),Se=n(770348),Oe=n(859089),be=Ce(n(247001)),Ie=Ce(n(716698)),Te=["onClick"]
;function Ce(e){return e&&e.__esModule?e:{default:e}}function Ae(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ae=function(e){return e?n:t})(e)}function Me(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ae(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(){we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return we.apply(this,arguments)}function De(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Le(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,u,"next",e)}function u(e){Le(o,r,a,i,u,"throw",e)}i(void 0)}))}}t.BaseControlTrayColors=a;!function(e){e.PRIMARY_DARK="primaryDark";e.PRIMARY_LIGHT="primaryLight"}(a||(t.BaseControlTrayColors=a={}));t.ActiveControlTrayColors=o;!function(e){e.WHITE="white";e.ACTIVE_LIGHT="activeLight"}(o||(t.ActiveControlTrayColors=o={}));function je(){var e=(0,f.useStateFromStores)([S.default],(function(){return S.default.useReducedMotion}));function t(){return(t=ke(regeneratorRuntime.mark((function e(){
var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(29615).then(n.t.bind(n,229615,19));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return De(ue.default,{importData:function(){return t.apply(this,arguments)},shouldAnimate:!e,className:Ie.default.sparkles})}je.displayName="Sparkles";function Ue(e,t){if(re.default.isVideoEnabled()!==e){var n=function(){return p.default.setVideoEnabled(e)};e?(0,Ee.default)(n,t):n()}}function Ge(e){var t=e.channel,n=e.currentUser,r=e.exitFullScreen,a=e.canGoLive,o=e.coloring,i=e.hasPermission,l=(0,g.useAppContext)(),s=(0,f.useStateFromStoresArray)([ne.default],(function(){return ne.default.getAllActiveStreams()})).find((function(e){return e.ownerId===n.id})),d=t.getGuildId(),c=u.useCallback((function(){null==r||r();if(!a)return(0,he.default)();(0,ge.default)(d,t.id,Se.AnalyticsPages.GUILD_CHANNEL)}),[d,t.id,a,r]),p=null!=s
;return De(Y.default,{},void 0,De(le.default,{renderPopout:function(e){var r=e.closePopout;return De(K.default,{},void 0,De(me.default,{channel:t,currentUser:n,activeStreams:null!=s?[s]:[],handleGoLive:c,onClose:r,appContext:l}))},position:le.default.Positions.TOP,align:le.default.Align.CENTER,animation:le.default.Animation.FADE},void 0,(function(e,t){var n=t.isShown,r=e.onClick,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,Te);return De("div",{},void 0,null!=s?u.createElement(Z.default,we({},l,{color:o[1],centerButton:!0,className:Ie.default.controlButton,onClick:function(){return(0,B.default)(s)},isSelfStream:!0,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})):u.createElement(J.default,we({},l,{centerButton:!0,color:o[0],className:Ie.default.controlButton,hasPermission:i,onClick:a?c:he.default,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})))})))}
Ge.displayName="GoLiveButton";function Fe(e){var t=e.channel,n=(0,g.useAppContext)()===Se.AppContext.POPOUT,r=(0,R.default)().analyticsLocations,a=(0,f.useStateFromStores)([ae.default],(function(){return ae.default.can(Se.Permissions.USE_EMBEDDED_ACTIVITIES,t)&&null!=t.guild_id}),[t]),o=t.getGuildId(),i=(0,T.default)(o)&&null!=o,l=(0,f.useStateFromStores)([b.default],(function(){return b.default.isLaunchingActivity()})),s=(0,_.useAnalyticsContext)();u.useEffect((function(){null!=o&&(0,O.fetchShelf)(o)}),[o]);var d=(0,I.useFreeActivityIndicator)({guildId:o}).shouldShowFreeIndicator,c=(0,C.default)({channelId:t.id});if(!i)return null;var p=!a||l;return De("div",{className:Ie.default.buttonContainer},void 0,De(z.default,{className:Ie.default.controlButton,disabled:p,label:a?be.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:be.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS,isActivityActive:c,onClick:function(){(0,N.default)({channel:t,guildId:t.guild_id,
locationObject:s.location,openInPopout:n,analyticsLocations:r})}}),d?De(M.FreeActivityIndicatorDot,{top:4,right:10,size:12,maskColor:M.MaskColor.BLACK}):null)}Fe.displayName="ConnectedActivityButton";!function(e){e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT"}(i||(i={}));var xe=u.memo((function(e){var t,n=e.connectedActivityApplicationId,r=e.currentUser,a=e.onDisconnectCall,o=e.channel,l=(0,f.useStateFromStores)([w.default],(function(){return w.default.getSelectedParticipant(o.id)})),s=u.useContext(E.AccessibilityPreferencesContext).reducedMotion,c=Ne(u.useState(!1),2),p=c[0],m=c[1],_=null==l?void 0:l.id,h=(0,f.useStateFromStores)([ne.default],(function(){return null!=_?ne.default.getActiveStreamForStreamKey(_):null}),[_]),g=(null==l?void 0:l.type)===Oe.ParticipantTypes.STREAM&&null!=h&&h.ownerId!==(null==r?void 0:r.id),S=(0,f.useStateFromStoresArray)([ne.default],(function(){return ne.default.getAllActiveStreamsForChannel(o.id).filter((function(e){
return e.ownerId!==(null==r?void 0:r.id)}))})),b=(0,H.useActiveEvent)(o.id),I=u.useCallback((function(){return(null==l?void 0:l.type)===Oe.ParticipantTypes.ACTIVITY&&l.id===n?i.ACTIVITY:g?i.STREAM:null!=b?i.EVENT:i.CALL}),[l,n,g,b]),T=Ne(u.useState(I()),2),C=T[0],M=T[1],N=(0,d.useSpring)({opacity:p?.2:1,transform:p&&!s.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:p?600:1e3,friction:45,precision:.01,clamp:p},onRest:function(){M(I());m(!1)}});u.useEffect((function(){I()!==C&&m(!0)}),[C,I]);var P=(0,A.useWarnLastEligibleHost)({channelId:null!==(t=null==o?void 0:o.id)&&void 0!==t?t:""}),R=function(){if(null!=l&&null!=r){P()||(0,O.stopEmbeddedActivity)({channelId:o.id,applicationId:l.id})}},D=function(e,t){var n={centerButton:!0,className:Ie.default.controlButton,popoutOpen:e};switch(C){case i.ACTIVITY:return u.createElement(q.default,we({},n,{color:"red",onClick:R,onPopoutClick:S.length>0?t:null}));case i.STREAM:return u.createElement(Z.default,we({},n,{color:"red",
onClick:function(){if(null!=h)(0,y.stopStream)((0,F.encodeStreamKey)(h));else for(var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Pe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(S);!(e=t()).done;){var n=e.value;(0,y.stopStream)((0,F.encodeStreamKey)(n))}},onPopoutClick:S.length>1?t:null,isSelfStream:!1}));case i.CALL:return u.createElement(X.default,we({},n,{color:"red",onClick:function(){v.default.disconnect();null==a||a()},onPopoutClick:S.length>0?t:null}));case i.EVENT:return De(W.default,{guildId:o.guild_id,channelId:o.id,onClick:function(){v.default.disconnect();null==a||a()}})}};return De(le.default,{renderPopout:function(e){
var t=e.closePopout;return De(me.default,{channel:o,currentUser:r,activeStreams:S,handleGoLive:Se.NOOP_NULL,hideSelfOptions:!0,onClose:t})},position:le.default.Positions.TOP,align:le.default.Align.CENTER,animation:le.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return De(d.animated.div,{style:N},void 0,D(r,n))}))}));function Be(e){var t=e.channel,n=e.cameraUnavailable,r=e.hasCameraPermission,a=(0,g.useAppContext)(),o=(0,ce.default)(t),i=o.reachedLimit,s=o.limit,d=u.useCallback((function(){(0,Ee.default)((function(){return v.default.selectVoiceChannel(t.id,!0)}),a)}),[t.id,a]),f=u.useCallback((function(){v.default.selectVoiceChannel(t.id,!1)}),[t.id]),c=u.useCallback((function(){n?(0,_e.default)():d()}),[n,d]);return u.createElement(u.Fragment,null,De(ee.default,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:i,channelLimit:s,channel:t,cameraUnavailable:n,hasPermission:r,onCameraUnavailable:c,className:Ie.default.controlButton,
iconClassName:Ie.default.joinIcon,onChange:d}),De($.default,{centerButton:!0,color:"green",channel:t,className:(0,l.default)(Ie.default.controlButton,Ie.default.lastButton),onClick:f}))}var He=De(je,{});function We(e){var t=e.channel,n=e.mode,r=e.className,i=e.onDisconnectCall,u=e.exitFullScreen,d=e.idleProps,p=(0,f.useStateFromStores)([ie.default],(function(){var e=ie.default.getCurrentUser();(0,s.default)(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),v=(0,fe.default)(),y=v.cameraUnavailable,_=v.enabled,g=(0,pe.default)(t),E=(0,ve.default)(t),S=E.suppress,O=E.selfMute,I=E.mute,T=S||O||I,C=(0,f.useStateFromStoresObject)([re.default],(function(){return{canGoLive:(0,x.default)(re.default)}})).canGoLive,A=(0,G.default)(),M=(0,f.useStateFromStores)([U.default],(function(){return null!=U.default.getAwaitingRemoteSessionType()})),N=null!=A,w=(0,f.useStateFromStores)([oe.default],(function(){var e
;return(null!==(e=null==A?void 0:A.channelId)&&void 0!==e?e:oe.default.getVoiceChannelId())===t.id}),[t,A]),F=(0,f.useStateFromStores)([b.default],(function(){var e=b.default.getSelfEmbeddedActivityForChannel(t.id);return null!=e?e.application_id:null})),B=(0,ce.default)(t),H=B.reachedLimit,W=B.limit,Y=te.default.useExperiment({guildId:t.guild_id},{autoTrackExposure:!0}).enabled,z=(0,h.default)(),$=(0,R.default)(P.default.VOICE_CONTROL_TRAY).AnalyticsLocationProvider;if(!w)return De($,{},void 0,De(Be,{channel:t,cameraUnavailable:y,hasCameraPermission:g}));var q=Y&&de.default.can({permission:Se.Permissions.ADD_REACTIONS,user:p,context:t})&&!t.isPrivate(),X=a.PRIMARY_DARK;n===Se.ChannelModes.VOICE&&(X=z===Se.ThemeTypes.LIGHT?a.PRIMARY_LIGHT:X);var Z=o.WHITE;n===Se.ChannelModes.VOICE&&(Z=z===Se.ThemeTypes.LIGHT?o.ACTIVE_LIGHT:Z);var J=[];q&&J.push(c.DismissibleContent.VOICE_CHANNEL_EFFECTS_BUTTON_SPARKLE);return De($,{},void 0,De(m.default,{section:Se.AnalyticsSections.VOICE_CONTROL_TRAY
},void 0,De("div",{className:Ie.default.eventPromptsContainer},void 0,De(V.default,{guildId:t.guild_id,channelId:t.id})),De("div",{className:(0,l.default)(Ie.default.wrapper,r)},void 0,!N&&De(le.default,{renderPopout:function(e){var t=e.closePopout;return De(K.default,{},void 0,De(L.default,{onClose:t}))},position:le.default.Positions.TOP,align:le.default.Align.CENTER,animation:le.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return De(ee.default,{centerButton:!0,color:_?Z:X,hasPermission:g,className:Ie.default.controlButton,enabled:_,cameraUnavailable:y,onChange:Ue,onCameraUnavailable:_e.default,channelLimitReached:H,channelLimit:W,popoutOpen:r,onPopoutClick:n})})),!N&&De(Fe,{channel:t}),!N&&De(Ge,{coloring:[X,Z],channel:t,currentUser:p,exitFullScreen:u,canGoLive:C,hasPermission:g}),De(le.default,{renderPopout:function(e){var t=e.closePopout;return De(K.default,{},void 0,De(D.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,
renderInputModes:!0}))},align:le.default.Align.CENTER,position:le.default.Positions.TOP,animation:le.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return De(Q.default,{color:T?Z:X,centerButton:!0,onPopoutClick:N?null:n,className:Ie.default.controlButton,selfMute:O,serverMute:I,suppress:S,popoutOpen:r,awaitingRemote:M,onClick:function(){return(0,k.default)(I,S)}})})),q?De("div",{className:Ie.default.buttonContainer},void 0,De(ye.default,{channel:t,baseColor:X,activeColor:Z}),De(j.default,{contentTypes:J},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===c.DismissibleContent.VOICE_CHANNEL_EFFECTS_BUTTON_SPARKLE)return De(se.TooltipContainer,{text:be.default.Messages.VOICE_CHANNEL_EFFECTS_SPARKLE_TOOLTIP,forceOpen:null!=d&&!d.idle,className:Ie.default.sparkleContainer,color:se.default.Colors.BRAND,tooltipClassName:Ie.default.effectTooltip},void 0,De("div",{onMouseEnter:function(){return n()},className:Ie.default.sparkleContainer},void 0,He))
}))):null,De(xe,{connectedActivityApplicationId:F,currentUser:p,channel:t,onDisconnectCall:i}))))}We.displayName="CenterControlTray"},989704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=c(n(683767)),u=c(n(893783)),l=c(n(858271)),s=c(n(160629)),d=c(n(386854)),f=c(n(716698));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=e.channel,n=e.baseColor,r=e.activeColor,c=y(a.useState(!1),2),p=c[0],m=c[1],_=y(a.useState(!1),2),h=_[0],g=_[1],E=y(a.useState(!1),2),S=E[0],O=E[1],b=y(a.useState(null),2),I=b[0],T=b[1],C=y(a.useState(null),2),A=C[0],M=C[1],N=(0,o.useStateFromStores)([l.default],(function(){return l.default.effectCooldownEndTime})),P=a.useMemo((function(){return null!=N?(N.getTime()-Date.now())/1e3:0}),[N]),R=(0,i.default)(null!=N?N:new Date).seconds,w=R>0,D=a.useCallback((function(e,t){null!==I&&clearTimeout(I);if(!S&&!w){if(!p){m(!0);g(!1)}t(e)}
}),[I,S,w,p]),L=a.useCallback((function(){null!==I&&clearTimeout(I);S||T(setTimeout((function(){m(!1);T(null)}),300))}),[I,S]),k=a.useCallback((function(){null!==A&&clearTimeout(A);S||M(setTimeout((function(){g(!1);M(null)}),300))}),[A,S]),j=a.useCallback((function(){if(!h){g(!0);m(!1)}if(null!=A){clearTimeout(A);M(null)}}),[A,h]),U=a.useCallback((function(e,t){if(null!==I){clearTimeout(I);T(null)}if(null!==A){clearTimeout(A);M(null)}O(!S);p&&!S||t(e)}),[A,I,S,p]);a.useEffect((function(){return function(){null!=I&&clearTimeout(I);null!=A&&clearTimeout(A)}}),[A,I]);var G=p||h||S;return v(s.default,{animationPosition:s.default.Positions.BOTTOM,position:s.default.Positions.BOTTOM,align:s.default.Align.CENTER,useMouseEnter:!0,onRequestClose:function(){m(!1);g(!1);O(!1)},renderPopout:function(e){var n=e.closePopout;return v(d.default,{isHovered:G,channel:t,closePopout:n,onMouseEnter:j,onMouseLeave:k})}},void 0,(function(e){var t=e.onClick,a=e.onMouseEnter;return v(u.default,{
totalCooldownSeconds:P,remainingCooldownSeconds:R,color:G?r:n,className:f.default.controlButton,onClick:function(e){return U(e,t)},onMouseEnter:function(e){return D(e,a)},onMouseLeave:L})}))};_.displayName="CenterControlTrayEffectButton";var h=_;t.default=h},386854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(222935)),i=l(n(305241)),u=l(n(16941));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.isHovered,n=e.closePopout,r=e.onMouseEnter,l=e.onMouseLeave,s=e.channel;a.useEffect((function(){t||n()}),[n,t]);return d(o.default,{},void 0,d(u.default,{onMouseEnter:r,onMouseLeave:l},void 0,d(i.default,{channel:s,closePopout:n})))};f.displayName="EffectButtonPopout";var c=f;t.default=c},828839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(864345)),u=h(n(936353)),l=h(n(423046)),s=h(n(530250)),d=n(956506),f=h(n(170555)),c=h(n(508957)),p=h(n(151503)),v=h(n(232269)),y=n(770348),m=n(859089),_=h(n(367374));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=(0,i.default)((function(e){var t=e.participants,n=e.filteredParticipants,r=e.selectedParticipant,i=e.participantsVersion,h=e.layout,g=e.onSelectParticipant,S=e.onContextMenuParticipant,O=e.onFullscreenParticipant,b=e.channel,I=e.hasConnectPermission,T=e.className,C=e.inCall,A=e.showParticipants,M=void 0===A||A,N=e.paused,P=void 0!==N&&N,R=e.width,w=e.height,D=e.idle,L=e.mode,k=e.popoutWindow;a.useEffect((function(){d.ComponentDispatch.dispatch(y.ComponentActions.REMEASURE_TARGET)}),[R,w]);var j=a.useMemo((function(){return n.filter((function(e){return e.type!==m.ParticipantTypes.ACTIVITY||!e.participants.has(l.default.getId())}))}),[n,i]);if((null==b?void 0:b.isGuildVocal())&&!C)return E(f.default,{channel:b,participants:t,hasConnectPermission:I})
;if(L===y.ChannelModes.VOICE)return E(u.default,{guildId:b.guild_id,width:R,className:_.default.voiceCallWrapper,participants:t,onContextMenu:S});n=C?n:t;return null==r?0===n.length?E(v.default,{className:(0,o.default)(_.default.videoGrid,_.default.hiddenParticipants),channelId:b.id,width:R}):E(s.default,{className:_.default.videoGridWrapper,justify:s.default.Justify.CENTER,align:s.default.Align.CENTER},void 0,E(c.default,{channel:b,className:_.default.videoGrid,participants:j,totalNumberOfParticipants:t.length,onClick:g,onDoubleClick:O,onContextMenu:S,paused:P,inCall:C})):E(p.default,{onFullscreenParticipant:O,onContextMenuParticipant:S,onSelectParticipant:g,selectedParticipant:r,filteredParticipants:j,participants:t,popoutWindow:k,className:T,idle:D,height:w,width:R,layout:h,inCall:C,channel:b,showParticipants:M})}));t.default=S},421622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_WIDTH=t.FORCE_HIDE_PARTICIPANTS_WIDTH=void 0
;t.getPipParticipants=function(e,t,n){if(null==t||t.type===i.ParticipantTypes.ACTIVITY)return[];return[t.type===i.ParticipantTypes.STREAM?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,o.default)(e)})):null,t.type===i.ParticipantTypes.USER?e.find((function(e){return e.type===i.ParticipantTypes.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId})):null,t.id!==n?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===n&&(0,o.default)(e)})):null].filter(a.isNotNullish)};var r,a=n(71246),o=(r=n(183612))&&r.__esModule?r:{default:r},i=n(859089);t.PARTICIPANTS_WIDTH=228;t.FORCE_HIDE_PARTICIPANTS_WIDTH=684},170555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getParticipantNamesText=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(136873)),i=v(n(956117)),u=n(772575),l=n(645758),s=v(n(203737)),d=v(n(709578)),f=n(859089),c=v(n(247001)),p=v(n(657091));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function _(e,t){return 0===t.length?c.default.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?c.default.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,s.default)(e,t[0])}):2===t.length?c.default.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1])}):t.length>2?c.default.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1]),n:t.length-2}):void 0}function h(e){var t=e.participants,n=e.channel,r=e.hasConnectPermission,s=t.filter(f.isUserParticipant),v=a.useCallback((function(){o.default.selectVoiceChannel(n.id)}),[n.id]),y=4===s.length?2:3;return m("div",{className:p.default.container},void 0,m("div",{className:p.default.tiles,style:{maxWidth:168*y}},void 0,s.slice(0,5).map((function(e){return m(d.default,{participant:e,channel:n,className:p.default.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))),m(u.Heading,{className:p.default.channelName,variant:"heading-xxl/medium",
level:3},void 0,n.name),m("div",{className:p.default.participantsRow},void 0,m(l.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,_(n,s))),m(i.default,{disabled:!r,className:p.default.joinButton,color:r?i.default.Colors.GREEN:i.default.Colors.PRIMARY,onClick:v,size:i.default.Sizes.MEDIUM},void 0,r?c.default.Messages.JOIN_VOICE:c.default.Messages.CHANNEL_LOCKED_SHORT))}h.displayName="ChannelCallEmpty";var g=h;t.default=g},508957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(47354),i=n(536211),u=n(433383),l=_(n(185948)),s=n(689575),d=_(n(30098)),f=_(n(689389)),c=_(n(838696)),p=_(n(709578)),v=_(n(421417)),y=n(770348),m=_(n(946234));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.participants,n=e.onClick,r=e.onDoubleClick,_=e.onContextMenu,h=e.channel,E=e.className,S=e.inCall,O=e.totalNumberOfParticipants,b=e.paused,I=void 0!==b&&b,T=(0,
u.useAppContext)()===y.AppContext.POPOUT,C=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuild(h.guild_id)}),[h.guild_id]),A=(0,i.useStateFromStores)([f.default],(function(){return h.isPrivate()||(0,s.canViewInviteModal)(f.default,C,h)}),[C,h]),M=(null==C?void 0:C.afkChannelId)===h.id,N=h.userLimit<=0||h.userLimit>1,P=t.map((function(e){return function(t){return g(p.default,{participant:e,channel:h,className:m.default.tile,paused:I,onClick:n,onDoubleClick:r,onContextMenu:_,inCall:S,width:t,inPopout:T},e.id)}}));(0,l.default)({type:o.ImpressionTypes.VIEW,name:o.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:O,can_invite:A,is_afk_channel:M,channel_user_limit:h.userLimit}},{trackOnInitialLoad:!0},[]);null!=C&&!M&&N&&1===O&&A&&P.push((function(e){return g(v.default,{width:e,channel:h,guild:C,inPopout:T})}));var R=a.useCallback((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.id)&&void 0!==n?n:"empty-tile"}),[t])
;return g(c.default,{className:E,keyExtractor:R,paddingTop:64,paddingBottom:64},void 0,P)}E.displayName="ChannelCallGrid"},421417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=y(n(667294)),o=n(194322),i=p(n(611456)),u=y(n(518931)),l=n(770348),s=n(371621),d=p(n(247001)),f=p(n(200146)),c=p(n(222917));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=e.channel,r=e.guild,p=e.width,v=e.inPopout
;return m(i.default,{className:f.default.root},void 0,m(u.default,{artURL:c.default,size:(0,u.getSizeForWidth)(p),header:d.default.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,o.openModalLazy)(g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,_({},e,{guild:r,channel:t,source:l.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:v?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT})},callToAction:d.default.Messages.INSTANT_INVITE}))}E.displayName="EmptyTile"},518931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;t.getSizeForWidth=function(e){return e<400?"small":e<1e3?"medium":"large"};!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(956117)),i=s(n(530250)),u=n(645758),l=s(n(260382));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.onCTAClick,n=e.callToAction,r=e.header,s=e.description,d=e.size,c=e.className,p=e.artURL,v=e.noArt,y=void 0!==v&&v,m=e.selected,_=void 0!==m&&m;return f(i.default,{className:c,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER,direction:i.default.Direction.VERTICAL},void 0,!y&&null!=p&&f("div",{className:(0,a.default)(l.default.art,l.default[d]),style:{backgroundImage:"url("+p+")"}}),null!=r?f(u.Text,{color:"none",variant:"text-md/normal",className:l.default.header},void 0,r):null,null!=s?f(u.Text,{color:"none",className:l.default.description,variant:"text-sm/normal"},void 0,s):null,_||null==n?null:f(o.default,{className:l.default.outerButton,size:o.default.Sizes.NONE,color:o.default.Colors.WHITE,look:o.default.Looks.BLANK,innerClassName:l.default.button,onClick:function(e){e.stopPropagation();null==t||t(e)}
},void 0,n))}c.displayName="EmptyState"},151503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=b(n(667294)),o=S(n(294184)),i=n(248088),u=S(n(145371)),l=S(n(715801)),s=S(n(423046)),d=S(n(635014)),f=S(n(974661)),c=n(956506),p=S(n(709578)),v=S(n(921532)),y=n(421622),m=b(n(449183)),_=n(770348),h=n(859089),g=S(n(367374)),E=S(n(398720));function S(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=8+m.PARTICIPANTS_HEIGHT;function N(e){
var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,S=e.onFullscreenParticipant,O=e.participants,b=e.filteredParticipants,A=e.popoutWindow,N=e.inCall,P=e.channel,R=e.selectedParticipant,w=e.showParticipants,D=void 0===w||w,L=e.className,k=e.paused,j=e.width,U=e.height,G=e.layout,F=e.idle,x=null!=A,B=d.default.getVideoComponent(),H=s.default.getId(),W=C(a.useState(null),2),V=W[0],Y=W[1],K=C(a.useState(!0),2),z=K[0],$=K[1],q=C(a.useState(!1),2),X=q[0],Q=q[1],Z=R.type===h.ParticipantTypes.ACTIVITY,J=!Z&&null!=R.streamId,ee=J&&null!=V&&V.width>0&&V.height>0?V.width/V.height:1.7777777777777777,te=U<=2*M+144,ne=D&&!te,re=(0,u.default)(ne),ae=0;(Z||ne)&&(ae+=72);Z&&!ne&&(ae+=48);ne&&(ae+=.5*M+8);var oe,ie=U-2*ae,ue=ie*ee,le=Math.floor(Math.min(j,ue)/ee),se=U>j/ee+72+M+8;oe=!ne&&!Z?40+Math.max(0,72-(U-le)/2):ne?-16:-8;a.useEffect((function(){var e=setTimeout((function(){$(!1)}),250);return function(){clearTimeout(e)}}),[]);var de=(0,i.useSpring)({value:ne?1:0,delay:se||!ne?0:100,
config:T({},i.config.stiff,{clamp:!0}),onStart:function(){return Q(!0)},onChange:function(){return c.ComponentDispatch.dispatch(_.ComponentActions.REMEASURE_TARGET)},onRest:function(){Q(!1);c.ComponentDispatch.dispatch(_.ComponentActions.REMEASURE_TARGET)}}),fe=(0,i.useSpring)({value:ne?1:0,config:T({},i.config.stiff,{clamp:!0})}),ce=(0,i.useSpring)({value:ue,config:T({},i.config.stiff,{clamp:!0}),immediate:re===ne&&fe.value.idle}),pe=(0,i.useSpring)({value:oe,config:T({},i.config.stiff,{clamp:!0})}),ve=(0,i.useTransition)(R,{keys:function(e){return null==e?void 0:e.id},config:T({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),ye=a.useCallback((function(e){Y(e);$(!1)}),[]),me=ne||k?[]:(0,y.getPipParticipants)(O,R,H),_e=(0,m.useVisibleParticipants)(j,b),he=_e.visibleParticipants,ge=_e.participantTileWidth;return I("div",{className:(0,o.default)(E.default.root,g.default.flexCenter,L)},void 0,I("div",{className:E.default.tileWrapper,style:{
opacity:J&&z?0:1}},void 0,I(i.animated.div,{className:E.default.videoFrame,style:{top:fe.value.to((function(e){return-e*M/2}))}},void 0,I(i.animated.div,{style:{width:ce.value},className:E.default.videoWrapper},void 0,I(f.default,{className:g.default.videoSizer,aspectRatio:ee},void 0,ve((function(e,t,a){var o=a.key;return null!=t?I(i.animated.div,{className:g.default.videoWrapperAnimated,style:e},o,I(p.default,{focused:!0,noBorder:ue>=j||ie>=U,channel:P,className:g.default.focusedVideo,videoComponent:B,paused:k,width:j,participant:t,onClick:n,onDoubleClick:S,onContextMenu:r,onVideoResize:ye,inCall:N,inPopout:x})):null})))),te||G===_.ChannelLayouts.MINIMUM||G===_.ChannelLayouts.NORMAL?null:I(i.animated.div,{className:(0,o.default)(E.default.actionRow,(t={},t[E.default.idle]=F,t)),style:{bottom:pe.value}},void 0,I(l.default,{channelId:P.id,isParticipantsOpen:D,isVertical:!0}))),I(i.animated.div,{className:E.default.participantsWrapperAnimated,style:{translateY:de.value.to((function(e){
return e*M/2})),opacity:de.value,visibility:de.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,I(m.default,{channel:P,onClick:n,onContextMenu:r,onDoubleClick:S,participants:he,participantTileWidth:ge,selectedParticipantId:R.id,inCall:N,paused:k||X||!D,popoutWindow:A}))),me.length>0?I(v.default,{onContextMenuParticipant:r,width:j,height:U,channel:P,participants:me}):null)}N.displayName="HorizontalFocusedView"},449183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_HEIGHT=void 0;t.default=I;t.useVisibleParticipants=function(e,t){var n=_(a.useState(Date.now()),2),r=n[0],u=n[1];a.useEffect((function(){var e=setTimeout((function(){u(Date.now())}),1e4);return function(){clearTimeout(e)}}),[t]);var s=a.useRef({}),f=a.useMemo((function(){var n=Date.now(),r=(0,o.sortBy)(t,(function(e){return function(e,t){var n;void 0===t&&(t=Date.now());switch(e.type){case d.ParticipantTypes.ACTIVITY:return"\0"+e.sortKey
;case d.ParticipantTypes.HIDDEN_STREAM:case d.ParticipantTypes.STREAM:return""+(0,i.userKey)(e.userNick,e.user);case d.ParticipantTypes.USER:var r="";e.speaking?r="":t-e.lastSpoke<O?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return""+r+(a=e.lastSpoke,o=String(E).length,String(E-a).padStart(o,"0"))+(0,i.userKey)(e.userNick,e.user)}var a,o}(e,n)})),a=_((0,o.partition)(r,d.isStreamParticipant),2),u=a[0],f=a[1],c=f.findIndex(b),p=null;if(-1!==c){p=f[c];f.splice(c,1)}var v=null!=p?e-S-8:e,y=Math.floor((v-8)/132),g=Math.max(0,Math.min(y,12,t.length)),I=Math.min((v-8)/g-8,S),T=Math.max(0,g-u.length),C=u.slice(0,g),A=f.slice(0,T),M=new Array(T);if(T>0){for(var N,P=[],R=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(A);!(N=R()).done;){var w=N.value,D=s.current[w.id];null!=D&&D<T?M[D]=w:P.push(w)}for(var L=0;L<M.length;L++)if(null==M[L]){var k=P.shift();if(null==k)break;M[L]=k}}var j=M.filter(l.isNotNullish),U=(0,o.keyBy)((0,o.range)(j.length),(function(e){return j[e].id}));s.current=U;var G=[].concat(m(C),m(j));null!=p&&G.push(p);return{visibleParticipants:G,participantTileWidth:I}}),[e,t,r]),c=f.visibleParticipants,p=f.participantTileWidth;return{visibleParticipants:c,participantTileWidth:p}};var r,a=v(n(667294)),o=n(496486),i=n(269503),u=c(n(423046)),l=n(71246),s=v(n(709578)),d=n(859089),f=c(n(388832));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=864e13;t.PARTICIPANTS_HEIGHT=112;var S=16/9*112+8,O=1e4;function b(e){var t,n=u.default.getId();return e.type===d.ParticipantTypes.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function I(e){var t=e.participants,n=e.participantTileWidth,r=e.selectedParticipantId,a=e.onDoubleClick,o=e.onContextMenu,i=e.onClick,u=e.channel,l=e.inCall,d=e.popoutWindow,c=e.paused,p=void 0!==c&&c,v=null!=d;return y("div",{className:f.default.root},void 0,t.map((function(e){if(null==e)return null;var t=b(e);return y("div",{className:f.default.tileSizer,style:t?{flexShrink:0}:void 0},e.id,y(s.default,{participant:e,selected:r===e.id,channel:u,className:f.default.tile,fit:s.CallTileFit.COVER,
onClick:i,onDoubleClick:a,onContextMenu:o,width:t?S:n,inCall:l,paused:p,inPopout:v}))})))}I.displayName="HorizontalVideoParticipants"},531334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.stream,r=e.applicationId,h=e.channel,g=e.exitFullScreen,O=e.appContext,I=e.analyticsLocation,T=e.className,C=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,_),A=null==h?void 0:h.getGuildId(),M=(0,u.useStateFromStores)([s.default],(function(){return null!=A?s.default.getGuild(A):null}),[A]);if(!function(e,t){return null!=e&&null!=t&&d.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(M,h))return null;var N=y.default.Messages.INSTANT_INVITE;null!=t?N=y.default.Messages.INVITE_STREAM_HEADER:null!=r&&(N=y.default.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return a.createElement(a.Fragment,null,a.createElement(f.default,S({size:f.default.Sizes.SMALL,
color:m.default.buttonColor,onClick:function(){(0,i.default)(null!=M,"guild cannot be null");(0,i.default)(null!=h,"channel cannot be null");!function(e){var t=e.guild,r=e.channel,o=e.streamUserId,i=e.applicationId,u=e.appContext,l=e.exitFullScreen,s=e.analyticsLocation;null==l||l();(0,c.openModalLazy)(b(regeneratorRuntime.mark((function e(){var u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:u=e.sent;l=u.default;return e.abrupt("return",(function(e){return a.createElement(l,S({},e,{guild:t,channel:r,streamUserId:o,applicationId:i,analyticsLocation:s,source:p.InstantInviteSources.STREAM_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"stream-invite-modal",contextKey:u===p.AppContext.POPOUT?v.POPOUT_MODAL_CONTEXT:v.DEFAULT_MODAL_CONTEXT})}({guild:M,channel:h,streamUserId:null==t?void 0:t.ownerId,applicationId:r,appContext:O,exitFullScreen:g,
analyticsLocation:I})},className:(0,o.default)(T,m.default.textButton)},C),N),E(l.default,{channel:h,stream:t,appContext:O,className:(0,o.default)(T,m.default.iconButton),exitFullScreen:g,analyticsLocation:I}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=h(n(441143)),u=n(536211),l=h(n(336156)),s=h(n(30098)),d=h(n(689389)),f=h(n(956117)),c=n(194322),p=n(770348),v=n(371621),y=h(n(247001)),m=h(n(684592)),_=["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"];function h(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}},232269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;s(n(667294));var r,a=u(n(229132)),o=s(n(518931)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=n(153996);function c(e){var t=e.width,n=e.className,r=e.channelId,u=e.noArt,l=void 0!==u&&u;return d(o.default,{artURL:f,noArt:l,size:(0,o.getSizeForWidth)(t),className:n,callToAction:i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){return a.default.toggleVoiceParticipantsHidden(r,!1)}})}c.displayName="ParticipantsHidden"},603218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ee(n(667294)),o=Z(n(441143)),i=Z(n(496486)),u=Z(n(536211)),l=Z(n(740207)),s=Z(n(505437)),d=n(264720),f=Z(n(136873)),c=n(844784),p=Z(n(825724)),v=Z(n(66384)),y=Z(n(310268)),m=n(678928),_=n(747868),h=Z(n(379310)),g=Z(n(925013)),E=Z(n(908921)),S=ee(n(8475)),O=n(139982),b=Z(n(625905)),I=Z(n(134893)),T=Z(n(244612)),C=Z(n(401311)),A=Z(n(866219)),M=Z(n(305914)),N=Z(n(199138)),P=Z(n(607209)),R=Z(n(423046)),w=Z(n(635014)),D=Z(n(290629)),L=Z(n(728429)),k=Z(n(529688)),j=Z(n(189434)),U=Z(n(949898)),G=Z(n(275189)),F=Z(n(114655)),x=Z(n(308920)),B=Z(n(29652)),H=Z(n(440556)),W=Z(n(381390)),V=Z(n(7969)),Y=Z(n(111014)),K=Z(n(493051)),z=Z(n(152803)),$=Z(n(310261)),q=n(770348),X=n(859089),Q=Z(n(10263));function Z(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var oe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ae(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={screensharePopoutOpen:!1};t._ref=a.createRef();t.handleVideo=function(e){l.default.setVideoEnabled(e)};t.handleEnableVideoWhenUnavailable=function(){t.props.isVideoAvailable?t.handleVideo(!0):(0,K.default)()};t.handleJumpToChannel=function(){var e,n=t.props.channel;(0,d.popAllLayers)();var r=null!==(e=n.getGuildId())&&void 0!==e?e:q.ME;s.default.channelListScrollTo(r,n.id);(0,O.transitionToGuild)(r,n.id)};t.handleStartStream=function(){var e=t.props,n=e.canGoLive,r=e.channel,a=r.getGuildId();(0,
o.default)(null!=a,"Cannot go live in non guild channel");if(!n)return(0,z.default)();(0,$.default)(a,r.id,q.AnalyticsPages.GUILD_CHANNEL)};t.handleStopStream=function(){var e=t.props.participantOnScreen;(0,o.default)((0,X.isStreamParticipant)(e),"cannot stop stream for non streamer");(0,E.default)(e.stream)};t.handleOpenPopout=function(){var e=t.props.channel;S.openChannelCallPopout(e)};t.handleDisconnect=function(){f.default.selectVoiceChannel(null)};t.renderBottomLeftControls=function(){var e=t.viewProperties.canSeeParticipantName;return a.createElement(a.Fragment,null,e?t.renderParticipantName():null)};t.renderBottomRightControls=function(){var e=t.viewProperties,n=e.canSettings,r=e.canPopout,o=e.canDisconnect,i=e.canStopStream,u=e.canSeeViewers;return a.createElement(a.Fragment,null,u?t.renderViewersIcon():null,n?t.renderSettingsIcon():null,r?t.renderPopoutIcon():null,i?t.renderStopStreamButton():null,o?t.renderDisconnectButton():null)};t.renderDisconnectButton=function(){
return ne(C.default,{className:Q.default.rightTrayIcon,onClick:t.handleDisconnect})};t.renderStopStreamButton=function(){var e=t.viewProperties.isSelf;return ne(M.default,{isSelfStream:e,className:Q.default.rightTrayIcon,onClick:t.handleStopStream})};t.renderViewersIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.channel;(0,o.default)((0,X.isStreamParticipant)(n)||(null==n?void 0:n.type)===X.ParticipantTypes.ACTIVITY,"Cannot render participants for participant type "+(null==n?void 0:n.type));return ne(I.default,{},void 0,ne(y.default,{channelId:r.id,guildId:r.getGuildId(),className:Q.default.rightTrayIcon,participant:n,compact:!0}))};t.renderPopoutIcon=function(){return ne(A.default,{className:Q.default.rightTrayIcon,popoutOpen:!1,onOpenPopout:t.handleOpenPopout,onClosePopout:q.NOOP_NULL})};t.renderSettingsIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.activeStreams;(0,o.default)((0,X.isStreamParticipant)(n),"Cannot render settings for non stream participant")
;var a=r.find((function(e){return(0,_.encodeStreamKey)(e)===n.id}));return null==a||a.state===q.ApplicationStreamStates.ENDED?null:ne(N.default,{stream:a,className:Q.default.rightTrayIcon,appContext:q.AppContext.APP})};return t}var n=t.prototype;n.getScreenMessage=function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId;if(!(0,X.isStreamParticipant)(t))return null;var r=this.activeStreamForSelectedParticipant;return null==r?null:(0,g.default)(r,t.user,t.user.id===n,this.streamerPaused)};n.componentDidMount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:"pip"},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.componentWillUnmount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:p.default.getLayout(e.id)},(0,c.collectVoiceAnalyticsMetadata)(e.id)))};n.renderStreamState=function(){var e=this.activeStreamForSelectedParticipant,t=this.props.participantOnScreen
;return(null==e?void 0:e.state)===q.ApplicationStreamStates.ENDED?ne(W.default,{stream:e,width:X.PIP_WIDTH}):(null==e?void 0:e.state)===q.ApplicationStreamStates.FAILED?ne(V.default,{stream:e,width:X.PIP_WIDTH}):(null==t?void 0:t.type)===X.ParticipantTypes.HIDDEN_STREAM?ne(Y.default,{participant:t,width:X.PIP_WIDTH}):null};n.renderParticipantName=function(){var e=this.props,t=e.channel,n=e.participantOnScreen;if((null==n?void 0:n.type)===X.ParticipantTypes.STREAM||(null==n?void 0:n.type)===X.ParticipantTypes.USER){var r,a=null!==(r=B.default.getNickname(t.getGuildId(),t.id,n.user))&&void 0!==r?r:n.user.username;return ne(F.default,{size:F.default.Sizes.SIZE_16,color:q.Colors.WHITE,className:Q.default.participantName},void 0,a)}return null};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.streamId,o=t.participantOnScreen,i=t.isVideoEnabled,u=(0,m.computeChannelName)(n,L.default,D.default),l=(null==o?void 0:o.id)===R.default.getId()&&i,s=this.renderStreamState(),d=null
;(null==o?void 0:o.type)!==X.ParticipantTypes.ACTIVITY&&(null!=s?d=s:(null==o?void 0:o.type)!==X.ParticipantTypes.USER&&(null==o?void 0:o.type)!==X.ParticipantTypes.STREAM||(d=ne(H.default,{paused:this.streamerPaused,streamId:r,component:w.default.getVideoComponent(),mirror:l},void 0,ne(G.default,{size:G.default.AvatarSizes.SIZE_80,src:null==o?void 0:o.user.getAvatarURL(n.guild_id,80),"aria-label":null==o?void 0:o.user.username}))));return ne(b.default,{timeout:1800},void 0,(function(t){var n;return a.createElement(T.default,te({title:u,backgroundKey:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",screenMessage:e.getScreenMessage(),onJumpToChannel:e.handleJumpToChannel,renderBottomLeftControls:e.renderBottomLeftControls,renderBottomRightControls:e.renderBottomRightControls,preventIdleComponent:I.default,width:X.PIP_WIDTH},t),d)}))};!function(e,t,n){t&&re(e.prototype,t);n&&re(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"viewProperties",get:function(){
var e=this.props,t=e.participantOnScreen,n=e.currentUserId,r=e.channel,a=(0,X.isStreamParticipant)(t),o=null!=t&&t.type!==X.ParticipantTypes.ACTIVITY&&t.user.id===n;return{canPopout:a&&!o,canSettings:a&&o,canStopStream:a,canSeeViewers:a,canSeeParticipantName:((null==t?void 0:t.type)===X.ParticipantTypes.STREAM||(null==t?void 0:t.type)===X.ParticipantTypes.USER)&&r.type!==q.ChannelTypes.DM,canDisconnect:!a,isSelf:o}}},{key:"streamerPaused",get:function(){var e=this.props,t=e.isMainWindowFocused,n=e.activeSelfStream,r=e.participantOnScreen;return null!=n&&(null==r?void 0:r.id)===(0,_.encodeStreamKey)(n)&&!t}},{key:"activeStreamForSelectedParticipant",get:function(){var e=this.props,t=e.participantOnScreen,n=e.activeStreams;return(0,X.isStreamParticipant)(t)?n.find((function(e){return(0,_.encodeStreamKey)(e)===t.id})):null}}]);return t}(a.PureComponent);oe.displayName="PictureInPictureVideoContainer"
;var ie=u.default.connectStores([w.default,p.default,R.default,k.default,j.default,P.default,U.default],(function(e){var t=e.channel,n=k.default.getSpeaker(t.id),r=p.default.getParticipant(t.id,n),a=(0,i.default)(w.default.getVideoDevices()).values().first(),o=null==a||a.disabled,u=null!=r&&r.type!==X.ParticipantTypes.ACTIVITY&&r.type!==X.ParticipantTypes.HIDDEN_STREAM?j.default.getStreamId(r.user.id,(0,v.default)(r.type)):null,l=!1===o,s=!o&&w.default.isVideoEnabled(),d=(0,h.default)(w.default),f=R.default.getId();return{channel:t,streamId:u,participantOnScreen:r,isVideoAvailable:l,isVideoEnabled:s,canGoLive:d,currentUserId:f,activeStreams:P.default.getAllActiveStreams(),activeSelfStream:P.default.getActiveStreamForUser(f),isMainWindowFocused:U.default.isFocused()}}))(oe);t.default=ie},474628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=S(n(177230)),u=S(n(303798)),l=S(n(902305)),s=S(n(607209)),d=S(n(644263)),f=S(n(122913)),c=S(n(635014)),p=S(n(218843)),v=S(n(893160)),y=S(n(211136)),m=S(n(790597)),_=S(n(387692)),h=n(770348),g=n(376293);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function b(){var e,t=r;if(null==t||!p.default.isOpen(t))return!1;a.default.wait((function(){return o.close(t)}))
;null===(e=v.default.getRTCConnection())||void 0===e||e.setPipOpen(!1);r=null}function I(){var e=v.default.getChannelId(),t=r===e;if(function(){var e=v.default.getChannelId(),t=y.default.getChannelId();if(!c.default.supports(g.Features.VIDEO))return!0;if(l.default.getWindowOpen(h.PopoutWindowKeys.CHANNEL_CALL_POPOUT))return!0;var n=s.default.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(_.default.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!c.default.isLocalVideoDisabled(t)}))||n))return!0;var r=f.default.hasLayers();return!(r&&f.default.getLayers().includes(h.Layers.RTC_DEBUG)||!r&&e!==t)}())return b();t||b();return null!=e&&function(e){var t,n=d.default.getChannel(e);if(null==n||p.default.isOpen(e))return!1;a.default.wait((function(){return o.open(n.id,h.PictureInPictureComponents.VIDEO,{channel:n})}));null===(t=v.default.getRTCConnection())||void 0===t||t.setPipOpen(!0);r=e}(e)}var T=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){y.default.addChangeListener(I);m.default.addChangeListener(I);v.default.addChangeListener(I);_.default.addChangeListener(I);f.default.addChangeListener(I);s.default.addChangeListener(I);l.default.addChangeListener(I);c.default.addChangeListener(I);u.default.addChangeListener(I)};n._terminate=function(){y.default.removeChangeListener(I);m.default.removeChangeListener(I);v.default.removeChangeListener(I);_.default.removeChangeListener(I);f.default.removeChangeListener(I);s.default.removeChangeListener(I);l.default.removeChangeListener(I);c.default.removeChangeListener(I);u.default.removeChangeListener(I)};n.__getLocalVars=function(){return{openChannelId:r}};return t}(i.default));t.default=T},381390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;d(n(667294))
;var r,a,o=n(123516),i=n(747868),u=d(n(518931)),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=n(802566);function p(e){var t=e.stream,n=e.width,r=e.noArt,a=void 0!==r&&r,s=e.selected,d=void 0!==s&&s;return f(u.default,{artURL:c,noArt:a,selected:d,size:(0,u.getSizeForWidth)(n),header:l.default.Messages.STREAM_ENDED,onCTAClick:function(){return(0,o.closeStream)((0,i.encodeStreamKey)(t))},callToAction:l.default.Messages.CLOSE_STREAM})}p.displayName="StreamEnded"},7969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;c(n(667294));var r,a=n(123516),o=n(747868),i=d(n(550270)),u=c(n(518931)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=n(192941);function y(e){var t=e.stream,n=e.width,r=e.selected,d=void 0!==r&&r,f=e.noArt,c=void 0!==f&&f;return p(u.default,{artURL:v,header:s.default.Messages.STREAM_FAILED_TITLE,size:(0,u.getSizeForWidth)(n),noArt:c,selected:d,
description:s.default.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:i.default.getArticleURL(l.HelpdeskArticles.STREAM_FAILED)}),onCTAClick:function(){return(0,a.closeStream)((0,o.encodeStreamKey)(t))},callToAction:s.default.Messages.CLOSE_STREAM})}y.displayName="StreamFailed"},111014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;_(n(667294));var r,a=y(n(294184)),o=n(536211),i=n(123516),u=y(n(607209)),l=y(n(423046)),s=y(n(227134)),d=y(n(114655)),f=n(288146),c=_(n(518931)),p=y(n(247001)),v=y(n(207336));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=n(987601);function E(e){var t,n,r=e.participant,y=e.width,m=e.noArt,_=void 0!==m&&m,E=e.selected,S=void 0!==E&&E,O=y<195,b=(0,o.useStateFromStores)([u.default,l.default],(function(){return u.default.getAllActiveStreams().some((function(e){return e.ownerId!==l.default.getId()}))}));return h("div",{className:(0,
a.default)(v.default.content,v.default.streamHidden,(t={},t[v.default.small]=O,t))},void 0,h(c.default,{className:v.default.streamHiddenEmptyState,artURL:g,noArt:_,selected:S,size:(0,c.getSizeForWidth)(y),header:O?null:p.default.Messages.STREAM_HIDDEN,description:S?null:h("div",{className:(0,a.default)(v.default.streamHiddenCTA,(n={},n[v.default.largePaddingTop]=!O,n))},void 0,h(f.CallTileCTA,{isSmall:O},void 0,h(d.default,{size:O?d.default.Sizes.SIZE_14:d.default.Sizes.SIZE_16,color:d.default.Colors.CUSTOM},void 0,y<175?p.default.Messages.WATCH:p.default.Messages.WATCH_STREAM)),b?h(f.CallTileCTA,{className:v.default.addCTA,tooltip:p.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,i.watchStream)(r.stream,{forceMultiple:!0})},isSmall:O},void 0,h(s.default,{className:v.default.addStreamIcon})):null)}))}E.displayName="StreamHidden"},55055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StreamTileIndicators=function(e){
var t=e.participant,n=e.selected,r=e.focused,o=e.idle,u=e.width,l=(0,i.useStateFromStores)([p.default],(function(){return p.default.getActiveStreamForUser(t.user.id)})),s=(0,N.isVideoCompact)(u);return a.createElement(a.Fragment,null,n?null:G(M.default,{participant:t}),r||null==l||l.state===P.ApplicationStreamStates.ENDED||l.state===P.ApplicationStreamStates.FAILED?null:G(f.default,{size:O.default.Sizes.LARGE,className:L.default.liveIndicator,participant:t,showQuality:!s&&!o,isUpsellEnabled:!1}))};t.default=function(e){var t=e.participant,n=e.selected,r=e.onVideoResize,f=e.paused,_=e.fit,E=e.inPopout,O=e.width,M=y.default.getVideoComponent(),N=(0,i.useStateFromStores)([v.default],(function(){return v.default.getId()})),k=(0,l.default)(),j=t.stream,x=t.user,B=t.streamId,H=(0,i.useStateFromStores)([p.default],(function(){return p.default.getActiveStreamForUser(x.id)}),[x.id]),W=(0,i.useStateFromStores)([p.default],(function(){return p.default.getAllActiveStreams().length>0})),V=(0,
i.useStateFromStores)([m.default],(function(){return m.default.isFocused()})),Y=(null==H?void 0:H.ownerId)===N&&!V&&!E,K=null!=H?(0,s.default)(H,x,x.id===N,Y):null,z=O<195;return k?G(F,{isSmall:z}):(null==H?void 0:H.state)===P.ApplicationStreamStates.ENDED?G(T.default,{selected:n,stream:H,width:O}):(null==H?void 0:H.state)===P.ApplicationStreamStates.FAILED?G(C.default,{selected:n,stream:H,width:O}):t.type===R.ParticipantTypes.HIDDEN_STREAM?G(A.default,{selected:n,participant:t,width:O}):null!=H&&!n&&null!=M&&y.default.supports(w.Features.VIDEO)?a.createElement(a.Fragment,null,G(h.default,{onResize:r,wrapperClassName:L.default.videoWrapper,className:L.default.content,streamId:B,videoComponent:M,fit:_,paused:f||Y}),null!=K?a.createElement(c.default,U({size:(0,I.getSizeForWidth)(O)},K)):null):G("div",{className:(0,o.default)(L.default.content,L.default.streamPreview,($={},$[L.default.small]=z,$))},void 0,G(d.default,{noText:!0,className:(0,o.default)(L.default.absoluteFill,(q={},
q[L.default.streamPreviewOpacity]=null==H,q)),stream:t.stream}),n?null:a.createElement(a.Fragment,null,G(b.CallTileCTA,{isSmall:z},void 0,G(S.default,{size:z?S.default.Sizes.SIZE_14:S.default.Sizes.SIZE_16,color:S.default.Colors.CUSTOM},void 0,O<175?D.default.Messages.WATCH:D.default.Messages.WATCH_STREAM)),W?G(b.CallTileCTA,{className:L.default.addCTA,tooltip:D.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,u.watchStream)(j,{forceMultiple:!0})},isSmall:z},void 0,G(g.default,{className:L.default.addStreamIcon})):null));var $,q};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=k(n(294184)),i=n(536211),u=n(123516),l=k(n(185490)),s=k(n(925013)),d=k(n(645923)),f=k(n(57697)),c=k(n(896566)),p=k(n(607209)),v=k(n(423046)),y=k(n(635014)),m=k(n(949898)),_=n(645758),h=k(n(971146)),g=k(n(227134)),E=k(n(697920)),S=k(n(114655)),O=k(n(528175)),b=n(288146),I=n(518931),T=k(n(381390)),C=k(n(7969)),A=k(n(111014)),M=k(n(697252)),N=n(227482),P=n(770348),R=n(859089),w=n(376293),D=k(n(247001)),L=k(n(32599));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e){var t,n=e.isSmall;return G("div",{className:(0,o.default)(L.default.content,L.default.streamPreview,L.default.streamUnavailable,(t={},t[L.default.small]=n,t))},void 0,G(_.Text,{className:L.default.streamUnavailableText,color:"always-white",variant:n?"text-sm/semibold":"text-md/semibold"},void 0,D.default.Messages.CONSOLE_STREAM_UNAVAILABLE),G("div",{className:L.default.darkCircle},void 0,G(E.default,{className:L.default.stopStreamIcon,foreground:L.default.stopStreamForeground})))}F.displayName="StreamUnavailable"},697252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.participant,n=e.className,r=function(e){if(null==e)return null
;return i.default.isDeveloper?e.message+" ("+e.errorType+")":e.message}((0,a.default)(t));return null!=r?s(o.default,{className:n,errorMessage:r}):null};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(910333)),o=u(n(778339)),i=u(n(776115));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},522503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.participant,n=e.channel,r=e.inCall,b=e.width,I=e.paused,M=e.selected,N=e.fit,P=e.onVideoResize,R=e.blocked,w=e.noVideoRender,D=void 0!==w&&w,L=e.pulseSpeakingIndicator,k=void 0!==L&&L,j=c.default.getVideoComponent(),U=(0,o.useStateFromStores)([f.default],(function(){return f.default.getId()})),G=(0,o.useStateFromStores)([i.default],(function(){return i.default.useReducedMotion})),F=t.user,x=t.streamId,B=t.speaking,H=F.id===U,W=(0,h.default)(t),V=(0,o.useStateFromStores)([p.default],(function(){return p.default.isFocused()})),Y=(0,o.useStateFromStores)([d.default],(function(){
return d.default.getWindowFocused(g.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),K=(0,o.useStateFromStores)([c.default],(function(){return null!=F.id&&c.default.isLocalVideoDisabled(F.id,(0,s.default)(t.type))}),[F.id,t.type]),z=_.default.getName(n.getGuildId(),n.id,F),$=b<124,q=(0,u.useGlobalHasAvatarDecorations)().canUseAvatarDecorations;if(r&&!K&&!D&&W&&!M&&null!=j&&c.default.supports(S.Features.VIDEO))return T(y.default,{onResize:P,wrapperClassName:O.default.videoWrapper,className:O.default.content,mirror:H,streamId:x,videoComponent:j,fit:N,paused:I});var X,Q=!G&&B&&(Y||V),Z=$?A:C,J=q?(0,m.getAvatarDecorationURL)({userId:F.id,avatarDecoration:F.avatarDecoration,size:(0,l.getDecorationSizeForAvatarSize)(Z)}):null;return T("div",{className:(0,a.default)(O.default.content,(X={},X[O.default.blockedAvatar]=R,X))},void 0,T(v.default,{"aria-label":z,src:F.getAvatarURL(n.guild_id,$?E.SizeSpecs[A].size:E.SizeSpecs[C].size,Q),avatarDecoration:J,backgroundSrc:F.getAvatarURL(n.guild_id,80),size:Z,
pulseSpeakingIndicator:k,speaking:B}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=b(n(294184)),o=n(536211),i=b(n(235879)),u=n(832215),l=n(392591),s=b(n(66384)),d=b(n(902305)),f=b(n(423046)),c=b(n(635014)),p=b(n(949898)),v=b(n(275189)),y=b(n(971146)),m=n(692711),_=b(n(29652)),h=b(n(183612)),g=n(770348),E=n(942675),S=n(376293),O=b(n(32599));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=v.default.AvatarSizes.SIZE_80,A=v.default.AvatarSizes.SIZE_40},493051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.supports(i.Features.VIDEO)?(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,d({},t,{header:u.default.Messages.CAMERA_UNAVAILABLE,
body:u.default.Messages.CAMERA_NO_DEVICE,confirmText:u.default.Messages.OKAY,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)})))):(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,d({},t,{header:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:function(){null==e||e();(0,o.openModalLazy)(c(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,d({source:"Video unsupported browser"},e))}))
;case 5:case"end":return e.stop()}}),e)}))))}}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(635014)),o=n(194322),i=n(376293),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}
function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},152803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(){(0,o.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({source:"Screenshare Unavailable"},e))}));case 5:case"end":return e.stop()}}),e)}))))}(0,o.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,l({},t,{header:i.default.Messages.SCREENSHARE_UNAVAILABLE,body:i.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:i.default.Messages.DOWNLOAD_APP,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(247001))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},227482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isNamesCompact=function(e){return e<=124};t.isVideoCompact=function(e){return e<=220}},30269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){a.AlwaysPreviewVideo.getSetting()?(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(35390)]).then(n.bind(n,635390));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,s({},t,{onEnable:e,videoEnabled:!1}))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:"camera-preview",contextKey:t===i.AppContext.POPOUT?u.POPOUT_MODAL_CONTEXT:u.DEFAULT_MODAL_CONTEXT}):null==e||e()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(894826),o=n(194322),i=n(770348),u=n(371621);function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},700598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r,i,u,l=null,s=null,d=null,f=!1,c=!1;switch(e.type){case o.ParticipantTypes.ACTIVITY:break;case o.ParticipantTypes.USER:l=e.streamId;d=e.voiceState;f=e.speaking;c=e.ringing;break;case o.ParticipantTypes.STREAM:l=e.streamId;s=e.stream}return{streamId:l,stream:s,speaking:f,ringing:c,
muted:null!==(n=null===(r=d)||void 0===r?void 0:r.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(i=null===(u=d)||void 0===u?void 0:u.isVoiceDeafened())&&void 0!==i&&i,mirror:e.type===o.ParticipantTypes.USER&&e.user.id===t,hasVideo:(0,a.default)(e)}};var r,a=(r=n(183612))&&r.__esModule?r:{default:r},o=n(859089)},116780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var l=(0,r.useStateFromStores)([o.default],(function(){return null!=n?(0,a.getStreamerApplication)(n,o.default):null}),[n]),s=i.default.getName(e.getGuildId(),e.id,t);if(null==n)return s;return null!=(null==l?void 0:l.name)?u.default.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==l?void 0:l.name,username:s}):u.default.Messages.GO_LIVE_TILE_SCREEN.format({username:s})};var r=n(536211),a=n(10614),o=l(n(788739)),i=l(n(29652)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}},222935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=function(e){var t=e.children,n=(0,a.usePreventIdle)("popup"),o=n.preventIdle,i=n.allowIdle;r.useEffect((function(){o();return function(){return i()}}),[i,o]);return r.createElement(r.Fragment,null,t)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(134893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},48102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOAST_LINGER_MS=void 0;t.default=G;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=N(n(294184)),i=n(496486),u=n(248088),l=n(536211),s=N(n(636602)),d=N(n(229132)),f=N(n(786345)),c=N(n(252566)),p=N(n(116518)),v=n(907932),y=n(851757),m=N(n(427498)),_=n(14219),h=N(n(644263)),g=N(n(201292)),E=N(n(290629)),S=N(n(16941)),O=n(961365),b=n(692711),I=n(956506),T=n(71246),C=n(518802),A=n(770348),M=N(n(123984));function N(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.TOAST_LINGER_MS=1e4;function U(e){var t,n,r,i,u=e.message,s=e.inPopout,g=(0,l.useStateFromStores)([E.default],(function(){return E.default.isBlocked(u.author.id)})),T=(0,v.useNullableMessageAuthor)(u),C=a.useContext(c.default),N=L(a.useState(!1),2),P=N[0],w=N[1],D=(0,l.useStateFromStores)([h.default],(function(){return h.default.getChannel(u.channel_id)}),[u.channel_id]),k=_.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!==(t=null==D?void 0:D.guild_id)&&void 0!==t?t:""}).isEnabled,j=a.useCallback((function(e){if("A"!==e.target.nodeName)if(!s||k){d.default.updateChatOpen(u.channel_id,!0);f.default.jumpToMessage({channelId:u.channel_id,messageId:u.id,flash:!0})
}else I.ComponentDispatch.dispatch(A.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP)}),[u.channel_id,u.id,s,k]),U=null!=u.content&&""!==u.content?(0,p.default)(u,{isInteracting:P}).content:null,G=(0,O.renderSingleLineMessage)(u,U,g,M.default.messageContent,M.default.messageContentIcon),F=G.contentPlaceholder,x=G.renderedContent,B=G.icon,H=(0,y.getMessageStickers)(u),W=H.length>0?H.map((function(e){return R(m.default,{className:M.default.sticker,size:128,sticker:e,isInteracting:P})})):null;return R(S.default,{className:(0,o.default)(M.default.toast,(n={},n[M.default.disabled]=s&&!k,n)),onMouseEnter:function(){w(!0)},onMouseLeave:function(){w(!1)},onClick:j},void 0,R("div",{className:(0,o.default)(M.default.messageContentWrapper,(r={},r[M.default.mentioned]=u.mentioned,r))},void 0,null!==(i=null!=x?x:W)&&void 0!==i?i:R("span",{},void 0,F),null!=W?null:B),R("img",{alt:"",src:null!=(null==T?void 0:T.guildMemberAvatar)&&null!=C?(0,b.getGuildMemberAvatarURLSimple)({guildId:C,
userId:u.author.id,avatar:T.guildMemberAvatar}):u.author.getAvatarURL(C,32),className:M.default.avatar}))}U.displayName="ChatToast";function G(e){var t=e.channelId,n=e.className,r=e.inPopout,d=L(a.useState(!1),2),f=d[0],c=d[1],p=function(e){var t,n=e.channelId,r=e.isFrozen,o=e.count,i=e.lingerMs,u=L(a.useState([]),2),d=u[0],f=u[1],c=a.useRef(null);a.useEffect((function(){function e(e){var t=e.channelId,r=e.message;if(t===n){var a={messageId:r.id,timeout:setTimeout((function(){f((function(e){return e.slice(1)}))}),i)};f((function(e){return[].concat(D(e),[a])}))}}s.default.subscribe("MESSAGE_CREATE",e);return function(){s.default.unsubscribe("MESSAGE_CREATE",e)}}),[n,o,i]);a.useEffect((function(){return function(){for(var e,t=w(d);!(e=t()).done;){var n=e.value;clearTimeout(n.timeout)}}}),[]);a.useEffect((function(){d.length>3&&f((function(e){for(var t=e.length-3,n=0;n<t;n++)clearTimeout(e[n].timeout);return D(e.slice(t))}))}),[d])
;r&&null==c.current?c.current=d:r||null==c.current||(c.current=null);var p=null!==(t=c.current)&&void 0!==t?t:d;return(0,l.useStateFromStoresArray)([g.default],(function(){return p.map((function(e){return g.default.getMessage(n,e.messageId)}))}),[p]).filter(T.isNotNullish)}({channelId:t,isFrozen:f,count:3,lingerMs:1e4}),v=a.useRef({}),y=L(a.useState({}),2),m=y[0],_=y[1],h=a.useCallback((function(e,t){null==t?delete v.current[e]:v.current[e]=t}),[]);a.useLayoutEffect((function(){for(var e,t={},n=0,r=w(p);!(e=r()).done;){var a,o=e.value,u=null!==(a=v.current[o.id])&&void 0!==a?a:0;t[o.id]=n;n+=u+8}(0,i.isEqual)(t,m)||_(t)}),[p]);var E=p.map((function(e){return{message:e,height:v.current[e.id],y:m[e.id]}})),S=(0,u.useTransition)(E,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,y:e.y}},update:function(e){return{y:e.y}},leave:function(e){var t=e.height;return{opacity:0,y:-(null!=t?t:0)-8}}});return R("div",{className:(0,
o.default)(n,(0,C.getThemeClass)(A.ThemeTypes.DARK)),onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}},void 0,S((function(e,t){var n=e.opacity,o=e.y;return a.createElement(u.animated.div,{ref:function(e){return h(t.message.id,null!=e?e.offsetHeight:null)},className:M.default.toastWrapper,style:{opacity:n,translateY:o}},R(U,{message:t.message,inPopout:r}))})))}G.displayName="ChatToasts"},430251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DisableGradient=void 0;t.default=m;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=f(n(294184)),u=f(n(530250)),l=f(n(896566)),s=f(n(744794)),d=["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts","renderVoiceChannelEffects"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.DisableGradient=a;!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(a||(t.DisableGradient=a={}));function y(e){var t=e.disableGradients,n=void 0!==t&&t,r=e.renderHeader,o=e.renderBottomLeft,i=e.renderBottomCenter,l=e.renderBottomRight,d=e.renderCenter,f=n===a.TOP||!0===n,c=n===a.BOTTOM||!0===n;return v("div",{className:s.default.videoControls},void 0,!f&&v("div",{className:s.default.gradientTop}),!c&&v("div",{className:s.default.gradientBottom}),v("div",{className:s.default.topControls},void 0,null==r?void 0:r()),null==d?void 0:d(),v("div",{className:s.default.bottomControls},void 0,v(u.default,{grow:0,shrink:1,basis:"50%",align:u.default.Align.CENTER},void 0,null==o?void 0:o()),v(u.default,{grow:1,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,null==i?void 0:i()),v(u.default,{grow:0,shrink:1,justify:u.default.Justify.END,basis:"50%",align:u.default.Align.CENTER},void 0,null==l?void 0:l())))}
y.displayName="Controls";function m(e){var t,n=e.screenMessage,r=e.onDoubleClick,a=e.onActive,u=e.onForceIdle,f=e.idle,c=e.children,m=e.renderChatButton,_=e.renderChatToasts,h=e.renderVoiceChannelEffects,g=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return v("div",{className:(0,i.default)(s.default.root,(t={},t[s.default.idle]=f,t)),onMouseMove:a,onMouseDown:a,onMouseLeave:u,onDoubleClick:r},void 0,c,null!=n?o.createElement(l.default,p({size:"large"},n)):null,o.createElement(y,g),null==m?void 0:m({className:s.default.chatButton,showingClassName:s.default.chatButtonShowing}),null==_?void 0:_(),null==h?void 0:h())}m.displayName="FullsizePlayer"},244612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PictureInPictureHeader=I;t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(550024)),l=E(n(893160)),s=E(n(16941)),d=E(n(530250)),f=n(974286),c=E(n(889167)),p=E(n(436081)),v=E(n(77871)),y=E(n(896566)),m=n(770348),_=E(n(247001)),h=E(n(201768)),g=["children","idle","onJumpToChannel","backgroundKey","onActive","onForceIdle","renderBottomLeftControls","renderBottomRightControls","screenMessage"];function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.title,n=e.onJumpToChannel,r=e.idle,a=e.preventIdleComponent,o=(0,i.useStateFromStores)([l.default],(function(){return l.default.getChannelId()})),u=null!=o?b(v.default,{voiceChannelId:o,idle:r}):null;return b(a,{className:h.default.headerIdleContainer},void 0,b(s.default,{className:h.default.headerTitle,onClick:n},void 0,b(c.default,{"aria-label":_.default.Messages.OPEN_IN_THEATER,className:h.default.backButton,width:20,height:20
}),b(p.default,{className:h.default.headerText,size:p.default.Sizes.SIZE_16,color:m.Colors.WHITE},void 0,t)),u)}I.displayName="PictureInPictureHeader";function T(e){var t,n=e.children,r=e.idle,i=e.onJumpToChannel,l=e.backgroundKey,s=e.onActive,c=e.onForceIdle,p=e.renderBottomLeftControls,v=e.renderBottomRightControls,m=e.screenMessage,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g);return b("div",{onMouseMove:s,onMouseDown:s,onMouseLeave:c,className:(0,o.default)(h.default.pictureInPictureVideo,(t={},t[h.default.idle]=r,t)),onDoubleClick:i},void 0,b(u.default,{},void 0,b(f.BackgroundTransition,{},l,n)),null!=m?a.createElement(y.default,O({size:"small"},m)):null,b("div",{className:h.default.videoControls},void 0,b("div",{className:h.default.topControls},void 0,a.createElement(I,O({idle:r,onJumpToChannel:i},_))),b("div",{className:h.default.bottomControls},void 0,b(d.default,{grow:0,shrink:1,
basis:"50%",align:d.default.Align.CENTER,className:h.default.bottomLeftControls},void 0,null==p?void 0:p()),b(d.default,{grow:0,shrink:1,justify:d.default.Justify.END,basis:"50%",align:d.default.Align.CENTER},void 0,null==v?void 0:v()))))}T.displayName="PictureInPictureVideo"},77871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(536211),i=O(n(229132)),u=n(720409),l=O(n(303798)),s=O(n(825724)),d=I(n(145122)),f=O(n(607209)),c=O(n(288356)),p=O(n(218843)),v=O(n(728429)),y=O(n(16941)),m=O(n(160629)),_=O(n(301927)),h=n(770348),g=n(859089),E=O(n(247001)),S=O(n(201768));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){
var t=e.closePopout,n=e.idle,r=e.pipWindows,a=e.voiceChannelId,v=e.onSelect;n&&t();var y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getSelfEmbeddedActivityForChannel(a)})),m=(0,o.useStateFromStores)([p.default],(function(){return p.default.pipWindow})),_=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSelectedParticipant(a)})),S=(0,o.useStateFromStores)([s.default],(function(){return s.default.getStreamParticipants(a)}));return C(d.default,{navId:"pip-menu","aria-label":"switch PIP",onClose:t,onSelect:v},void 0,function(){var e=r.find((function(e){return e.component===h.PictureInPictureComponents.EMBED_IFRAME})),t=r.find((function(e){return e.component===h.PictureInPictureComponents.VIDEO})),n=[];null!=e&&(null==m?void 0:m.id)!==e.id&&n.push({pipWindow:e});null!=t&&S.forEach((function(e){var r=f.default.getActiveStreamForApplicationStream(e.stream),a=e.id===(null==_?void 0:_.id)&&(null==m?void 0:m.id)===t.id;null==r||a||n.push({pipWindow:t,
participant:e,stream:r})}));return n}().map((function(e){var t,n=e.pipWindow.id,r=null===(t=e.participant)||void 0===t?void 0:t.id,o=function(e){if(e.pipWindow.component===h.PictureInPictureComponents.EMBED_IFRAME&&null!=y){var t,n=null===(t=c.default.getGame(y.application_id))||void 0===t?void 0:t.name;return null==n?E.default.Messages.SWITCH_PIP_TO_ACTIVITY:E.default.Messages.SWITCH_PIP_TO_ACTIVITY_NAME.format({activityName:n})}return null==e.participant||e.participant.type!==g.ParticipantTypes.STREAM?E.default.Messages.SWITCH_PIP_TO_GO_LIVE:E.default.Messages.SWITCH_PIP_TO_USER_STREAM.format({username:e.participant.userNick})}(e),l=""+n+(null!=r?r:"");return C(d.MenuItem,{id:l,label:o,action:function(){return function(e){(null==m?void 0:m.id)!==e.pipWindow.id&&(0,u.switchPIPFocus)(e.pipWindow.id);var t=e.participant;null!=t&&t.type!==g.ParticipantTypes.ACTIVITY&&i.default.selectParticipant(a,t.id)}(e)}},l)})))}A.displayName="PictureInPictureSwitchWindowMenu";function M(e){
var t=e.voiceChannelId,n=e.idle,r=(0,o.useStateFromStores)([p.default],(function(){return p.default.pipWindows})),i=Array.from(r.values()),u=(0,o.useStateFromStoresArray)([f.default],(function(){return f.default.getAllActiveStreamsForChannel(t)})).filter((function(e){var n;return e.ownerId!==(null===(n=v.default.getCurrentUser())||void 0===n?void 0:n.id)&&e.channelId===t})),l=1===i.length&&i[0].component===h.PictureInPictureComponents.EMBED_IFRAME||0===u.length,s=1===i.length&&u.length<=1;return l||s?null:C(m.default,{position:m.default.Positions.BOTTOM,renderPopout:function(e){return a.createElement(A,T({voiceChannelId:t,pipWindows:i,idle:n},e))}},void 0,(function(e){return a.createElement(y.default,T({className:S.default.menuIcon},e),C(_.default,{color:h.Colors.WHITE}))}))}M.displayName="PictureInPictureSwitchWindowPopout";var N=M;t.default=N},896566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(518931)),o=u(n(530250)),i=u(n(515506));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.mainText,n=e.supportingText,r=e.children,u=e.size;return s(o.default,{className:i.default.root,justify:o.default.Justify.CENTER,align:o.default.Align.CENTER,direction:o.default.Direction.VERTICAL},void 0,s(a.default,{header:t,description:n,size:u}),r)}d.displayName="ScreenMessage"},778339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;f(n(667294));var r,a=s(n(294184)),o=f(n(730977)),i=s(n(417184)),u=s(n(134893)),l=s(n(400534));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errorMessage,n=e.className;return c(o.TooltipContainer,{className:(0,a.default)(n,l.default.root),text:t,position:o.default.Positions.BOTTOM,color:o.TooltipColors.GREY},void 0,c(u.default,{},void 0,c(i.default,{"aria-label":null!=t?t:"",className:l.default.warningIcon})))}p.displayName="QualityWarning"},605520:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(250003))&&r.__esModule?r:{default:r},i=n(143414),u=["isActivityActive"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e){
var t=e.isActivityActive,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return a.createElement(i.CenterControlButton,s({color:t?"white":"primaryDark",iconComponent:o.default},n))}d.displayName="ActivityButton"},116790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(160490)),u=d(n(143414)),l=d(n(810881)),s=["direction","className"];function d(e){return e&&e.__esModule?e:{
default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(r||(r={}));function p(e){var t,n=e.direction,d=e.className,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(u.default,c({className:(0,o.default)(d,l.default.arrow,(t={},t[l.default.up]=n===r.UP,t)),iconComponent:i.default},f))}p.displayName="ArrowButton";p.Directions=r;var v=p;t.default=v},146529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ChatButton=W;t.ChatButtonWithNUX=V;t.useChatButtonState=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(294184)),i=n(496486),u=R(n(468811)),l=n(536211),s=n(923387),d=R(n(229132)),f=R(n(825724)),c=R(n(305081)),p=R(n(142024)),v=R(n(191391)),y=R(n(211136)),m=R(n(946447)),_=R(n(160629)),h=n(645758),g=n(730977),E=n(810919),S=n(993442),O=n(48102),b=R(n(143414)),I=n(770348),T=n(583551),C=R(n(247001)),A=R(n(34021)),M=R(n(135849)),N=R(n(742918)),P=["channelId","className","showingClassName","onClick","inPopout"];function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}
function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()
}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=(0,l.useStateFromStores)([m.default],(function(){return!(0,i.isEmpty)(m.default.getTypingUsers(e))}),[e]),n=(0,l.useStateFromStores)([y.default],(function(){return y.default.getVoiceChannelId()===e}),[e]),r=(0,l.useStateFromStoresObject)([v.default],(function(){return{unreadCount:v.default.getUnreadCount(e),mentionCount:v.default.getMentionCount(e)}
}),[e]);return{unreadCount:r.unreadCount,mentionCount:r.mentionCount,voiceChannelIsSelected:n,isTyping:t}}var G=L("rect",{fill:"white",width:"100%",height:"100%"}),F=L("g",{fill:"black",transform:"translate(5.5, 8.5) scale("+11/24+")"},void 0,L(E.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})),x=L("circle",{cx:"20",cy:"19",r:"10",fill:"black"});function B(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.isBadged,l=void 0!==i&&i,s=e.isTyping,d=void 0!==s&&s,f=k(a.useState((function(){return u.default.v4()})),1)[0];return L("svg",{width:n,height:o,viewBox:"0 0 24 24"},void 0,L("defs",{},void 0,L("mask",{id:f},void 0,G,d&&F,l&&x)),L("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#"+f+")"}))}B.displayName="ChatBubbleIcon";function H(e){
var t,n,r=e.className,a=U(e.channelId),i=a.unreadCount,u=a.mentionCount,l=a.isTyping,s=null!=u&&u>0,d=null!==(t=s?u:i)&&void 0!==t?t:0,f=d>99?"99+":d,c=a.voiceChannelIsSelected&&null!=i&&i>0;return L("div",{className:(0,o.default)(A.default.chatIcon,r)},void 0,L(B,{isBadged:c,isTyping:l}),c&&L(h.Text,{className:(0,o.default)(A.default.unreadCount,(n={},n[A.default.mention]=s,n)),variant:"text-xs/normal"},void 0,f))}H.displayName="ChatButtonContent";function W(e){var t,n=e.channelId,r=e.className,i=e.showingClassName,u=e.onClick,s=e.inPopout,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,P),p=c.disabled,v=a.useRef(null),y=(0,l.useStateFromStores)([f.default],(function(){return f.default.getChatOpen(n)}),[n]),m=function(e){var t=U(e),n=t.unreadCount,r=t.mentionCount,o=t.isTyping,i=k(a.useState(!1),2),u=i[0],l=i[1];a.useEffect((function(){l(n>0);var e=setTimeout((function(){l(!1)
}),O.TOAST_LINGER_MS);return function(){clearTimeout(e);l(!1)}}),[n]);return{isShowing:u||r>0||o,unreadCount:n,mentionCount:r}}(n),_=m.isShowing,h=m.unreadCount,E=m.mentionCount,T=a.useCallback((function(){null==u||u();d.default.updateChatOpen(n,!y)}),[n,y,u]),A=a.useCallback((function(e){return L(H,{className:e.className,channelId:n})}),[n]),M=a.useCallback((function(){var e;null===(e=v.current)||void 0===e||e.focus()}),[]);(0,S.useComponentAction)({event:I.ComponentActions.FOCUS_CHAT_BUTTON,handler:p?null:M});var N,R=k(a.useState(!1),2),w=R[0],j=R[1],G=a.useCallback((function(){s&&j(!0)}),[s]);(0,S.useComponentAction)({event:I.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:G});a.useEffect((function(){var e;w&&(e=setTimeout((function(){j(!1)}),3e3));return function(){clearTimeout(e)}}),[w]);var F=[N=s&&p?C.default.Messages.TEXT_IN_VOICE_POPOUT_DISABLED:y?C.default.Messages.VIDEO_CALL_HIDE_CHAT:C.default.Messages.VIDEO_CALL_SHOW_CHAT]
;E>0&&F.push(C.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:E}));h>0&&F.push(C.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);return a.createElement(b.default,D({buttonRef:v,onClick:T,label:N,"aria-label":F.join(", "),iconComponent:A,tooltipPosition:g.TooltipPositions.BOTTOM,wrapperClassName:(0,o.default)(r,null!=i&&(t={},t[i]=_,t)),forceTooltipOpen:w},c))}W.displayName="ChatButton";function V(e){var t=e.channelId,n=a.useCallback((function(){d.default.updateChatOpen(t,!0)}),[t]);return L(c.default,{contentTypes:[s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK],groupName:T.DismissibleContentGroupName.CALL_CHAT_BUTTON},void 0,(function(t){var r=t.visibleContent,o=t.markAsDismissed;return r===s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK?L(_.default,{renderPopout:function(){return L(p.default,{className:A.default.upsellTooltipOffset,header:C.default.Messages.TEXT_IN_VOICE_ONBOARDING_TITLE,asset:L("img",{alt:"",
src:N.default,className:M.default.fullWidthImage}),content:C.default.Messages.TEXT_IN_VOICE_ONBOARDING_SUBTITLE,buttonCTA:C.default.Messages.TEXT_IN_VOICE_ONBOARDING_CTA,onClick:n,secondaryButtonCTA:C.default.Messages.DISMISS,markAsDismissed:o,caretPosition:p.default.CaretPosition.TOP_RIGHT})},position:_.default.Positions.BOTTOM,align:_.default.Align.RIGHT,animation:_.default.Animation.TRANSLATE,spacing:16,shouldShow:!0},void 0,(function(){return a.createElement(W,D({},e,{onClick:o}))})):a.createElement(W,e)}))}V.displayName="ChatButtonWithNUX"},928221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(730977),o=l(n(775803)),i=l(n(143414)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=d({},e);return r.createElement(i.default,d({label:u.default.Messages.MORE,iconComponent:o.default,tooltipPosition:a.TooltipPositions.BOTTOM},t))}f.displayName="ContextButton"},893783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=f(n(394617)),u=n(143414),l=f(n(247001)),s=f(n(362362)),d=["totalCooldownSeconds","remainingCooldownSeconds","onClick","onMouseEnter","onMouseLeave"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=52;return v("svg",{className:e.className,width:t,height:t,viewBox:"0 0 52 52"},void 0,v("circle",{style:{strokeDashoffset:100*e.percentComplete},className:s.default.progress,cx:26,cy:26,r:20,fill:"none",stroke:"#4F545C",pathLength:"100"}))};y.displayName="CircularCountdown";var m=(0,o.animated)(y);function _(e){var t=e.totalCooldownSeconds,n=e.remainingCooldownSeconds,r=e.onClick,f=e.onMouseEnter,c=e.onMouseLeave,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),_=n>0,h=(0,o.useSpring)({percentComplete:0!==n?(t-n)/t:0,config:p({},o.config.molasses,{
duration:1e3})}),g=_?l.default.Messages.VOICE_CHANNEL_EFFECTS_COOLDOWN.format({seconds:n}):void 0;return v("div",{className:s.default.container},void 0,a.createElement(u.CenterControlButton,p({},y,{disabled:_,label:g,iconComponent:i.default,onClick:r,onMouseEnter:f,onMouseLeave:c})),_?v(m,{className:s.default.countdown,percentComplete:h.percentComplete}):null)}_.displayName="EffectsButton"},278851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=p(n(536211)),o=p(n(902305)),i=p(n(949898)),u=p(n(775776)),l=p(n(814379)),s=n(245838),d=p(n(143414)),f=p(n(247001)),c=["enabled"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e){var t=e.enabled,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),a=t?f.default.Messages.EXIT_FULL_SCREEN:f.default.Messages.FULL_SCREEN,o=t?l.default:u.default;return r.createElement(d.default,y({label:a,iconComponent:o},n))}m.displayName="FullscreenButton";var _=a.default.connectStores([i.default,o.default],(function(e){var t=e.node,n=e.guestWindow;return{
enabled:(0,s.isFullScreen)(t,null==n?void 0:n.document)}}))(m);t.default=_},56396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(229132)),o=n(730977),i=d(n(852546)),u=d(n(143414)),l=d(n(247001)),s=["channelId"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t=e.channelId,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return r.createElement(u.default,c({onClick:function(){a.default.selectParticipant(t,null)},label:l.default.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:i.default,tooltipPosition:o.TooltipPositions.BOTTOM},n))}p.displayName="GridButton"},643779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(119431)),o=d(n(143414)),i=l(n(247001)),u=["channel","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.channel,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,c=t.isManaged()||!t.isPrivate()?i.default.Messages.CONNECT:i.default.Messages.JOIN_CALL;return r.createElement(d,f({},s,{iconComponent:a.default,label:c}))}c.displayName="JoinCallButton"},67286:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(434663)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}
function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,f({},l,{iconComponent:a.default,label:i.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY}))}c.displayName="LeaveCallButton"},401311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(331546)),o=d(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,f({},l,{iconComponent:a.default,label:i.default.Messages.DISCONNECT_SELF}))}c.displayName="LeaveCallButton"},607576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_
;var r,a=p(n(667294)),o=f(n(945926)),i=f(n(855480)),u=f(n(287317)),l=p(n(143414)),s=f(n(592695)),d=["selfMute","serverMute","suppress","centerButton","awaitingRemote"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}
function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.className;return y(u.default,{foreground:s.default.slash,className:t})}m.displayName="MuteWithForeground";function _(e){var t=e.selfMute,n=e.serverMute,r=e.suppress,u=e.centerButton,s=void 0!==u&&u,f=e.awaitingRemote,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),p=t||n||r,y=s?l.CenterControlButton:l.default,_=(0,o.default)(t,n,r,f),h=p?m:i.default;return a.createElement(y,v({iconComponent:h,label:_},c))}_.displayName="MuteButton"},975577:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ParticipantsCount=_;t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=n(645758),u=n(730977),l=p(n(547282)),s=p(n(143414)),d=p(n(247001)),f=p(n(898641)),c=["count"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.className,n=e.count;return m("div",{className:(0,o.default)(f.default.root,f.default.comboIcon,t)},void 0,m(l.default,{className:f.default.icon}),m(i.Text,{color:"none",className:f.default.count,variant:"text-md/normal"},void 0,n))}_.displayName="ParticipantsCount";function h(e){var t=e.count,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c)
;return a.createElement(s.default,y({label:d.default.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){return m(_,{className:e.className,count:t})},tooltipPosition:u.TooltipPositions.BOTTOM},n))}h.displayName="ParticipantsButton"},866219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(294184)),o=d(n(435012)),i=d(n(143414)),u=d(n(247001)),l=d(n(946078)),s=["popoutOpen","onClosePopout","onOpenPopout"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){var t,n=e.popoutOpen,d=e.onClosePopout,f=e.onOpenPopout,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),v=n?u.default.Messages.POPOUT_RETURN:u.default.Messages.POPOUT_PLAYER;return r.createElement(i.default,c({label:v,onClick:n?d:f,iconComponent:o.default,iconClassName:(0,a.default)((t={},t[l.default.popIn]=n,t))},p))}p.displayName="PopoutButton"},861891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(227479)),o=s(n(41183)),i=s(n(143414)),u=s(n(247001)),l=["popoutWindowAlwaysOnTop","onToggleStayOnTop"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=t?u.default.Messages.POPOUT_REMOVE_FROM_TOP:u.default.Messages.POPOUT_STAY_ON_TOP,c=t?o.default:a.default;return r.createElement(i.default,f({onClick:function(){return n(!t)},label:d,iconComponent:c},s))}c.displayName="StayOnTopButton"},305914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r=f(n(667294)),a=s(n(422621)),o=s(n(487255)),i=f(n(143414)),u=s(n(247001)),l=["isSelfStream","centerButton"];function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e){return e?u.default.Messages.STOP_STREAMING:u.default.Messages.STOP_WATCHING}function v(e){var t=e.isSelfStream,n=e.centerButton,u=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),d=u?i.CenterControlButton:i.default;return r.createElement(d,c({label:p(t),iconComponent:t?a.default:o.default},s))}v.displayName="StopStreamButton"},735319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r=d(n(667294)),a=l(n(952117)),o=d(n(143414)),i=l(n(247001)),u=["hasPermission","centerButton"]
;function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){var t=e.hasPermission,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),d=l?o.CenterControlButton:o.default,c=t?i.default.Messages.SHARE_YOUR_SCREEN:i.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return r.createElement(d,f({label:c,disabled:!t,iconComponent:a.default},s))}c.displayName="StreamButton"},715801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(229132)),u=c(n(160490)),l=c(n(547282)),s=c(n(143414)),d=c(n(247001)),f=c(n(685109));function c(e){
return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.isVertical;return v("div",{className:f.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?f.default.upCaret:f.default.leftCaret,t)}),v(l.default,{className:(0,o.default)(f.default.members,t)}))}y.displayName="OpenIcon";function m(e){var t=e.className,n=e.isVertical;return v("div",{className:f.default.iconContainer},void 0,v(u.default,{className:(0,
o.default)(n?f.default.downCaret:f.default.rightCaret,t)}),n&&v(l.default,{className:(0,o.default)(f.default.members,t)}))}m.displayName="CloseIcon";function _(e){var t=e.channelId,n=e.className,r=e.isParticipantsOpen,u=e.isVertical,l=void 0!==u&&u,c=e.hideTooltip,p=void 0!==c&&c;var _=a.useCallback((function(e){var t=e.className;return v(r?m:y,{className:t,isVertical:l})}),[r,l]);return v(s.default,{label:r?d.default.Messages.VIDEO_CALL_HIDE_MEMBERS:d.default.Messages.VIDEO_CALL_SHOW_MEMBERS,className:(0,o.default)(f.default.participantsButton,n),onClick:function(){i.default.toggleParticipants(t,!r)},iconComponent:_,shouldShowTooltip:!p})}_.displayName="ToggleParticipantsButton"},645675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VideoButtonWrapper=g;t.default=E
;var r,a=y(n(667294)),o=p(n(294184)),i=n(433383),u=n(839370),l=p(n(79027)),s=y(n(143414)),d=p(n(283253)),f=["enabled","join","channel","onChange","onCameraUnavailable","cameraUnavailable","hasPermission","className","channelLimitReached","channelLimit","centerButton","onPopoutClick"],c=["unavailable"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function g(e){var t=(0,u.getVideoButtonLabel)(e),n=e.enabled,r=e.cameraUnavailable,o=e.onChange,s=e.onCameraUnavailable,d=e.hasPermission,f=e.children,c=e.channelLimitReached,p=void 0!==c&&c,v=(0,i.useAppContext)(),y=r?function(){return s()
}:function(){return o(!e.enabled,v)};return a.createElement(a.Fragment,null,f({onClick:y,active:n,disabled:!d||p&&!n,iconComponent:l.default,label:t,unavailable:r}))}function E(e){var t=e.enabled,n=e.join,r=e.channel,i=e.onChange,u=e.onCameraUnavailable,l=e.cameraUnavailable,p=e.hasPermission,v=e.className,y=e.channelLimitReached,E=e.channelLimit,S=e.centerButton,O=void 0!==S&&S,b=e.onPopoutClick,I=h(e,f),T=O?s.CenterControlButton:s.default;return m(g,{enabled:t,join:n,channel:r,onChange:i,onCameraUnavailable:u,cameraUnavailable:l,hasPermission:p,channelLimitReached:y,channelLimit:E},void 0,(function(e){var t,n=e.unavailable,r=h(e,c);return a.createElement(T,_({},r,I,{className:(0,o.default)(v,(t={},t[d.default.fauxDisabled]=n,t)),onPopoutClick:b}))}))}E.displayName="VideoButton"},727012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(229132)),o=n(730977),i=c(n(670427)),u=c(n(950291)),l=c(n(143414)),s=n(859089),d=c(n(247001)),f=["channelId","isHorizontal"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){var t=e.channelId,n=e.isHorizontal,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return r.createElement(l.default,v({onClick:function(){a.default.selectParticipant(t,s.ParticipantSelectionTypes.AUTO)},label:d.default.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?i.default:u.default,tooltipPosition:o.TooltipPositions.BOTTOM},c))}y.displayName="VideoLayoutButton"},561603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(294184)),o=p(n(536211)),i=p(n(740207)),u=p(n(635014)),l=p(n(879567)),s=n(758956),d=n(864489),f=p(n(134893)),c=p(n(964063));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.iconClassName,n=e.currentVolume,r=e.sliderClassName,o=e.userId,u=e.currentWindow,p=void 0===u?window:u,v=e.muted,m=e.context;return y(f.default,{},void 0,y(l.default,{currentWindow:p,iconClassName:(0,
a.default)(t,c.default.controlIcon),sliderClassName:r,value:(0,s.amplitudeToPerceptual)(n),muted:v,maxValue:d.isPlatformEmbedded?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&i.default.toggleLocalMute(t,r);i.default.setLocalVolume(t,(0,s.perceptualToAmplitude)(e),r)}(e,o,v,m)},onToggleMute:function(){return function(e,t){i.default.toggleLocalMute(e,t)}(o,m)}}))}m.displayName="VolumeButton";var _=o.default.connectStores([u.default],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.default.getLocalVolume(t,n),muted:u.default.isLocalMute(t,n)}}))(m);t.default=_},555325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.shouldImmediatelyRequestVoicePermissions=S;var r=_(n(636602)),a=_(n(177230)),o=_(n(406136)),i=_(n(258079)),u=n(104144),l=_(n(950673)),s=_(n(423046)),d=_(n(644263)),f=_(n(635014)),c=_(n(893160)),p=n(864489),v=_(n(919158)),y=n(770348),m=n(664608);function _(e){return e&&e.__esModule?e:{default:e}}
function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=null;function E(){o.default.requestPermission(m.NativePermissionTypes.AUDIO).then((function(e){e&&((0,p.isAndroid)()?o.default.requestPermission(m.NativePermissionTypes.NEARBY_DEVICES).then((function(){(0,v.default)(!0)})):(0,v.default)(!0))}));f.default.getMode()===y.InputModes.PUSH_TO_TALK&&o.default.requestPermission(m.NativePermissionTypes.INPUT_MONITORING)}function S(e,t){var n;return!(null===(n=d.default.getChannel(t))||void 0===n?void 0:n.isListenModeCapable())||i.default.isSpeaker(e,t)}var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates);r.default.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect)};n._terminate=function(){
r.default.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates);r.default.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect)};n.handleVoiceChannelSelect=function(e){null==e.channelId&&(g=null)};n.handleVoiceStateUpdates=function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId;if(null!=n){if(s.default.getId()===t&&null!=c.default.getRTCConnectionId()&&g!==n){if(S(t,n)){g=n;E()}else{var r;if(r=new l.default(e),(0,u.getAudienceRequestToSpeakState)(r)===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK){g=n;E()}}}}}))};n.__getLocalVars=function(){return{previousRequestedId:g}};return t}(a.default));t.default=O},919158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){}},350539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=n(91817),a=v(n(636602)),o=v(n(136873)),i=v(n(177230)),u=v(n(607209)),l=v(n(644263)),s=v(n(30098)),d=v(n(929230)),f=v(n(893160)),c=n(864489),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=18e6,g=new r.Timeout,E=new r.Timeout,S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe("IDLE",this.handleIdleUpdate)};n._terminate=function(){g.stop();E.stop();a.default.unsubscribe("IDLE",this.handleIdleUpdate)};n.handleIdleUpdate=function(){var e=d.default.getIdleSince();if(c.isPlatformEmbedded){g.stop();E.stop();for(var t,n=y(u.default.getAllActiveStreams());!(t=n()).done;){if(t.value.state!==p.ApplicationStreamStates.ENDED)return}if(null!=e){var r=f.default.getChannelId();if(null!=r){E.start(h,(function(){o.default.selectVoiceChannel(null)}));var a=s.default.getGuild(f.default.getGuildId())
;if(null!=a&&null!=a.afkChannelId&&a.afkChannelId!==r&&null!=a.afkTimeout){var i=l.default.getChannel(r);null!=i&&(i.isGuildStageVoice()||g.start(e+1e3*a.afkTimeout-Date.now(),(function(){null!=(a=s.default.getGuild(f.default.getGuildId()))&&null!=a.afkChannelId&&o.default.selectVoiceChannel(a.afkChannelId)})))}}}}};n.__getLocalVars=function(){return{AUTO_DISCONNECT_TIME:h,afkTimeout:g,autoDisconnectTimeout:E}};return t}(i.default));t.default=S},941690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sendVoiceChannelEffect=t.VoiceChannelEffectSentLocation=void 0;var r,a=d(n(118915)),o=d(n(636602)),i=d(n(844784)),u=n(657138),l=d(n(858271)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}t.VoiceChannelEffectSentLocation=r;!function(e){e.EMOJI_PICKER="emoji_picker";e.EFFECT_BAR="effect_bar"}(r||(t.VoiceChannelEffectSentLocation=r={}))
;var c=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&!l.default.isOnCooldown){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;i=null!=n.id?{emoji_id:n.id,emoji_name:n.name}:{emoji_id:null,emoji_name:n.optionallyDiverseSequence};e.next=6;return a.default.post({url:s.Endpoints.VOICE_CHANNEL_EFFECTS(t.id),body:i});case 6:p(t,n,r);o.default.dispatch({type:"VOICE_CHANNEL_EFFECT_SENT_LOCAL"});e.next=13;break;case 10:e.prev=10;e.t0=e.catch(2);if(429===e.t0.status&&null!=e.t0.body.retry_after){u=1e3*e.t0.body.retry_after;o.default.dispatch({type:"VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP",cooldownEndsAtMs:u})}case 13:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,n,r){
return t.apply(this,arguments)}}();t.sendVoiceChannelEffect=c;var p=function(e,t,n){var r=(0,u.countEmoji)([t],e.getGuildId()),a=r.unicode,o=r.custom,l=r.customExternal,d=r.managed,f=r.managedExternal,c=r.animated;i.default.trackWithMetadata(s.AnalyticEvents.VOICE_CHANNEL_EFFECT_SENT,{channel_id:e.id,guild_id:e.getGuildId(),location:n,emoji_unicode:a,emoji_custom:o,emoji_custom_external:l,emoji_managed:d,emoji_managed_external:f,emoji_animated:c})}},858271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.clearVoiceChannelEffectForUser=void 0;var r,a=i(n(536211)),o=i(n(636602));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(e){return function(e){if(Array.isArray(e))return d(e)
}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={},c=function(e){null!=e&&o.default.dispatch({type:"VOICE_CHANNEL_EFFECT_CLEAR",userId:e})};t.clearVoiceChannelEffectForUser=c;var p=[],v=3e4,y=function(){var e=new Date;if((p=[e].concat(s(p)).slice(0,10)).length>=10){var t=p[p.length-1],n=e.getTime()-t.getTime()
;n<v&&(r=new Date(e.getTime()+v-n))}},m=function(e){var t=e.cooldownEndsAtMs;r=new Date(Date.now()+t)},_=function(e){var t=e.emoji,n=e.userId;f[n]=t;setTimeout((function(){return c(n)}),1e4)},h=function(e){var t=e.userId;null!=f[t]&&delete f[t]},g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getEffectEmojiForUserId=function(e){return f[e]};n.__getLocalVars=function(){return{effectCooldownEndTime:r,effectsByUserId:f,VOICE_CHANNEL_EFFECT_CLEAR_DURATION_MS:1e4,lastSentEffects:p,MAX_EFFECTS_COUNT:10,MAX_EFFECTS_INTERVAL_MS:v,handleVoiceChannelEffectSentLocal:y,handleTimestampUpdate:m,handleReceivedVoiceChannelEffect:_,handleClearVoiceChannelEffect:h}};!function(e,t,n){t&&u(e.prototype,t);n&&u(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isOnCooldown",get:function(){return null!=r&&new Date<r}},{key:"effectCooldownEndTime",get:function(){
return r}}]);return t}(a.default.Store);g.displayName="VoiceChannelEffectsStore";var E=new g(o.default,{VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP:m,VOICE_CHANNEL_EFFECT_SEND:_,VOICE_CHANNEL_EFFECT_CLEAR:h,VOICE_CHANNEL_EFFECT_SENT_LOCAL:y});t.default=E},52709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.voiceChannelEffectEmoji,n=e.onComplete,r=(0,i.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),d=(h=a.useState(!0),g=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(h,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(h,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],m=d[1],_=(0,o.useTransition)(f,{from:{rotate:v},enter:{rotate:0},leave:{rotate:v},config:o.config.default,immediate:r,onRest:function(e,t){"leave"===t.phase&&n()}});var h,g;a.useEffect((function(){var e=setTimeout((function(){m(!1)}),4e3);return function(){return clearTimeout(e)}}),[]);return _((function(e,n){var r,a=e.rotate;return n&&c(o.animated.div,{className:s.default.voiceChannelEffectEmoji,style:{transform:a.to(y)}},void 0,c(u.default,{emojiId:t.id,emojiName:t.name,animated:null!==(r=t.animated)&&void 0!==r&&r}))}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(248088),i=n(536211),u=d(n(498773)),l=d(n(235879)),s=d(n(540877));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=-120,y=function(e){return"scale("+(1-e/v)+") rotate("+e+"deg)"}},439702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=i(n(211248)),o=i(n(822689));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=function(e){var t=JSON.parse(JSON.stringify(o.default));t.assets[0].p=e;return t};function s(e){var t=e.className,n=e.onComplete,o=e.id,i=e.source,u=r.useRef(null);r.useEffect((function(){var e;null!=u.current&&(e=a.default.loadAnimation({container:u.current,renderer:"svg",loop:!1,autoplay:!0,animationData:l(i)})).addEventListener("complete",(function(){return n(o)}));return function(){var t;null===(t=e)||void 0===t||t.destroy()}}),[n,o,i]);return r.createElement("div",{className:t,ref:u})}s.displayName="VoiceChannelEffect"},305241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w
;var r,a=T(n(667294)),o=b(n(294184)),i=n(248088),u=b(n(498773)),l=b(n(844784)),s=n(418889),d=b(n(416355)),f=b(n(222935)),c=b(n(956117)),p=b(n(16941)),v=n(96124),y=b(n(160629)),m=T(n(730977)),_=b(n(775803)),h=b(n(657138)),g=n(941690),E=n(770348),S=b(n(247001)),O=b(n(332342));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.emoji,n=A(a.useState(!1),2),r=n[0],o=n[1],l=a.useCallback((function(){r||o(!0)}),[r,o]),s=a.useCallback((function(){o(!1)}),[o]);return C(c.default,{look:c.default.Looks.BLANK,size:c.default.Sizes.NONE,onMouseEnter:l,onMouseLeave:s},void 0,C(i.Spring,{config:v.EMOJI_BUTTON_SPRING_CONFIG,from:{value:0},to:{value:r?1:0}},void 0,(function(e){var n,r=e.value;return C(i.animated.div,{style:{transform:r.to([0,1],[1,1.14]).to((function(e){return"scale("+e+")"}))}},void 0,C(u.default,{className:O.default.emoji,emojiId:t.id,emojiName:null===(n=t)||void 0===n?void 0:n.surrogates,animated:t.animated}))
})))};N.displayName="EffectEmoji";var P=E.EmojiIntention.CHAT,R={section:E.AnalyticsSections.VOICE_CHANNEL_EFFECT_EMOJI_PICKER_POPOUT,openPopoutType:"voice_channel_effect_emoji_picker"};function w(e){var t=e.channel,n=e.closePopout,r=(0,s.useFrequentlyUsedEmojis)(t.guild_id).filter((function(e){return!h.default.isEmojiFilteredOrLocked(e,t,P)})).slice(0,6),i=function(e,r){(0,g.sendVoiceChannelEffect)(t,e,g.VoiceChannelEffectSentLocation.EMOJI_PICKER);r&&n()},u=t.id,c=t.guild_id;a.useEffect((function(){l.default.trackWithMetadata(E.AnalyticEvents.VOICE_CHANNEL_EFFECT_BAR_VIEWED,{channel_id:u,guild_id:c})}),[u,c]);return C(y.default,{position:y.default.Positions.TOP,align:y.default.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return C(f.default,{},void 0,C(d.default,{className:O.default.emojiPicker,showCategoryList:!1,onSelectEmoji:i,pickerIntention:P,closePopout:n,channel:t,analyticsOverride:R}))}},void 0,(function(e){var n=e.onClick;return C("div",{
className:O.default.container},void 0,C("div",{className:O.default.slots},void 0,r.map((function(e){return C(p.default,{className:O.default.slot,onClick:function(){(0,g.sendVoiceChannelEffect)(t,e,g.VoiceChannelEffectSentLocation.EFFECT_BAR)}},e.name,C(m.TooltipContainer,{text:e.name,position:m.default.Positions.TOP,"aria-label":e.name,tooltipClassName:O.default.tooltipContainer},void 0,C(N,{emoji:e})))}))),C("div",{className:O.default.divider}),C(m.TooltipContainer,{text:S.default.Messages.VOICE_CHANNEL_EFFECTS_MORE,position:m.default.Positions.TOP,"aria-label":S.default.Messages.VOICE_CHANNEL_EFFECTS_MORE,tooltipClassName:O.default.tooltipContainer},void 0,C(p.default,{onClick:n},void 0,C(_.default,{className:(0,o.default)(O.default.emoji,O.default.pickerIcon)}))))}))}w.displayName="VoiceChannelEffectsBar"},131629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_WELCOME_SCREEN=void 0;var r=o(n(536211)),a=o(n(636602));function o(e){
return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u={};t.NO_WELCOME_SCREEN=u;var l={},s={},d=!1,f=!1,c=!1;function p(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){l[t.id]=t.welcome_screen;return!0}return!1}function v(e){var t=e.welcomeScreen,n=e.guildId;l[n]=null!=t?t:u}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.get=function(e){if(null!=e)return l[e]};n.isFetching=function(){return f};n.hasError=function(){return c};n.hasSeen=function(e,t){void 0===t&&(t=!1);return null!=e&&(t?d:s[e]||!1)};n.__getLocalVars=function(){return{welcomeScreens:l,seenGuilds:s,lurkingGuildSeen:d,fetching:f,hasError:c}};return t}(r.default.Store);y.displayName="WelcomeScreenStore";var m=new y(a.default,{INVITE_RESOLVE_SUCCESS:p,INVITE_ACCEPT_SUCCESS:p,
WELCOME_SCREEN_SUBMIT_SUCCESS:v,WELCOME_SCREEN_UPDATE:v,WELCOME_SCREEN_VIEW:function(e){var t=e.guildId,n=e.isLurking;s[t]=!0;n&&(d=!0)},GUILD_STOP_LURKING:function(){d=!1},GUILD_DELETE:function(e){var t=e.guild.id;s[t]=!1},WELCOME_SCREEN_FETCH_START:function(){f=!0;c=!1},WELCOME_SCREEN_FETCH_SUCCESS:function(e){f=!1;c=!1;var t=e.welcomeScreen,n=e.guildId;l[n]=null!=t?t:u},WELCOME_SCREEN_FETCH_FAIL:function(){f=!1;c=!0}});t.default=m},451646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(821896)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(685677)),o=d(n(713293)),i=d(n(590418)),u=d(n(510966)),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);t.createFromServer=function(e){var n=null!=e.payment_source?o.default.createFromServer(e.payment_source):null,r=null!=e.sku?i.default.createFromServer(e.sku):null,a=null!=e.subscription?u.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,
amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:a,skuId:e.sku_id,skuPrice:e.sku_price,sku:r,downloadableInvoice:e.downloadable_invoice,downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})};function t(t){var n;(n=e.call(this)||this).id=t.id;n.amount=t.amount;n.amountRefunded=t.amountRefunded;n.createdAt=t.createdAt;n.currency=t.currency;n.description=t.description;n.paymentSource=t.paymentSource;n.status=t.status;n.tax=t.tax;n.taxInclusive=t.taxInclusive;n.subscription=t.subscription;n.skuId=t.skuId;n.skuPrice=t.skuPrice;n.sku=t.sku;n.flags=t.flags;n.downloadableInvoice=t.downloadableInvoice;n.downloadableRefundInvoices=t.downloadableRefundInvoices;n.premiumRefundDisqualificationReasons=t.premiumRefundDisqualificationReasons
;return n}!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isPurchasedViaApple",get:function(){return this.paymentGateway===l.PaymentGateways.APPLE}},{key:"isPurchasedViaGoogle",get:function(){return this.paymentGateway===l.PaymentGateways.GOOGLE}},{key:"isPurchasedExternally",get:function(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}},{key:"isSubscription",get:function(){return null!=this.subscription}},{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&l.PREMIUM_PLANS.has(this.subscription.planId)}},{key:"isPremiumGuildSubscription",get:function(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find((function(e){var t=e.planId;return l.PREMIUM_GUILD_SUBSCRIPTION_PLANS.has(t)}))}},{key:"isGift",get:function(){return a.hasFlag(this.flags,l.PaymentFlags.GIFT)}},{key:"isPremiumGift",get:function(){
return this.isGift&&Object.values(l.PremiumSubscriptionSKUs).includes(this.skuId)}},{key:"isPreorder",get:function(){return a.hasFlag(this.flags,l.PaymentFlags.PREORDER)}}]);return t}(r.default);t.default=p},737931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(536211)),o=y(n(972247)),i=n(91817),u=y(n(636602)),l=y(n(312260)),s=n(811076),d=y(n(288356)),f=y(n(191839)),c=y(n(834162)),p=y(n(871778)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g="ActivityTrackingStore",E=18e5,S=3e5,O=null!==(r=o.default.get(g))&&void 0!==r?r:{},b={},I=!1;function T(e,t){void 0===t&&(t=!0);t&&C(e,!0);var n=b[e.applicationId];if(null!=n){n.stop();delete b[e.applicationId]}delete O[e.applicationId];o.default.set(g,O)}function C(e,t){void 0===t&&(t=!1);var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);l.default.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?v.Distributors.DISCORD:e.distributor,shareActivity:(0,
s.shouldShareApplicationActivity)(e.applicationId,f.default),token:e.token,duration:Math.floor(r/1e3),closed:t});e.updatedAt=n;var a=b[e.applicationId];null==a&&(a=b[e.applicationId]=new i.Interval).start(E,(function(){return C(e)}));if(!t){O[e.applicationId]=e;o.default.set(g,O)}}function A(e){void 0===e&&(e=!0);for(var t,n=c.default.getRunningGames(),r=new Set,a=_(n);!(t=a()).done;){var o=t.value,i=o.name,u=o.distributor,l=d.default.getGameByName(i);if(null!=l){r.add(l.id);l.id in O||C({applicationId:l.id,updatedAt:Date.now(),distributor:u})}}for(var s=0,f=Object.keys(O);s<f.length;s++){var p=f[s];r.has(p)||T(O[p],e)}}function M(){for(var e=0,t=Object.keys(O);e<t.length;e++){var n=t[e];T(O[n])}I=!1}var N=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(c.default,p.default,f.default);this.syncWith([p.default],A)}
;n.getActivities=function(){return O};n.__getLocalVars=function(){return{STORAGE_KEY:g,ACTIVITY_WINDOW:E,ACTIVITY_WINDOW_GRACE_PERIOD:S,CLOSE_AUTHENTICATION_FAILED:4004,applicationActivities:O,applicationIntervals:b,hasUpdatedOnConnectionOpen:I}};return t}(a.default.Store);N.displayName="ActivityTrackingStore";var P=new N(u.default,{RUNNING_GAMES_CHANGE:function(){return A()},CONNECTION_OPEN:function(){if(I)return!1;for(var e=0,t=Object.keys(O);e<t.length;e++){var n=t[e];C(O[n])}A(!1);I=!0},CONNECTION_CLOSED:function(e){4004===e.code&&M()},LOGOUT:M,ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,r=O[t];if(null==r)return!1;r.token=n;o.default.set(g,O)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=O[t];if(null==n)return!1;n.token=null;n.updatedAt=null;o.default.set(g,O)}});t.default=P},743237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(536211)),a=i(n(636602)),o=i(n(23535));function i(e){
return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){o.default.getSocket().processDispatchQueue()};n.hasCache=function(){return!0};n.__getLocalVars=function(){return{}};return t}(r.default.Store);l.displayName="CacheStore";var s=new l(a.default,{CONNECTION_OPEN:function(){return!1}});t.default=s},938199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u={toastsEnabledForChannel:{}},l=u;var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)
}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){l=null!=e?e:u};n.getToastsEnabled=function(e){var t;return null===(t=l.toastsEnabledForChannel[e])||void 0===t||t};n.getState=function(){return l};n.__getLocalVars=function(){return{initialState:u,state:l}};return t}(r.default.PersistedStore);s.displayName="CallChatToastsStore";s.persistKey="CallChatToasts";var d=new s(a.default,{CALL_CHAT_TOASTS_SET_ENABLED:function(e){var t=e.channelId,n=e.toastsEnabled;l.toastsEnabledForChannel[t]=n},LOGOUT:function(){l.toastsEnabledForChannel={}}});t.default=d},101820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=n(91817),i=c(n(636602)),u=c(n(786345)),l=c(n(136873)),s=c(n(387692)),d=c(n(487372)),f=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new o.Timeout,y=3e5
;function m(){if(null!=r){u.default.sendBotMessage(r,f.default.Messages.BOT_CALL_IDLE_DISCONNECT);l.default.selectVoiceChannel(null)}}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default)};n.__getLocalVars=function(){return{currentChannelId:r,_timeout:v,IDLE_TIMEOUT:y}};return t}(a.default.Store);_.displayName="CallIdleStore";var h=new _(i.default,{CONNECTION_CLOSED:function(){r=null;v.stop()},VOICE_STATE_UPDATES:function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=s.default.getCurrentClientVoiceChannelId(null);if(null==n){v.stop();return e}if(1===d.default.countVoiceStatesForChannel(n)){r=n;v.start(y,m,!1)}else v.stop();return e}),!1)}});t.default=h},484024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(536211)),a=o(n(636602))
;function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u={};var l=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSkuIdForChannel=function(e){return u[e]};n.__getLocalVars=function(){return{channelIdToSkuId:u}};return t}(r.default.Store);l.displayName="ChannelSKUStore";var s=new l(a.default,{CONNECTION_OPEN:function(){u={}},STORE_LISTING_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.storeListing;null!=t&&(u[t]=n.sku.id)}});t.default=s},42398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(496486)),a=c(n(536211)),o=c(n(636602)),i=c(n(32079)),u=c(n(491462)),l=c(n(30098)),s=c(n(689389)),d=c(n(89981)),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){
h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}var g,E,S,O=[],b=null,I=!1,T=f.FormStates.CLOSED,C={},A=!1,M=null;function N(){E=u.default.getChannel();g=null!=E?l.default.getGuild(E.guild_id):null;O=null!=E&&null!=g&&s.default.can(f.Permissions.MANAGE_WEBHOOKS,E)?d.default.getWebhooksForChannel(g.id,E.id):[];if(null!=b){var e=R(b.id);null!=e&&(b=e)}T=f.FormStates.OPEN;C={};A=!1}var P=r.default.debounce((function(){if(A){(null==b||r.default.isEqual(b,R(b.id)))&&(A=!1);A||D.emitChange()}}),500);function R(e){return O.find((function(t){return t.id===e}))}var w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,l.default,d.default,s.default)};n.hasChanges=function(){return A}
;n.getWebhook=function(e){return R(e)};n.showNotice=function(){return this.hasChanges()};n.getProps=function(){return{submitting:T===f.FormStates.SUBMITTING,webhooks:O,editedWebhook:b,section:S,sectionId:M,hasChanges:this.hasChanges(),isFetching:I,errors:C}};n.__getLocalVars=function(){return{webhooks:O,editedWebhook:b,isFetchingWebhooks:I,guild:g,channel:E,formState:T,errors:C,hasChanges:A,section:S,sectionId:M,validateUpdate:P,storeInstance:D}};!function(e,t,n){t&&p(e.prototype,t);n&&p(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"webhooks",get:function(){return O}},{key:"editedWebhook",get:function(){return b}},{key:"formState",get:function(){return T}}]);return t}(a.default.Store);w.displayName="ChannelSettingsIntegrationsStore";var D=new w(o.default,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:N,INTEGRATION_SETTINGS_SAVE_SUCCESS:N,CHANNEL_SETTINGS_SET_SECTION:function(e){if(e.section!==f.ChannelSettingsSections.INTEGRATIONS)return!1
;S=f.IntegrationSettingsSections.OVERVIEW;if(null==g){var t=u.default.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){i.default.fetchForChannel(n,t.id);I=!0}N()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){var t=e.section,n=e.sectionId;S=t;M=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){var t=R(e.webhookId);if(null==t)return!1;b=t;C={};A=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){b=null;C={};A=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){var t=e.settings;if(null==b)return!1;b=h({},b);if(null!=t.name&&b.name!==t.name){b.name=t.name;A=!0}if(void 0!==t.avatar&&b.avatar!==t.avatar){b.avatar=t.avatar;A=!0}if(null!=t.channelId&&b.channel_id!==t.channelId){b.channel_id=t.channelId;A=!0}A&&P()},CHANNEL_SETTINGS_CLOSE:function(){E=null;g=null;O=[];b=null;T=f.FormStates.CLOSED},WEBHOOKS_UPDATE:function(e){var t=e.guildId,n=e.channelId,r=e.webhooks;if(null==g||t!==g.id||null==E||n!==E.id||null==r||T===f.FormStates.SUBMITTING)return!1;I=!1
;for(var a=function(e){var t=O[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)return"continue";var a=r.find((function(e){if(e.id===t.id)return!0}));if(null!=a){var o,i=h({},t,{},a);O[e]=i;A||(null===(o=b)||void 0===o?void 0:o.id)!==i.id||(b=i)}else{var u;(null===(u=b)||void 0===u?void 0:u.id)===t.id&&(b=null);O.splice(e,1)}},o=O.length-1;o>=0;o--)a(o);for(var i,u=function(){var e=i.value;null==O.find((function(t){if(t.id===e.id)return!0}))&&O.push(e)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(i=l()).done;)u();O=y(O);P()},INTEGRATION_SETTINGS_SUBMITTING:function(){T=f.FormStates.SUBMITTING;C={}
},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){var t;if(T!==f.FormStates.SUBMITTING)return!1;T=f.FormStates.OPEN;C=null!==(t=e.errors)&&void 0!==t?t:{}}}),L=D;t.default=L},847583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(496486)),a=c(n(536211)),o=c(n(972247)),i=c(n(636602)),u=c(n(656016)),l=c(n(491462)),s=c(n(644263)),d=n(770348),f=n(739889);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var h,g,E=new Set,S=d.FormStates.CLOSED,O=!1,b=null,I=null,T=null,C=null,A=null,M=null,N=o.default.get(f.ADVANCED_MODE_ON_KEY)||!1;function P(e){var t=e.getGuildId(),n=_({},e.permissionOverwrites)
;null!=t&&null==n[t]&&(n[t]=u.default.makeEveryoneOverwrite(t));return n}function R(){T=l.default.getChannel();C=l.default.getCategory();if(null==T)return!1;var e=T.getGuildId();I=b=P(T);null==b[A]&&(A=e);g=null!=C;h=u.default.areChannelsLocked(T,C);M=null;O=!1;S=d.FormStates.CLOSED;E.clear()}function w(e){if(null==T||T.id!==e)return!1;if(null==(T=s.default.getChannel(e)))return!1;C=l.default.getCategory();var t=T.getGuildId();if(null==t)return!1;I=P(T);var n={};E.forEach((function(e){null!=b&&(n[e]=b[e])}));null==n[t]&&null==T.permissionOverwrites[t]&&(n[t]=u.default.makeEveryoneOverwrite(t));if(null==(b=_({},T.permissionOverwrites,{},n))[A])A=t;else if(null!=M&&null!=b[M]){A=M;M=null}h=u.default.areChannelsLocked(T,C);return!0}var D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default)}
;n.hasChanges=function(){return O};n.showNotice=function(){return this.hasChanges()};n.getPermissionOverwrite=function(e){var t;return null===(t=b)||void 0===t?void 0:t[e]};n.__getLocalVars=function(){return{editedPermissions:E,formState:S,hasChanges:O,locked:h,isLockable:g,permissionOverwrites:b,originalPermissionOverwrites:I,channel:T,category:C,selectedOverwriteId:A,queuedSelectedOverwriteId:M,advancedMode:N}};!function(e,t,n){t&&p(e.prototype,t);n&&p(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"editedPermissionIds",get:function(){return Array.from(E)}},{key:"permissionOverwrites",get:function(){return b}},{key:"selectedOverwriteId",get:function(){return A}},{key:"formState",get:function(){return S}},{key:"isLockable",get:function(){return g}},{key:"locked",get:function(){return h}},{key:"channel",get:function(){return T}},{key:"category",get:function(){return C}},{key:"advancedMode",get:function(){return N}}]);return t}(a.default.Store)
;D.displayName="ChannelSettingsPermissionsStore";var L=new D(i.default,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=T||t!==d.ChannelSettingsSections.PERMISSIONS)return!1;R()},CHANNEL_SETTINGS_PERMISSIONS_INIT:R,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t,n,a=e.id,o=e.allow,i=e.deny,l=null===(t=b)||void 0===t?void 0:t[a];if(null==l||null==T)return!1;l=_({},l,{allow:o,deny:i});b=_({},b,((n={})[a]=l,n));E.add(a);S=d.FormStates.OPEN;O=!r.default.isEqual(b,I);h=u.default.areChannelsLocked(T,C)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=b&&null!=b[t])A=t;else{if(null==T)return!1;M=t}},CHANNEL_SETTINGS_CLOSE:function(){S=d.FormStates.CLOSED;b=null;I=null;T=null;C=null;O=!1;E.clear();A=null;M=null},CHANNEL_UPDATES:function(e){var t=e.updates;if(null==T)return!1;for(var n,r=!1,a=y(t);!(n=a()).done;){!1!==w(n.value.channel.id)&&(r=!0)}return r},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){
S=d.FormStates.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){if(e.silent)S=d.FormStates.OPEN;else{S=d.FormStates.CLOSED;R()}},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){var t=e.advancedMode;N=t;o.default.set(f.ADVANCED_MODE_ON_KEY,t)}});t.default=L},491462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(496486)),a=v(n(730381)),o=v(n(536211)),i=v(n(118915)),u=v(n(636602)),l=v(n(567186)),s=v(n(539563)),d=v(n(820068)),f=v(n(759027)),c=v(n(644263)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}
var g,E,S,O,b,I,T=p.FormStates.CLOSED,C={},A={},M=!1,N=!1,P=null,R=["name","type","topic","bitrate","userLimit","nsfw","flags","rateLimitPerUser","defaultThreadRateLimitPerUser","defaultAutoArchiveDuration","template","defaultReactionEmoji","rtcRegion","videoQualityMode","threadMetadata","banner"];function w(e){if(null==S||S.id!==e)return!1;if(S===O){var t=c.default.getChannel(e);if(null==t)return!1;O=S=t;b=c.default.getChannel(O.parent_id)}else{var n=c.default.getChannel(e);if(null==n)return!1;S=n;if(null!=O){O=O.set("permissionOverwrites",S.permissionOverwrites);b=c.default.getChannel(O.parent_id)}}return!0}function D(e){var t,n=c.default.getChannel(e.channelId);if(null==n)return k();T=p.FormStates.OPEN;O=S=n;P="location"in e&&null!=e.location?e.location:null;E="subsection"in e?e.subsection:null;null!=O&&(O=O.set("nsfw",O.isNSFW()));b=c.default.getChannel(O.parent_id);I=O.getGuildId();C={};L({type:"CHANNEL_SETTINGS_SET_SECTION",
section:null!==(t=g)&&void 0!==t?t:p.ChannelSettingsSections.OVERVIEW,subsection:E})}function L(e){g=e.section;E=e.subsection;if(null!=O&&g===p.ChannelSettingsSections.INSTANT_INVITES){M=!0;i.default.get({url:p.Endpoints.INSTANT_INVITES(O.id),oldFormErrors:!0}).then((function(e){M=!1;u.default.dispatch({type:"CHANNEL_SETTINGS_LOADED_INVITES",invites:e.body})}),(function(){return M=!1}))}}function k(){N=!1;T=p.FormStates.CLOSED;g=null;O=S=null;b=null;A={}}var j=r.default.debounce((function(){if(null==O||null==S)return!1;var e=O.toJS(),t=S.toJS();if(R.every((function(n){return e[n]===t[n]}))&&O!==S){O=S;F.emitChange()}}),500);function U(e){return new d.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new f.default(e.inviter):null,channel:new l.default(e.channel),guild:null!=e.guild?new s.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,a.default)(e.created_at),type:e.type})}var G=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(c.default)};n.hasChanges=function(){return O!==S};n.isOpen=function(){return N};n.getSection=function(){return g};n.getInvites=function(){return{invites:A,loading:M}};n.showNotice=function(){return this.hasChanges()};n.getChannel=function(){return O};n.getFormState=function(){return T};n.getCategory=function(){return b};n.getProps=function(){return{submitting:T===p.FormStates.SUBMITTING,errors:C,channel:O,section:g,subsection:E,invites:A,selectedOverwriteId:I,hasChanges:this.hasChanges(),analyticsLocation:P}};n.__getLocalVars=function(){return{formState:T,section:g,subsection:E,originalChannel:S,channel:O,category:b,errors:C,invites:A,selectedOverwriteId:I,loadingInvites:M,open:N,analyticsLocation:P,CHANNEL_PROPERTIES:R,validateUpdate:j,storeInstance:F}};return t}(o.default.Store)
;G.displayName="ChannelSettingsStore";var F=new G(u.default,{CHANNEL_SETTINGS_INIT:D,CHANNEL_SETTINGS_OPEN:function(e){N=!0;D(e)},CHANNEL_SETTINGS_SUBMIT:function(){T=p.FormStates.SUBMITTING;C={}},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(){S=O;T=p.FormStates.OPEN},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){var t;T=p.FormStates.OPEN;C=null!==(t=e.errors)&&void 0!==t?t:{}},CHANNEL_SETTINGS_CLOSE:k,CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;I=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,i=e.nsfw,u=e.flags,l=e.rateLimitPerUser,s=e.defaultThreadRateLimitPerUser,d=e.autoArchiveDuration,f=e.locked,c=e.invitable,p=e.defaultAutoArchiveDuration,v=e.template,y=e.defaultReactionEmoji,m=e.rtcRegion,_=e.videoQualityMode,h=e.banner;if(null==O)return!1;null!=t&&(O=O.set("name",t));null!=r&&(O=O.set("topic",r));null!=a&&(O=O.set("bitrate",a));null!=o&&(O=O.set("userLimit",o));null!=i&&(O=O.set("nsfw",i))
;null!=u&&(O=O.set("flags",u));null!=l&&(O=O.set("rateLimitPerUser",l));null!=s&&(O=O.set("defaultThreadRateLimitPerUser",s));null!=d&&(O=O.update("threadMetadata",{},(function(e){e.autoArchiveDuration=d;return e})));null!=f&&(O=O.update("threadMetadata",{},(function(e){e.locked=f;return e})));null!=c&&(O=O.update("threadMetadata",{},(function(e){e.invitable=c;return e})));null!=p&&(O=O.set("defaultAutoArchiveDuration",p));null!=v&&(O=O.set("template",v));null!=n&&(O=O.set("type",n));void 0!==m&&(O=O.set("rtcRegion",m));null!=_&&(O=O.set("videoQualityMode",_));void 0!==h&&(O=O.set("banner",h));void 0!==y&&(O=O.set("defaultReactionEmoji",y));j()},CHANNEL_SETTINGS_SET_SECTION:L,CHANNEL_SETTINGS_LOADED_INVITES:function(e){A={};e.invites.forEach((function(e){A[e.code]=U(e)}))},CHANNEL_UPDATES:function(e){var t=e.updates;if(null==O)return!1;for(var n,r=!1,a=m(t);!(n=a()).done;){if(w(n.value.channel.id)&&null!=O){null!=I&&null==O.permissionOverwrites[I]&&(I=O.getGuildId());r=!0}}return r},
CHANNEL_DELETE:function(e){var t=e.channel.id;if(null==O)return!1;if(O.id!==t)return!1;T=p.FormStates.CLOSED},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(A=h({},A))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;A=h({},A,((t={})[e.invite.code]=U(e.invite),t))}}),x=F;t.default=x},762214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.extractDisplayName=I;var r=c(n(496486)),a=c(n(536211)),o=c(n(636602)),i=c(n(740207)),u=n(864489),l=c(n(635014)),s=c(n(871778)),d=n(770348),f=n(376293);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y={},m=y,_=!1,h={},g={},E={},S={id:null,justChanged:!1},O={id:null,justChanged:!1},b=/\(([^)]+)\)/;function I(e){if((0,
u.getPlatform)()===u.PlatformTypes.WINDOWS){var t=e.name.match(b);if(null!=t)return t[1]}return e.name}function T(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===d.ConnectedDeviceType.INPUT&&n===d.ConnectedDeviceType.OUTPUT||e.type===d.ConnectedDeviceType.OUTPUT&&n===d.ConnectedDeviceType.INPUT?{displayName:t,type:d.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(l.default,s.default);m=null!=e?e:y};n.getUserAgnosticState=function(){return m};n.__getLocalVars=function(){return{initialState:y,state:m,initialized:_,inputDevices:h,outputDevices:g,lastDeviceConnected:E,lastInputSystemDevice:S,lastOutputSystemDevice:O,WINDOWS_DEVICE_NAME_REGEX:b}};!function(e,t,n){t&&p(e.prototype,t);n&&p(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{
key:"initialized",get:function(){return _}},{key:"lastDeviceConnected",get:function(){return E}},{key:"inputDevices",get:function(){return h}},{key:"lastInputSystemDevice",get:function(){return S}},{key:"outputDevices",get:function(){return g}},{key:"lastOutputSystemDevice",get:function(){return O}}]);return t}(a.default.DeviceSettingsStore);C.displayName="ConnectedDeviceStore";C.persistKey="ConnectedDeviceStore";var A=new C(o.default,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,a={};S.justChanged=!1;t.forEach((function(e){a[I(e)]=e.id;if(e.id===f.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==S.id&&(S.justChanged=!0);S.id=n}}));var o={};O.justChanged=!1;n.forEach((function(e){o[I(e)]=e.id;if(e.id===f.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==O.id&&(O.justChanged=!0);O.id=n}}));if(_){
var i=Object.keys(h),u=Object.keys(a),l=Object.keys(g),s=Object.keys(o),c=r.default.difference(i,u),p=r.default.difference(l,s);if(c.length>0||p.length>0)E={};else{r.default.difference(u,i).forEach((function(e){E[e]=T(E[e],e,d.ConnectedDeviceType.INPUT)}));r.default.difference(s,l).forEach((function(e){E[e]=T(E[e],e,d.ConnectedDeviceType.OUTPUT)}))}if(!r.default.isEqual(i,u)||!r.default.isEqual(l,s)){h=a;g=o;return!0}return!1}h=a;g=o;_=!0},CONNECTED_DEVICE_SET:function(e){var t=e.displayName;!function(e,t,n){if(t===d.ConnectedDevicePreference.INPUT||t===d.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=h[e];null!=r&&o.default.wait((function(){return i.default.setInputDevice(r,n)}))}if(t===d.ConnectedDevicePreference.OUTPUT||t===d.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=g[e];o.default.wait((function(){return i.default.setOutputDevice(a,n)}))}}(t,e.connectedDevicePreference,e.location);delete E[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete E[t]},
CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){E={};m={neverShowModal:!0}}});t.default=A},528429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(536211)),a=u(n(636602)),o=n(229474),i=u(n(30098));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=864e5,f={},c=function(){f={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};c();var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(f=e);this.waitFor(i.default)};n.getState=function(){return f};n.getGuildAffinity=function(e){return f.guildAffinitiesByGuildId[e]}
;n.__getLocalVars=function(){return{AFFINITY_DATA_TTL:d,state:f,setDefaultState:c}};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"affinities",get:function(){return f.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==f.lastFetched}}]);return t}(r.default.PersistedStore);p.displayName="GuildAffinitiesStore";p.persistKey="GuildAffinitiesStore";var v=new p(a.default,{CONNECTION_OPEN:function(){Date.now()-f.lastFetched>d&&(0,o.fetchGuildAffinities)();return!1},LOAD_GUILD_AFFINITIES_SUCCESS:function(e){var t=e.guildAffinities;f.guildAffinities=[];f.guildAffinitiesByGuildId={};f.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,a={score:n,guildId:r,index:t};f.guildAffinitiesByGuildId[r]=a;f.guildAffinities.push(a)}))},LOGOUT:function(){c()}});t.default=v},958698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=u(n(536211)),a=u(n(636602)),o=u(n(728429)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=null;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getHouseMembership=function(){return s};n.__getLocalVars=function(){return{houseID:s}};return t}(r.default.Store);d.displayName="HypeSquadStore";var f=new d(a.default,{CONNECTION_OPEN:function(){var e=o.default.getCurrentUser();null!=e&&(e.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?s=i.HypeSquadHouses.HOUSE_1:e.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?s=i.HypeSquadHouses.HOUSE_2:e.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(s=i.HypeSquadHouses.HOUSE_3))},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(){s=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){s=e.houseID}})
;t.default=f},226720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(496486)),o=c(n(536211)),i=c(n(636602)),u=c(n(614166)),l=c(n(423046)),s=c(n(319111)),d=c(n(635014)),f=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y={};function m(){a.default.forEach(y,(function(e,t){e.destroy();delete y[t]}))}function _(e,t,n){var r=y[e];return null!=r?t(r):n}function h(e){var t=e.lobbyId,n=y[t];if(null==n)return!1;n.destroy();delete y[t]}function g(){return!0}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}
var n=t.prototype;n.forEach=function(e){a.default.each(y,e)};n.getState=function(e){return _(e,(function(e){return e.state}),f.RTCConnectionStates.DISCONNECTED)};n.isConnected=function(e){return this.getState(e)===f.RTCConnectionStates.RTC_CONNECTED};n.isDisconnected=function(e){return this.getState(e)===f.RTCConnectionStates.DISCONNECTED};n.getHostname=function(e){return _(e,(function(e){return e.hostname}),null)};n.getQuality=function(e){return _(e,(function(e){return e.quality}),f.RTCConnectionQuality.UNKNOWN)};n.getPings=function(e){return _(e,(function(e){return e.getPings()}),[])};n.getAveragePing=function(e){return _(e,(function(e){return e.getAveragePing()}),0)};n.getLastPing=function(e){return _(e,(function(e){return e.getLastPing()}),0)};n.getOutboundLossRate=function(e){return _(e,(function(e){return e.getOutboundLossRate()}),0)};n.getMediaSessionId=function(e){return _(e,(function(e){return e.getMediaSessionId()}),null)};n.getRTCConnectionId=function(e){
return _(e,(function(e){return e.getRTCConnectionId()}),null)};n.getDuration=function(e){return _(e,(function(e){return e.getDuration()}),0)};n.__getLocalVars=function(){return{sessionId:r,rtcConnections:y}};return t}(o.default.Store);E.displayName="RTCConnectionStore";var S=new E(i.default,d.default.isSupported()?{CONNECTION_OPEN:function(e){r=e.sessionId;m()},CONNECTION_CLOSED:function(){r=null;m()},RTC_CONNECTION_STATE:g,RTC_CONNECTION_PING:g,RTC_CONNECTION_LOSS_RATE:g,LOBBY_VOICE_STATE_UPDATE:function(e){if(l.default.getId()!==e.userId)return!1;if(e.sessionId!==r)return!1;var t=y[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete y[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=function(e,t){if(null==r)throw new Error("Creating RTCConnection without session.");var n=s.default.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var a=n.application_id,o=new u.default({userId:l.default.getId(),sessionId:r,
guildId:e,channelId:t,context:a});o.on("state",(function(t,n,r){i.default.dispatch(v({type:"RTC_CONNECTION_STATE",state:t},n,{},r,{lobbyId:e}))}));o.on("ping",(function(t,n){i.default.dispatch({type:"RTC_CONNECTION_PING",pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){i.default.dispatch({type:"RTC_CONNECTION_LOSS_RATE",lossRate:t,lobbyId:e})}));return o}(e.lobbyId,e.channelId);y[e.lobbyId]=t}},LOBBY_VOICE_SERVER_UPDATE:function(e){var t=y[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},LOBBY_DELETE:h,LOBBY_DISCONNECT:h}:{});t.default=S},218843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(536211)),a=u(n(972247)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function s(e,t){
s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f,c="PictureInPictureLocation",p=new Map,v=i.PictureInPicturePositions.BOTTOM_RIGHT,y={};var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){v=a.default.get(c,i.PictureInPicturePositions.BOTTOM_RIGHT)};n.isEmbeddedActivityHidden=function(){var e;return null==f||(null===(e=p.get(f))||void 0===e?void 0:e.component)!==i.PictureInPictureComponents.EMBED_IFRAME};n.getDockedRect=function(e){return y[e]};n.isOpen=function(e){return null!=e&&p.has(e)};n.__getLocalVars=function(){return{STORAGE_KEY:c,selectedWindow:f,openWindows:p,openPosition:v,dockedRects:y}}
;!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"pipWindow",get:function(){return null==f?null:p.get(f)}},{key:"pipWindows",get:function(){return p}}]);return t}(r.default.Store);m.displayName="PictureInPictureStore";var _=new m(o.default,{PICTURE_IN_PICTURE_OPEN:function(e){var t,n,r=e.id,a=e.component,o=e.props;if(null==p.get(r)){var i={id:r,component:a,position:null!==(t=o.position)&&void 0!==t?t:v,props:o,docked:null!==(n=o.docked)&&void 0!==n&&n};p.set(r,i);null==f&&(f=r)}},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(!p.has(t))return!1;p.delete(t);if(f===t){var n=Array.from(p.keys());f=0===n.length?null:n[0]}},PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;if(null==f||f!==t)return!1;var r=new Map;p.forEach((function(e,t){r.set(t,d({},e,{position:n}))}));p=r;v=n;a.default.set(c,n)},PICTURE_IN_PICTURE_HIDE:function(e){var t=e.id;if(f!==t)return!1;var n=p.get(t);if(null==n)return!1;p.set(t,d({},n,{
hidden:!0}))},PICTURE_IN_PICTURE_SHOW:function(e){var t=e.id;if(f!==t)return!1;var n=p.get(t);if(null==n)return!1;p.set(t,d({},n,{hidden:!1}))},PICTURE_IN_PICTURE_UPDATE_RECT:function(e){var t=e.id,n=e.rect;y[t]=n},PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW:function(e){var t=e.id;f=t},LOGOUT:function(){f=null;p=new Map}});t.default=_},534930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(496486)),a=u(n(536211)),o=u(n(636602)),i=u(n(30098));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=null,d={};var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default)};n.getOptimalRegion=function(e){var t;void 0===e&&(e=null);var n=this.getRegions(e)
;return null!=n?null!==(t=n.find((function(e){return e.optimal})))&&void 0!==t?t:r.default.sample(n):null};n.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e);return null!=t?t.id:null};n.getRandomRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?r.default.sample(t):null};n.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null};n.getRegions=function(e){return null!=e?d[e]:s};n.__getLocalVars=function(){return{defaultRegions:s,guildRegions:d}};return t}(a.default.Store);f.displayName="RegionStore";var c=new f(o.default,{LOAD_REGIONS:function(e){var t=r.default.sortBy(e.regions,(function(e){return e.name}));null!=e.guildId?d[e.guildId]=t:s=t},GUILD_DELETE:function(e){delete d[e.guild.id]}});t.default=c},52694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(636602)),a=o(n(690445));function o(e){return e&&e.__esModule?e:{
default:e}}var i={init:function(){a.default.addChangeListener((function(){r.default.dispatch({type:"SELF_PRESENCE_STORE_UPDATE",status:a.default.getStatus(),activities:a.default.getActivities()})}))}};t.default=i},625424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(536211)),a=u(n(636602)),o=u(n(969226)),i=u(n(288356));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.__getLocalVars=function(){return{NOTIFICATION_ICON_SIZE:64}};return t}(r.default.Store);s.displayName="UserAchievementStore";var d=new s(a.default,{USER_ACHIEVEMENT_UPDATE:function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){
var a=i.default.getGame(n),u=null!=a?a.getIconURL(64):null;o.default.showNotification(u,r.name,r.description,{notif_type:"USER_ACHIEVEMENT_UPDATE"},{omitViewTracking:!0})}}});t.default=d},816624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(536211)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l,s,d,f,c,p,v,y=o.FormStates.CLOSED,m={},_=!1;function h(){y=o.FormStates.OPEN;m={}}function g(){y=o.FormStates.CLOSED;m={}}function E(){S();O();m={}}function S(){l=void 0;s=void 0}function O(){d=void 0;f=void 0;c=void 0;p=void 0;v=void 0}var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return y};n.getErrors=function(){return m};n.showNotice=function(){
return void 0!==l||void 0!==d||void 0!==f||void 0!==c||void 0!==p||void 0!==v||void 0!==s};n.getPendingAvatar=function(){return l};n.getPendingBanner=function(){return d};n.getPendingBio=function(){return f};n.getPendingPronouns=function(){return c};n.getPendingAccentColor=function(){return p};n.getPendingThemeColors=function(){return v};n.getPendingAvatarDecoration=function(){return s};n.getAllPending=function(){return{pendingAvatar:l,pendingBanner:d,pendingBio:f,pendingPronouns:c,pendingAccentColor:p,pendingThemeColors:v,pendingAvatarDecoration:s}};n.getIsDisableSubmit=function(){return _};n.__getLocalVars=function(){return{formState:y,errors:m,pendingAvatar:l,pendingAvatarDecoration:s,pendingBanner:d,pendingBio:f,pendingPronouns:c,pendingAccentColor:p,pendingThemeColors:v,disableSubmit:_}};return t}(r.default.Store);b.displayName="UserSettingsAccountStore";var I=new b(a.default,{USER_SETTINGS_ACCOUNT_INIT:h,USER_SETTINGS_MODAL_INIT:h,USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS:h,
USER_SETTINGS_MODAL_SET_SECTION:function(e){return e.section===o.UserSettingsSections.ACCOUNT&&h()},USER_SETTINGS_ACCOUNT_CLOSE:g,USER_SETTINGS_ACCOUNT_RESET_AND_CLOSE_FORM:function(){E();g()},USER_SETTINGS_ACCOUNT_SUBMIT:function(){y=o.FormStates.SUBMITTING;m={}},USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE:function(e){var t;if(y!==o.FormStates.SUBMITTING)return!1;y=o.FormStates.OPEN;m=null!==(t=e.errors)&&void 0!==t?t:{}},USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR:function(e){var t=e.avatar;l=t},USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION:function(e){var t=e.avatarDecoration;s=t},USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER:function(e){var t=e.banner;d=t},USER_SETTINGS_ACCOUNT_SET_PENDING_BIO:function(e){var t=e.bio;f=t},USER_SETTINGS_ACCOUNT_SET_PENDING_PRONOUNS:function(e){var t=e.pronouns;c=t},USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR:function(e){var t=e.color;p=t},USER_SETTINGS_ACCOUNT_SET_PENDING_THEME_COLORS:function(e){var t=e.themeColors;v=t},
USER_SETTINGS_CLEAR_ERRORS:function(){m={}},USER_SETTINGS_RESET_PENDING_ACCOUNT_CHANGES:S,USER_SETTINGS_RESET_PENDING_PROFILE_CHANGES:O,USER_SETTINGS_RESET_ALL_PENDING:E,LOGOUT:function(){l=void 0},USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT:function(e){var t=e.disable;_=t}});t.default=I},529688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=y(n(496486)),i=y(n(536211)),u=y(n(636602)),l=y(n(825724)),s=n(747868),d=y(n(607209)),f=y(n(423046)),c=y(n(635014)),p=y(n(397228)),v=n(859089);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){void 0===e&&(e=!0);var t;if(null==r)t=null;else{var n;t=l.default.getSelectedParticipantId(r);var i=d.default.getLastActiveStream(),u=null!=t?l.default.getParticipant(r,t):null
;((null==u?void 0:u.type)===v.ParticipantTypes.ACTIVITY||(null==u?void 0:u.type)===v.ParticipantTypes.USER&&!(null===(n=u.voiceState)||void 0===n?void 0:n.selfVideo))&&(t=null);if(null!=i&&null==t){var y;t=null===(y=l.default.getParticipant(r,(0,s.encodeStreamKey)(i)))||void 0===y?void 0:y.id}if(null==t){var m,h=f.default.getId(),g=(0,o.default)(l.default.getVideoParticipants(r)).filter((function(e){return e.type===v.ParticipantTypes.USER&&e.user.id!==h&&!c.default.isLocalVideoDisabled(e.user.id)})),E=Date.now();if(null==(t=null===(m=g.map((function(e){return[e.user.id,p.default.getSpeakingDuration(e.user.id,E)]})).filter((function(e){var t=_(e,2);t[0];return 0!==t[1]})).maxBy((function(e){var t=_(e,2);t[0];return-t[1]})))||void 0===m?void 0:m[0]))if(null!=a)t=a;else{var S,O;t=null===(S=g.first())||void 0===S||null===(O=S.user)||void 0===O?void 0:O.id}}}if(a!==t){a=t;e&&b.emitChange()}}var E=o.default.debounce(g,300);function S(){E();return!1}var O=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,f.default,p.default,d.default,c.default);this.syncWith([l.default,d.default],S)};n.getSpeaker=function(e){var t;if(r!==e){r=e;g(!1)}return null!==(t=a)&&void 0!==t?t:f.default.getId()};n.__getLocalVars=function(){return{videoChannelId:r,videoSpeakerId:a,debouncedUpdateSpeaker:E,instance:b}};return t}(i.default.Store);O.displayName="VideoSpeakerStore";var b=new O(u.default,{AUDIO_SET_LOCAL_VIDEO_DISABLED:S}),I=b;t.default=I},474261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(636602)),o=d(n(913955)),i=d(n(644263)),u=d(n(211136)),l=d(n(686182)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){!function(){var e=u.default.getVoiceChannelId(),t=o.default.bitrate;if(null!=e){var n=i.default.getChannel(e);null!=n&&t!==n.bitrate&&a.default.dispatch({type:"SET_CHANNEL_BITRATE",bitrate:n.bitrate})}}();!function(){var e,t=u.default.getVoiceChannelId(),n=l.default.mode
;if(null!=t){var r=i.default.getChannel(t);if(null!=r){var o=null!==(e=r.videoQualityMode)&&void 0!==e?e:s.VideoQualityMode.AUTO;n!==o&&a.default.dispatch({type:"SET_CHANNEL_VIDEO_QUALITY_MODE",mode:o})}}}()}function v(e){r=e.sessionId}function y(e){for(var t,n=f(e.updates);!(t=n()).done;){var r=t.value.channel;u.default.getVoiceChannelId()===r.id&&p()}}function m(e){e.voiceStates.forEach((function(e){r===e.sessionId&&p()}))}var _={init:function(){a.default.subscribe("CONNECTION_OPEN",v);a.default.subscribe("CHANNEL_UPDATES",y);a.default.subscribe("VOICE_STATE_UPDATES",m)}};t.default=_},490931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(536211)),a=i(n(636602)),o=i(n(451646));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=[];function c(e){var t=e.payment,n=o.default.createFromServer(t),r=f.findIndex((function(e){return e.id===t.id}));if(-1===r){f.push(n);f.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}))}else f[r]=n;f=l(f)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getPayment=function(e){return f.find((function(t){return t.id===e}))};n.getPayments=function(){return f};n.__getLocalVars=function(){return{payments:f}};return t}(r.default.Store);p.displayName="PaymentStore";var v=new p(a.default,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){for(var t,n=function(){var e=t.value,n=o.default.createFromServer(e),r=f.findIndex((function(t){return t.id===e.id}));-1!==r?f[r]=n:f.push(n)},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.payments);!(t=r()).done;)n()
;f.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}));f=l(f)},PAYMENT_UPDATE:c,BILLING_PAYMENT_FETCH_SUCCESS:c,LOGOUT:function(){f=[]}});t.default=v},538647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(30098)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return!e.hasFeature(i.GuildFeatures.BANNER)&&Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY};return t}(o.default))(r.default);t.default=s},329669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=u(n(536211)),a=u(n(636602)),o=n(682937),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}var d={},f=function(){d={lastDismissedGracePeriods:{},isVisible:{}}};f();var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(d=e)};n.getLastDismissedGracePeriodForGuild=function(e){return null!=d.lastDismissedGracePeriods[e]?d.lastDismissedGracePeriods[e]:null};n.isVisible=function(e){return null!=e&&(null!=d.isVisible[e]&&d.isVisible[e])};n.getState=function(){return d};n.__getLocalVars=function(){return{
state:d,setDefaultState:f}};return t}(r.default.PersistedStore);c.displayName="GuildBoostingGracePeriodNoticeStore";c.persistKey="PremiumGuildGracePeriodNoticeStore";c.migrations=[function(e){return s({},e,{lastDismissedGracePeriods:null!=e?s({},e.lastDismissedGracePeriods):{},isVisible:{}})}];var p=new c(a.default,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){var t,n=e.guildId,r=e.appliedBoosts,a=null!=d.lastDismissedGracePeriods[n]?d.lastDismissedGracePeriods[n]:null,u=null!=a&&Date.now()-a<=i.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,l=null!=r&&!u&&(0,o.isInGracePeriod)(r,n);d=s({},d,{isVisible:s({},d.isVisible,(t={},t[n]=l,t))})},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){var t,n,r=e.guildId;d=s({},d,{lastDismissedGracePeriods:s({},d.lastDismissedGracePeriods,(t={},t[r]=Date.now(),t)),isVisible:s({},d.isVisible,(n={},n[r]=!1,n))})}});t.default=p},20446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.MANAGE_GUILD,e)};return t}(o.default))(r.default);t.default=s},535711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(536211)),a=l(n(636602)),o=l(n(517286)),i=l(n(728429)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=null;function f(){
var e=i.default.getCurrentUser();if(null==e||e.mfaEnabled===d)return!1;d=e.mfaEnabled}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default,o.default);this.syncWith([i.default,o.default],f)};n.isVisible=function(e){return null!=e&&e.mfaLevel===u.MFALevels.ELEVATED&&!1===d&&o.default.hasElevatedPermissions(e.id)};n.__getLocalVars=function(){return{mfaEnabled:d}};return t}(r.default.Store);c.displayName="GuildMFAWarningStore";var p=new c(a.default,{CONNECTION_OPEN:f,GUILD_UPDATE:function(){return!0}});t.default=p},735653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(652566)),o=l(n(30098)),i=l(n(298698)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return s(e,t)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=!1;function p(e){var t=o.default.getGuild(e);if(null==t)return!1;if(!t.hasFeature(u.GuildFeatures.HUB))return!1;c=!0;return!0}function v(){
return!0}var y=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(o.default,a.default);this.syncWith([a.default],v)};n.channelNoticePredicate=function(e){return!!e.hasFeature(u.GuildFeatures.LINKED_TO_HUB)&&!c};return t}(i.default))(r.default,{CONNECTION_OPEN:function(e){for(var t,n=d(e.guilds);!(t=n()).done;){if(p(t.value.id))return!0}return!1},GUILD_CREATE:function(e){return p(e.guild.id)}});t.default=y},477566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){return!0}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e
;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],s)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.ADMINISTRATOR,e)};return t}(o.default))(r.default);t.default=d},24e4:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(536211)),a=d(n(972247)),o=d(n(636602)),i=d(n(311492)),u=d(n(30098)),l=d(n(689389)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c={MAX_MEMBER_COUNT:new Set};var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(l.default,u.default,i.default)
;this.syncWith([l.default,u.default,i.default],s.NOOP);a.default.remove(s.ChannelNoticeTypes.MAX_MEMBER_COUNT_100);a.default.remove(s.ChannelNoticeTypes.MAX_MEMBER_COUNT_250);c[s.ChannelNoticeTypes.MAX_MEMBER_COUNT]=null!==(e=new Set(a.default.get(s.ChannelNoticeTypes.MAX_MEMBER_COUNT)))&&void 0!==e?e:new Set};n.isVisible=function(e){var t;if(null==e)return!1;var n=null!==(t=i.default.getMemberCount(e.id))&&void 0!==t?t:0,r=l.default.can(s.Permissions.ADMINISTRATOR,e);return!c[s.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4};n.__getLocalVars=function(){return{CHANNEL_MEMBER_CAP_THRESHOLD:1e4,guildIds:c}};return t}(r.default.Store);p.displayName="MaxMemberCountChannelNoticeStore";var v=new p(o.default,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){var t=e.guildId;if(!c[s.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(t)){c[s.ChannelNoticeTypes.MAX_MEMBER_COUNT].add(t)
;a.default.set(s.ChannelNoticeTypes.MAX_MEMBER_COUNT,c[s.ChannelNoticeTypes.MAX_MEMBER_COUNT]);return!0}}});t.default=v},905505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(536211)),a=i(n(636602)),o=i(n(86298));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}function l(){return!0}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(o.default)};n.getExperimentAssignment=function(e,t){return o.default.getGuildExperimentDescriptor(t,e)};n.__getLocalVars=function(){return{}};return t}(r.default.Store);s.displayName="GuildExperimentStore";var d=new s(a.default,{LOGOUT:l,LOGIN_SUCCESS:l,CONNECTION_OPEN:l,EXPERIMENTS_FETCH_SUCCESS:l,OVERLAY_INITIALIZE:l,CACHE_LOADED:l,
EXPERIMENTS_FETCH_FAILURE:l,EXPERIMENT_REGISTER_LEGACY:l,EXPERIMENT_OVERRIDE_BUCKET:l});t.default=d},106605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Rows=t.Row=void 0;var r=m(n(496486)),a=m(n(536211)),o=m(n(636602)),i=m(n(237923)),u=m(n(821896)),l=m(n(677520)),s=m(n(607209)),d=m(n(876874)),f=m(n(30098)),c=m(n(788739)),p=m(n(290629)),v=m(n(728429)),y=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return E(e,t)}function S(e){var t=v.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function O(e){return{status:c.default.getStatus(e),isMobile:c.default.isMobileOnline(e),activities:c.default.getActivities(e),applicationStream:s.default.getStreamForUser(e)}}function b(e){var t=[];(0,r.default)(d.default.memberOf(e)).map(f.default.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,y.MAX_MUTUAL_GUILDS)}}var I=function(e){g(t,e);function t(t){var n;(n=e.call(this)||this).key=t.key;n.type=t.type;n.status=t.status;n.activities=t.activities;n.applicationStream=t.applicationStream;n.user=t.user;n.isMobile=t.isMobile;n.usernameLower=t.usernameLower;n.mutualGuildsLength=t.mutualGuildsLength;n.mutualGuilds=t.mutualGuilds;n.nickname=t.nickname;return n}!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n);Object.defineProperty(e,"prototype",{
writable:!1})}(t,[{key:"comparator",get:function(){var e,t;return[this.type,null!==(e=null===(t=this.nickname)||void 0===t?void 0:t.toLowerCase())&&void 0!==e?e:this.usernameLower]}}]);return t}(u.default);t.Row=I;var T=function(){function e(e){void 0===e&&(e=[]);this._rows=e}var t=e.prototype;t.reset=function(){var t=r.default.map(p.default.getRelationships(),(function(e,t){return new I(_({key:t,type:e,nickname:p.default.getNickname(t)},S(t),{},O(t),{},b(t)))})),n=r.default.map(l.default.getSuggestions(),(function(e){return new I(_({key:e.key,type:99,nickname:e.name},S(e.key),{},O(e.key),{},b(e.key)))}));return new e(r.default.concat(t,n))};t.clone=function(){return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r;this._rows[n]=a}return t};t.filter=function(e,t){return(0,r.default)(this._rows).filter((function(e){if(null==e.user)return!1;if(null!=t&&""!==t){var n=t.toLowerCase()
;return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case y.FriendsSections.ONLINE:return t.type===y.RelationshipTypes.FRIEND&&t.status!==y.StatusTypes.OFFLINE;case y.FriendsSections.PENDING:return t.type===y.RelationshipTypes.PENDING_INCOMING||t.type===y.RelationshipTypes.PENDING_OUTGOING;case y.FriendsSections.SUGGESTIONS:return 99===t.type;case y.FriendsSections.BLOCKED:return t.type===y.RelationshipTypes.BLOCKED;case y.FriendsSections.ALL:default:return t.type===y.RelationshipTypes.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=((e={})[y.RelationshipTypes.FRIEND]=0,e[y.RelationshipTypes.PENDING_INCOMING]=0,e[y.RelationshipTypes.PENDING_OUTGOING]=0,e[99]=0,e[y.RelationshipTypes.BLOCKED]=0,e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e
}();t.Rows=T;var C=!0,A=!1,M=y.FriendsSections.ONLINE,N=new T,P=!0,R=!1;function w(e){void 0===e&&(e=!1);if(C&&(e||M!==y.FriendsSections.ONLINE&&M!==y.FriendsSections.ADD_FRIEND)&&!A){C=!1;A=!0;i.default.fetchRelationships()}}function D(){C=!0;P?A=!1:w();N=N.reset();if(!R){var e=N.getRelationshipCounts();M=0===e[y.RelationshipTypes.FRIEND]?0!==e[y.RelationshipTypes.PENDING_INCOMING]?y.FriendsSections.PENDING:y.FriendsSections.ADD_FRIEND:y.FriendsSections.ONLINE}}function L(){N=P?new T:N.reset()}function k(e){return function(){if(P)return!1;if(N.update(e)){N=N.clone();return!0}return!1}}var j=function(e){g(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default,c.default,v.default,f.default,d.default,s.default,l.default);this.syncWith([p.default],L);this.syncWith([l.default],L);this.syncWith([v.default],k(S));this.syncWith([c.default,s.default],k(O));D()};n.getState=function(){return{fetching:A,section:M,
pendingCount:p.default.getPendingCount(),rows:N}};n.__getLocalVars=function(){return{SUGGESTION_TYPE:99,shouldFetch:C,fetching:A,section:M,rows:N,pause:P,initialSectionSet:R}};return t}(a.default.Store);j.displayName="FriendsStore";var U=new j(o.default,{CONNECTION_OPEN:function(){D()},FRIENDS_SET_SECTION:function(e){M=e.section;w()},CHANNEL_SELECT:function(e){var t=e.channelId;P=null!=t;L();return!P},LOAD_RELATIONSHIPS_SUCCESS:function(){A=!1},LOAD_RELATIONSHIPS_FAILURE:function(){C=!0;A=!0},DRAWER_SELECT_TAB:function(e){var t=e.tab;P=t!==y.DrawerTabTypes.FRIENDS;L();return!P},FRIENDS_SET_INITIAL_SECTION:function(e){M=e.section;R=!0}});t.default=U},730655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=L(n(496486)),a=L(n(536211)),o=L(n(636602)),i=L(n(234161)),u=D(n(470421)),l=L(n(762605)),s=L(n(969015)),d=L(n(460731)),f=L(n(319879)),c=L(n(814768)),p=D(n(101047)),v=n(336312),y=D(n(75300)),m=D(n(809204)),_=L(n(607209)),h=L(n(644263)),g=L(n(8549)),E=L(n(330445)),S=L(n(288356)),O=L(n(23535)),b=L(n(30098)),I=L(n(689389)),T=L(n(788739)),C=L(n(290629)),A=L(n(538983)),M=L(n(728429)),N=L(n(387692)),P=n(71246),R=n(770348);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function L(e){return e&&e.__esModule?e:{default:e}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return G.apply(this,arguments)}function F(e){return function(e){
if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H="party-",W="channel-",V="user-",Y=!1,K=!1,z=[],$=[],q={},X={},Q=new Set,Z=new Set;function J(){var e=C.default.getFriendIDs();if(g.default.hasConsented(R.Consents.PERSONALIZATION)){var t=Array.from(A.default.getUserAffinitiesUserIds()).filter((function(e){
return!C.default.isBlocked(e)}));return new Set([].concat(F(t),F(e)))}return new Set(e)}function ee(e){return T.default.findActivity(e,(function(e){return e.type!==R.ActivityTypes.CUSTOM_STATUS}))}function te(e){if(null==q[e]){var t;q=G({},q,((t={})[e]=new m.default({name:e}),t))}return q[e]}function ne(e){if(null==X[e]){var t;X=G({},X,((t={})[e]=new y.default({url:e}),t))}return X[e]}function re(e){Z.has(e)||Q.add(e)}function ae(e){if((0,s.default)(e))return v.SpotifyApplication;var t=null!=e.application_id?S.default.getGame(e.application_id):null;if(null!=t)return t;if((0,d.default)(e))return te(e.name);if((0,f.default)(e)&&null!=e.url)return ne(e.url);null!=e.application_id&&re(e.application_id);return t}function oe(e){var t=N.default.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&I.default.canWithPartialContext(R.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function ie(e){return C.default.isFriend(e.id)}function ue(e,t,n){
for(var a,o,i=t.map((function(e){return e.id})),s=t.filter((function(t){return e.has(t.id)})),d=!1,f=[],g=new Set,O=!1,C=[],A=function(){var e,n,o=a.value,i=_.default.getStreamForUser(o.id),s=ee(o.id);null!=i&&C.push({stream:i,streamUser:o,activity:s});if(null==s)return"continue";if((0,l.default)(s)&&(0,u.default)({userId:o.id,activity:s,application:void 0,channelId:null===(e=N.default.getVoiceStateForUser(o.id))||void 0===e?void 0:e.channelId,isActivitiesEnabledForClientPlatform:!0,ChannelStore:h.default,VoiceStateStore:N.default,PermissionStore:I.default,GuildStore:b.default})!==u.EmbeddedActivityJoinability.CAN_JOIN)return"continue";var T=null===(n=s.timestamps)||void 0===n?void 0:n.start;if(null==T&&!(0,l.default)(s))return"continue";var A=(0,c.default)(s);if(null==A)return"continue";O=A===v.SPOTIFY_APPLICATION_ID;if(!p.shouldShowActivity(s))return"continue";var P=function(e){var t=S.default.getGame(e);if(null!=t)return t;if(e===v.SPOTIFY_APPLICATION_ID)return v.SpotifyApplication
;if(e.startsWith(m.XBOX_APPLICATION_ID_PREFIX))return te(e.slice(m.XBOX_APPLICATION_ID_PREFIX.length));if(e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX))return ne(e.slice(y.TWITCH_APPLICATION_ID_PREFIX.length));re(e);return null}(A);if(null==P||g.has(P.id))return"continue";var R=null!=s?ae(s):null;null!=R&&R.id===P.id||(s=null);var w=[];if(null!=s&&null!=s.party&&null!=s.party.id){var D,L=null!==(D=E.default.getParty(s.party.id))&&void 0!==D?D:[];w=Array.from(L).reduce((function(e,t){var n=M.default.getUser(t);null!=n&&e.push(n);return e}),[])}else w=t.filter((function(e){var t=ee(e.id),n=null!=t?ae(t):null;return null!=n&&n.id===P.id}));(w=r.default.orderBy(w,[ie],["desc"])).length!==t.length&&(d=!0);g.add(P.id);f.push({game:P,activity:s,activityUser:o,startedPlayingTime:T,playingMembers:w})},R=U(t);!(a=R()).done;)A();for(var w,D,L,k=1===s.length,j=[],G=new Set,F=new Set,x=U(t);!(w=x()).done;){
var B=oe(w.value.id),H=h.default.getChannel(B),W=null!=H?H.getGuildId():null,V=b.default.getGuild(W);if(F.has(W)&&G.has(B)||null==H||null==V||H.id===V.afkChannelId){if(null==H){o=null;k=!0}}else{var Y=(0,r.default)(N.default.getVoiceStatesForChannel(H.id)).map((function(e){var t=e.userId;return M.default.getUser(t)})).filter(P.isNotNullish).orderBy([ie],["desc"]).value();Y.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(k)F.has(W)||(o=null);else{o=V;k=!0}F.add(W);G.add(B);j.push({channel:H,guild:V,members:Y})}}return{id:n,voiceChannels:j,isSpotifyActivity:O,priorityMembers:s.map((function(e){return{user:e,status:T.default.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:d,guildContext:o,currentActivities:(D=f,L=function(e){var t;return null!==(t=e.startedPlayingTime)&&void 0!==t?t:0},(0,r.default)(D).orderBy([L,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:C}}function le(){return Y&&O.default.isConnected()
}function se(){if(!le())return!1;Q.clear();var e,t,n,a,o=Array.from(J()).reduce((function(e,t){var n=M.default.getUser(t);null==n||n.bot||e.push(n);return e}),[]),u=(e=o,(0,r.default)(e).groupBy((function(e){var t,n=oe(e.id),r=ee(e.id);return null!=n?"channel--"+n:null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"party--"+r.party.id:"user--"+e.id}))),l=(t=u,n=J(),a=ue.bind(null,n),(0,r.default)(t).mapValues(a)),s=l.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();z=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(s);$=function(e){
return e.map((function(e){return{type:R.ActivityCardTypes.USER,party:e}}))}(z);!function(){if(Q.size>0){var e=Array.from(Q);i.default.fetchApplications(e);e.forEach((function(e){return Z.add(e)}));Q.clear()}}();K=!0}var de=r.default.throttle((function(){se();pe.emitChange()}),1e3);function fe(){if(!le())return!1;de();return!1}var ce=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.syncWith([M.default,S.default,T.default,E.default,N.default,_.default,C.default,g.default,A.default],fe);this.waitFor(O.default,b.default,S.default,M.default,A.default)};n.__getLocalVars=function(){return{PARTY_ID_START_PARTY:H,PARTY_ID_START_CHANNEL:W,PARTY_ID_START_USER:V,RECOMPUTE_NOW_PLAYING_THROTTLE:1e3,isMounted:Y,loaded:K,currentActivityParties:z,nowPlayingCards:$,xboxGames:q,twitchRecords:X,applicationIdsToFetch:Q,applicationIdsFetched:Z,
throttledRecomputeNowPlaying:de,instance:pe}};!function(e,t,n){t&&k(e.prototype,t);n&&k(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"currentActivityParties",get:function(){return z}},{key:"nowPlayingCards",get:function(){return $}},{key:"isMounted",get:function(){return Y}},{key:"loaded",get:function(){return K}}]);return t}(a.default.Store);ce.displayName="NowPlayingViewStore";var pe=new ce(o.default,{LOGOUT:function(){Y=!1;z=[];$=[];Q.clear()},NOW_PLAYING_MOUNTED:function(){Y=!0;de()},NOW_PLAYING_UNMOUNTED:function(){Y=!1}}),ve=pe;t.default=ve},944537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;c(n(667294));var r,a=d(n(496486)),o=d(n(9056)),i=c(n(762214)),u=d(n(635014)),l=n(194322),s=n(376293);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m=new Set(["DisplayPort"]),_=!1;function h(){if(!_){var e=u.default.getInputDeviceId(),t=u.default.getOutputDeviceId();if(!i.default.getState().neverShowModal&&!a.default.isEmpty(i.default.lastDeviceConnected)){var r=(0,i.extractDisplayName)(u.default.getInputDevices()[e]),d=(0,i.extractDisplayName)(u.default.getOutputDevices()[t]),f=a.default.some(i.default.lastDeviceConnected,(function(e){return m.has(e.displayName)||e.displayName===r||e.displayName===d}));if(!f){var c=a.default.some(i.default.lastDeviceConnected,(function(e){return o.default.isCertified(i.default.inputDevices[e.displayName])||o.default.isCertified(i.default.outputDevices[e.displayName])}));if(!(e===s.DEFAULT_DEVICE_ID&&i.default.lastInputSystemDevice.justChanged||t===s.DEFAULT_DEVICE_ID&&i.default.lastOutputSystemDevice.justChanged)||c){
var v=a.default.first(Object.keys(i.default.lastDeviceConnected)),h=null!=v&&""!==v?i.default.lastDeviceConnected[v]:null;if(null!=h){var g;i.default.initialized&&null!=v&&(o.default.isCertified(i.default.inputDevices[v])?g=o.default.getCertifiedDevice(i.default.inputDevices[v]):o.default.isCertified(i.default.outputDevices[v])&&(g=o.default.getCertifiedDevice(i.default.outputDevices[v])));_=!0;(0,l.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36672)]).then(n.bind(n,936672));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t=e.transitionState,n=e.onClose;return p(r,{device:h,certifiedDeviceMetadata:g,transitionState:t,onClose:function(){_=!1;return n()}})}));case 5:case"end":return e.stop()}}),e)}))))}}}}}}var g={init:function(){i.default.addChangeListener(h)}};t.default=g},931411:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(536211)),a=d(n(972247)),o=d(n(636602)),i=d(n(423046)),u=d(n(644263)),l=d(n(690445)),s=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c="IncomingCallStore",p={width:232,height:315},v=new Set,y=[],m=new Map,_=new Set,h=0,g=0,E=!1;!function(){0;var e=a.default.get(c);if(null!=e){h=+e.x;g=+e.y}else{var t=n(949898).default.windowSize();h=t.width/2-p.width/2;g=t.height/2-p.height/2}}();function S(e){if(null==e)return!1;if(null==m.get(e))return!1;m.delete(e);(_=new Set(_)).delete(e)}function O(e){var t=e.channelId,n=e.ringing.includes(i.default.getId());if(!_.has(t)&&n){var r=u.default.getChannel(t);if(null==r)return!1;var a=10*_.size;m.set(t,{channel:r,x:h+a,y:g+a});(_=new Set(_)).add(t)}else{if(!_.has(t)||n)return!1;S(t)}}function b(){E=l.default.getStatus()===s.StatusTypes.DND}var I=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,l.default);this.syncWith([l.default],b)};n.getIncomingCalls=function(){return E?y:Array.from(m.values())};n.getIncomingCallChannelIds=function(){return E?v:_};n.getFirstIncomingCallId=function(){return E?null:_.values().next().value};n.hasIncomingCalls=function(){return!E&&_.size>0};n.__getLocalVars=function(){return{INCOMING_CALL_MODAL_POSITION:c,DIMENSIONS:p,MULTIPLE_MODAL_OFFSET:10,DND_ACTIVE_CALLS:v,NO_INCOMING_CALLS:y,incomingCalls:m,activeCalls:_,x:h,y:g,dnd:E}};return t}(r.default.Store);I.displayName="IncomingCallStore";var T=new I(o.default,{CALL_CREATE:O,CALL_UPDATE:O,CALL_DELETE:function(e){return S(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return S(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;h=t;g=n;a.default.set(c,{x:h,y:g});return!1},
CHANNEL_DELETE:function(e){return S(e.channel.id)}});t.default=T},853068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}var f=!1,c=null;var p={init:function(){o.default.subscribe("CONNECTION_OPEN",(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(c===t[0])return;if(null==(c=t[0]))return;!function(e){if(!f){f=!0;(0,i.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(23438)]).then(n.bind(n,123438));case 2:
r=t.sent;a=r.default;return t.abrupt("return",(function(t){var n=t.transitionState,r=t.onClose;return l(a,{pendingPayment:e,transitionState:n,onClose:function(){f=!1;return r()}})}));case 5:case"end":return t.stop()}}),t)}))))}}(c)}}))}};t.default=p},542618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(530250)),u=l(n(124047));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(s=function(e){return e?n:t})(e)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.children,n=e.className,r=e.splashArtURL;return f(i.default,{className:(0,o.default)(u.default.header,n),align:i.default.Align.CENTER},void 0,f("div",{className:u.default.splashArt,style:null!=r?{backgroundImage:"url("+r+")"}:void 0}),t)};c.displayName="ActivityFeedCardHeader";var p=function(e){var t=e.children,n=e.className;return f("div",{className:(0,o.default)(u.default.body,n)},void 0,t)}
;p.displayName="ActivityFeedCardBody";var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave;return f("div",{className:(0,o.default)(u.default.card,n),onMouseEnter:r,onMouseLeave:a},void 0,t)};return t}(a.PureComponent);v.displayName="ActivityFeedCard";v.Header=c;v.Body=p;var y=v;t.default=y},558402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Types=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=n(773336),i=l(n(66636)),u=["children","editable","type","className","outline"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c={PRIMARY:"cardPrimary",DANGER:"cardDanger",WARNING:"cardWarning",SUCCESS:"cardSuccess",BRAND:"cardBrand",CUSTOM:"card"};t.Types=c;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}
t.prototype.render=function(){var e,t=this.props,n=t.children,l=t.editable,s=t.type,f=t.className,p=t.outline,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);p?e="outline":s===c.PRIMARY&&l&&(e="editable");return r.createElement("div",d({className:(0,a.default)(f,(0,o.getClass)(i.default,s,e))},v),n)};return t}(r.PureComponent);p.displayName="Card";p.Types=c;p.defaultProps={type:c.PRIMARY,outline:!1,editable:!1};var v=p;t.default=v},168391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(16941)),i=n(645758),u=s(n(69405)),l=s(n(94480));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.options,n=e.onClick,r=e.className,s=e.optionClassName;return f("div",{className:(0,a.default)(l.default.root,r)},void 0,t.map((function(e,t){return f(o.default,{onClick:function(){return n(e)},
className:(0,a.default)(l.default.option,s)},t,f(i.Text,{className:l.default.text,color:"none",variant:"text-md/normal"},void 0,e.label),f(u.default,{className:l.default.caret,direction:u.default.Directions.RIGHT}))})))}c.displayName="ChoiceButtonList"},895108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(730977)),i=l(n(247001)),u=l(n(126388));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Math.ceil(2*Math.PI*20);function p(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}function v(e){return Math.floor(c*e)+", "+c}var y=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),l=Math.floor(100*r)+"%";return f(o.default,{
text:i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},void 0,(function(e){return a.createElement("div",d({className:u.default.wrapper,role:"progressbar","aria-label":i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},e),f("svg",{viewBox:"25 25 50 50",className:u.default.svg,"aria-hidden":!0},void 0,f("circle",{className:u.default.background,cx:"50",cy:"50",r:20}),f("circle",{className:u.default.foreground,cx:"50",cy:"50",r:20,stroke:p(r),strokeDasharray:v(r)})),f("aside",{className:u.default.usageInfo,"aria-hidden":!0},void 0,l))}))};y.displayName="DiskSpaceCircle";var m=y;t.default=m},222318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(973935),i=(r=n(74854))&&r.__esModule?r:{default:r},u=n(659779),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=Math.pow(3,2),p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._height=0;n._width=0;n._dragStart={x:0,y:0};n._offsetX=0;n._offsetY=0
;n._removeListeners=function(){};n.handleSetRef=function(e){n._ref=e};n.handleMouseDown=function(e){var t=n.props,r=t.dragAnywhere,a=t.disabled,o=t.selector;if(!a){var i=n.state.position,u=e.target;if(e.button===l.MouseButtons.PRIMARY&&(r||null!=o&&u.matches(o))){n.grabDimensions();n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-i.x._value;n._offsetY=e.clientY-i.y._value;var s=e.nativeEvent.view;n._removeListeners();s.addEventListener("mousemove",n.handleMouseMove);s.addEventListener("mouseup",n.handleMouseUp);n._removeListeners=function(){s.removeEventListener("mousemove",n.handleMouseMove);s.removeEventListener("mouseup",n.handleMouseUp)}}}};n.handleMouseMove=function(e){e.preventDefault();var t=n.props,r=t.onDragStart,a=t.onDrag;if(!t.disabled){var o,i,u,l,s,d,f=n.state,p=f.dragging,v=f.dragging;!p&&(o=n._dragStart,i={x:e.clientX,y:e.clientY},u=o.x,l=o.y,s=i.x,d=i.y,Math.pow(u-s,2)+Math.pow(l-d,2))>c&&(p=!0);if(p){
n.animateToPosition(e.clientX-n._offsetX,e.clientY-n._offsetY,{tension:80,friction:8},null,!1);n.setState({dragging:p},(function(){v||null==r||r(e.clientX,e.clientY);null==a||a(e.clientX,e.clientY)}))}}};n.handleMouseUp=function(e){n._removeListeners();n.state.dragging&&n.setState({dragging:!1},(function(){var t=n.props.onDragEnd;null==t||t(e.clientX,e.clientY)}))};var r=new i.default.Value(t.initialX),a=new i.default.Value(t.initialY);n.state={dragging:!1,position:new i.default.ValueXY({x:r,y:a})};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)};n.componentWillUnmount=function(){this._removeListeners()};n.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={});void 0===a&&(a=!0);a&&this.grabDimensions();var o=this.translate(e,t);i.default.spring(this.state.position,d({toValue:{x:o.x,y:o.y}},n)).start(r)};n.setPosition=function(e,t,n){void 0===n&&(n=!0);n&&this.grabDimensions();var r=this.translate(e,t)
;this.state.position.setValue({x:r.x,y:r.y})};n.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref);if((0,u.isElement)(e)){this._height=e.clientHeight;this._width=e.clientWidth}};n.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;e<0?e=0:e>r-this._width&&(e=r-this._width);t<0?t=0:t>a-this._height&&(t=a-this._height);return{x:e,y:t}};n.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,u=r.children,l=[0,1],s=["0px","1px"],f=i.default.accelerate(d({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:l,outputRange:s})},{translateY:n.y.interpolate({inputRange:l,outputRange:s})}]},this.props.style));return a.createElement(i.default.div,{ref:this.handleSetRef,className:o,onMouseDown:this.handleMouseDown,style:f},u)};return t}(a.PureComponent);p.displayName="Draggable";p.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,disabled:!1,dragAnywhere:!1};var v=p;t.default=v},784241:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(667294)),o=_(n(294184)),i=_(n(468811)),u=n(91817),l=g(n(956117)),s=_(n(279950)),d=n(688388),f=n(3400),c=n(770348),p=_(n(247001)),v=_(n(978607)),y=_(n(3066)),m=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._animItem=null;t._timeout=new u.Timeout;t._headerId=i.default.v4();t.state={resent:!1,shouldClose:!1,email:"",password:""};t.setLottieRef=function(e){t._lottieRef=e}
;t.handleVerify=function(){(0,t.props.onVerify)(t.state.email,t.state.password)};t.handleResendEmail=function(){var e=t.props,n=e.onResend,r=e.onClose;n();if(!t.state.resent){t.setState({resent:!0,shouldClose:!0});t._timeout.start(3e3,(function(){t.state.shouldClose&&r()}))}};t.handleChangeEmailClick=function(){var e=t.props.onChangeEmailClick;t.setState({resent:!1,shouldClose:!1});e()};t.handleEmailChange=function(e){t.setState({email:e})};t.handlePasswordChange=function(e){t.setState({password:e})};t.handleKeyPress=function(e){var n=t.state,r=n.email,a=n.password;if(13===e.which&&r.length>0&&a.length>0){e.preventDefault();t.handleVerify()}};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),Promise.resolve().then(n.t.bind(n,211248,23))]);case 2:t=e.sent;r=S(t,2);a=r[0]
;o=r[1].default;this._animItem=o.loadAnimation({container:this._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a});case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();r.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};r.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,i=a.password;return E("div",{className:v.default.container},void 0,E(d.FormItem,{title:p.default.Messages.FORM_LABEL_EMAIL,className:m.default.marginBottom20},void 0,E(s.default,{value:o,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),E(d.FormItem,{title:p.default.Messages.FORM_LABEL_PASSWORD,
className:m.default.marginBottom40},void 0,E(s.default,{type:"password",value:i,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),E(l.default,{fullWidth:!0,size:l.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===i.length},void 0,p.default.Messages.VERIFY_ACCOUNT))};r.renderActions=function(){return E("div",{className:v.default.container},void 0,E(l.default,{className:m.default.marginTop20,fullWidth:!0,size:l.default.Sizes.LARGE,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,p.default.Messages.RESEND_EMAIL),E(l.default,{className:m.default.marginTop20,fullWidth:!0,size:l.default.Sizes.MEDIUM,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,p.default.Messages.CHANGE_EMAIL))};r.render=function(){var e,t=this.state.resent,n=this.props,r=n.email,i=n.canResend,u=n.transitionState
;e=t&&null!=r?p.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:r}):i?p.default.Messages.VERIFY_EMAIL_BODY:p.default.Messages.ENTER_EMAIL_BODY;return E(f.ModalRoot,{transitionState:u,"aria-labelledby":this._headerId,className:(0,o.default)(v.default.emailVerificationModal,y.default.vertical,y.default.alignCenter,y.default.justifyCenter,m.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),E("div",{className:(0,o.default)(v.default.title,m.default.marginBottom8)},void 0,p.default.Messages.VERIFY_BY_EMAIL),E("div",{className:(0,o.default)(v.default.body,m.default.marginBottom20)},void 0,e),i?this.renderActions():this.renderInputs())};return t}(a.PureComponent);T.displayName="EmailVerificationModal";T.defaultProps={canResend:!1,onChangeEmailClick:c.NOOP,onVerify:function(e,t){},onResend:c.NOOP,onClose:c.NOOP};var C=T;t.default=C},737705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(530250)),u=n(770348),l=d(n(643193)),s=d(n(380203));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=a.createContext(u.ThemeTypes.DARK),_=m.Provider,h=m.Consumer,g=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,d=e.offsetX,f=e.offsetY,v=e.style;return c(h,{},void 0,(function(e){return c(i.default.Child,{grow:0,className:(0,
o.default)(l.default.image,s.default.marginBottom40),style:p({},v,{width:r,height:a,marginLeft:d,marginTop:f,backgroundImage:"url("+(e===u.ThemeTypes.DARK?n:t)+")"})})}))};return t}(a.PureComponent);t.EmptyStateImage=g;g.displayName="EmptyStateImage";var E=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,u=e.style;return c(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:u},void 0,null!=t&&c("h4",{className:(0,o.default)(n,l.default.title)},void 0,t),null!=a?c("div",{className:(0,o.default)(r,l.default.text,s.default.marginTop8)},void 0,a):null)};t.EmptyStateText=E;E.displayName="EmptyStateText";var S=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return c(_,{value:n},void 0,c(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(l.default.wrapper,r),
style:a},void 0,t))};return t}(a.PureComponent);t.default=S;S.displayName="EmptyState";S.Text=E;S.Image=g},358255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NotchBackground=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(8916),u=n(770348),l=s(n(14573));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=(0,i.cssValueToNumber)(l.default.notchWidth),v=Object.freeze({BLACK:l.default.black,GRAY:l.default.gray});t.NotchBackground=v;var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0};t.sizerRef=a.createRef();t.computeBars=function(){var e=t.sizerRef.current;t.setState({
barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})};return t}var n=t.prototype;n.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};n.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)};n.roundToNearestStep=function(e){return Math.round(e/p)*p};n.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}};n.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}};n.render=function(){var e=this.props,t=e.className,n=e.notchBackground;return a.createElement("div",{className:l.default.wrapper,ref:this.sizerRef},f("div",{className:(0,o.default)(l.default.container,t),style:this.getGradientStyles()},void 0,f("div",{
className:l.default.progress,style:this.getProgressStyles()}),f("div",{className:(0,o.default)(l.default.notches,n)})))};return t}(a.Component);y.displayName="GradientProgress";y.defaultProps={gradientStart:u.Colors.STATUS_YELLOW_400,gradientEnd:u.Colors.STATUS_GREEN_600};var m=y;t.default=m},2022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=M(n(294184)),i=n(376871),u=n(378158),l=n(263996),s=n(523024),d=n(328092),f=M(n(886836)),c=n(800055),p=n(894826),v=M(n(692711)),y=n(465537),m=M(n(16941)),_=M(n(189950)),h=n(772575),g=M(n(80828)),E=n(645758),S=M(n(730977)),O=M(n(272544)),b=n(770348),I=M(n(247001)),T=M(n(976351)),C=M(n(860321)),A=M(n(145792));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};t.handleClickView=function(){var e=D(regeneratorRuntime.mark((function e(n){var r,a,o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target;if(!r.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:a=t.props,o=a.onView,i=a.guild;n.stopPropagation();t.setState({submitting:!0});e.prev=6;e.t0=null!=o;if(!e.t0){e.next=11;break}e.next=11;return o(i.id);case 11:e.prev=11;t.setState({submitting:!1});return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[6,,11,14]])})));return function(t){return e.apply(this,arguments)}}();t.handleVisibilityChange=function(e){var n=t.props,r=n.onGuildCardSeen,a=n.guild;if(null!=a&&!t.state.hasBeenSeen&&e){t.setState({hasBeenSeen:e});null!=r&&r(a.id)}};t.handleContextMenu=function(e){(0,u.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){
return a.createElement(o,R({},e,{guild:t.props.guild}))}));case 5:case"end":return e.stop()}}),e)}))))};t.setIsVisible=function(e){t.setState({isVisible:e})};return t}var r=t.prototype;r.getDefaultSplashURL=function(e){switch(e){case b.ThemeTypes.DARK:return C.default;case b.ThemeTypes.LIGHT:return A.default}};r.render=function(){var e,t,n,r=this,a=this.props,u=a.guild,b=a.className,C=a.theme,A=a.onTagClick,M=this.state,N=M.loaded,R=M.hasBeenSeen,w=M.isVisible,D=M.submitting,L=u.name,k=u.description,j=u.presenceCount,U=u.memberCount,G=u.keywords,F=v.default.getGuildDiscoverySplashURL({id:u.id,splash:u.discoverySplash,size:300*(0,c.getDevicePixelRatio)()}),x=null!=F?F:this.getDefaultSplashURL(C),B=v.default.getGuildIconURL({id:u.id,icon:u.icon,size:40});d.DiscoveryTagsExperiment.trackExposure({});var H=d.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayTags,W=s.DiscoveryInAppReportingExperiment.getCurrentConfig({}).canSeeInAppReportingButtons
;s.DiscoveryInAppReportingExperiment.trackExposure({});var V=p.DeveloperMode.getSetting()||W;return P(i.VisibilitySensor,{active:!w,onChange:this.setIsVisible,threshold:.1},void 0,w?P(i.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!R,threshold:.55},void 0,P("div",{className:(0,o.default)(b,(e={},e[T.default.loaded]=N,e[T.default.loading]=!N,e))},void 0,D?P(g.default,{type:g.default.Type.PULSING_ELLIPSIS,className:T.default.spinner}):null,P(m.default,{onClick:this.handleClickView,className:(0,o.default)(T.default.card,(t={},t[T.default.submitting]=D,t[T.default.cardWithTags]=H,t)),onContextMenu:this.handleContextMenu},void 0,P("div",{className:T.default.cardHeader},void 0,P("div",{className:T.default.splash},void 0,P("img",{src:x,alt:"",className:T.default.splashImage,onLoad:function(){return r.setState({loaded:!0})}})),V?P("div",{className:T.default.actionButtons},void 0,P(f.default,{guild:u})):null,P("div",{className:T.default.guildIcon},void 0,P(O.default,{
mask:O.default.Masks.SQUIRCLE,width:48,height:48},void 0,P("div",{className:T.default.iconMask},void 0,P(O.default,{mask:O.default.Masks.SQUIRCLE,width:40,height:40},void 0,P("img",{src:B,alt:"",className:T.default.avatar})))))),P("div",{className:T.default.guildInfo},void 0,P("div",{className:T.default.title},void 0,P(_.default,{className:T.default.guildBadge,guild:u,tooltipColor:S.default.Colors.PRIMARY}),P(h.Heading,{variant:"heading-md/medium",className:T.default.guildName,level:4},void 0,L)),P(E.Text,{className:T.default.description,variant:"text-sm/normal",color:"header-secondary"},void 0,k),H&&G&&A&&P(l.DiscoveryTags,{tags:G,onTagClick:function(e){return A(e,u.id)},guildId:u.id,section:y.AnalyticsContexts.POPULAR}),P("div",{className:T.default.memberInfo},void 0,null!=j&&P("div",{className:T.default.memberCount},void 0,P("div",{className:T.default.dotOnline}),P(E.Text,{variant:"text-xs/normal",color:"header-secondary"
},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:j}))),null!=U&&P("div",{className:T.default.memberCount},void 0,P("div",{className:T.default.dotOffline}),P(E.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:U})))))))):P("div",{className:(0,o.default)(T.default.card,(n={},n[T.default.cardWithTags]=H,n))}))};return t}(a.PureComponent);k.displayName="GuildDiscoveryCard";k.Placeholder=function(e){return P("div",{className:(0,o.default)(e.className,T.default.cardPlaceholder)})};var j=k;t.default=j},618993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(776680)),u=["tag","children","hoverText","className","forceHover"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.children,l=t.hoverText,s=t.className,c=t.forceHover,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);return a.createElement("div",d({},p,{className:(0,o.default)(s,i.default.hoverRoll,(e={},e[i.default.disabled]=null==l,e[i.default.forceHover]=c,e))}),f(n,{className:i.default.hovered},void 0,l),f(n,{className:i.default.default},void 0,r))};return t}(a.PureComponent);p.displayName="HoverRoll";p.defaultProps={tag:"div",forceHover:!1};var v=p
;t.default=v},445308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RecordModes=void 0;var r,a,o,i=h(n(667294)),u=m(n(294184)),l=m(n(238736)),s=m(n(496486)),d=m(n(314234)),f=n(339943),c=h(n(956117)),p=m(n(530250)),v=m(n(247001)),y=m(n(35282));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}t.RecordModes=o;!function(e){e.DEFAULT="DEFAULT";e.RECORDING="RECORDING"}(o||(t.RecordModes=o={}));var S=((r={})[o.DEFAULT]=y.default.default,r[o.RECORDING]=y.default.recording,r),O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._inputId=s.default.uniqueId("key-recorder-");t._unregisterNativeRecorder=null
;t._mousedownMode=null;t._inputRef=i.createRef();t._containerRef=i.createRef();t.setInputRef=function(e){t._input=e;t._inputRef.current=e};t.handleClick=function(e){e.stopPropagation();e.preventDefault();var n=t.props,r=n.onClick;n.disableOnClickWhileRecording&&t._mousedownMode===o.RECORDING||r()};t.handleMouseDown=function(){t._mousedownMode=t.props.mode};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props.onChange;if(null!=this.props.registerNativeRecorder&&null!=e)this._unregisterNativeRecorder=this.props.registerNativeRecorder(this._inputId,e);else if(null!=e&&null!=this._input){new l.default(this._input).handleKey=e}};n.componentWillUnmount=function(){null!=this._unregisterNativeRecorder&&this._unregisterNativeRecorder()};n.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===o.DEFAULT&&n===r&&n.blur();t===o.RECORDING&&n!==r&&n.focus()}}};n.render=function(){
var e,t,n=this,r=this.props,a=r.mode,l=r.value,s=r.disabled,m=(0,f.toString)(l,!0);t=a===o.RECORDING?v.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===l.length?v.default.Messages.SHORTCUT_RECORDER_BUTTON:v.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var _=a===o.DEFAULT&&l.length>0;return g(d.default,{focusTarget:this._inputRef,ringTarget:this._containerRef},void 0,i.createElement("div",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,ref:this._containerRef,className:(0,u.default)(y.default.container,S[a],(e={},e[y.default.hasValue]=_,e[y.default.disabled]=s,e))},g(p.default,{className:y.default.layout},void 0,g(p.default.Child,{className:y.default.input},void 0,i.createElement("input",{id:this._inputId,placeholder:v.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:m,disabled:this.props.mode!==o.RECORDING||s})),g(p.default,{shrink:1,grow:0,style:{margin:0}},void 0,g(c.default,{className:y.default.button,disabled:s,
onClick:function(e){e.stopPropagation();e.preventDefault();n.handleClick(e)},size:c.default.Sizes.MIN,color:c.ButtonColors.PRIMARY},void 0,g("span",{className:y.default.text},void 0,t),g("span",{className:y.default.editIcon}))))))};return t}(i.PureComponent);O.displayName="KeyRecorder";var b=O;t.default=b},847015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(864489),u=(r=n(57097))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return(0,i.isOSX)()?s("div",{className:u.default.macosHeaderDrag}):null};return t}(o.Component);f.displayName="MacOsHeaderDrag";var c=f;t.default=c},477797:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(16941)),u=c(n(916417)),l=c(n(863771)),s=c(n(247001)),d=c(n(282230)),f=["currentPageIndex","numPages","onChangePage","children","className","showPageCount"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=a.forwardRef((function(e,t){var n,r,c=e.currentPageIndex,p=e.numPages,m=e.onChangePage,_=e.children,h=e.className,g=e.showPageCount,E=void 0===g||g,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f),O=c<=0,b=c>=p-1;return a.createElement("div",v({className:(0,o.default)(d.default.paginator,h),ref:t},S),_,y("div",{className:d.default.pageActions
},void 0,y(i.default,{className:(0,o.default)(d.default.pageButtonPrev,(n={},n[d.default.disabled]=O,n)),tabIndex:O?-1:0,onClick:O?void 0:function(){return m(c-1)}},void 0,y(u.default,{className:d.default.pageButtonIcon,"aria-label":s.default.Messages.PAGINATION_PREVIOUS})),y("div",{className:d.default.pageIndicator},void 0,E?s.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:c+1,numPages:p}):s.default.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:c+1})),y(i.default,{className:(0,o.default)(d.default.pageButtonNext,(r={},r[d.default.disabled]=b,r)),tabIndex:b?-1:0,onClick:b?void 0:function(){return m(c+1)}},void 0,y(l.default,{className:d.default.pageButtonIcon,"aria-label":s.default.Messages.PAGINATION_NEXT}))))}));t.default=m},365561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PictureInPictureWindow=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=n(973935),u=n(864489),l=c(n(222318)),s=n(770348),d=c(n(347754)),f=c(n(480798));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=80,g=132,E=80,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._width=0;t._height=0;t._velocityX=0;t._velocityY=0;t._lastMoveX=0;t._lastMoveY=0;t.ensureIsInPosition=function(){t.setPosition(t.props.position)};t.handleSetInnerDivRef=function(e){t._innerDiv=e
;var n=null==e?void 0:e.ownerDocument.defaultView;if(null!=e&&null!=n){var r;t._resizeObserver=new n.ResizeObserver(t.ensureIsInPosition);null===(r=t._resizeObserver)||void 0===r||r.observe(e)}};t.handleSetDraggableRef=function(e){t._draggable=e};t.handleDragStart=function(e,n){t._velocityX=0;t._velocityY=0;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=new Date};t.handleDrag=function(e,n){var r=new Date,a=Number(r)-Number(t._lastMoveTime);t._velocityX=(e-t._lastMoveX)/a;t._velocityY=(n-t._lastMoveY)/a;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=r};t.handleDragEnd=function(e,n){var r,a=t.props,o=a.maxX,i=a.maxY,u=t.calculateDecayingPosition(e,n,t._velocityX,t._velocityY),l=!0,d=!0;u.x>o/2&&(d=!1);u.y>i/2&&(l=!1);r=l&&d?s.PictureInPicturePositions.TOP_LEFT:l&&!d?s.PictureInPicturePositions.TOP_RIGHT:!l&&d?s.PictureInPicturePositions.BOTTOM_LEFT:s.PictureInPicturePositions.BOTTOM_RIGHT;t.animateToPosition(r,t.ensureIsInPosition);if(r!==t.props.position){var f=t.props,c=f.id,p=f.onMove
;null==p||p(c,r)}};return t}var n=t.prototype;n.componentDidMount=function(){this.setPosition(this.props.position)};n.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY&&e.dockedRect===this.props.dockedRect||this.ensureIsInPosition()};n.componentWillUnmount=function(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()};n.getPosition=function(e){var t=(0,i.findDOMNode)(this._innerDiv);if(null!=t){var n=t.getBoundingClientRect();this._width=n.width;this._height=n.height}var r=this.props,a=r.edgeOffsetTop,o=r.edgeOffsetLeft,l=r.edgeOffsetBottom,d=r.edgeOffsetRight,f=r.maxX,c=r.maxY,p=r.dockedRect,v=Math.round(a),y=Math.round(c-l-this._height),m=Math.round(o),_=Math.round(f-d-this._width),h=(0,u.getPlatform)()!==u.PlatformTypes.WEB&&this.inPopout?22:0
;if(null!=p){var g,E;return{y:(null!==(g=null==p?void 0:p.y)&&void 0!==g?g:0)-h,x:null!==(E=null==p?void 0:p.x)&&void 0!==E?E:0}}switch(e){case s.PictureInPicturePositions.TOP_LEFT:return{y:v,x:m};case s.PictureInPicturePositions.BOTTOM_LEFT:return{y,x:m};case s.PictureInPicturePositions.TOP_RIGHT:return{y:v,x:_};default:return{y,x:_}}};n.setPosition=function(e){var t,n=this.getPosition(e),r=n.x,a=n.y;null===(t=this._draggable)||void 0===t||t.setPosition(r,a)};n.animateToPosition=function(e,t){var n,r=this.getPosition(e),a=r.x,o=r.y;null===(n=this._draggable)||void 0===n||n.animateToPosition(a,o,{},t)};n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}};n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}};n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom
;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}};n.render=function(){var e,t=this.props,n=t.maxX,r=t.maxY,i=t.dockedRect,u=t.hidden,s={};null!=i&&(s={transform:"translate3d("+i.x+", "+i.y+", 0)",width:i.width,height:i.height});return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:(0,o.default)(d.default.pictureInPictureWindow,f.default.elevationHigh,(e={},e[d.default.hidden]=u,e)),maxX:n,maxY:r,disabled:null!=i,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},a.createElement("div",{ref:this.handleSetInnerDivRef,style:s},this.props.children))};!function(e,t,n){t&&m(e.prototype,t);n&&m(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"inPopout",get:function(){return this.props.appContext===s.AppContext.POPOUT}}]);return t}(a.PureComponent);t.PictureInPictureWindow=S;S.displayName="PictureInPictureWindow";S.defaultProps={
hidden:!1};var O=function(e){var t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,o=e.maxY,i=e.onWindowMove,u=e.dockedRect,l=e.pictureInPictureComponents,f=e.appContext;return v("div",{className:d.default.pictureInPicture},void 0,function(){if(null==t)return null;var e=Array.from(n.values()).map((function(e){if(e.id!==t.id&&e.component!==s.PictureInPictureComponents.EMBED_IFRAME)return null;var n="string"==typeof e.component?l[e.component]:e.component;return a.createElement(n,y({key:"pipWindow-"+e.id},e.props))}));return v(S,{appContext:f,position:t.position,id:t.id,hidden:t.hidden,onMove:i,maxX:r,maxY:o,dockedRect:u,edgeOffsetTop:h,edgeOffsetBottom:g,edgeOffsetLeft:E,edgeOffsetRight:h},void 0,e)}())};O.displayName="PictureInPicture";var b=a.memo(O);t.default=b},638707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=n(682937),u=f(n(365211)),l=f(n(596178)),s=n(770348),d=f(n(387070));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIcon=function(e){return e===s.BoostedGuildTiers.NONE?p(l.default,{tier:s.BoostedGuildTiers.TIER_1,className:d.default.gemWithoutLabel}):p(l.default,{tier:e,className:d.default.gemWithLabel})};n.render=function(){var e=this.props,t=e.className,n=e.guildId,r=e.subscriberCount,a=(0,i.getGuildTierFromAppliedBoostCount)(r,n),l=(0,i.getNextGuildTierFromAppliedBoostCount)(r,n),s=null!=l?(0,i.getAppliedGuildBoostsRequired)(n)[l]:null,f=null!=s&&s>0?r/s*100:100;return p(u.default,{background:d.default.progressBackground,percent:f,strokeSize:u.default.StrokeSizes.SMALL,className:(0,o.default)(d.default.gemIndicatorProgressCircle,t)},void 0,p("div",{className:d.default.gemIndicatorContainer
},void 0,this.renderIcon(a),p("div",{className:d.default.tierLabel},void 0,(0,i.getTierName)(a))))};return t}(a.Component);y.displayName="PremiumGuildGemIndicator";var m=y;t.default=m},463922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(237745))&&r.__esModule?r:{default:r},i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e){return a.createElement(o.default,l({sitekey:i.RECAPTCHA_SITE_KEY},e))};s.displayName="Recaptcha";s.Themes={LIGHT:"light",DARK:"dark"};s.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};var d=s;t.default=d},926197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=s(n(16941)),o=s(n(80828)),i=n(645758),u=s(n(738133)),l=s(n(146724));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.label,n=e.onClick,r=e.submitting;return f(a.default,{onClick:r?void 0:n,className:l.default.button},void 0,f("div",{className:l.default.contentContainer},void 0,r?f(o.default,{type:o.default.Type.PULSING_ELLIPSIS,className:l.default.spinner}):f(i.Text,{variant:"text-md/normal",
className:l.default.label},void 0,t),f(u.default,{className:l.default.arrow})))};c.displayName="RowArrowButton";var p=c;t.default=p},49465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(131795)),i=l(n(74854)),u=l(n(23966));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function c(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var p=d("defs",{},void 0,d("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),v=d("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,d("path",{fill:"#FFF",
d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",
strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",
strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),d("path",{
stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),d("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),d("path",{
stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),d("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",
d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),d("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5871B7",
d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),d("path",{
fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),d("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),d("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),y=d("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),m=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),_=d("path",{fill:"#9F7373",
d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),h=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=d("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),E=d("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),S=d("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),O=d("path",{d:"M84 66h130v130H84z"}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={x:new i.default.Value(0),y:new i.default.Value(0)};t._isMounted=!1;t.shouldLoop=function(){return t._isMounted};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==o.default.name){i.default.animate(t,{
loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});i.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};n.componentWillUnmount=function(){this._isMounted=!1};n.render=function(){return d("div",{className:u.default.searchIndexAnimation},void 0,d("div",{className:u.default.searchIndexBackground}),d("svg",{className:u.default.searchIndexForeground,width:"320",height:"280"},void 0,p,d("g",{fill:"none",fillRule:"evenodd"},void 0,d("g",{transform:"translate(120 80)"},void 0,d("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,d(i.default.use,{style:c(this.state),className:u.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),v),d(i.default.g,{className:u.default.magnifyingGlass,style:c(this.state)},void 0,y,m,_,h,g,E,S,O))))};return t}(a.Component);b.displayName="SearchIndexForeground";var I=b;t.default=I},427370:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.padded,n=void 0===t||t,l=e.inset,s=void 0!==l&&l,f=e.active,c=void 0!==f&&f,p=e.className,v=e.children,y=e.onClick,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);if(null!=y){var _;return r.createElement(o.default,d({onClick:y,tabIndex:null!=y?0:-1,className:(0,a.default)(p,(_={},_[i.default.outer]=!s,_[i.default.inset]=s,_[i.default.padded]=n,_[i.default.active]=c,_[i.default.interactive]=null!=y,_))},m),v)}var h;return r.createElement("div",d({className:(0,a.default)(p,(h={},h[i.default.outer]=!s,h[i.default.inset]=s,h[i.default.padded]=n,h[i.default.active]=c,h))},m),v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=l(n(16941)),i=l(n(202133)),u=["padded","inset","active","className","children","onClick"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},409236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=l(n(496486)),i=d(n(925182)),u=l(n(531198));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){return function(e){
if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef();t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,u=r.color,l=r.numUpdatesToShow,s=r.lineWidth,d=r.animate,f=r.gradientStopColor;if(!(a.length<2)){var c=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),p=n.getContext("2d"),v=t.maxValue;p.strokeStyle=u;p.lineWidth=s;var y=n.height-p.lineWidth,m=p.createLinearGradient(0,0,0,y);if(null!=f)m.addColorStop(0,f);else{var _=i.hexToRgb(u),h=_.r,g=_.g,E=_.b;m.addColorStop(0,"rgba("+h+", "+g+", "+E+", 0)")}m.addColorStop(1,t.fillColor);p.fillStyle=m;var S=a.length>=l?l:a.length;p.setTransform(1,0,0,-1,0,n.height);p.clearRect(0,0,n.width,n.height);p.translate(0,.5*p.lineWidth);var O,b,I=Math.floor(n.width/(S-3)),T=.5*I,C=I-I*c;p.translate(C,0);p.beginPath();var A=-I;a.forEach((function(e,t){O={x:A,y:y*e/v}
;0===t?p.moveTo(O.x,O.y):p.bezierCurveTo(b.x+T,b.y,O.x-T,O.y,O.x,O.y);b=O;A+=I}));p.stroke();p.lineTo(A-I,0);p.lineTo(0,0);p.fill();d&&c<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}};return t}var n=t.prototype;n.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,u=n.animate,l=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(l){this.dataChangedAt=performance.now();this.maxValue=null!=r?r:Math.max.apply(Math,c(a))}if(l||null==e||!e.animate&&u||e.color!==this.props.color){var s=i.hexToRgb(this.props.color);this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)";window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};n.componentDidMount=function(){this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};n.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};n.componentWillUnmount=function(){
window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};n.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,r=e.pixelHeight;return f("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:u.default.canvas,width:n,height:r}))};return t}(a.PureComponent);y.displayName="SparkChart";y.defaultProps={animate:!0};var m=y;t.default=m},961664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a,o=s(n(294184)),i=s(n(496486)),u=n(770348),l=s(n(995071));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.XSMALL="xsmall";e.SMALL="small";e.LARGE="large"}(a||(a={}));var y=function(e){
var t=e.className,n=e.percents,r=e.size,s=void 0===r?a.SMALL:r,d=e.foregroundColors,v=void 0===d?[u.Colors.BRAND]:d,y=e.backgroundColor,m=void 0===y?"var(--background-modifier-active)":y,_=e.animate,h=void 0===_||_,g=i.default.zip(n,v).map((function(e,t){var n,r,a=p(e,2),i=a[0],u=a[1];r=Array.isArray(u)?{background:"linear-gradient(to right, "+u[0]+", "+u[1]+")"}:{backgroundColor:u};return f("div",{className:(0,o.default)(l.default.progressBar,l.default[s],(n={},n[l.default.animating]=h,n)),style:c({transform:"translate3d("+(Math.min(Math.max(0,i),100)-100)+"%, 0, 0)"},r)},t)})).reverse();return f("div",{className:(0,o.default)(t,l.default.progress,l.default[s]),style:{backgroundColor:m}},void 0,g)};y.displayName="StackedProgress";y.Sizes=a;var m=y;t.default=m},288800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=n(171236),u=y(n(550270)),l=y(n(956117)),s=y(n(530250)),d=y(n(463922)),f=n(770348),c=y(n(247001)),p=y(n(959665)),v=y(n(380203));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var g=u.default.getArticleURL(f.HelpdeskArticles.VERIFICATION_FAQ),E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;null==n||n(e)};return t}var n=t.prototype;n.renderFields=function(){var e=this,t=this.props,n=t.type,r=t.captchaKey,a=t.theme,o=t.onCaptchaVerify;return n===f.VerificationTypes.CAPTCHA?_(d.default,{onVerify:o,theme:a},r):_(l.default,{onClick:function(){return e.handleClick(n)}},void 0,c.default.Messages.START_VERIFICATION_BUTTON)};n.render=function(){var e;return _(s.default,{
className:p.default.verification,align:s.default.Align.CENTER,direction:s.default.Direction.VERTICAL},void 0,_(s.default,{className:(0,o.default)(p.default.container,(e={},e[p.default.isMobile]=i.isMobile,e)),direction:s.default.Direction.VERTICAL,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER},void 0,_("div",{className:p.default.image}),_("div",{className:(0,o.default)(p.default.title,v.default.marginTop20)},void 0,c.default.Messages.VERIFICATION_TITLE),_("div",{className:(0,o.default)(p.default.body,v.default.marginTop4,v.default.marginBottom20)},void 0,c.default.Messages.VERIFICATION_BODY_WITH_HELP_LINK.format({helpCenterURL:g})),_(s.default,{grow:0,justify:s.default.Justify.CENTER},void 0,this.renderFields())),_("div",{className:(0,o.default)(p.default.footer,v.default.marginTop20)},void 0,c.default.Messages.VERIFICATION_FOOTER),_(s.default,{className:(0,o.default)(v.default.marginTop4,v.default.marginBottom20),grow:0},void 0,_("div",{className:(0,
o.default)(p.default.footer,p.default.footerAction)},void 0,c.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:u.default.getSubmitRequestURL()})),_("div",{className:(0,o.default)(p.default.footer,p.default.footerBullet)},void 0,"•"),_("div",{className:(0,o.default)(p.default.footer,p.default.footerAction)},void 0,c.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))};return t}(a.PureComponent);E.displayName="Verification";E.defaultProps={type:f.VerificationTypes.CAPTCHA,onCaptchaVerify:f.NOOP,onLogout:f.NOOP};var S=E;t.default=S},974286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.BackgroundTransition=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=p(n(294184)),u=p(n(74854)),l=n(91817),s=p(n(550024)),d=p(n(530250)),f=n(770348),c=p(n(913127));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var h=((r={})[f.ChannelLayouts.NORMAL]=c.default.normal,r[f.ChannelLayouts.MINIMUM]=c.default.minimum,r[f.ChannelLayouts.NO_CHAT]=c.default.noChat,r[f.ChannelLayouts.FULL_SCREEN]=c.default.fullScreen,r),g=function(e){m(t,e);function t(t){var n;(n=e.call(this,t)||this).state={animation:new u.default.Value(0)};return n}var n=t.prototype;n.componentDidAppear=function(){this.state.animation.setValue(1)};n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0);u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)};n.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)};n.render=function(){return y(u.default.div,{className:c.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)};return t}(o.PureComponent);t.BackgroundTransition=g
;g.displayName="BackgroundTransition";var E=function(e){m(t,e);function t(t){var n;(n=e.call(this,t)||this)._timeout=new l.Timeout;n.handleMouseEvent=function(){var e=n.props.layout;if(e===f.ChannelLayouts.FULL_SCREEN||e===f.ChannelLayouts.NO_CHAT){n._timeout.start(3e3,(function(){return n.setState({idle:!0})}));n.state.idle&&n.setState({idle:!1})}};n.state={idle:!1,backgroundAnimation:new u.default.Value(0),layoutProp:t.layout};return n}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0);document.addEventListener("mousemove",this.handleMouseEvent,!0)};n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0);document.removeEventListener("mousemove",this.handleMouseEvent,!0);this._timeout.stop()};t.getDerivedStateFromProps=function(e,t){return e.layout!==t.layoutProp?t.idle?{idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null};n.componentDidUpdate=function(e){
this.props.layout!==e.layout&&this._timeout.stop()};n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(null!=n?n:"");return y(s.default,{className:c.default.videoBackground,component:"div"},void 0,y(g,{},r,t))};n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,u=n.layout,l=n.focused,s=this.state.idle;return y(d.default,{className:(0,i.default)(c.default.video,h[u],(e={},e[c.default.idle]=s,e)),direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER},void 0,y(d.default,{className:c.default.videoWrapper,direction:d.default.Direction.VERTICAL},void 0,this.renderBackground(),y(d.default,{className:(0,i.default)(c.default.videoInner,(t={},t[c.default.focused]=l,t)),direction:d.default.Direction.VERTICAL,justify:d.default.Justify.BETWEEN},void 0,y(d.default,{className:c.default.videoTop,grow:0},void 0,r),y(d.default,{className:c.default.videoCenter},void 0,a),y(d.default,{
className:c.default.videoBottom,grow:0},void 0,o))))};n.render=function(){var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return y("div",{className:(0,i.default)(c.default.videoHeight,h[n],r,(e={},e[c.default.animated]=a,e))},void 0,this.renderContents())};return t}(o.PureComponent);E.displayName="Video";E.defaultProps={layout:f.ChannelLayouts.MINIMUM,animated:!0};var S=E;t.default=S},275189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=f(n(125478)),i=f(n(492626)),u=f(n(628551)),l=n(770348),s=f(n(114957)),d=["style","src","backgroundSrc","pulseSpeakingIndicator","speaking"];function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){
var t=e.style,n=e.src,r=e.backgroundSrc,f=e.pulseSpeakingIndicator,c=void 0!==f&&f,y=e.speaking,m=void 0!==y&&y,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d),h=null!=r?r:n,g=(0,o.default)(h,l.Colors.PRIMARY_DARK_800);if(null==n)return null;var E=a.createElement(u.default,v({className:s.default.avatarWrapper,src:n},_));return p("div",{style:v({},t,{backgroundColor:g}),className:s.default.background},void 0,c?p(i.default,{shouldAnimate:m},void 0,E):E)}y.displayName="VideoBackground";y.AvatarSizes=u.default.Sizes;var m=y;t.default=m},838696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(974661)),u=s(n(808988)),l=s(n(550542));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=16/9;function y(e,t){return Math.floor((t-e)/(8+e))+1}function m(e,t,n){for(var r=t-e;r>0;){
var a=e,o=Math.floor(r/2);if(n(a+=o)){e=a+1;r-=o+1}else r=o}return e}function _(e,t,n){var r,a=Math.floor(t/25),o=t;if(e>25)r=m(a,o,(function(e){var r=y(e,t),a=function(e,t){var n=e/v;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*a>25}));else{r=m(a,o,(function(r){var a=y(r,t),o=function(e,t){var n=e/v;return Math.floor((t-n)/(8+n))+1}(r,n);return a*o>=e}));r-=1}var i=y(r,t),u=function(e,t){return Math.ceil(t/e)}(i,e);return{tileWidth:r,columns:Math.max(1,i),rows:u}}function h(e){var t,n=e.className,r=e.children,s=e.keyExtractor,d=e.paddingTop,p=void 0===d?0:d,y=e.paddingBottom,m=void 0===y?0:y,h=c(a.useState({width:0,height:0}),2),g=h[0],E=h[1],S=g.width,O=g.height,b=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0,I=S-16,T=O-(p+m),C=a.useMemo((function(){return function(e,t,n){var r=_(e,t,n),a=r.rows,o=r.columns,i=r.tileWidth;return{tileStyle:{width:i},tileWidth:i,rows:a,columns:o}}(b,I,T)
}),[b,I,T]),A=C.tileStyle,M=C.tileWidth,N=C.rows,P=C.columns,R=P+1,w=R*M+8*(R-1)<=S,D=Math.floor(M/v)+8,L=Math.max(0,T-D*N)/2;return f(u.default,{fade:!0,className:n,listPadding:[p+L,0,m+L-8,8],renderRow:function(e){var t,n=e*P;return f("div",{className:l.default.row},e,null==r||null===(t=r.slice(n,n+P))||void 0===t?void 0:t.map((function(e,t){var r,a,u=n+t;return f("div",{style:A,className:(0,o.default)(l.default.tile,(a={},a[l.default.padColumn]=w,a[l.default.noVerticalMargin]=u>=(N-1)*P,a[l.default.noHorizontalMargin]=(u+1)%P==0||u===b-1,a))},null!==(r=null==s?void 0:s(u))&&void 0!==r?r:u,f(i.default,{className:l.default.tileSizer,aspectRatio:v},void 0,e(M)))})))},rowCount:N,rowCountBySection:[N],rowHeight:D,onResize:E})}h.displayName="Grid"},971146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.VideoStreamFit=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=f(n(294184)),u=n(773336),l=f(n(974661)),s=f(n(80828)),d=f(n(2329));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}t.VideoStreamFit=a;!function(e){e.CONTAIN="contain";e.COVER="cover"}(a||(t.VideoStreamFit=a={}));var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})};n.state={loading:!0};return n}var n=t.prototype;n.renderPlaceholder=function(){var e=this.props.streamPreviewURL,t=null!=e?p("img",{src:e,alt:"",className:d.default.previewImage}):p(l.default,{aspectRatio:16/9,className:d.default.emptyPreviewWrapper},void 0,p("div",{className:d.default.emptyPreview}));return p(o.Fragment,{},void 0,t,p(s.default,{className:d.default.spinner}))};n.render=function(){var e,t,n=this.props,r=n.streamId,a=n.onResize,o=n.wrapperClassName,l=n.videoComponent,s=n.className,f=n.fit,c=n.mirror,v=n.paused,y=this.state.loading
;return p("div",{className:(0,i.default)(d.default.wrapper,o)},void 0,null!=r&&p(l,{className:(0,i.default)(d.default.video,(0,u.getClass)(d.default,"video",f),(e={},e[d.default.mirror]=c,e),s),streamId:r,onResize:a,onReady:this.handleReady,paused:v}),v?null:p("div",{className:(0,i.default)(d.default.previewWrapper,(t={},t[d.default.loading]=y,t))},void 0,y&&this.renderPlaceholder()))};return t}(o.PureComponent);y.displayName="VideoStream";y.Fit=a;y.defaultProps={fit:a.CONTAIN,mirror:!1,paused:!1};var m=y;t.default=m},510596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(667294)),o=n(354479),i=n(865229),u=d(n(662197)),l=["children","disabled","className","titleClassName","tag","required","style","title","error"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return c.apply(this,arguments)}var p=function(e){var t,n=e.children,r=e.disabled,s=void 0!==r&&r,d=e.className,p=e.titleClassName,v=e.tag,y=void 0===v?u.Tags.H5:v,m=e.required,_=void 0!==m&&m,h=e.style,g=e.title,E=e.error,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),O=(0,o.useUID)(),b=null!==(t=S.titleId)&&void 0!==t?t:O;return f("div",{className:null!=d?d:void 0,style:null!=h?h:void 0},void 0,null!=g||null!=E?a.createElement(u.default,c({tag:y,disabled:s,required:_,error:E,className:p,id:b},S),g):null,f(i.FormContextProvider,{titleId:b},void 0,n))};p.displayName="FormItem";p.Tags=u.Tags;var v=p;t.default=v},337322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("clipPath",{},void 0,d("path",{d:"m.000183 0h16v16h-16z"}));function c(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,c=void 0===l?"currentColor":l,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16",fill:"none"}),f,d("g",{clipPath:"url(#a)"},void 0,d("path",{d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:c})))}c.displayName="Blocked"},869184:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 11 10"}),d("path",{className:c,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M4.20096 9.92805L0.157959 5.88505L1.92496 4.11705L3.88196 6.07305L8.02396 0.274048L10.059 1.72705L4.20096 9.92805Z"}))}f.displayName="CheckmarkThick"},
989983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudDone-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,m=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),h=null;null!=m&&(h=a.createElement(o.default,f({},m,{color:v,id:c(m.id)})));return a.createElement("svg",f({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"
}),d("defs",{},void 0,h),p,d("path",{fill:null!=m?"url(#"+c(m.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}))}v.displayName="CloudDone"},635114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudDownload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){
var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,m=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),h=null;null!=m&&(h=a.createElement(o.default,f({},m,{color:v,id:c(m.id)})));return a.createElement("svg",f({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,h),p,d("path",{fill:null!=m?"url(#"+c(m.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}))}v.displayName="CloudDownload"},809898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function c(e){return"CloudUpload-"+e}var p=d("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,m=e.gradientConfig,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),h=null;null!=m&&(h=a.createElement(o.default,f({},m,{color:v,id:c(m.id)})));return a.createElement("svg",f({},(0,i.default)(_),{width:n,height:l,viewBox:"0 0 24 24"}),d("defs",{},void 0,h),p,d("path",{fill:null!=m?"url(#"+c(m.id)+")":v,className:y,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}))}v.displayName="CloudUpload"},745216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=["width","height","className","aria-label"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=u("g",{"clip-path":"url(#clip0_198_5469)"},void 0,u("path",{"aria-hidden":!0,d:"M19.15 17C19.41 17.11 19.6 17 19.51 16.73L18.89 15.15L18.28 13.56C18.23 13.4421 18.1442 13.3429 18.0348 13.2765C17.9253 13.2101 17.7977 13.1798 17.67 13.19L13.67 14.28C13.4 14.36 13.56 14.79 13.92 14.93L19.15 17Z",fill:"#FF73FA"}),u("path",{"aria-hidden":!0,
d:"M9.80009 14L7.08009 8.67001L0.440092 18C0.351927 18.1221 0.299095 18.2662 0.287392 18.4163C0.275688 18.5665 0.305566 18.7169 0.373746 18.8512C0.441926 18.9855 0.545775 19.0985 0.673902 19.1776C0.802029 19.2568 0.949484 19.2991 1.10009 19.3H12.5201L9.80009 14Z",fill:"#8086FF"}),u("path",{"aria-hidden":!0,d:"M12.27 19C11.57 19 9.92997 17.31 8.52997 14.57C7.86795 13.3426 7.37674 12.0304 7.06997 10.67C6.83997 9.54999 6.99997 8.99999 7.19997 8.89999H7.32997C8.03997 8.89999 9.66997 10.59 11.07 13.32C12.68 16.46 12.93 18.76 12.4 19.03C12.3549 19.0306 12.3103 19.0203 12.27 19Z",fill:"#05124A"}),u("path",{"aria-hidden":!0,
d:"M7.33009 9.14999C7.86009 9.14999 9.42009 10.67 10.8301 13.43C12.4501 16.57 12.5201 18.55 12.2701 18.77C11.7401 18.77 10.1801 17.25 8.77009 14.49C7.15009 11.35 7.08009 9.35999 7.32009 9.14999H7.33009ZM7.32009 8.60999C7.233 8.60831 7.14693 8.62897 7.07009 8.66999C6.23009 9.08999 6.78009 11.81 8.28009 14.74C9.65009 17.4 11.3401 19.31 12.2801 19.31C12.3672 19.3117 12.4532 19.291 12.5301 19.25C13.3701 18.82 12.8301 16.11 11.3201 13.18C9.96009 10.52 8.26009 8.60999 7.32009 8.60999Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,d:"M3.53991 17.22C3.16017 16.4754 2.85534 15.6949 2.62991 14.89L1.40991 16.6C1.5797 17.0776 1.77669 17.545 1.99991 18C2.21943 18.4301 2.46316 18.8475 2.72991 19.25H4.84991C4.34607 18.6191 3.90718 17.939 3.53991 17.22Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,
d:"M6.83003 19.25H9.23003C8.09101 18.2623 7.1538 17.0636 6.47003 15.72C5.75671 14.3452 5.32173 12.8432 5.19003 11.3L3.78003 13.3C4.05054 14.4137 4.46044 15.4889 5.00003 16.5C5.49463 17.4884 6.10927 18.4121 6.83003 19.25Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,d:"M12.2699 18.77C11.7199 18.7 10.2699 17.3 8.7899 14.49C7.2499 11.49 7.1199 9.57 7.3199 9.19L6.9999 8.69C6.2199 9.19 6.7699 11.86 8.2499 14.74C9.5699 17.31 11.2499 19.19 12.1399 19.3C12.2557 19.3201 12.3748 19.3026 12.4799 19.25L12.2699 18.77Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,
d:"M15.5901 9.23L14.6201 8C14.5734 7.94051 14.5118 7.89439 14.4416 7.8663C14.3713 7.8382 14.2949 7.82913 14.2201 7.84L10.8601 8.28C10.786 8.29082 10.7158 8.32037 10.6563 8.36587C10.5968 8.41137 10.5499 8.47131 10.5201 8.54L9.22008 11.68C9.18969 11.7486 9.1792 11.8243 9.18981 11.8986C9.20042 11.9729 9.2317 12.0427 9.28008 12.1L10.2801 13.37C10.3268 13.4295 10.3884 13.4756 10.4586 13.5037C10.5288 13.5318 10.6052 13.5409 10.6801 13.53L14.0001 13.05C14.0742 13.0392 14.1443 13.0096 14.2038 12.9641C14.2633 12.9186 14.3102 12.8587 14.3401 12.79L15.6401 9.65C15.6718 9.58232 15.684 9.50709 15.6751 9.43285C15.6663 9.35862 15.6368 9.28834 15.5901 9.23Z",fill:"#FFD836"}),u("path",{"aria-hidden":!0,
d:"M12.6801 10.21L11.4101 9.74001C11.3617 9.72337 11.3182 9.69501 11.2834 9.65748C11.2487 9.61994 11.2238 9.57439 11.2109 9.52489C11.198 9.47539 11.1976 9.42347 11.2097 9.37376C11.2217 9.32405 11.2459 9.27811 11.2801 9.24001L14.7201 5.24001C14.7617 5.1903 14.8178 5.15488 14.8806 5.13873C14.9434 5.12259 15.0096 5.12653 15.0701 5.15001L16.3401 5.61001C16.3871 5.62978 16.4288 5.66018 16.4621 5.69881C16.4954 5.73745 16.5193 5.78327 16.5319 5.83268C16.5445 5.8821 16.5454 5.93376 16.5347 5.98361C16.524 6.03346 16.5019 6.08015 16.4701 6.12001L13.0301 10.12C12.9884 10.1697 12.9323 10.2051 12.8695 10.2213C12.8067 10.2374 12.7405 10.2335 12.6801 10.21Z",fill:"#AEC7FF"}),u("path",{"aria-hidden":!0,
d:"M11.61 17.25L11.35 16.33C11.3396 16.2949 11.3383 16.2577 11.346 16.2219C11.3537 16.1861 11.3702 16.1527 11.394 16.1249C11.4179 16.0971 11.4483 16.0757 11.4825 16.0626C11.5167 16.0495 11.5536 16.0452 11.59 16.05L15.31 16.37C15.3545 16.373 15.397 16.3901 15.4311 16.4189C15.4653 16.4477 15.4894 16.4866 15.5 16.53L15.76 17.45C15.7697 17.4856 15.7707 17.523 15.763 17.5591C15.7552 17.5952 15.7388 17.6289 15.7153 17.6574C15.6918 17.6858 15.6617 17.7082 15.6277 17.7225C15.5937 17.7369 15.5568 17.7429 15.52 17.74L11.8 17.42C11.7546 17.4149 11.7119 17.3958 11.6778 17.3653C11.6438 17.3349 11.6201 17.2946 11.61 17.25Z",fill:"#AEC7FF"}),u("path",{"aria-hidden":!0,
d:"M10.51 4.87L9.51004 4.8C9.47171 4.79882 9.43428 4.78808 9.40117 4.76875C9.36805 4.74942 9.34029 4.72212 9.32041 4.68932C9.30054 4.65653 9.28918 4.61928 9.28737 4.58098C9.28555 4.54268 9.29335 4.50453 9.31004 4.47L10.93 0.900003C10.9491 0.856352 10.9819 0.820078 11.0234 0.796634C11.0648 0.773191 11.1128 0.763846 11.16 0.770003L12.16 0.840003C12.1984 0.841182 12.2358 0.851926 12.2689 0.871256C12.302 0.890587 12.3298 0.917891 12.3497 0.950685C12.3695 0.98348 12.3809 1.02072 12.3827 1.05903C12.3845 1.09733 12.3767 1.13548 12.36 1.17L10.74 4.73C10.7213 4.77455 10.689 4.81205 10.6477 4.83718C10.6064 4.86231 10.5582 4.87379 10.51 4.87Z",fill:"#FF73FA"}),u("path",{"aria-hidden":!0,
d:"M9.11995 3.16L9.38995 3.89C9.40593 3.92181 9.43011 3.94877 9.46 3.96811C9.48988 3.98744 9.52439 3.99846 9.55995 4H10.3699C10.5599 4 10.6099 4.26 10.4499 4.41L9.76995 5.07C9.71086 5.13269 9.67549 5.21403 9.66995 5.3V6.13C9.66965 6.17649 9.6589 6.22232 9.63849 6.2641C9.61808 6.30587 9.58854 6.34252 9.55204 6.37133C9.51555 6.40013 9.47305 6.42037 9.42768 6.43052C9.38231 6.44068 9.33524 6.4405 9.28995 6.43L8.59995 6.1C8.56441 6.08159 8.52497 6.07198 8.48495 6.07198C8.44492 6.07198 8.40549 6.08159 8.36995 6.1L7.57995 6.57C7.38995 6.69 7.20995 6.57 7.26995 6.35L7.51995 5.49C7.53745 5.45777 7.54662 5.42168 7.54662 5.385C7.54662 5.34833 7.53745 5.31223 7.51995 5.28L6.99995 4.81C6.86995 4.68 6.99995 4.42 7.18995 4.37L7.99995 4.17C8.04629 4.1582 8.08971 4.13702 8.12755 4.10779C8.16539 4.07855 8.19684 4.04187 8.21995 4L8.68995 3.2C8.79995 3 9.05995 3 9.11995 3.16Z",fill:"#A5F7DE"}));function d(e){
var t=e.width,n=void 0===t?20:t,r=e.height,i=void 0===r?20:r,u=e.className,d=e["aria-label"],f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,o);return a.createElement("svg",l({width:n,height:i,className:u,"aria-label":d},f,{viewBox:"0 0 20 20"}),s)}d.displayName="ConfettiCannon"},557922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(468811)),i=l(n(468205)),u=["width","height","color","foreground"]
;function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.width,n=void 0===t?16:t,r=e.height,l=void 0===r?16:r,s=e.color,p=void 0===s?"currentColor":s,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),m=c(a.useState((function(){return o.default.v4()})),1)[0];return a.createElement("svg",d({},(0,i.default)(y),{width:n,height:l,viewBox:"0 0 24 24"}),f("g",{"clip-path":"url("+m+")"},void 0,f("path",{className:v,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.83075 2H13.2444C14.817 2 16.0751 3.13475 15.9965 4.55319V11H14.5025V4.69504H3.57264V18.8085H6V22H4.83075C3.25811 22 2 20.8652 2 19.4468V4.55319C2 3.13475 3.25811 2 4.83075 2Z",fill:p})),f("path",{d:"M10.5646 13H19.4354C20.5365 13 21.4507 13.7808 21.5303 14.7893L21.9965 20.6997C22.0492 21.3677 21.5021 21.9485 20.7746 21.9968C20.7429 21.9989 20.7111 22 20.6792 22C19.8442 22 19.1157 21.4795 18.9105 20.7363L18.5495 19.4286H11.4504L11.0894 20.7363C10.8842 21.4795 10.1557 22 9.3207 22C8.5913 22 8 21.4571 8 20.7873C8 20.7581 8.00115 20.7289 8.00345 20.6997L8.46966 14.7893C8.5492 13.7808 9.46342 13 10.5646 13Z",className:v,fill:p
}),f("defs",{},void 0,f("clipPath",{id:m},void 0,f("rect",{width:"14",height:"21",fill:p,transform:"translate(2 2)"}))))}v.displayName="DeviceSelect"},877622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"16",height:"16"});function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,
viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),f))}c.displayName="Facebook"},155084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?22:t,r=e.height,a=void 0===r?20:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 22 20"}),d("path",{d:"M19.0013 3.27074L16.8648 1.13516L18 0L22 4L18 8L16.8648 6.86484L19.0013 4.72926H14V3.27074H19.0013Z",fill:f}),d("path",{d:"M13.9829 8.45686C14.4834 8.90823 15.0602 9.2765 15.6918 9.53993C15.1979 10.7194 14.1545 11.6141 12.8834 11.9017C12.8022 11.8683 12.7203 11.8358 12.6378 11.8042C13.3982 10.8786 13.8873 9.72194 13.9829 8.45686Z",fill:f}),d("path",{
d:"M12 8C12 10.205 10.206 12 8 12C5.795 12 4 10.205 4 8C4 5.795 5.794 4 8 4C10.206 4 12 5.795 12 8Z",fill:f}),d("path",{d:"M0 19C0 15.467 3.29 13 8 13C12.711 13 16 15.467 16 19V20H0V19Z",fill:f}),d("path",{d:"M20.0001 20H18.0001V19C18.0001 16.7999 17.0621 14.9067 15.5213 13.5292C18.2697 14.4355 20.0001 16.4373 20.0001 19V20Z",fill:f}))}f.displayName="GoToAudience"},622193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i=function(e){var t=e.id,n=e.startColor,r=e.stopColor,a=e.color,i=e.stop;return o("linearGradient",{id:t},void 0,o("stop",{offset:"0",stopColor:n}),o("stop",{offset:i,stopColor:r}),o("stop",{offset:i,stopColor:a}),o("stop",{offset:"1",stopColor:a}))};i.displayName="Gradient";var u=i;t.default=u},852546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"13",width:"7",height:"7",rx:"1",fill:f}))}f.displayName="Grid"},670427:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:f}),d("rect",{className:c,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:f}),d("rect",{className:c,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:f
}))}f.displayName="HorizontalVideoLayout"},170331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e
};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"16",height:"16"});function c(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),d("path",{className:v,fill:c,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),f))}c.displayName="Instagram"},434663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z"}))}f.displayName="Logout"},814379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M16,8V3H14V8a2,2,0,0,0,2,2h5V8Z"}),d("path",{className:c,fill:f,d:"M14,16v5h2V16h5V14H16A2,2,0,0,0,14,16Z"}),d("path",{className:c,fill:f,d:"M8,8H3v2H8a2,2,0,0,0,2-2V3H8Z"}),d("path",{className:c,fill:f,d:"M8,14H3v2H8v5h2V16A2,2,0,0,0,8,14Z"}))}f.displayName="MinimizeScreen"},697920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(468811)),i=l(n(468205)),u=["width","height","color","foreground"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=f("rect",{width:"24",height:"24",fill:"white"});function y(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,p=void 0===s?"currentColor":s,y=e.foreground,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=c(a.useState((function(){return o.default.v4()})),1)[0];return a.createElement("svg",d({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24",fill:"none"}),f("g",{"clip-path":"url("+_+")"},void 0,f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M2 4.49956C2 3.39656 2.897 2.49956 4 2.49956H16.3994L2.3179 16.5811C2.11679 16.2692 2 15.8979 2 15.4996L2 4.49956ZM7.88469 19.4996H11L11 17.4996H9.88469L22 5.38426L22 15.4996C22 16.6036 21.103 17.4996 20 17.4996L13 17.4996L13 19.4996L17 19.4996L17 21.4996H7L7 20.3843L7.88469 19.4996Z",fill:p}),f("rect",{className:y,x:"1.53553",y:"20.1924",width:"28",height:"2",transform:"rotate(-45 1.53553 20.1924)",fill:"#ED4245"})),f("defs",{},void 0,f("clipPath",{id:_},void 0,v)))}y.displayName="MonitorSlash"},833837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#clip0)"},void 0,d("path",{d:"M18.8648 1.13516L21.0013 3.27074H16V4.72926H21.0013L18.8648 6.86484L20 8L24 4L20 0L18.8648 1.13516Z",fill:f}),d("path",{d:"M12 2C12.4342 2 12.8466 2.0917 13.2188 2.25683C13.0759 2.81411 13 3.39819 13 4C13 5.90397 13.7601 7.6304 14.9935 8.89235L14.99 11C14.99 12.66 13.66 14 12 14C10.34 14 9 12.66 9 11V5C9 3.34 10.34 2 12 2Z",fill:f}),d("path",{d:"M12 16.1C14.76 16.1 17.3 14 17.3 11H19C19 14.42 16.28 17.24 13 17.72V22H11V17.72C7.72 17.23 5 14.41 5 11H6.7C6.7 14 9.24 16.1 12 16.1Z",fill:f})),d("defs",{},void 0,d("clipPath",{id:"clip0"},void 0,d("rect",{width:"24",height:"24",fill:f}))))}
f.displayName="MoveToSpeaker"},26285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),d("path",{className:c,
d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:f}),d("path",{className:c,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:f}),d("path",{className:c,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:f}),d("path",{className:c,d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:f}),d("path",{className:c,
d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:f}))}f.displayName="NoiseCancellationActive"},400217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{
width:n,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:f}),d("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:f}),d("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:f}),d("path",{d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:f}),d("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:f}),d("path",{
d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:f}),d("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:f,className:c}))}f.displayName="NoiseCancellationDisabled"},330998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r
},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"});function c(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:p,fill:c,d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),f))}c.displayName="OverlayOff"},523356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"}))}f.displayName="PersonRemove"},311591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"}))}f.displayName="PrivacyAndSafety"},924671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{
d:"M21.03 7.76998C20.955 7.60998 20.81 7.48998 20.635 7.44498C20.545 7.41998 20.445 7.39498 20.35 7.36998C19.805 7.22998 19.135 7.56498 18.85 8.11498L17.87 9.99998C17.585 10.55 17.225 10.51 17.07 9.90998L14.895 1.38498C14.74 0.779981 14.14 0.459981 13.55 0.664981C12.96 0.869981 12.595 1.52498 12.725 2.13498L13.995 7.95998C14.13 8.56998 14.075 9.11498 13.875 9.18498C13.675 9.25498 13.35 8.83498 13.15 8.24498L11.05 2.07498C10.85 1.48498 10.21 1.17498 9.62004 1.37998C9.03004 1.58498 8.71504 2.22998 8.91004 2.81998L10.97 8.99998C11.165 9.58998 11.165 10.125 10.965 10.195C10.765 10.265 10.385 9.86498 10.125 9.29998L7.77504 4.29998C7.51004 3.73998 6.82004 3.44498 6.23004 3.64998C5.64504 3.85498 5.37504 4.47498 5.64004 5.03998L8.60004 11.045C8.86004 11.61 8.91004 12.125 8.71004 12.195C8.51004 12.265 8.03004 11.93 7.64004 11.445L5.60504 8.82498C5.21504 8.33998 4.54004 8.07498 4.09504 8.22998C3.65504 8.38498 3.54004 8.94498 3.84504 9.48998L6.34504 13.865C6.40004 14.02 7.85504 16.8 7.96004 16.915C9.00004 18.565 10.645 19.51 12.73 18.79L14.91 18.035C16.145 17.605 17.095 16.735 17.63 15.7C17.64 15.69 20.15 10.205 21.03 8.28498C21.105 8.11498 21.105 7.92998 21.03 7.76998Z",
fill:f}),d("path",{d:"M21.3251 23.4001L19.1101 19.0301C18.8501 18.5201 18.2501 18.2851 17.7151 18.4851L12.3101 20.5101C12.0201 20.6201 11.7851 20.8451 11.6651 21.1351C11.5451 21.4251 11.5551 21.7501 11.6851 22.0301L12.3151 23.3951H21.3251V23.4001Z",fill:f}))}f.displayName="RaisedHand"},675044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,id:"a",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H8.9V6zM16 16h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"}))}f.displayName="SecureLock"},982244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r
},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("path",{d:"M18 22.001H3a1 1 0 0 1-1-1v-15h2v14h14v2Z"}),c=d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M21 2.001H7a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-14a1 1 0 0 0-1-1Zm-5.842 2.606a.619.619 0 0 0-.674.134L11.832 7.65H9.977a.62.62 0 0 0-.618.618v3.707c0 .34.278.618.618.618h1.854l2.652 2.908a.619.619 0 0 0 1.055-.436V5.178c0-.25-.15-.476-.381-.571Zm1.64 4.793V7.8c1.324 0 2.4 1.076 2.4 2.4 0 1.323-1.076 2.4-2.4 2.4V11c.442 0 .8-.36.8-.8 0-.44-.358-.8-.8-.8Z"}),p=d("defs",{},void 0,d("clipPath",{id:"a"},void 0,d("path",{fill:"#fff",d:"M0 0h24v24H0z"})));function v(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,v=void 0===l?"currentColor":l,y=e.foreground,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(m),{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 24 24"}),d("g",{clipPath:"url(#a)",fill:v,className:y},void 0,f,c),p)}v.displayName="Soundboard"},980351:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 32 32"}),d("rect",{width:"32",height:"32",rx:"16",fill:f}),d("path",{
d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:c}))}f.displayName="StarBadge"},934297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.width,n=void 0===t?14:t,r=e.height,a=void 0===r?14:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 14 14"}),d("path",{fill:f,className:c,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"}))}f.displayName="Status"},526432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({width:n,height:a},(0,i.default)(c),{viewBox:"0 0 24 24"}),d("path",{d:"M13.8003 3.59643V7.86267C13.8003 9.15683 14.8448 10.2011 16.1393 10.2011H20.4067C20.9334 10.2011 21.2012 9.56739 20.8263 9.19253L14.8091 3.17694C14.4341 2.80208 13.8003 3.06092 13.8003 3.59643Z",fill:f}),d("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M11.9727 7.88073C11.9727 10.1692 13.8304 12.0269 16.1189 12.0269H20.9471V19.2064C20.9471 20.1936 20.1394 21.0013 19.1523 21.0013H4.79318C3.80599 21.0013 2.99829 20.1936 2.99829 19.2064V4.84737C2.99829 3.86019 3.80599 3.05249 4.79318 3.05249H11.9727V7.88073ZM13.8 14C13.8 14.9941 12.9941 15.8 12 15.8C11.0059 15.8 10.2 14.9941 10.2 14H9C9 15.6569 10.3431 17 12 17C13.6569 17 15 15.6569 15 14H13.8ZM7 15C7 15.5523 6.55228 16 6 16C5.44772 16 5 15.5523 5 15C5 14.4477 5.44772 14 6 14C6.55228 14 7 14.4477 7 15ZM18 16C18.5523 16 19 15.5523 19 15C19 14.4477 18.5523 14 18 14C17.4477 14 17 14.4477 17 15C17 15.5523 17.4477 16 18 16Z",fill:f}))}f.displayName="StickerPadded"},12713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?20:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),d("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:f}),d("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:f}))}f.displayName="SwitchAccountsIcon"},509765:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.className,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{className:c,width:n,height:a,viewBox:"0 0 24 24"}),d("path",{className:p,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M17.722 3.00098H21C21.553 3.00098 22 3.44898 22 4.00098V8.00098C22 8.30498 21.861 8.59298 21.625 8.78198L16.696 12.724C15.794 13.86 14.49 14.659 13 14.911V16.001H15C15.553 16.001 16 16.449 16 17.001V19.001H8V17.001C8 16.449 8.447 16.001 9 16.001H11V14.911C9.51 14.659 8.206 13.86 7.304 12.724L2.375 8.78198C2.139 8.59298 2 8.30498 2 8.00098V4.00098C2 3.44898 2.447 3.00098 3 3.00098H6.278C6.625 2.40598 7.263 2.00098 8 2.00098H16C16.738 2.00098 17.375 2.40598 17.722 3.00098ZM4 5.00098V7.52098L6.006 9.12598C6.006 9.10435 6.00448 9.08348 6.00297 9.06274C6.00148 9.04224 6 9.02185 6 9.00098V5.00098H4ZM17.994 9.12698L20 7.52098V5.00098H18V9.00098C18 9.02173 17.9985 9.042 17.9971 9.0625C17.9955 9.08349 17.994 9.10472 17.994 9.12698ZM7 20.001H17V22.001H7V20.001Z"}))}f.displayName="Trophy"},637853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("rect",{width:"20",height:"16"});function c(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?16:r,l=e.color,c=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 20 16"},(0,i.default)(y)),d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{className:v,fill:c,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),f))}
c.displayName="Twitter"},298408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(c),{width:n,height:a,viewBox:"0 0 24 24"}),d("path",{fill:f,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),d("path",{fill:f,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"}))}f.displayName="UnknownUser"},950291:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,c=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),d("rect",{className:c,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:f}),d("rect",{className:c,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:f}),d("rect",{className:c,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:f}))}f.displayName="VideoLayout"},251689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(294184)),i=O(n(441143)),u=O(n(711195)),l=O(n(530250)),s=O(n(160629)),d=O(n(730977)),f=O(n(167870)),c=O(n(259530)),p=O(n(347114)),v=O(n(628551)),y=O(n(550270)),m=O(n(139574)),_=O(n(902060)),h=O(n(683898)),g=n(770348),E=O(n(247001)),S=O(n(110854));function O(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var A=5,M=4,N=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r,l=t.props,f=l.host,c=l.renderUserPopout,p=l.onUserContextMenu;r=(null==f?void 0:f.id)===e.id?E.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return I(s.default,{preload:function(){return(0,
u.default)(e.id,e.getAvatarURL(void 0,80))},renderPopout:function(t){(0,i.default)(null!=e,"");return c(t,e)},position:s.default.Positions.TOP,align:s.default.Align.CENTER},e.id,(function(t){return I(d.default,{text:r},void 0,(function(r){var i=r.onMouseEnter,u=r.onMouseLeave;return a.createElement(v.default,T({},t,{key:e.id,src:e.getAvatarURL(void 0,24),size:v.default.Sizes.SIZE_24,className:(0,o.default)(S.default.avatar,n),"aria-label":e.username,onMouseEnter:i,onMouseLeave:u,onContextMenu:function(t){null!=e&&(null==p||p(t,e))}}))}))}))};t.renderPartyMemberOverflow=function(e,n,r){var i=t.props.renderOverflowPopout;return I(s.default,{renderPopout:i},r,(function(t){return I(d.default,{text:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,(function(r){return a.createElement("div",T({className:(0,o.default)(S.default.overflow,n)},r,t),e)}))}))};return t}var n=t.prototype;n.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)}
;n.renderTitle=function(){return I("div",{},void 0,I(h.default,{},void 0,this.isHost()?E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),I(_.default,{},void 0,E.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))};n.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:I(m.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:c.default})};n.renderHelpIcon=function(){if(!this.isHost())return null;return I(m.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(y.default.getArticleURL(g.HelpdeskArticles.SPOTIFY_CONNECTION),"_blank")},icon:p.default})};n.render=function(){return I("div",{className:S.default.listeningAlong},void 0,this.renderTitle(),I(l.default,{justify:l.default.Justify.END,className:S.default.party},void 0,I(f.default,{users:this.props.party,
max:this.isHost()?A:M,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),I("div",{className:S.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))};return t}(a.PureComponent);N.displayName="ListeningAlong";var P=N;t.default=P},57754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(667294)),i=c(n(294184)),u=c(n(324582)),l=c(n(287317)),s=v(n(272544)),d=n(942675),f=c(n(786588));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(a||(a={}));var h=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,r=n?u.default:l.default;return t||n?m(r,{className:f.default.status},"status"):null};n.renderBorder=function(){var e,t=this.props.speaking;return m("div",{className:(0,i.default)(f.default.border,(e={},e[f.default.speaking]=t,e))},"border")};n.renderVoiceCallAvatar=function(){var e,t=this.props,n=t.src,r=t.disabled,o=t.ringing,u=t.ringingType,l=t.avatarClassName,c=t.muted,p=t.deafen,v=t.size,y=t.renderIcon,_=(0,d.getAvatarSize)(v),h=m("img",{src:n,alt:" ",className:(0,i.default)(f.default.voiceAvatar,l,(e={},e[f.default.ringingOutgoing]=o&&u===a.OUTGOING,e))});if(r)return h;var g=s.MaskIDs.AVATAR_DEFAULT;null!=y?g=v===d.Sizes.SIZE_32?s.MaskIDs.AVATAR_CALL_ICON_32:s.MaskIDs.AVATAR_CALL_ICON:(c||p)&&(g=s.MaskIDs.AVATAR_VOICE_CALL_80);return m(s.default,{
className:f.default.callAvatarMask,width:_,height:_,mask:g},void 0,null==y?void 0:y(),h,c||p?this.renderStatus():this.renderBorder())};n.render=function(){var e,t=this.props,n=t.size,r=t.onClick,o=t.style,u=t.onContextMenu,l=t.className,s=t.ringingType,c=t.ringing,p=(0,i.default)(f.default.wrapper,((e={})[f.default.clickable]=null!=r,e[f.default.ringingOutgoing]=c&&s===a.OUTGOING,e[f.default.ringingIncoming]=c&&s===a.INCOMING,e),l),v=(0,d.getAvatarSize)(n);return m("div",{style:y({height:v,width:v},o),onContextMenu:u,className:p},void 0,this.renderVoiceCallAvatar())};return t}(o.PureComponent);h.displayName="CallAvatar";h.defaultProps={size:d.Sizes.SIZE_80,ringingType:a.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};h.RingingType=a;var g=h;t.default=g},540671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,
af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,a.default)(t)})),game_platform:e.currentActivities.length>0?(0,r.default)(e.currentActivities[0].activity):null}};var r=o(n(200738)),a=o(n(93392));function o(e){return e&&e.__esModule?e:{default:e}}},899984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(120053)),a=o(n(546305));function o(e){return e&&e.__esModule?e:{default:e}}function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return i.apply(this,arguments)}var u,l=r.default.defaultRules.lheading,s=r.default.defaultRules.heading,d=r.default.defaultRules.link,f=r.default.defaultRules.image,c=r.default.defaultRules.list,p=r.default.defaultRules.blockQuote,v=r.default.defaultRules.paragraph,y=/\{(.+?)}/,m=/^\$(\w+?)\$/;u=n(222234)
;var _=function(e){var t=e.transformUpperCase,n=void 0!==t&&t;return function(e,t,a){var o=y.exec(e[1]),i=e[1].replace(y,"");n&&(i=i.toUpperCase());return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:r.default.parseInline(t,i,a)}}},h=function(e){return i({},u.baseRules,{image:i({},f,{},"function"==typeof u.customRules.image?u.customRules.image(e):u.customRules.image),link:i({},d,{},"function"==typeof u.customRules.link?u.customRules.link(e):u.customRules.link),list:i({},c,{},"function"==typeof u.customRules.list?u.customRules.list(e):u.customRules.list),interpolation:{order:a.default.order,match:function(e){return m.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:i({},l,{parse:_({transformUpperCase:!0})},"function"==typeof u.customRules.lheading?u.customRules.lheading(e):u.customRules.lheading),
heading:i({},s,{},"function"==typeof u.customRules.heading?u.customRules.heading(e):u.customRules.heading),blockQuote:i({},p,{},"function"==typeof u.customRules.blockQuote?u.customRules.blockQuote(e):u.customRules.blockQuote),paragraph:i({},v,{},"function"==typeof u.customRules.paragraph?u.customRules.paragraph(e):u.customRules.paragraph)})},g={getDefaultRules:function(e){return i({},h(e))},getSpecialRules:function(e){return i({},h(e),{},function(e){return{lheading:i({},l,{parse:_({transformUpperCase:!1})},"function"==typeof u.customRules.lheading?u.customRules.lheading(e):u.customRules.lheading)}}(e))}};t.default=g},581894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.formatExpiration=r;var n=/[^0-9/]/g;function r(e){var t=e.replace(n,"").split("/"),r=t[0],a=t[1],o=[];parseInt(r,10)>12&&(r=r.substring(0,1));o.push(r);(parseInt(r,10)>1||2===r.length||null!=a&&""!==a)&&o.push("/");null!=a&&""!==a&&parseInt(a,10)>99&&(a=(a+"").substring(0,2))
;o.push(a);return o.join("")}var a={formatExpiration:r};t.default=a},284719:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrencyFullName=function(e){var t,n=e.toUpperCase()+"_NAME";return null!==(t=a.default.Messages[n])&&void 0!==t?t:""};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},35570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRandomHouse=t.getQuestions=t.getHouseNameFromHouseID=void 0;var r=i(n(441143)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}t.getRandomHouse=function(){var e=Object.keys(a.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]};t.getQuestions=function(){
var e=[a.HypeSquadHouses.HOUSE_1,a.HypeSquadHouses.HOUSE_2,a.HypeSquadHouses.HOUSE_3,a.RANDOM_HYPESQUAD_HOUSE],t=[o.default.Messages.HYPESQUAD_QUESTION_0_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_1_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_2_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_3_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_4_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_5_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_6_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_7_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_8_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_9_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_10_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_11_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_12_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_13_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]]
;return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map((function(a){var o=t[a],i=n[a];(0,r.default)(null!=o&&null!=i,"Invalid HypeSquad quiz question index");return{prompt:o,options:i.map((function(t,n){var a=e[n];(0,r.default)(null!==a,"Invalid HypeSquad quiz question option index");return{copy:t,house:a}}))}}))};t.getHouseNameFromHouseID=function(e){var t;return((t={})[a.HypeSquadHouses.HOUSE_1]=o.default.Messages.HYPESQUAD_HOUSE_1,t[a.HypeSquadHouses.HOUSE_2]=o.default.Messages.HYPESQUAD_HOUSE_2,t[a.HypeSquadHouses.HOUSE_3]=o.default.Messages.HYPESQUAD_HOUSE_3,t)[e]}},303763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RowTypes=void 0;t.generateRowsForQuery=function(e,t,n,r,a){var o=new Set,u=[],v={numFriends:0,numDms:0,numGroupDms:0,numGuildMembers:0};if(""===e){var y={omitUserIds:t,maxRowsWithoutQuery:r,guildId:a,shownUserIds:o,rows:u,counts:v};!function(e){
var t=e.omitUserIds,n=e.suggestedUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,i=e.rows,u=e.counts;if(null!=n)for(var l,s=_(n);!(l=s()).done;){var f=l.value;if(null!=r&&r>0&&i.length>=r)break;if(!t.has(f)){var c=d.default.getUser(f);if(null!=c&&!E(a,c.id)){o.add(c.id);i.push({type:g.FRIEND,item:c,isSuggested:!0});u.numFriends++}}}}(m({},y,{suggestedUserIds:n}));!function(e){for(var t,n=e.omitUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,u=e.rows,s=e.counts,c=e.includeGroupDms,v=_(f.default.getPrivateChannelIds());!(t=v()).done;){var y=t.value;if(null!=r&&r>0&&u.length>=r)break;var m=i.default.getChannel(y);if(null!=m)if(c&&m.type===p.ChannelTypes.GROUP_DM){u.push({type:g.GROUP_DM,item:m,isSuggested:!1});s.numGroupDms++}else{if(null!=l.default.lastMessageId(m.id)){var h=m.getRecipientId();if(null!=h&&!n.has(h)&&!o.has(h)){var S=d.default.getUser(h);if(null==S||S.bot||E(a,S.id))continue;o.add(S.id);u.push({type:g.DM,item:S,isSuggested:!1});s.numDms++}}}}
}(m({},y,{includeGroupDms:!0}));!function(e){for(var t,n=e.omitUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,i=e.rows,u=e.counts,l=_(s.default.getFriendIDs());!(t=l()).done;){var f=t.value;if(null!=r&&r>0&&i.length>=r)break;if(!n.has(f)&&!o.has(f)){var c=d.default.getUser(f);if(null!=c&&!E(a,c.id)){i.push({type:g.FRIEND,item:c,isSuggested:!1});u.numFriends++}}}}(y)}else{var h={query:e,rows:u,counts:v};!function(e){var t=e.query,n=e.omitUserIds,r=e.shownUserIds,a=e.rows,o=e.counts;c.default.queryDMUsers({query:t,limit:50}).forEach((function(e){var t=e.record;if(!n.has(t.id)){var u=i.default.getDMFromUserId(t.id);if(null!=u){if(null!=l.default.lastMessageId(u)){r.add(t.id);a.push({type:g.DM,item:t,isSuggested:!1});o.numDms++}}}}))}(m({},h,{omitUserIds:t,shownUserIds:o}));!function(e){var t=e.query,n=e.rows,r=e.counts;c.default.queryGroupDMs({query:t,limit:50,fuzzy:!1}).forEach((function(e){var t=e.record;n.push({type:g.GROUP_DM,item:t,isSuggested:!1});r.numGroupDms++}))
}(h);!function(e){var t=e.query,n=e.rows,r=e.counts,a=e.omitUserIds,o=e.shownUserIds;c.default.queryFriends({query:t,limit:500,_fuzzy:!1}).forEach((function(e){var t=e.record;if(!a.has(t.id)&&!o.has(t.id)){o.add(t.id);n.push({type:g.FRIEND,item:t,isSuggested:!1});r.numFriends++}}))}(m({},h,{omitUserIds:t,shownUserIds:o}))}return{rows:u,counts:v}};t.getMostRecentDMedUser=function(e,t){for(var n,r=_(f.default.getPrivateChannelIds());!(n=r()).done;){var a=n.value,o=i.default.getChannel(a);if(null!=o&&o.type===p.ChannelTypes.DM&&null!=l.default.lastMessageId(o.id)){var u=o.getRecipientId();if(null!=u&&!e.has(u)){var s=d.default.getUser(u);if(null==s||s.bot||E(t,s.id))continue;return s}}}return null};t.maxAgeString=function(e,t){var n=parseInt(t,10),r=0===n,a=T[e].value;switch(T[e].type){case S:return r?v.default.Messages.INVITE_EXPIRES_MINUTES:v.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case O:return r?v.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:a
}):v.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:a,numUses:n});case b:return r?v.default.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:a}):v.default.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:a,numUses:n});case I:return r?v.default.Messages.INVITE_EXPIRES_NEVER:v.default.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}};t.urgentShareMessageString=function(e,t){if(null==e)return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t});var n=T[e].value;switch(T[e].type){case S:return v.default.Messages.INVITE_URGENT_MINUTES_PLACEHOLDER.format({numMinutes:n,link:t});case O:return v.default.Messages.INVITE_URGENT_HOURS_MESSAGE_PLACEHOLDER.format({numHours:n,link:t});case b:return v.default.Messages.INVITE_URGENT_DAYS_MESSAGE_PLACEHOLDER.format({numDays:n,link:t});default:return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t})}}
;var r,a,o=y(n(213192)),i=y(n(644263)),u=y(n(876874)),l=y(n(191391)),s=y(n(290629)),d=y(n(728429)),f=y(n(417501)),c=y(n(424956)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=n(990054);var g=(0,o.default)({GROUP_DM:null,DM:null,FRIEND:null});t.RowTypes=g;var E=function(e,t){return null!=e&&u.default.isMember(e,t)};var S="minutes",O="hours",b="days",I="never",T=((r={})[a.INVITE_OPTIONS_30_MINUTES.value]={value:30,type:S},r[a.INVITE_OPTIONS_1_HOUR.value]={value:1,type:O},r[a.INVITE_OPTIONS_6_HOURS.value]={value:6,type:O},r[a.INVITE_OPTIONS_12_HOURS.value]={value:12,type:O},r[a.INVITE_OPTIONS_1_DAY.value]={value:1,type:b},r[a.INVITE_OPTIONS_7_DAYS.value]={value:7,type:b},r[a.INVITE_OPTIONS_FOREVER.value]={value:0,type:I},r);var C={getMaxAgeOptions:a.MAX_AGE_OPTIONS,getMaxUsesOptions:a.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:a.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:a.INVITE_OPTIONS_1_DAY,
INVITE_OPTIONS_7_DAYS:a.INVITE_OPTIONS_7_DAYS,INVITE_OPTIONS_12_HOURS:a.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:a.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:a.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:a.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:a.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:a.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:a.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:a.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:a.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:a.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:a.INVITE_OPTIONS_100_TIMES};t.default=C},86997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.resolveThunk=t.default=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};var o=function(e){return"function"==typeof e?e():e};t.resolveThunk=o;var i=a.default.curry((function(e,t,n){return o(t)?e(n):n({})}));t.default=i},40856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e,t){var n=null!=t?t:{},r=n.checkEnabled,a=void 0===r?null!==(l=null===(c=i.default.getCurrentUser())||void 0===c?void 0:c.mfaEnabled)&&void 0!==l&&l:r,o=d(n,s);var l,c;return new Promise((function(t,n){((0,u.resolveThunk)(a)?v:y)(f({promiseFn:e,resolve:t,reject:n},o))}))};var r,a,o,i=(r=n(728429))&&r.__esModule?r:{default:r},u=n(86997),l=["promiseFn","resolve","reject","code","mfaCodeHandler","isModalOpen"],s=["checkEnabled"];function d(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var c=function(){throw new Error("updateModal has not been implemented.")},p=n(546331);a=p.showModal;c=p.updateModalProps;o=n(194322).closeModal;function v(e){
var t=e.promiseFn,n=e.resolve,r=e.reject,i=e.modalProps,u=void 0===i?{}:i,l=e.hooks,s=(l=void 0===l?{}:l).onEarlyClose;if(null!=a)var d=a(_,p,u);else null==s||s();function p(){null==s||s()}function v(e){o(d);n(e)}function m(e){o(d);r(e)}function _(e){c(d,_,p,f({},u,{isLoading:!0}));return y({promiseFn:t,resolve:v,reject:m,code:e,mfaCodeHandler:h,isModalOpen:!0})}function h(e){var t=e.res;c(d,_,p,f({},u,{error:t.body.message}))}}function y(e){var t=e.promiseFn,n=e.resolve,r=e.reject,a=e.code,o=e.mfaCodeHandler,i=void 0===o?v:o,u=e.isModalOpen,s=void 0!==u&&u,c=d(e,l);return t(null!=a?{code:a}:{}).then(n,(function(e){if(function(e,t){return e.body&&60008===e.body.code||t&&429===e.status}(e,s))return i(f({promiseFn:t,resolve:n,reject:r,res:e},c));r(e)}))}},135628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.encodeTotpSecret=d;t.encodeTotpSecretAsUrl=function(e,t,n){void 0===n&&(n="Discord")
;return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+d(t)+"&issuer="+encodeURIComponent(n)};t.generateTotpSecret=function(){return e=function(e){void 0===e&&(e=10);return l.getRandomValues(new Uint8Array(e))}(),u.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e};t.hasCrypto=void 0;var r,a,o,i,u=(r=n(925017))&&r.__esModule?r:{default:r};var l=null!==(a=null===(o=window)||void 0===o?void 0:o.crypto)&&void 0!==a?a:null===(i=window)||void 0===i?void 0:i.msCrypto,s=null!=l&&"getRandomValues"in l&&"Uint8Array"in window;t.hasCrypto=s;function d(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},278368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.shortenAndLocalizeNumber=function(e){if(e<1e6)return a.default.Messages.NUMBER_ABBREVIATION_FULL.format({value:e});var t=(e/1e6).toFixed(1);return a.default.Messages.NUMBER_ABBREVIATION_MILLIONS.format({value:t})};var r,a=(r=n(247001))&&r.__esModule?r:{
default:r}},298104:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchSubscriptionPlansOnNewPaymentSource=_;t.getCurrencies=h;t.planHasCurrency=function(e,t,n){var r=l.default.get(e);(0,a.default)(null!=r,"plan is undefined");return h(r,n,!1).includes(t)};t.useCurrencyWithPaymentSourceChange=function(e,t,n,a,o){var i=(g=r.useReducer((function(e,t){return p({},e,{},t)}),null!=n?{paymentSourceId:n,currency:e}:{currency:e}),E=2,function(e){if(Array.isArray(e))return e}(g)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(g,E)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(g,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],d=i[1],f=(0,u.useSubscriptionPlansLoaded)(o),c=f.isLoading,y=f.hasLoaded;var g,E;r.useEffect((function(){var e=function(){var e=m(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return _(n,o);case 2:r=[];null!=t&&null!=l.default.get(t)&&(r=h(t,n,a));r.length>0?d({paymentSourceId:n,currency:r[0]}):d({paymentSourceId:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,JSON.stringify(o),t,a,c]);var S=s.paymentSourceId!==n||null==t||c;return{hasFetchedSubscriptionPlans:y,priceOptions:s,setCurrency:function(e){d({currency:e})},
currencyLoading:S}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(441143)),o=f(n(636602)),i=n(856259),u=n(547855),l=f(n(909584)),s=n(838583),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){void 0===t&&(t=Object.values(d.PremiumSubscriptionSKUs));return null==e||l.default.hasPaymentSourceForSKUIds(e,t)?Promise.resolve():new Promise((function(e){o.default.wait(m(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.next=2;return(0,i.fetchSubscriptionPlansBySKUs)(t);case 2:e();case 3:case"end":return n.stop()}}),n)}))))}))}function h(e,t,n){var r=[],o={purchaseType:n?d.PriceSetAssignmentPurchaseTypes.GIFT:d.PriceSetAssignmentPurchaseTypes.DEFAULT},i="string"==typeof e?e:e.id;if((0,
s.inPriceDeterminationExperiment)()){var u=l.default.get(i);(0,a.default)(u,"subscription plan not loaded");null!=t&&l.default.hasPaymentSourceForSKUId(t,u.skuId)&&(o.paymentSourceId=t);if((r=(0,s.experimentalGetPrices)(i,o).map((function(e){return e.currency}))).length<1)throw Error("No currencies returned for plan "+i+" and paymentSource "+t)}else r.push((0,s.getPrice)(i,!1,n,{paymentSourceId:t}).currency);return r}},951530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRecipients=function(e,t){return(0,a.default)(e).map(t.getUser).unshift(t.getCurrentUser()).filter(o.isNotNullish).sortBy((function(e){return e.username.toLowerCase()})).value()};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(71246)},522731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAcceptedNotification=function(e){f(e,s.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST,(function(){r.default.openPrivateChannel(e.id)}))}
;t.showPendingNotification=function(e){f(e,s.default.Messages.NOTIFICATION_PENDING_FRIEND_REQUEST,(function(){(0,n(910992).openUserProfileModal)({userId:e.id});(0,i.transitionTo)(l.Routes.FRIENDS);a.default.setSection(l.FriendsSections.PENDING)}))};var r=d(n(709403)),a=d(n(99694)),o=d(n(969226)),i=n(139982),u=d(n(692711)),l=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){o.default.showNotification(u.default.getUserAvatarURL(e),e.username,t,{},{omitViewTracking:!0,omitClickTracking:!0,tag:e.id,onClick:n})}},156849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSubscriptionPlans=u;t.getSubscriptionSKUs=function(e){return u(e).map((function(e){return e.skuId}))};t.subscriptionCanDowngrade=function(e,t,n){return!l(e,t,n)};t.subscriptionCanSwitchImmediately=l;var r=i(n(441143)),a=i(n(909584)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return e.items.map((function(e){
var t=a.default.get(e.planId);(0,r.default)(null!=t,"Unable to fetch plan");return t}))}function l(e,t,n){var a=e.getCurrentSubscriptionPlanIdForGroup(n);if(e.type===o.SubscriptionTypes.PREMIUM&&null==a)return!0;(0,r.default)(null!=a,"Current subscription has no plan in group");(0,r.default)(!(a===o.SubscriptionPlans.PREMIUM_YEAR_TIER_1&&t===o.SubscriptionPlans.PREMIUM_MONTH_TIER_2),"Unexpected plan switch");return n.indexOf(a)<n.indexOf(t)}},374699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.computeFlags=function(e){if((e&u.AllFriendSourceFlags)===u.AllFriendSourceFlags)return{all:!0,mutualFriends:!0,mutualGuilds:!0};return{all:!1,mutualFriends:(e&u.FriendSourceFlags.MUTUAL_FRIENDS)===u.FriendSourceFlags.MUTUAL_FRIENDS,mutualGuilds:(e&u.FriendSourceFlags.MUTUAL_GUILDS)===u.FriendSourceFlags.MUTUAL_GUILDS}};t.getSanitizedActivityRestrictedGuilds=function(){var e=r.ActivityRestrictedGuilds.getSetting()
;0===a.default.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=o.default.getGuild(e)})));return e};t.getSanitizedMessageRequestRestrictedGuilds=function(){var e=r.MessageRequestRestrictedGuildIds.getSetting();0===a.default.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=o.default.getGuild(e)})));return e};t.getSanitizedRestrictedGuilds=function(){var e=r.RestrictedGuildIds.getSetting();0===a.default.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=o.default.getGuild(e)})));return e};t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()};t.trackPaneViewed=function(e,t){i.default.track(u.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",destination_pane:e,source:t})};var r=n(894826),a=l(n(250650)),o=l(n(30098)),i=l(n(308920)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=864e5*u.REQUEST_DATA_LIMIT_DAYS},222234:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.customRules=t.baseRules=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(120053)),u=p(n(241165)),l=p(n(226800)),s=p(n(268389)),d=p(n(151097)),f=p(n(308920)),c=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=i.default.defaultRules.link,E={section:c.AnalyticsSections.SETTINGS_CHANGELOG};function S(e,t){return null==t?[]:t.split(" ").map((function(t){return e[t]}))}var O=function(e){var t=e.level,n=e.children,r=e.className,i=void 0===r?null:r,u=e.styleSheet,l=void 0===u?{}:u;return a.createElement("h"+t,{className:o.default.apply(void 0,_(S(l,i)))},n)},b=s.default.defaultRules;t.baseRules=b;var I={link:{parse:function(e,t,n){var r,a=e[2],o=a.startsWith("https://discordapp.com/nitro")||a.startsWith("https://discord.com/nitro"),i=a.startsWith("https://discordapp.com/hypesquad")||a.startsWith("https://discord.com/hypesquad");r=o||i?function(e){f.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E})
;o?l.default.open(c.UserSettingsSections.PREMIUM):i&&l.default.open(c.UserSettingsSections.HYPESQUAD_ONLINE);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"});u.default.hideChangeLog();e.preventDefault()}:function(){n&&"function"==typeof n.onLinkClick&&n.onLinkClick(a);n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,m({},f.default.getCampaignParams(a)))};return m({},g.parse(e,t,n),{callToAction:r})},react:function(e,t,n){return y(d.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":void 0},n.key,t(e.content,n))}},lheading:function(e){return{react:function(t,n,r){return y(O,{level:t.level,className:t.className,styleSheet:e},r.key,n(t.content,r))}}},heading:{react:function(e,t,n){return y(O,{level:e.level},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(478717)("./"+e.target);return y("img",{alt:e.alt,src:a},r.key)}},blockQuote:{react:b.blockQuote.react},
paragraph:{react:function(e,t,n){return y("p",{},n.key,t(e.content,n))}}};t.customRules=I},990054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_USES_OPTIONS=t.MAX_AGE_OPTIONS=t.INVITE_OPTIONS_UNLIMITED=t.INVITE_OPTIONS_ONCE=t.INVITE_OPTIONS_FOREVER=t.INVITE_OPTIONS_7_DAYS=t.INVITE_OPTIONS_6_HOURS=t.INVITE_OPTIONS_5_TIMES=t.INVITE_OPTIONS_50_TIMES=t.INVITE_OPTIONS_30_MINUTES=t.INVITE_OPTIONS_25_TIMES=t.INVITE_OPTIONS_1_HOUR=t.INVITE_OPTIONS_1_DAY=t.INVITE_OPTIONS_12_HOURS=t.INVITE_OPTIONS_10_TIMES=t.INVITE_OPTIONS_100_TIMES=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){return a.default.Messages.MAX_USES.format({maxUses:0})}));t.INVITE_OPTIONS_UNLIMITED=i;var u=o(1,(function(){return a.default.Messages.MAX_USES.format({maxUses:1})}));t.INVITE_OPTIONS_ONCE=u;var l=o(5,(function(){return a.default.Messages.MAX_USES.format({maxUses:5})}));t.INVITE_OPTIONS_5_TIMES=l
;var s=o(10,(function(){return a.default.Messages.MAX_USES.format({maxUses:10})}));t.INVITE_OPTIONS_10_TIMES=s;var d=o(25,(function(){return a.default.Messages.MAX_USES.format({maxUses:25})}));t.INVITE_OPTIONS_25_TIMES=d;var f=o(50,(function(){return a.default.Messages.MAX_USES.format({maxUses:50})}));t.INVITE_OPTIONS_50_TIMES=f;var c=o(100,(function(){return a.default.Messages.MAX_USES.format({maxUses:100})}));t.INVITE_OPTIONS_100_TIMES=c;var p=[i,u,l,s,d,f,c];t.MAX_USES_OPTIONS=p;var v=o(1800,(function(){return a.default.Messages.DURATION_MINUTES.format({minutes:30})}));t.INVITE_OPTIONS_30_MINUTES=v;var y=o(3600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:1})}));t.INVITE_OPTIONS_1_HOUR=y;var m=o(21600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:6})}));t.INVITE_OPTIONS_6_HOURS=m;var _=o(43200,(function(){return a.default.Messages.DURATION_HOURS.format({hours:12})}));t.INVITE_OPTIONS_12_HOURS=_;var h=o(86400,(function(){
return a.default.Messages.DURATION_DAYS.format({days:1})}));t.INVITE_OPTIONS_1_DAY=h;var g=o(604800,(function(){return a.default.Messages.DURATION_DAYS.format({days:7})}));t.INVITE_OPTIONS_7_DAYS=g;var E=o(0,(function(){return a.default.Messages.MAX_AGE_NEVER}));t.INVITE_OPTIONS_FOREVER=E;var S=[v,y,m,_,h,g,E];t.MAX_AGE_OPTIONS=S},546331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showModal=function(e,t,n){return(0,i.openModal)(s(e,t,n))};t.updateModalProps=function(e,t,n,r){return(0,i.updateModal)(e,s(t,n,r))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=(r=n(410671))&&r.__esModule?r:{default:r},i=n(194322);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e,t,n){return function(r){return a.createElement(o.default,l({handleSubmit:e,handleEarlyClose:t},n,r))}}},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},684795:(e,t,n)=>{e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},662325:(e,t,n)=>{e.exports=n.p+"ae046b62e28bb1ec1fbdde8185d32b9e.mp4"},15176:(e,t,n)=>{e.exports=n.p+"19ee7a767639c0af819b5976b493e9d8.png"},788557:(e,t,n)=>{e.exports=n.p+"230cd026d4bfdeb914b266938cc506a1.jpg"},22625:(e,t,n)=>{
e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},603628:(e,t,n)=>{e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},879334:(e,t,n)=>{e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},133650:(e,t,n)=>{e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},631896:(e,t,n)=>{e.exports=n.p+"3522a06815d204da075ffda2431ef7f2.png"},931806:(e,t,n)=>{e.exports=n.p+"9acacf43b5dddb33196fa60a4a6c6b2f.jpg"},425058:(e,t,n)=>{e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},428915:(e,t,n)=>{e.exports=n.p+"1b9af825f3ccd5ffdf9580e338d4e5e7.png"},561323:(e,t,n)=>{e.exports=n.p+"bb867095876d3f6d81cc12e745ee9f58.png"},949223:(e,t,n)=>{e.exports=n.p+"8a5c84a9635d7e691e9276ff7ddfab31.svg"},412466:(e,t,n)=>{e.exports=n.p+"6b1abb79089f84d154f8a248dfb90b46.svg"},226586:(e,t,n)=>{e.exports=n.p+"0251a4f9294a3617de380fe28c486932.svg"},373135:(e,t,n)=>{e.exports=n.p+"fbef95afb1a9c8cf52e941375c360491.svg"},361850:(e,t,n)=>{e.exports=n.p+"06d8e21539e634cbc0f2ecf38f1bb2bb.svg"},15808:(e,t,n)=>{
e.exports=n.p+"fe875f7f2f0c4869d155e7e487f570f2.png"},227227:(e,t,n)=>{e.exports=n.p+"7f9b927507a1c9321da58ab0fafffcd0.png"},999455:(e,t,n)=>{e.exports=n.p+"1c3ba8528a8f16c8cf0c55e286010420.png"},678811:(e,t,n)=>{e.exports=n.p+"831ba24f72b89cc77c325317372b7239.png"},236340:(e,t,n)=>{e.exports=n.p+"3785e11ebe8fdcd64db5bb49f2e5299d.png"},359546:(e,t,n)=>{e.exports=n.p+"506bf478f5e1a271a27b673e6f25749a.png"},35448:(e,t,n)=>{e.exports=n.p+"07d9032e5d30865e0cc076396f0b027a.png"},404252:(e,t,n)=>{e.exports=n.p+"9d402086959fccbf418074a4b96f6d19.jpg"},108881:(e,t,n)=>{e.exports=n.p+"b3c7d91afbb6832954ff19751df31927.svg"},404474:(e,t,n)=>{e.exports=n.p+"d7eda3b3683e8245b43c943d0f3b61b6.svg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{
e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},921912:(e,t,n)=>{e.exports=n.p+"350e1c6739823620f031d023a48ac9d4.svg"},964766:(e,t,n)=>{e.exports=n.p+"3123277eb2e7083fde983985dcd209a6.svg"},3874:(e,t,n)=>{e.exports=n.p+"c115d59ca13c0f942965a82a0f05bf01.svg"},302255:(e,t,n)=>{e.exports=n.p+"ad530d02033b87bb89752f915c2fbe3c.svg"},117399:(e,t,n)=>{e.exports=n.p+"f1e026332f1d6e902bcbbc07892bc849.svg"},408056:(e,t,n)=>{e.exports=n.p+"fd65da49c3073002049383baeb24e658.svg"},498913:(e,t,n)=>{e.exports=n.p+"beec347635d7597215747fcaf461e569.svg"},598150:(e,t,n)=>{e.exports=n.p+"9581653a5a4d0b7b56187044a9db301a.svg"},656470:(e,t,n)=>{e.exports=n.p+"12d9bda733d6432d605e8011c22c3e56.svg"},789885:(e,t,n)=>{e.exports=n.p+"8de4b17bb44ad5ef9f21f2f6f16aa8d1.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{
e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},572274:(e,t,n)=>{e.exports=n.p+"c8aeec4a5ee16aa9214b994f7355fea0.svg"},318906:(e,t,n)=>{e.exports=n.p+"80086acc9d95092784ad69c7bc257b7d.svg"},709804:(e,t,n)=>{e.exports=n.p+"37cf72199c4e106407223a1edaf34460.svg"},392544:(e,t,n)=>{e.exports=n.p+"55b367aaef0b83c837ac6c3bfe01da4c.svg"},350672:(e,t,n)=>{e.exports=n.p+"6e97f6643e7df29b26571d96430e92f4.svg"},24264:(e,t,n)=>{e.exports=n.p+"55b941d7bba0d84f06c05db34b7c9aab.svg"},874638:(e,t,n)=>{e.exports=n.p+"187bc0709ea0cecffe622a50993d012c.svg"},956863:(e,t,n)=>{
e.exports=n.p+"c096c74c5685ce049b779f7ce3591bab.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},903049:(e,t,n)=>{e.exports=n.p+"d5d75eacea4086ed5f38048b74851f43.svg"},188374:(e,t,n)=>{e.exports=n.p+"42b60052f80abd9c2bdd8fc24cf97988.svg"},789621:(e,t,n)=>{e.exports=n.p+"9167182d6b74446a1c818615c135c289.svg"},273361:(e,t,n)=>{e.exports=n.p+"67430d140a79af95585a19d304731dc5.svg"},129428:(e,t,n)=>{e.exports=n.p+"d6779172ed9209b5ad49df923ea7820c.svg"},566300:(e,t,n)=>{e.exports=n.p+"c11b69c74029b5deaca9ca7ce1e987b1.svg"},235920:(e,t,n)=>{e.exports=n.p+"23e073eb0ee21f94de11e5d0a7eec50e.svg"},200824:(e,t,n)=>{e.exports=n.p+"f69210154879227d0ede0308465cf388.svg"},389515:(e,t,n)=>{e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},637472:(e,t,n)=>{
e.exports=n.p+"0b2368a2cfe5e7eb02715549c3f8285e.svg"},491595:(e,t,n)=>{e.exports=n.p+"0d61d0c1ff1f7b1d765a7f00f85d00ab.png"},40288:(e,t,n)=>{e.exports=n.p+"cb5fd0a8c27fdff8ed5c6804b80ea3e1.png"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},680664:(e,t,n)=>{e.exports=n.p+"41a1814ec63404eb722ce88d1c28b4f4.png"},396448:(e,t,n)=>{e.exports=n.p+"8e5a6ee1fce31ef5c5800b7646a94d98.png"},755645:(e,t,n)=>{e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},655916:(e,t,n)=>{e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},694111:(e,t,n)=>{
e.exports=n.p+"4aebeb85413bf3414671b2c138463909.svg"},350115:(e,t,n)=>{e.exports=n.p+"d3bb5f3e5859cc8735a9d87121efb72a.svg"},942473:(e,t,n)=>{e.exports=n.p+"887423e438a9b6dcb31a73d597c11a84.svg"},479307:(e,t,n)=>{e.exports=n.p+"53a7243150bf05759b81a208b87d3dc5.svg"},206091:(e,t,n)=>{e.exports=n.p+"8109cbeeed8e4358aac09a05deddb625.svg"},987601:(e,t,n)=>{e.exports=n.p+"d61d4aa409613f4dcfb6163ef0d739de.svg"},192941:(e,t,n)=>{e.exports=n.p+"0d16e62fc3a84fc7e76b06584b646df9.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},802566:(e,t,n)=>{e.exports=n.p+"16770cd8548bce331bed7218db02fb4f.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},404024:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},764728:(e,t,n)=>{e.exports=n.p+"cc6c3c95c28acf328b6173383ddb3b61.svg"},934104:(e,t,n)=>{e.exports=n.p+"5113924998ee17c4f43a65b8cf2d0153.svg"},652951:(e,t,n)=>{e.exports=n.p+"f4e770cfda0179dc24bf07b515794f63.png"},207357:(e,t,n)=>{
e.exports=n.p+"c99db1117a5f43479bbfe5841e065a4c.png"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},698242:(e,t,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},483683:(e,t,n)=>{e.exports=n.p+"72db7a1fbe5d3c861fe63c26f634b5d2.svg"},63685:(e,t,n)=>{e.exports=n.p+"a4e25b25c89b862150e6eeb520e67dd5.svg"},634737:(e,t,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},302147:(e,t,n)=>{e.exports=n.p+"da49b3a1b7e3f163d69aff38bf33609d.svg"},58241:(e,t,n)=>{e.exports=n.p+"66e944fa16639ab4050c6e0c50eedbca.svg"},337285:(e,t,n)=>{e.exports=n.p+"5e38a1b0dc183dd320c517e58ccfb074.svg"},691634:(e,t,n)=>{e.exports=n.p+"2ebbb7dbd17b154a625b58b33738fc85.svg"},998240:(e,t,n)=>{e.exports=n.p+"3224278ae6dc432b7fbc0fc90b54686e.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},567012:(e,t,n)=>{e.exports=n.p+"a9efd5e06b5616d39a6ee4232211f9b0.svg"},862470:(e,t,n)=>{
e.exports=n.p+"dd1ac77c281d77cfa4061925981469e2.svg"},140577:(e,t,n)=>{e.exports=n.p+"f106eb8ea1d67c1028cb37db383c6f58.svg"},140561:(e,t,n)=>{e.exports=n.p+"eeacc28d3c62a7cf1154a2bc11968ad8.svg"},237018:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},20278:(e,t,n)=>{e.exports=n.p+"eb47171e918604c7f7e861e94708f19f.svg"},545292:(e,t,n)=>{e.exports=n.p+"3294183db720bd0985871f6aa43e6e28.png"},854794:(e,t,n)=>{e.exports=n.p+"07de3733e48397a3e9086e37a9cb0dac.svg"},524268:(e,t,n)=>{e.exports=n.p+"2e16625f6f55b96572f79cc35682266f.png"},950737:(e,t,n)=>{e.exports=n.p+"3be860e37bf5f2df40ad15d2de5cee0e.png"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},222917:(e,t,n)=>{e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},383947:(e,t,n)=>{e.exports=n.p+"9dbac54bc1c7b51bbc715240518c409b.svg"},742918:(e,t,n)=>{e.exports=n.p+"05d41aa7d58d190b8f7944755540c09d.svg"},822689:e=>{"use strict"
;e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE ","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":300,"w":800,"h":800,"nm":"VC-EFFECTS-05","ddd":0,"assets":[{"id":"image_0","w":96,"h":96,"u":"","p":"","e":1},{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":2,"nm":"Emoji_Picker.png","cl":"png","refId":"image_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[20,20,0],"ix":2},"a":{"a":0,"k":[48,48,0],"ix":1},"s":{"a":0,"k":[42,42,100],"ix":6}},"ao":0,"ip":0,"op":901,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.846},"o":{"x":0,"y":0},"t":5,"s":[329.5,804.5,0],"to":[-2.667,-352,0],"ti":[-23.007,0.338,0]},{"i":{"x":0.65,"y":0.593},"o":{"x":0.299,"y":0.205},"t":35,"s":[383,267.5,0],"to":[14.702,-0.216,0],"ti":[-1.087,-107.956,0]},{"i":{"x":0.678,"y":0.68},"o":{"x":0.338,"y":0.309},"t":81,"s":[425.295,445.945,0],"to":[0.419,41.582,0],"ti":[4.378,-50.711,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.435,"y":0.422},"t":109,"s":[385.794,585.346,0],"to":[-6.673,77.287,0],"ti":[-0.496,-87.212,0]},{"t":156,"s":[403,835.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":80,"s":[100,100,100]},{"t":127,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":5,"op":906,"st":5,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.874},"o":{"x":0,"y":0},"t":6,"s":[347.5,893.5,0],"to":[-2.667,-352,0],"ti":[23.006,0.426,0]},{"i":{"x":0.647,"y":0.617},"o":{"x":0.304,"y":0.256},"t":36,"s":[357,229.5,0],"to":[-10.024,-0.185,0],"ti":[2.767,-91.336,0]},{"i":{"x":0.695,"y":0.683},"o":{"x":0.34,"y":0.318},"t":83,"s":[327.807,380.053,0],"to":[-2.178,71.879,0],"ti":[-3.305,-97.955,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.434,"y":0.43},"t":151,"s":[349.451,641.543,0],"to":[2.134,63.236,0],"ti":[-0.369,-64.86,0]},{"t":199,"s":[337,835.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":122,"s":[50,50,100]},{"t":170,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":6,"op":907,"st":6,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.893},"o":{"x":0.542,"y":0},"t":7,"s":[400.5,929.5,0],"to":[-2.667,-352,0],"ti":[60.993,0.633,0]},{"i":{"x":0.651,"y":0.561},"o":{"x":0.611,"y":0},"t":37,"s":[341,159.5,0],"to":[-20.061,-0.208,0],"ti":[11.798,-128,0]},{"i":{"x":0.695,"y":0.684},"o":{"x":0.349,"y":0.324},"t":89,"s":[307.752,378.954,0],"to":[-6.621,71.827,0],"ti":[-0.366,-84.899,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.43,"y":0.431},"t":130,"s":[278.581,618.95,0],"to":[0.315,73.061,0],"ti":[-0.394,-69.221,0]},{"t":166,"s":[309,835.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":101,"s":[75,75,100]},{"t":137,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":7,"op":908,"st":7,"bm":0},{"ddd":0,"ind":4,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.89},"o":{"x":0,"y":0},"t":8,"s":[365.5,891.5,0],"to":[-2.667,-352,0],"ti":[-60.994,0.426,0]},{"i":{"x":0.651,"y":0.593},"o":{"x":0.299,"y":0.199},"t":38,"s":[407,143.5,0],"to":[29.486,-0.206,0],"ti":[1.76,-128.517,0]},{"i":{"x":0.678,"y":0.673},"o":{"x":0.338,"y":0.316},"t":95,"s":[468.455,364.111,0],"to":[-0.684,49.942,0],"ti":[6.704,-57.577,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.436,"y":0.424},"t":127,"s":[432.549,527.04,0],"to":[-11.732,100.755,0],"ti":[-0.548,-96.318,0]},{"t":183,"s":[429,831.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":98,"s":[60,60,100]},{"t":154,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":8,"op":909,"st":8,"bm":0},{"ddd":0,"ind":5,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.896},"o":{"x":0,"y":0},"t":9,"s":[365.5,891.5,0],"to":[-2.667,-352,0],"ti":[-148.994,-1.574,0]},{"i":{"x":0.651,"y":0.613},"o":{"x":0.298,"y":0.148},"t":39,"s":[441,128.5,0],"to":[66.37,0.701,0],"ti":[-5.534,-112.698,0]},{"i":{"x":0.698,"y":0.681},"o":{"x":0.351,"y":0.317},"t":87,"s":[580.89,335.356,0],"to":[3.902,79.478,0],"ti":[0.97,-98.276,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.429,"y":0.435},"t":127,"s":[545.04,609.618,0],"to":[-0.742,75.205,0],"ti":[-0.401,-70.437,0]},{"t":158,"s":[569,831.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":98,"s":[50,50,100]},{"t":129,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":9,"op":910,"st":9,"bm":0},{"ddd":0,"ind":6,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.908},"o":{"x":0,"y":0},"t":10,"s":[393.5,891.5,0],"to":[-2.667,-352,0],"ti":[-148.994,-1.574,0]},{"i":{"x":0.653,"y":0.584},"o":{"x":0.298,"y":0.176},"t":40,"s":[531,27.5,0],"to":[67.677,0.715,0],"ti":[-30.526,-142.4,0]},{"i":{"x":0.693,"y":0.683},"o":{"x":0.347,"y":0.326},"t":107,"s":[697.494,276.112,0],"to":[18.133,84.591,0],"ti":[-2.748,-96.407,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.438,"y":0.419},"t":154,"s":[662.568,554.723,0],"to":[2.81,98.593,0],"ti":[-0.46,-80.852,0]},{"t":198,"s":[727,831.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":125,"s":[82,82,100]},{"t":169,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":10,"op":911,"st":10,"bm":0},{"ddd":0,"ind":7,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.871},"o":{"x":0,"y":0},"t":12,"s":[357.5,926.5,0],"to":[-2.667,-352,0],"ti":[-66.953,2.824,0]},{"i":{"x":0.653,"y":0.641},"o":{"x":0.298,"y":0.269},"t":42,"s":[439,295.5,0],"to":[51.901,-2.189,0],"ti":[8.256,-113.529,0]},{"i":{"x":0.682,"y":0.68},"o":{"x":0.343,"y":0.325},"t":115,"s":[495.829,494.74,0],"to":[-2.953,40.603,0],"ti":[0.354,-44.211,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.431,"y":0.419},"t":154,"s":[468.514,623.434,0],"to":[-0.583,72.86,0],"ti":[-1.11,-61.451,0]},{"t":215,"s":[513,831.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":125,"s":[60,60,100]},{"t":186,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":12,"op":913,"st":12,"bm":0},{"ddd":0,"ind":8,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.857},"o":{"x":0,"y":0},"t":13,"s":[443.5,803.5,0],"to":[-2.667,-352,0],"ti":[117.019,3.388,0]},{"i":{"x":0.657,"y":0.682},"o":{"x":0.297,"y":0.158},"t":43,"s":[339,265.5,0],"to":[-95.381,-2.761,0],"ti":[-4.044,-104.657,0]},{"i":{"x":0.708,"y":0.701},"o":{"x":0.361,"y":0.331},"t":103,"s":[169.713,495.983,0],"to":[2.442,63.189,0],"ti":[-3.937,-70.028,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.423,"y":0.414},"t":143,"s":[215.822,701.892,0],"to":[2.597,46.192,0],"ti":[-0.729,-40.383,0]},{"t":168,"s":[177,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":114,"s":[80,80,100]},{"t":139,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":13,"op":914,"st":13,"bm":0},{"ddd":0,"ind":9,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.894},"o":{"x":0,"y":0},"t":14,"s":[393.5,891.5,0],"to":[-2.667,-352,0],"ti":[117.019,3.388,0]},{"i":{"x":0.66,"y":0.609},"o":{"x":0.296,"y":0.11},"t":44,"s":[307,131.5,0],"to":[-91.549,-2.65,0],"ti":[19.392,-142.389,0]},{"i":{"x":0.717,"y":0.645},"o":{"x":0.367,"y":0.405},"t":88,"s":[140.517,385.824,0],"to":[-13.052,95.839,0],"ti":[6.027,-93.759,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.418,"y":0.406},"t":126,"s":[134.061,683.856,0],"to":[-3.696,57.496,0],"ti":[-0.726,-40.17,0]},{"t":142,"s":[77,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":97,"s":[60,60,100]},{"t":113,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":14,"op":915,"st":14,"bm":0},{"ddd":0,"ind":10,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.881},"o":{"x":0,"y":0},"t":15,"s":[425.5,891.5,0],"to":[-2.667,-352,0],"ti":[117.025,3.153,0]},{"i":{"x":0.651,"y":0.561},"o":{"x":0.299,"y":0.228},"t":45,"s":[315,227.5,0],"to":[-57.654,-1.553,0],"ti":[15.735,-105.046,0]},{"i":{"x":0.674,"y":0.671},"o":{"x":0.337,"y":0.32},"t":103,"s":[242.139,408.918,0],"to":[-5.7,38.055,0],"ti":[6.024,-42.685,0]},{"i":{"x":0.694,"y":0.688},"o":{"x":0.353,"y":0.347},"t":129,"s":[213.132,531.273,0],"to":[-6.749,47.82,0],"ti":[2.485,-47.005,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.442,"y":0.436},"t":158,"s":[213.667,675.26,0],"to":[-3.082,58.289,0],"ti":[-0.812,-44.979,0]},{"t":189,"s":[197,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":129,"s":[90,90,100]},{"t":160,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":15,"op":916,"st":15,"bm":0},{"ddd":0,"ind":11,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.9},"o":{"x":0,"y":0},"t":16,"s":[381.5,916.5,0],"to":[-2.667,-352,0],"ti":[-151,-3,0]},{"i":{"x":0.656,"y":0.575},"o":{"x":0.297,"y":0.147},"t":46,"s":[543,137.5,0],"to":[70.576,1.402,0],"ti":[-5.868,-135.149,0]},{"i":{"x":0.738,"y":0.732},"o":{"x":0.377,"y":0.346},"t":99,"s":[674.154,381.841,0],"to":[4.99,114.926,0],"ti":[0.291,-105.898,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.406,"y":0.403},"t":146,"s":[639.662,737.376,0],"to":[-0.099,36.01,0],"ti":[-0.496,-27.436,0]},{"t":159,"s":[671,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":117,"s":[50,50,100]},{"t":130,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":16,"op":917,"st":16,"bm":0},{"ddd":0,"ind":12,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.901},"o":{"x":0,"y":0},"t":17,"s":[345.5,891.5,0],"to":[-2.667,-352,0],"ti":[-151,-3,0]},{"i":{"x":0.648,"y":0.549},"o":{"x":0.302,"y":0.237},"t":47,"s":[503,97.5,0],"to":[51.202,1.017,0],"ti":[-24.535,-88.909,0]},{"i":{"x":0.692,"y":0.685},"o":{"x":0.341,"y":0.299},"t":99,"s":[588.109,249.037,0],"to":[24.125,87.423,0],"ti":[-14.469,-108.557,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.435,"y":0.428},"t":162,"s":[693.966,558.834,0],"to":[14.212,106.629,0],"ti":[-1.201,-66.482,0]},{"t":213,"s":[671,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":133,"s":[30,30,100]},{"t":184,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":17,"op":918,"st":17,"bm":0},{"ddd":0,"ind":13,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.894},"o":{"x":0,"y":0},"t":8,"s":[405.5,891.5,0],"to":[2.667,-352,0],"ti":[148.994,-1.574,0]},{"i":{"x":0.662,"y":0.565},"o":{"x":0.296,"y":0.171},"t":38,"s":[318,143.5,0],"to":[-83.542,0.883,0],"ti":[15.995,-160.494,0]},{"i":{"x":0.704,"y":0.702},"o":{"x":0.36,"y":0.344},"t":107,"s":[198.942,428.955,0],"to":[-7.218,72.426,0],"ti":[-1.071,-79.283,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.424,"y":0.428},"t":143,"s":[169.572,660.505,0],"to":[0.789,58.362,0],"ti":[0.31,-54.575,0]},{"t":170,"s":[202,831.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":114,"s":[50,50,100]},{"t":141,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":8,"op":909,"st":8,"bm":0},{"ddd":0,"ind":14,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.911},"o":{"x":0,"y":0},"t":7,"s":[298.5,928.5,0],"to":[2.667,-352,0],"ti":[148.994,-1.574,0]},{"i":{"x":0.653,"y":0.557},"o":{"x":0.298,"y":0.193},"t":37,"s":[240,27.5,0],"to":[-68.738,0.726,0],"ti":[30.504,-145.788,0]},{"i":{"x":0.691,"y":0.688},"o":{"x":0.346,"y":0.319},"t":107,"s":[115.083,282.831,0],"to":[-17.146,81.947,0],"ti":[13.021,-92.68,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.438,"y":0.433},"t":154,"s":[34.012,551.086,0],"to":[-14.026,99.834,0],"ti":[0.466,-81.846,0]},{"t":200,"s":[44,831.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":125,"s":[75,75,100]},{"t":171,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":7,"op":908,"st":7,"bm":0},{"ddd":0,"ind":15,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.863},"o":{"x":0,"y":0},"t":6,"s":[377.5,891.5,0],"to":[2.667,-352,0],"ti":[66.953,2.824,0]},{"i":{"x":0.648,"y":0.606},"o":{"x":0.303,"y":0.305},"t":36,"s":[332,295.5,0],"to":[-39.875,-1.682,0],"ti":[9.048,-75.441,0]},{"i":{"x":0.676,"y":0.678},"o":{"x":0.334,"y":0.318},"t":88,"s":[288.719,420.755,0],"to":[-5.634,46.973,0],"ti":[4.998,-58.482,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.432,"y":0.427},"t":139,"s":[250.332,582.466,0],"to":[-7.318,85.621,0],"ti":[1.319,-73.021,0]},{"t":215,"s":[258,831.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":110,"s":[30,30,100]},{"t":186,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":6,"op":907,"st":6,"bm":0},{"ddd":0,"ind":16,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.864},"o":{"x":0,"y":0},"t":5,"s":[377.5,891.5,0],"to":[2.667,-352,0],"ti":[-117.019,3.388,0]},{"i":{"x":0.653,"y":0.529},"o":{"x":0.298,"y":0.264},"t":35,"s":[464,315.5,0],"to":[84.173,-2.437,0],"ti":[-23.136,-86.278,0]},{"i":{"x":0.701,"y":0.717},"o":{"x":0.353,"y":0.322},"t":97,"s":[559.572,460.258,0],"to":[16.951,63.215,0],"ti":[3.926,-75.502,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.428,"y":0.419},"t":146,"s":[635.596,675.806,0],"to":[-2.872,55.225,0],"ti":[0.866,-47.955,0]},{"t":182,"s":[594,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":117,"s":[80,80,100]},{"t":153,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":5,"op":906,"st":5,"bm":0},{"ddd":0,"ind":17,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.894},"o":{"x":0,"y":0},"t":4,"s":[377.5,891.5,0],"to":[2.667,-352,0],"ti":[-117.019,3.388,0]},{"i":{"x":0.652,"y":0.6},"o":{"x":0.298,"y":0.145},"t":34,"s":[464,131.5,0],"to":[73.961,-2.141,0],"ti":[-35.401,-103.736,0]},{"i":{"x":0.689,"y":0.673},"o":{"x":0.344,"y":0.325},"t":84,"s":[670.084,307.47,0],"to":[25.201,73.846,0],"ti":[-0.771,-86.592,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.438,"y":0.426},"t":120,"s":[657.874,556.633,0],"to":[0.943,105.825,0],"ti":[1.236,-68.403,0]},{"t":157,"s":[694,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":92,"s":[90,90,100]},{"t":128,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":4,"op":905,"st":4,"bm":0},{"ddd":0,"ind":18,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.881},"o":{"x":0,"y":0},"t":3,"s":[345.5,891.5,0],"to":[2.667,-352,0],"ti":[-117.025,3.153,0]},{"i":{"x":0.652,"y":0.611},"o":{"x":0.298,"y":0.302},"t":33,"s":[456,227.5,0],"to":[63.488,-1.71,0],"ti":[-14.184,-121.129,0]},{"i":{"x":0.679,"y":0.701},"o":{"x":0.34,"y":0.308},"t":120,"s":[514.197,441.585,0],"to":[5.368,45.842,0],"ti":[-9.754,-49.633,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.437,"y":0.436},"t":167,"s":[578.688,586.692,0],"to":[17.635,89.734,0],"ti":[1.216,-67.339,0]},{"t":245,"s":[574,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":135,"s":[100,100,100]},{"t":210,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":3,"op":904,"st":3,"bm":0},{"ddd":0,"ind":19,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.896},"o":{"x":0,"y":0},"t":2,"s":[345.5,891.5,0],"to":[2.667,-352,0],"ti":[151,-3,0]},{"i":{"x":0.654,"y":0.601},"o":{"x":0.297,"y":0.164},"t":32,"s":[228,137.5,0],"to":[-68.337,1.358,0],"ti":[4.453,-129.104,0]},{"i":{"x":0.722,"y":0.714},"o":{"x":0.367,"y":0.333},"t":90,"s":[84.874,369.064,0],"to":[-3.602,104.435,0],"ti":[-0.181,-103.105,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.417,"y":0.415},"t":142,"s":[138.243,699.361,0],"to":[0.09,51.074,0],"ti":[0.665,-36.813,0]},{"t":163,"s":[100,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":113,"s":[85,85,100]},{"t":134,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":2,"op":903,"st":2,"bm":0},{"ddd":0,"ind":20,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.901},"o":{"x":0,"y":0},"t":1,"s":[425.5,891.5,0],"to":[2.667,-352,0],"ti":[151,-3,0]},{"i":{"x":0.653,"y":0.561},"o":{"x":0.298,"y":0.228},"t":31,"s":[268,97.5,0],"to":[-66.77,1.327,0],"ti":[24.001,-133.576,0]},{"i":{"x":0.685,"y":0.686},"o":{"x":0.343,"y":0.316},"t":105,"s":[182.376,336.772,0],"to":[-12.046,67.042,0],"ti":[14.038,-72.421,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.438,"y":0.434},"t":150,"s":[110.115,550.634,0],"to":[-21.246,109.606,0],"ti":[1.232,-68.184,0]},{"t":206,"s":[100,833.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":121,"s":[40,40,100]},{"t":177,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":1,"op":902,"st":1,"bm":0},{"ddd":0,"ind":21,"ty":0,"nm":"particle","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":0.904},"o":{"x":0,"y":0},"t":0,"s":[400,891.5,0],"to":[2.667,-352,0],"ti":[-151,7,0]},{"i":{"x":0.655,"y":0.583},"o":{"x":0.297,"y":0.148},"t":30,"s":[548,63.5,0],"to":[67.478,-3.128,0],"ti":[-21.482,-144.847,0]},{"i":{"x":0.713,"y":0.696},"o":{"x":0.362,"y":0.333},"t":88,"s":[714.138,318.914,0],"to":[15.912,107.29,0],"ti":[-8.442,-106.658,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.422,"y":0.422},"t":134,"s":[704.888,657.243,0],"to":[5.665,71.574,0],"ti":[0.814,-45.091,0]},{"t":158,"s":[754,837.5,0]}],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":105,"s":[100,100,100]},{"t":129,"s":[0,0,100]}],"ix":6}},"ao":0,"w":40,"h":40,"ip":0,"op":901,"st":0,"bm":0}],"markers":[]}')
}}]);
//# sourceMappingURL=b3eadaef4360c92f7223.js.map