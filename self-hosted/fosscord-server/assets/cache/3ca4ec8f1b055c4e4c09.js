"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[91948],{921052:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.logoutUnderageNewUser=function(){a.default.dispatch({type:"AGE_GATE_LOGOUT_UNDERAGE_NEW_USER"})};t.preventUnderageRegistration=function(){a.default.dispatch({type:"AGE_GATE_PREVENT_UNDERAGE_REGISTRATION"})};t.submitDateOfBirth=function(e,t){(0,l.default)(e,t);return n.default.patch({url:o.Endpoints.ME,body:{date_of_birth:e.format("YYYY-MM-DD")},oldFormErrors:!0}).then((function(e){var t=e.body;a.default.dispatch({type:"CURRENT_USER_UPDATE",user:t})}))};var n=u(r(118915)),a=u(r(636602)),l=u(r(132699)),o=r(770348);function u(e){return e&&e.__esModule?e:{default:e}}},732741:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e)
;var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e;r&&r.set(e,n);return n}(r(667294)),l=c(r(294184)),o=c(r(730381)),u=c(r(474257)),i=r(645758),s=r(688388),f=c(r(247001)),d=c(r(108083));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function v(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),i=0;i<o;i++)u[i]=arguments[i+3];t.children=u}if(t&&l)for(var s in l)void 0===t[s]&&(t[s]=l[s]);else t||(t=l||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,
_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done);o=!0){l.push(n.value);if(t&&l.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}
var E=(0,o.default)().localeData().months(),N=Array.from(Array(31).keys()).map((function(e){return{value:e+1,label:""+(e+1)}})),_=Array.from(Array(12).keys()).map((function(e){return{value:e+1,label:E[e]}}));var h=/[a-zA-Z0-9]/;function b(e){var t=e.options,r=e.selectOption,n=e.children,l=m(a.useState(""),2),o=l[0],u=l[1];a.useEffect((function(){if(""!==o){var e=setTimeout((function(){return u("")}),1e3);return function(){return clearTimeout(e)}}}),[o,u]);return v("div",{onKeyDown:a.useCallback((function(e){if(h.test(e.key)){var n=""+o+e.key.toLowerCase(),a=t.find((function(e){return e.label.toLowerCase().startsWith(n)}));null!=a&&r(a.value);u(n)}}),[r,u,o,t])},void 0,n)}b.displayName="DropdownSuggestionWrapper";function S(){var e=(0,o.default)().localeData().longDateFormat("L"),t=e.indexOf("D"),r=e.indexOf("M"),n=e.indexOf("Y");if(-1===t||-1===r||-1===n){t=0;r=1;n=2}return[{index:t,type:"day"},{index:r,type:"month"},{index:n,type:"year"}].sort((function(e,t){
return e.index<t.index?-1:1}))}var O=a.forwardRef((function(e,t){var r=e.value,n=e.wrapperClassName,c=e.onChange,p=e.onPopulated,y=e.error,E=e.autoFocus,h=function(e){var t=null,r=null,n=null;if(null!=e){t=e.date();r=e.month()+1;n=e.year()}var l=m(a.useState(t),2),o=l[0],u=l[1],i=m(a.useState(r),2),s=i[0],f=i[1],d=m(a.useState(n),2);return{day:o,setDay:u,month:s,setMonth:f,year:d[0],setYear:d[1]}}(r),O=h.day,T=h.setDay,A=h.month,g=h.setMonth,M=h.year,I=h.setYear,C=a.useMemo((function(){return null!=O&&null!=A&&null!=M?(0,o.default)(O+"/"+A+"/"+M,"DD/MM/YYYY"):null}),[O,A,M]);a.useEffect((function(){c((null==C?void 0:C.isValid())?C:null)}),[C,c]);var U=y;null==C||C.isValid()||(U=f.default.Messages.AGE_GATE_INVALID_BIRTHDAY);var w=function(){var e=(new Date).getFullYear(),t=a.useRef(Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:""+(e-t-3)}})));a.useEffect((function(){t.current=Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:""+(e-t-3)}}))
}),[e]);return t.current}(),P=m(a.useState(E?0:-1),2),D=P[0],R=P[1],k=a.useRef(null),G=a.useRef(null),F=a.useRef(null),L=a.useMemo(S,[]),j=a.useCallback((function(){var e,t,r,n;switch(null===(e=L[D])||void 0===e?void 0:e.type){case"day":null===(t=k.current)||void 0===t||t.focus();break;case"month":null===(r=G.current)||void 0===r||r.focus();break;case"year":null===(n=F.current)||void 0===n||n.focus()}}),[D,k,G,F,L]);a.useEffect((function(){setTimeout(j,500)}),[]);a.useEffect((function(){D>=L.length?null==p||p():j()}),[D,j]);for(var x=[],B=function(e){switch(L[e].type){case"day":x.push({key:"day",input:v(b,{options:N,selectOption:T},void 0,a.createElement(u.default,{ref:k,className:d.default.inputDay,"aria-label":f.default.Messages.AGE_GATE_DOB_DAY,menuPlacement:u.default.MenuPlacements.TOP,placeholder:v("span",{"aria-hidden":!0},void 0,f.default.Messages.AGE_GATE_DOB_DAY),options:N,value:O,onChange:function(t){var r=t.value;T(r);R(e+1)},maxMenuHeight:215}))});break;case"month":x.push({
key:"month",input:v(b,{options:_,selectOption:g},void 0,a.createElement(u.default,{ref:G,className:d.default.inputMonth,"aria-label":f.default.Messages.AGE_GATE_DOB_MONTH,menuPlacement:u.default.MenuPlacements.TOP,placeholder:v("span",{"aria-hidden":!0},void 0,f.default.Messages.AGE_GATE_DOB_MONTH),options:_,value:A,onChange:function(t){var r=t.value;g(r);R(e+1)},maxMenuHeight:215}))});break;case"year":x.push({key:"year",input:v(b,{options:w,selectOption:I},void 0,a.createElement(u.default,{ref:F,className:d.default.inputYear,"aria-label":f.default.Messages.AGE_GATE_DOB_YEAR,menuPlacement:u.default.MenuPlacements.TOP,placeholder:v("span",{"aria-hidden":!0},void 0,f.default.Messages.AGE_GATE_DOB_YEAR),options:w,value:M,onChange:function(t){var r=t.value;I(r);R(e+1)},maxMenuHeight:215}))})}},H=0;H<3;H++)B(H);return v("div",{className:(0,l.default)(d.default.container,n)},void 0,v(s.FormTitle,{tag:s.FormTitle.Tags.H5},void 0,f.default.Messages.AGE_GATE_DATE_OF_BIRTH),v("div",{
className:d.default.inputs},void 0,x.map((function(e,t){var r=e.key,n=e.input;return v("div",{tabIndex:t+1,className:d.default[r]},r,n)}))),v(i.Text,{className:d.default.errors,variant:"text-sm/normal"},void 0,U))}));t.default=O},132699:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){a.default.track(l.AnalyticEvents.AGE_GATE_SUBMITTED,{dob:(0,n.default)().diff(e,"years")<18?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})};var n=o(r(730381)),a=o(r(308920)),l=r(770348);function o(e){return e&&e.__esModule?e:{default:e}}},194040:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var n,a=b(r(667294)),l=_(r(441143)),o=r(536211),u=b(r(921052)),i=_(r(732741)),s=_(r(728429)),f=_(r(956117)),d=r(772575),c=r(645758),p=_(r(594050)),v=_(r(355232)),m=_(r(550270)),y=r(770348),E=_(r(247001)),N=_(r(128905));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e;r&&r.set(e,n);return n}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),i=0;i<o;i++)u[i]=arguments[i+3];t.children=u}if(t&&l)for(var s in l)void 0===t[s]&&(t[s]=l[s]);else t||(t=l||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}
function O(e,t,r,n,a,l,o){try{var u=e[l](o),i=u.value}catch(e){r(e);return}u.done?t(i):Promise.resolve(i).then(n,a)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var l=e.apply(t,r);function o(e){O(l,n,a,o,u,"next",e)}function u(e){O(l,n,a,o,u,"throw",e)}o(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done);o=!0){l.push(n.value);if(t&&l.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e)
;if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e){var t=e.onComplete,r=e.onClose,n=A(a.useState(null),2),_=n[0],h=n[1],b=A(a.useState(null),2),O=b[0],g=b[1],M=A(a.useState(!1),2),I=M[0],C=M[1],U=(0,o.useStateFromStores)([s.default],(function(){return s.default.getCurrentUser()})),w=a.createRef();a.useEffect((function(){null!=U&&null!=U.nsfwAllowed&&t()}),[U,t]);function P(){return(P=T(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();(0,l.default)(null!=_,"Cannot submit null birthday.");C(!0);e.prev=3;e.next=6;return u.submitDateOfBirth(_,"NUF");case 6:t()
;e.next=12;break;case 9:e.prev=9;e.t0=e.catch(3);if(null!=e.t0.body&&null!=e.t0.body.date_of_birth){u.preventUnderageRegistration();u.logoutUnderageNewUser();r()}else null!=(null===e.t0||void 0===e.t0||null===(a=e.t0.body)||void 0===a?void 0:a.username)?g(E.default.Messages.USER_SETTINGS_UPDATE_FAILURE):g(null===e.t0||void 0===e.t0?void 0:e.t0.body.message);case 12:C(!1);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var D=a.useCallback((function(e){h(e)}),[h]),R=a.useCallback((function(){var e;null===(e=w.current)||void 0===e||e.focus()}),[w]);return null==U?null:S("form",{className:N.default.content,onSubmit:function(e){return P.apply(this,arguments)}},void 0,S(v.default,{width:56,height:40,className:N.default.logo,color:y.Colors.BRAND}),S(d.Heading,{className:N.default.title,variant:"heading-xl/medium",level:3},void 0,E.default.Messages.NUF_JOIN_SERVER_TITLE_2),S(c.Text,{color:"text-normal",className:N.default.description,variant:"text-md/normal"
},void 0,E.default.Messages.NUF_AGE_GATE_BODY.format({helpURL:m.default.getArticleURL(y.HelpdeskArticles.AGE_GATE)})),S(p.default.Provider,{value:y.ThemeTypes.LIGHT},void 0,S(i.default,{required:!0,autoFocus:!0,wrapperClassName:N.default.formItem,label:E.default.Messages.AGE_GATE_YOUR_BIRTHDAY,name:"birthday",onChange:D,onPopulated:R,error:O,value:_})),S("div",{className:N.default.footer},void 0,S("div",{className:N.default.buttonWrapper},void 0,S(f.default,{buttonRef:w,type:"submit",size:f.default.Sizes.LARGE,submitting:I,disabled:null==_,fullWidth:!0},void 0,E.default.Messages.NEXT))))}M.displayName="AgeGate"},241210:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e;r&&r.set(e,n)}(r(667294));var n,a=f(r(294184)),l=f(r(956117)),o=f(r(16941)),u=f(r(114655)),i=f(r(247001)),s=f(r(464057));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function c(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),i=0;i<o;i++)u[i]=arguments[i+3];t.children=u}if(t&&l)for(var s in l)void 0===t[s]&&(t[s]=l[s]);else t||(t=l||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(e){var t=e.onComplete;return c(o.default,{
className:s.default.container,onClick:t},void 0,c(u.default,{size:u.default.Sizes.SIZE_24,className:s.default.title},void 0,i.default.Messages.NUF_COMPLETE_TITLE),c(u.default,{size:u.default.Sizes.SIZE_24,className:(0,a.default)(s.default.title,s.default.subtitle)},void 0,i.default.Messages.NUF_COMPLETE_SUBTITLE),c(l.default,{color:l.default.Colors.WHITE,onClick:t},void 0,i.default.Messages.NUF_COMPLETE_CTA))}p.displayName="Complete"},79100:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,r=e.onBack,n=e.onComplete,b=e.onConnect,S=e.isSlideReady,A=(0,p.useUID)(),M=T(a.useState(""),2),I=M[0],C=M[1],U=T(a.useState(!1),2),w=U[0],P=U[1],D=T(a.useState(null),2),R=D[0],k=D[1],G=a.useRef(null);a.useEffect((function(){var e;S&&(null===(e=G.current)||void 0===e||e.focus())}),[S]);var F=a.useCallback((function(e){e.preventDefault();var t=I.trim();if(""!==t){k(null);P(!0);var r=t.split("/"),a=r[r.length-1];o.default.resolveInvite(a,"Join Guild",{inputValue:t
}).then((function(e){var t=e.invite;P(!1);if(null!=t){if(null!=t.channel){var r=o.default.getInviteContext("Join Guild",t);o.default.acceptInvite(t.code,r,(function(e){n();o.default.transitionToInvite(e)})).catch((function(e){if(e instanceof i.V6OrEarlierAPIError){var t=(0,E.getInviteError)(e.code);k(t)}else k(_.default.Messages.INVITE_MODAL_ERROR_DEFAULT)}))}}else k(_.default.Messages.INSTANT_INVITE_EXPIRED)}),(function(e){P(!1);var t=new i.V6OrEarlierAPIError(e),r=(0,E.getInviteError)(t.code);k(r)}))}else k(_.default.Messages.INVALID_INVITE_LINK_ERROR)}),[I,P,k,n]),L=a.createElement(a.Fragment,null,O(y.ModalHeader,{className:h.default.header,direction:f.default.Direction.VERTICAL,separator:!1,id:A},void 0,O(m.default,{className:h.default.title,size:m.default.Sizes.SIZE_24,color:m.default.Colors.HEADER_PRIMARY},void 0,_.default.Messages.JOIN_SERVER_TITLE),O(d.Text,{variant:"text-md/normal",color:"header-secondary"
},void 0,_.default.Messages.JOIN_SERVER_DESCRIPTION_NUF)),O(y.ModalContent,{},void 0,O("form",{onSubmit:F,className:h.default.inputForm},void 0,O(v.FormItem,{title:_.default.Messages.FORM_LABEL_INVITE_LINK,error:R,titleClassName:(0,l.default)(h.default.formTitle,(t={},t[h.default.error]=null!=R,t))},void 0,O(c.default,{value:I,onChange:C,className:h.default.input,inputClassName:h.default.inputInner,inputRef:G}))),O(d.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,_.default.Messages.JOIN_SERVER_EXAMPLES.format({examples:g+"cool-people, hTKzmak"})),O(d.Text,{variant:"text-xs/normal",color:"header-secondary",className:h.default.connectCTA},void 0,_.default.Messages.JOIN_GUILD_CONNECT.format({onClick:function(){b();u.default.open(N.UserSettingsSections.CONNECTIONS)}})))),j=a.createElement(a.Fragment,null,O(s.default,{color:s.default.Colors.BRAND,onClick:F,disabled:0===I.length,submitting:w},void 0,_.default.Messages.JOIN),O(s.default,{className:h.default.skipButton,
look:s.default.Looks.BLANK,size:s.default.Sizes.MIN,onClick:r},void 0,_.default.Messages.BACK));return{content:L,footer:j}};var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e;r&&r.set(e,n);return n}(r(667294)),l=b(r(294184)),o=b(r(23170)),u=b(r(226800)),i=r(327269),s=b(r(956117)),f=b(r(530250)),d=r(645758),c=b(r(279950)),p=r(354479),v=r(688388),m=b(r(114655)),y=r(3400),E=r(813079),N=r(770348),_=b(r(247001)),h=b(r(345719));function b(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}
function O(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),i=0;i<o;i++)u[i]=arguments[i+3];t.children=u}if(t&&l)for(var s in l)void 0===t[s]&&(t[s]=l[s]);else t||(t=l||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done);o=!0){l.push(n.value);if(t&&l.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name)
;if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(){var e=window.GLOBAL_ENV.INVITE_HOST,t="";if(null==e){e=location.host;t=N.Routes.INVITE("")}return location.protocol+"//"+e+t+"/"}()},91948:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=x;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){
var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e;r&&r.set(e,n);return n}(r(667294)),l=R(r(294184)),o=r(47354),u=r(536211),i=r(971517),s=r(805146),f=r(655251),d=R(r(574942)),c=R(r(728429)),p=R(r(151097)),v=R(r(530250)),m=r(477537),y=r(645758),E=r(354479),N=R(r(170823)),_=r(3400),h=R(r(308920)),b=r(518802),S=R(r(322033)),O=R(r(194040)),T=R(r(241210)),A=R(r(79100)),g=R(r(458401)),M=r(754949),I=r(763840),C=r(770348),U=r(124874),w=R(r(247001)),P=R(r(242943)),D=["onSlideChange"];function R(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return G.apply(this,arguments)}function F(e,t,r,a){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),i=0;i<o;i++)u[i]=arguments[i+3];t.children=u}if(t&&l)for(var s in l)void 0===t[s]&&(t[s]=l[s]);else t||(t=l||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done);o=!0){l.push(n.value);if(t&&l.length===t)break}}catch(e){u=!0;a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name)
;if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t=(0,E.useUID)(),r=e.onSlideChange,n=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++){r=l[n];t.indexOf(r)>=0||(a[r]=e[r])}return a}(e,D),R=n.onClose,k=L(a.useState(!1),2),j=k[0],x=k[1],B=(0,u.useStateFromStores)([c.default],(function(){return c.default.getCurrentUser()})),H=null!=B&&null==B.nsfwAllowed,Y=L(a.useState(H?I.NUFSlides.AGE_GATE:I.NUFSlides.CHOOSE_TEMPLATE),2),W=Y[0],V=Y[1],z=L(a.useState(null),2),J=z[0],$=z[1];a.useEffect((function(){r(j?I.NUFSlides.COMPLETE:W)}),[r,W,j])
;var Z,K=L(a.useState(null),2),X=K[0],q=K[1],Q=L(a.useState(null),2),ee=Q[0],te=Q[1],re=L(a.useState(!1),2),ne=re[0],ae=re[1],le=(0,u.useStateFromStores)([S.default],(function(){return S.default.getType()===M.NewUserTypes.INVITE_UNCLAIMED})),oe=a.useCallback((function(e){te(e);V(I.NUFSlides.CREATION_INTENT);h.default.track(C.AnalyticEvents.GUILD_TEMPLATE_SELECTED,{template_name:e.label,template_code:e.code})}),[te,V]),ue=(0,s.useCreationIntentSlide)({hasFooter:!1,onBack:function(){te(null);V(I.NUFSlides.CHOOSE_TEMPLATE)},onCreationIntentChosen:function(e){ae(e);V(I.NUFSlides.CUSTOMIZE_GUILD)}}),ie=ue.content,se=ue.footer,fe=(0,f.useCustomizeGuildSlide)({guildTemplate:ee,titleClassName:P.default.customizeGuildTitle,hasFooter:!1,onGuildCreated:function(e){q(e);(null==ee?void 0:ee.id)===U.GuildTemplateId.CREATE?V(I.NUFSlides.CHANNEL_PROMPT):x(!0)},onBack:function(){V(I.NUFSlides.CREATION_INTENT)},isSlideReady:J===I.NUFSlides.CUSTOMIZE_GUILD,isCommunity:ne
}),de=fe.content,ce=fe.footer,pe=(0,i.useChannelPromptSlide)({createdGuildId:X,hasFooter:!1,onChannelPromptCompleted:function(){x(!0)},isSlideReady:J===I.NUFSlides.CHANNEL_PROMPT}),ve=pe.content,me=pe.footer,ye=(0,A.default)({onBack:function(){return V(I.NUFSlides.CHOOSE_TEMPLATE)},onComplete:function(){R()},onConnect:R,isSlideReady:J===I.NUFSlides.JOIN_GUILD}),Ee=ye.content,Ne=ye.footer;switch(W){case I.NUFSlides.CUSTOMIZE_GUILD:Z=ce;break;case I.NUFSlides.CHANNEL_PROMPT:Z=me;break;case I.NUFSlides.JOIN_GUILD:Z=Ne;break;case I.NUFSlides.CREATION_INTENT:Z=se}var _e=a.useRef(null),he=(0,N.default)(_e,!0,[W]);if(j)return a.createElement(_.ModalRoot,G({},n,{size:_.ModalSize.MEDIUM,className:(0,l.default)(P.default.modal,P.default.completed),"aria-labelledby":t}),F(T.default,{onComplete:R}));var be={impression_group:o.ImpressionGroups.GUILD_ADD_NUF};return a.createElement(_.ModalRoot,G({},n,{size:_.ModalSize.MEDIUM,className:P.default.modal,"aria-labelledby":t}),F("div",{
className:P.default.sidebar},void 0,F(g.default,{step:W})),a.createElement("div",{className:(0,l.default)(P.default.content,(0,b.getThemeClass)(C.ThemeTypes.LIGHT)),ref:_e},F("div",{className:P.default.slidesContainer},void 0,F(m.Slides,{activeSlide:W,onSlideReady:function(e){return $(e)},centered:!1,width:null==he?void 0:he.width},void 0,F(m.Slide,{id:I.NUFSlides.AGE_GATE},void 0,F("div",{className:P.default.container},void 0,F(O.default,{onComplete:function(){le?R():V(I.NUFSlides.CHOOSE_TEMPLATE)},onClose:R}))),F(m.Slide,{id:I.NUFSlides.CHOOSE_TEMPLATE,impressionName:o.ImpressionNames.GUILD_ADD_LANDING,impressionProperties:be},void 0,F("div",{className:(0,l.default)(P.default.container,P.default.shortFooter)},void 0,F(d.default,{className:P.default.templates,onChooseTemplate:oe,isNewUser:!0}))),F(m.Slide,{id:I.NUFSlides.CREATION_INTENT,impressionName:o.ImpressionNames.GUILD_ADD_INTENT_SELECTION,impressionProperties:be},void 0,F("div",{className:(0,
l.default)(P.default.container,P.default.standardFooter)},void 0,ie)),F(m.Slide,{id:I.NUFSlides.CUSTOMIZE_GUILD,impressionName:o.ImpressionNames.GUILD_ADD_CUSTOMIZE,impressionProperties:be},void 0,F("div",{className:(0,l.default)(P.default.container,P.default.standardFooter)},void 0,de)),F(m.Slide,{id:I.NUFSlides.CHANNEL_PROMPT,impressionName:o.ImpressionNames.GUILD_ADD_CHANNEL_PROMPT,impressionProperties:be},void 0,F("div",{className:(0,l.default)(P.default.container,P.default.standardFooter)},void 0,ve)),F(m.Slide,{id:I.NUFSlides.JOIN_GUILD,impressionName:o.ImpressionNames.GUILD_ADD_JOIN,impressionProperties:be},void 0,F("div",{className:(0,l.default)(P.default.container,P.default.standardFooter)},void 0,Ee)))),W!==I.NUFSlides.AGE_GATE?F(_.ModalCloseButton,{onClick:R,className:P.default.closeButton}):null,W===I.NUFSlides.CHOOSE_TEMPLATE?F(_.ModalFooter,{justify:v.default.Justify.BETWEEN,className:(0,l.default)(P.default.footer,P.default.join)},void 0,F(p.default,{
className:P.default.joinCTA,onClick:function(){V(I.NUFSlides.JOIN_GUILD)}},void 0,F(y.Text,{variant:"text-sm/normal",className:P.default.joinCTA},void 0,w.default.Messages.NUF_HAVE_AN_INVITE_ALREADY," ",w.default.Messages.JOIN_SERVER_BUTTON_CTA))):null,null!=Z?F(_.ModalFooter,{justify:v.default.Justify.BETWEEN,className:P.default.footer},void 0,Z):null))}x.displayName="NUFModal"},458401:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}n.default=e;r&&r.set(e,n)}(r(667294));var n,a=u(r(294184)),l=r(763840),o=u(r(304516));function u(e){return e&&e.__esModule?e:{
default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var u=new Array(o),i=0;i<o;i++)u[i]=arguments[i+3];t.children=u}if(t&&l)for(var s in l)void 0===t[s]&&(t[s]=l[s]);else t||(t=l||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function f(e){var t,r,n,u,i,f,d,c,p,v,m,y=e.step,E=y===l.NUFSlides.AGE_GATE,N=y===l.NUFSlides.CHOOSE_TEMPLATE||y===l.NUFSlides.CREATION_INTENT,_=y===l.NUFSlides.CUSTOMIZE_GUILD,h=y===l.NUFSlides.CHANNEL_PROMPT||y===l.NUFSlides.JOIN_GUILD,b=_||h,S=N||b;return s("div",{className:o.default.sidebar},void 0,s("div",{className:(0,a.default)(o.default.step1,(t={},t[o.default.show]=E,t))}),s("div",{className:(0,
a.default)(o.default.step24Clouds,(r={},r[o.default.show]=S,r))}),s("div",{className:(0,a.default)(o.default.step34Flag,(n={},n[o.default.show]=b,n))}),s("div",{className:(0,a.default)(o.default.step24Base,(u={},u[o.default.show]=S,u))}),s("div",{className:(0,a.default)(o.default.step24Ground,(i={},i[o.default.show]=S,i))}),s("div",{className:(0,a.default)(o.default.step2Base,(f={},f[o.default.show]=N,f))}),s("div",{className:(0,a.default)(o.default.step2Character,(d={},d[o.default.show]=N,d))}),s("div",{className:(0,a.default)(o.default.step34Base,(c={},c[o.default.show]=b,c))}),s("div",{className:(0,a.default)(o.default.step3Character,(p={},p[o.default.show]=_,p))}),s("div",{className:(0,a.default)(o.default.step4Character,(v={},v[o.default.show]=h,v))}),s("div",{className:(0,a.default)(o.default.step24Foreground,(m={},m[o.default.show]=S,m))}))}f.displayName="SidebarArt"}}]);
//# sourceMappingURL=3ca4ec8f1b055c4e4c09.js.map