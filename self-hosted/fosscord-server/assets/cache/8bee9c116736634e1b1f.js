"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[52161],{609510:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}r.default=e;n&&n.set(e,r);return r}(n(667294)),u=n(536211),o=_(n(968494)),i=_(n(786345)),l=_(n(179401)),f=n(145122),s=_(n(979674)),d=_(n(423046)),c=_(n(689389)),p=n(194322),y=n(770348),v=n(474477),h=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function g(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&u)for(var f in u)void 0===t[f]&&(t[f]=u[f]);else t||(t=u||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function m(e,t,n,r,a,u,o){try{var i=e[u](o),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var u=e.apply(t,n);function o(e){m(u,r,a,o,i,"next",e)}function i(e){m(u,r,a,o,i,"throw",e)}o(void 0)}))}}function E(e){var t=e.isForumPost(),r=(0,
u.useStateFromStores)([d.default],(function(){return e.isOwner(d.default.getId())}),[e]),_=(0,u.useStateFromStoresObject)([c.default],(function(){return{canAccessChannel:c.default.can(e.accessPermissions,e),canManageChannel:c.default.can(e.isThread()?y.Permissions.MANAGE_THREADS:y.Permissions.MANAGE_CHANNELS,e)}}),[e]),O=_.canManageChannel,m=_.canAccessChannel,E=(0,u.useStateFromStores)([s.default],(function(){var t;return null!==(t=s.default.getCount(e.id))&&void 0!==t?t:0}),[e.id]),P=(0,u.useStateFromStores)([l.default],(function(){return l.default.getMessage(e.id)}),[e.id]).firstMessage,S=t&&(O||r&&E<1),w=t&&r&&!O&&E>0&&null!=P;if(!m)return null;if(!O&&!S&&!w)return null;return g(f.MenuItem,{id:"delete-channel",label:e.type===y.ChannelTypes.GUILD_CATEGORY?h.default.Messages.DELETE_CATEGORY:e.isForumPost()?S?h.default.Messages.DELETE_FORUM_POST:h.default.Messages.DELETE_MESSAGE:e.isThread()?h.default.Messages.DELETE_THREAD:h.default.Messages.DELETE_CHANNEL,
color:v.MenuItemColor.DANGER,action:function(){return(0,p.openModalLazy)(b(regeneratorRuntime.mark((function t(){var r,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(87466)]).then(n.bind(n,59337));case 2:r=t.sent;u=r.default;return t.abrupt("return",(function(t){return a.createElement(u,M({},t,{onConfirm:function(){t.onClose();w?i.default.deleteMessage(e.id,e.id):o.default.deleteChannel(e.id)},channel:e}))}));case 5:case"end":return t.stop()}}),t)}))))}})}E.displayName="useChannelDeleteItem"},464635:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){
var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),u=n(508510),o=n(145122),i=y(n(782270)),l=y(n(730451)),f=n(567186),s=y(n(140868)),d=y(n(191391)),c=n(770348),p=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&u)for(var f in u)void 0===t[f]&&(t[f]=u[f]);else t||(t=u||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=function(e){return(0,
a.useStateFromStores)([d.default,s.default,i.default,l.default],(function(){if(e.type===c.ChannelTypes.GUILD_CATEGORY){var t=s.default.getCategories(e.getGuildId());if(null==t[e.id])return!1;if(t[e.id].some((function(e){var t=e.channel;return(0,f.isReadableType)(t.type)&&d.default.hasUnread(t.id)})))return!0;var n=new Set(t[e.id].map((function(e){return e.channel.id}))),r=i.default.getThreadsForGuild(e.guild_id);for(var a in r)if(n.has(a))for(var u in r[a])if(l.default.hasJoined(u)&&!l.default.isMuted(u)&&d.default.hasUnread(u))return!0;return!1}return d.default.hasUnread(e.id)}),[e])}(e);return h(o.MenuItem,{id:"mark-channel-read",label:p.default.Messages.MARK_AS_READ,action:function(){(0,u.ackChannel)(e)},disabled:!t})}_.displayName="useChannelMarkAsReadItem"},371807:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,l.useOptInEnabledForGuild)(e.guild_id),n=(0,u.useStateFromStores)([f.default],(function(){
return f.default.isChannelOptedIn(e.guild_id,e.id)})),r=(0,u.useStateFromStores)([f.default],(function(){return null!=e.parent_id&&f.default.isChannelOptedIn(e.guild_id,e.parent_id)})),c=(0,u.useStateFromStores)([f.default],(function(){return f.default.isFavorite(e.guild_id,e.id)})),p=function(){(0,i.setOptInChannel)(e.guild_id,e.id,!n,{section:s.AnalyticsSections.CONTEXT_MENU})};if(!t||e.isThread())return null;if(e.isCategory())return y(o.MenuItem,{id:"opt-into-category",label:n?d.default.Messages.CHANNEL_OPT_OUT:d.default.Messages.CHANNEL_OPT_IN,action:function(){return p()}});return a.createElement(a.Fragment,null,y(o.MenuItem,r?{id:"opt-out-category",label:d.default.Messages.CHANNEL_OPT_OUT_PARENT_CATEGORY,action:function(){null!=e.parent_id&&(0,i.setOptInChannel)(e.guild_id,e.parent_id,!1,{section:s.AnalyticsSections.CONTEXT_MENU})}}:{id:"opt-into-channel",label:n?d.default.Messages.CHANNEL_OPT_OUT:d.default.Messages.CHANNEL_OPT_IN,action:function(){return p()}}),y(o.MenuItem,{
id:"opt-in-favorite-channel",label:c?d.default.Messages.REMOVE_FAVORITE:d.default.Messages.ADD_FAVORITE,action:function(){(0,i.setIsFavorite)(e.guild_id,e.id,!c,{section:s.AnalyticsSections.CONTEXT_MENU})}}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}r.default=e;n&&n.set(e,r);return r}(n(667294)),u=n(536211),o=n(145122),i=n(951255),l=n(631888),f=c(n(563621)),s=n(770348),d=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&u)for(var f in u)void 0===t[f]&&(t[f]=u[f]);else t||(t=u||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},130400:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([u.default],(function(){return u.default.getGuildId()}))===o.FAVORITES};var r,a=n(536211),u=(r=n(790597))&&r.__esModule?r:{default:r},o=n(770348)},767202:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}r.default=e;n&&n.set(e,r);return r}(n(667294)),u=n(536211),o=n(145122),i=d(n(790597)),l=n(194322),f=n(770348),s=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var u=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&u)for(var f in u)void 0===t[f]&&(t[f]=u[f]);else t||(t=u||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function v(e,t,n,r,a,u,o){try{var i=e[u](o),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var u=e.apply(t,n);function o(e){v(u,r,a,o,i,"next",e)}function i(e){v(u,r,a,o,i,"throw",e)}o(void 0)}))}}function _(e){var t=(0,u.useStateFromStores)([i.default],(function(){return i.default.getGuildId()}));if(__OVERLAY__||t!==f.FAVORITES)return null;return p(o.MenuItem,{id:"set-channel-nickname",label:s.default.Messages.CHANGE_NICKNAME,action:function(){(0,l.openModalLazy)(h(regeneratorRuntime.mark((function t(){var r,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return Promise.all([n.e(40532),n.e(35666),n.e(81747),n.e(39217),n.e(10961),n.e(24917),n.e(4562),n.e(94322),n.e(23046),n.e(21543),n.e(54538),n.e(85687)]).then(n.bind(n,360814));case 2:r=t.sent;u=r.default;return t.abrupt("return",(function(t){return a.createElement(u,y({},t,{channelId:e.id}))}));case 5:case"end":return t.stop()}}),t)}))))}})}_.displayName="useChannelFavoriteSetNickname"}}]);
//# sourceMappingURL=8bee9c116736634e1b1f.js.map