(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[75527],{680155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getGuildFeatureFromUploadType=function(e,t){var r=t.isGIF;if(e===n.UploadTypes.GUILD_BANNER)return r?a.GuildFeatures.ANIMATED_BANNER:a.GuildFeatures.BANNER};t.shouldShowPremiumIconForGIFPickerOption=function(e){return e===n.UploadTypes.AVATAR||e===n.UploadTypes.BANNER||e===n.UploadTypes.BANNER_V2};var a=r(770348),n=r(173708)},75527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=q;var a,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}
a.default=e;r&&r.set(e,a);return a}(r(667294)),o=r(536211),l=r(836233),i=G(r(954140)),u=G(r(37039)),d=G(r(872134)),s=G(r(32735)),f=G(r(491981)),c=G(r(30098)),p=G(r(790597)),v=G(r(728429)),y=G(r(949898)),m=G(r(16941)),g=r(496394),b=r(645758),h=r(730977),O=r(354479),_=r(688388),M=G(r(557607)),T=G(r(908306)),A=G(r(41024)),I=r(3400),N=r(194322),C=r(499458),x=G(r(308920)),E=G(r(838583)),S=r(680155),P=G(r(941830)),L=r(770348),w=r(173708),F=r(683749),U=G(r(247001)),k=G(r(7738));function G(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return j.apply(this,arguments)}function D(e,t,r,a,n,o,l){try{var i=e[o](l),u=i.value}catch(e){r(e);return}i.done?t(u):Promise.resolve(u).then(a,n)}function B(e){
return function(){var t=this,r=arguments;return new Promise((function(a,n){var o=e.apply(t,r);function l(e){D(o,a,n,l,i,"next",e)}function i(e){D(o,a,n,l,i,"throw",e)}l(void 0)}))}}function W(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=n;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(a=r.next()).done);l=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){i=!0;n=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var V=[{gif:r(165358),png:r(867237)},{gif:r(134928),png:r(49192)},{gif:r(510101),png:r(871861)},{gif:r(530396),png:r(293408)}];function $(e){var t=e.shouldAnimate,r=void 0===t||t,a=H(n.useState(!1),2),o=a[0],l=a[1];return W("div",{className:k.default.gifGrid,onMouseMove:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},void 0,V.map((function(e){return W("div",{className:k.default.gif,
style:{backgroundImage:"url("+(r||o?e.gif:e.png)+")"}},e.gif)})))}$.displayName="GIFGrid";function Z(e){var t=e.guildFeature,r=e.guild;return null==t||null==r?null:W("div",{className:k.default.pillWrapper},void 0,W(d.default,{guildFeature:t,guild:r,hideTooltip:!0}))}Z.displayName="GuildBoostingAvailabilityIndicator";function K(e){var t=e.showPremiumUpsell,r=e.uploadType,a=e.guild;return!f.default.useExperiment({},{autoTrackExposure:t}).enabled&&t?W("div",{className:k.default.optionBoxText},void 0,W("div",{className:k.default.optionBoxDescription},void 0,W(h.TooltipContainer,{className:k.default.nitroWheelFlairContainer,text:U.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,W(A.default,{className:k.default.nitroWheel,color:g.GradientCssUrls.PREMIUM_TIER_2})),U.default.Messages.SELECT_IMAGE_TRY_ANIMATED_AVATAR)):W("div",{className:k.default.optionBoxText},void 0,W(Z,{guild:a,guildFeature:(0,S.getGuildFeatureFromUploadType)(r,{isGIF:!0})}),W("div",{
className:k.default.optionBoxDescription},void 0,(0,S.shouldShowPremiumIconForGIFPickerOption)(r)&&W(h.TooltipContainer,{className:k.default.nitroWheelFlairContainer,text:U.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,W(A.default,{className:k.default.nitroWheelFlair})),U.default.Messages.SELECT_IMAGE_MODAL_CHOOSE_GIF))}K.displayName="GIFPickerOptionDescription";function Y(e){var t=e.title,r=e.uploadType,a=e.guild;return W("div",{className:k.default.optionBoxText},void 0,W(Z,{guildFeature:(0,S.getGuildFeatureFromUploadType)(r,{isGIF:!1}),guild:a}),W("div",{className:k.default.optionBoxDescription},void 0,t))}Y.displayName="UploadOptionDescription";function q(e){
var t=e.transitionState,a=e.onClose,d=e.onComplete,f=e.uploadType,g=e.maxFileSizeBytes,h=e.showUpsellHeader,A=e.filters,S=e.analyticsLocation,G=e.analyticsLocations,R=void 0===G?[]:G,D=e.modalSubTitle,H=e.modalTitle,z=void 0===H?U.default.Messages.SELECT_IMAGE_MODAL_TITLE:H,V=e.uploadOptionTitle,Z=void 0===V?U.default.Messages.UPLOAD_IMAGE:V,q=(0,o.useStateFromStores)([y.default],(function(){return y.default.isFocused()})),J=(0,o.useStateFromStores)([v.default],(function(){return v.default.getCurrentUser()})),Q=(0,o.useStateFromStores)([p.default],(function(){return p.default.getGuildId()})),X=(0,o.useStateFromStores)([c.default],(function(){return c.default.getGuild(Q)})),ee=n.useContext(l.AccessibilityPreferencesContext).reducedMotion,te=(0,C.useModalContext)(),re=(0,O.useUID)(),ae=!E.default.canUploadAnimatedAvatar(J)&&f===w.UploadTypes.AVATAR,ne=(0,u.default)(R,i.default.SELECT_IMAGE_MODAL).analyticsLocations;n.useEffect((function(){
ae&&x.default.track(L.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:L.AnalyticsSections.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location_stack:ne});x.default.track(L.AnalyticEvents.OPEN_MODAL,{type:L.AnalyticsSections.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location:S})}),[ae,S,ne]);function oe(e,t,r){void 0===r&&(r=!1);a();d(e,t,r)}return W(I.ModalRoot,{transitionState:t,size:I.ModalSize.SMALL,"aria-labelledby":re},void 0,W(I.ModalHeader,{className:k.default.modalHeader,id:re,separator:!1},void 0,W("div",{},void 0,W(_.FormTitle,{tag:_.FormTitleTags.H1,className:k.default.modalTitle},void 0,z),null!=D?W(b.Text,{variant:"text-md/normal"},void 0,D):null),W(I.ModalCloseButton,{onClick:a,className:k.default.modalCloseButton})),W(I.ModalContent,{className:k.default.modalContent},void 0,W(m.default,{className:k.default.optionBox},void 0,W("div",{className:k.default.contentCircle},void 0,W(T.default,{className:k.default.uploadIcon})),W(b.Text,{variant:"text-sm/semibold",color:"interactive-normal"},void 0,W(Y,{
title:Z,uploadType:f,guild:X})),W(s.default,{onChange:function(e,t){if(t.type===F.FileTypes.MP4)return oe(e,t);(0,N.openModalLazy)(B(regeneratorRuntime.mark((function a(){var o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.all([r.e(40532),r.e(70322),r.e(18777),r.e(65984),r.e(75639),r.e(10170),r.e(91677)]).then(r.bind(r,810170));case 2:o=a.sent;l=o.default;return a.abrupt("return",(function(r){return n.createElement(l,j({imgURI:e,file:t,onCrop:oe,uploadType:f,showUpsellHeader:h,allowSkip:!0,analyticsPage:null==S?void 0:S.page},r))}));case 5:case"end":return a.stop()}}),a)}))),{contextKey:te})},maxFileSizeBytes:g,onFileSizeError:function(){a();(0,P.default)(g)},filters:A})),W(m.default,{className:k.default.optionBox,onClick:function(){(0,N.openModalLazy)(B(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([r.e(40532),r.e(70322),r.e(65984),r.e(75639),r.e(12715),r.e(90067),r.e(71256)]).then(r.bind(r,788566));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return n.createElement(a,j({uploadType:f,onComplete:function(e,t){return oe(e,t,!0)},showUpsellHeader:h,analyticsPage:null==S?void 0:S.page},e))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:te})}},void 0,W("div",{className:k.default.contentCircle},void 0,W($,{shouldAnimate:q&&!ee.enabled}),W("div",{className:k.default.gifIconContainer},void 0,W(M.default,{className:k.default.gifIcon}))),W(b.Text,{variant:"text-sm/semibold",color:"interactive-normal"},void 0,W(K,{showPremiumUpsell:ae,uploadType:f,guild:X})))))}q.displayName="SelectImageModal"},491981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a;var n=(0,((a=r(822350))&&a.__esModule?a:{default:a}).default)({id:"2022-08_consistent_avatar_upload_upsell",
label:"Consistent Avatar Upload Upsell",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Show the user the updated avatar upload upsell",config:{enabled:!0}}]});t.default=n},557607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var a,n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e;r&&r.set(e,a);return a}(r(667294)),l=(a=r(468205))&&a.__esModule?a:{default:a},i=["width","height","color","backgroundColor"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function d(){
d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return d.apply(this,arguments)}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function f(e){var t=e.width,r=void 0===t?29:t,a=e.height,n=void 0===a?22:a,u=e.color,f=void 0===u?"currentColor":u,c=e.backgroundColor,p=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++){r=o[a];t.indexOf(r)>=0||(n[r]=e[r])}return n}(e,i);return o.createElement("svg",d({},(0,l.default)(p),{width:r,height:n,viewBox:"0 0 29 22"}),s("g",{
fill:"none",fillRule:"evenodd"},void 0,s("rect",{width:r,height:n,fill:c,fillOpacity:".8",rx:"3"}),s("polygon",{fill:f,points:"13.292 6.111 15.708 6.111 15.708 15.889 13.292 15.889"}),s("path",{fill:f,d:"M9.66666667,6.11111111 L4.83333333,6.11111111 C3.96333333,6.11111111 3.625,6.51851852 3.625,7.33333333 L3.625,14.6666667 C3.625,15.4814815 3.96333333,15.8888889 4.83333333,15.8888889 L9.66666667,15.8888889 C10.5366667,15.8888889 10.875,15.4814815 10.875,14.6666667 L10.875,9.77777778 L7.25,9.77777778 L7.25,12.2222222 L8.45833333,12.2222222 L8.45833333,13.4444444 L6.04166667,13.4444444 L6.04166667,8.55555556 L10.875,8.55555556 L10.875,7.33333333 C10.875,6.51851852 10.5366667,6.11111111 9.66666667,6.11111111 Z"}),s("polygon",{fill:f,points:"25.375 8.556 25.375 6.111 18.125 6.111 18.125 15.889 20.542 15.889 20.542 12.222 24.167 12.222 24.167 9.778 20.542 9.778 20.542 8.556"})))}f.displayName="Upload"},165358:(e,t,r)=>{e.exports=r.p+"65921aa740e7c73ace1a74b54b9e6b82.gif"},867237:(e,t,r)=>{
e.exports=r.p+"ba6a1c16f701fd577b4380df260b08ab.png"},530396:(e,t,r)=>{e.exports=r.p+"81f855741b7bdf09d97f8ea644dac150.gif"},293408:(e,t,r)=>{e.exports=r.p+"d9510a492a881fd8e75962b7dc4af7a9.png"},134928:(e,t,r)=>{e.exports=r.p+"897fb794f533bd92e32b8b06676122ba.gif"},49192:(e,t,r)=>{e.exports=r.p+"b80887cce3fcbc37509e7e3b1fed479e.png"},510101:(e,t,r)=>{e.exports=r.p+"8cdb96f2d79587fc380142dd132acf45.gif"},871861:(e,t,r)=>{e.exports=r.p+"e1f1ae8cb72387014f29d0d00ae5687c.png"}}]);
//# sourceMappingURL=4736faea6a62a57e984d.js.map