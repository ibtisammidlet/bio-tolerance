"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[93316],{912861:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});r.default=s;!function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d(r);if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=l?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e;t&&t.set(e,n)}(t(667294));var n,l=i(t(294184)),o=i(t(928105)),a=t(378833),u=i(t(441877));function i(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(d=function(e){return e?t:r})(e)}function f(e,r,t,l){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,a=arguments.length-3;if(r||0===a||(r={children:void 0}),1===a)r.children=l;else if(a>1){for(var u=new Array(a),i=0;i<a;i++)u[i]=arguments[i+3];r.children=u}if(r&&o)for(var d in o)void 0===r[d]&&(r[d]=o[d]);else r||(r=o||{});return{$$typeof:n,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function s(){var e=(0,a.usePaymentContext)(),r=e.step,t=e.breadcrumbs;return null==t?null:f("div",{className:(0,l.default)("breadcrumb",u.default.wrapper)},void 0,f(o.default,{activeId:r,breadcrumbs:t}))}s.displayName="PaymentModalBreadcrumbs"},312852:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});r.PaymentPortalBody=function(e){var r=e.children,t=(0,d.usePaymentContext)().bodyNode;if(null==t)return null;return a.default.createPortal(r,t)};r.PaymentPortalFooter=function(e){var r=e.children,t=(0,d.usePaymentContext)().footerNode;if(null==t)return null;return a.default.createPortal(r,t)};r.default=function(e){var r,t,n,a,c=function(e){
var r=e.header,t=function(e,r){if(null==e)return{};var t,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++){t=o[n];r.indexOf(t)>=0||(l[t]=e[t])}return l}(e,s);return{header:r,stepProps:t}}(e),p=c.header,E=c.stepProps,y=(0,d.usePaymentContext)(),_=y.step,m=y.stepConfigs,P=y.setBodyNode,N=y.setFooterNode,S=m.find((function(e){return e.key===_}));(0,o.default)(null!=S,"Unknown step for current payment flow.");var M=null!==(r=null==S||null===(t=S.options)||void 0===t?void 0:t.hideSlider)&&void 0!==r&&r;return l.createElement(l.Fragment,null,null===(n=null==S||null===(a=S.options)||void 0===a?void 0:a.renderHeader)||void 0===n||n?p:null,S.renderStep(E),null==_||M?null:l.createElement(l.Fragment,null,v(i.ModalContent,{className:f.default.body},void 0,v(u.Slides,{activeSlide:_,centered:!1},void 0,m.filter((function(e){return null!=e.key})).map((function(e){return v(u.Slide,{id:e.key},e.key,l.createElement("form",{className:f.default.sliderBody,ref:function(e){return P(e)},onSubmit:function(e){
return e.preventDefault()}}))})))),l.createElement("div",{ref:function(e){return N(e)}})))};var n,l=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p(r);if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=l?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e;t&&t.set(e,n);return n}(t(667294)),o=c(t(441143)),a=c(t(973935)),u=t(477537),i=t(3400),d=t(378833),f=c(t(384009)),s=["header"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(p=function(e){return e?t:r})(e)}function v(e,r,t,l){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(r||0===a||(r={
children:void 0}),1===a)r.children=l;else if(a>1){for(var u=new Array(a),i=0;i<a;i++)u[i]=arguments[i+3];r.children=u}if(r&&o)for(var d in o)void 0===r[d]&&(r[d]=o[d]);else r||(r=o||{});return{$$typeof:n,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}},693316:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});r.PremiumPaymentStepContent=function(e){var r=e.currentStep,t=e.body,n=e.paymentError,o=e.footer,a=e.isGift,f=void 0!==a&&a,c=e.giftMessage,v=void 0===c?M.default.Messages.PREMIUM_PAYMENT_IS_GIFT:c,E=e.purchaseError,_=e.purchaseErrorBlockRef,b=e.planError,O=e.onScroll,A=e.hasCurrencies,I=void 0!==A&&A,h=null;null!=n&&null==(0,s.errorToStep)(n)?h=n:null!=E?h=E:null!=b&&(h=b);var R=N.MultiCurrencyExperiment.getCurrentConfig({}).enabled,D=null!=h?h.message:"";if(null!=h&&h instanceof i.BillingError){h.code===d.ErrorCodes.CARD_DECLINED&&I&&R&&(D+=" "+M.default.Messages.BILLING_ERROR_TRY_ANOTHER)
;h.code===d.ErrorCodes.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED&&(D=M.default.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT);h.code===S.AbortCodes.BILLING_NON_REFUNDABLE_PAYMENT_SOURCE&&(D=M.default.Messages.GIFT_CODE_PAYMENT_SOURCE_INVALID)}return l.createElement(l.Fragment,null,T(p.PaymentPortalBody,{},void 0,f&&r!==s.Step.CONFIRM?T(u.default,{className:C.default.paymentNote,iconSize:u.default.Sizes.SMALL,icon:m.default,color:null==v?u.default.Colors.PRIMARY:u.default.Colors.SECONDARY},void 0,v):null,g,T("div",{},void 0,null==h?null:T("div",{className:C.default.errorBlockWrapper},void 0,l.createElement(y.default,{ref:_},D)),T(P.AdvancedScrollerThin,{onScroll:O},void 0,t))),T(p.PaymentPortalFooter,{},void 0,o))};r.default=I;var n,l=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=O(r);if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=l?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e;t&&t.set(e,n);return n}(t(667294)),o=t(886664),a=b(t(294184)),u=b(t(363317)),i=t(327269),d=t(400922),f=t(378833),s=t(361673),c=b(t(912861)),p=t(312852),v=b(t(268660)),E=b(t(928105)),y=b(t(682473)),_=b(t(80828)),m=b(t(447522)),P=t(235742),N=t(815992),S=t(770348),M=b(t(247001)),C=b(t(103749));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(O=function(e){return e?t:r})(e)}function T(e,r,t,l){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(r||0===a||(r={children:void 0}),1===a)r.children=l;else if(a>1){for(var u=new Array(a),i=0;i<a;i++)u[i]=arguments[i+3];r.children=u}
if(r&&o)for(var d in o)void 0===r[d]&&(r[d]=o[d]);else r||(r=o||{});return{$$typeof:n,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}var A=new Set([s.Step.SKU_SELECT,s.Step.AWAITING_AUTHENTICATION,s.Step.AWAITING_PURCHASE_TOKEN_AUTH,s.Step.CONFIRM]);function I(e){var r=e.steps,t=e.currentStep,n=e.body,c=e.paymentError,p=e.header,b=e.footer,O=e.isGift,I=void 0!==O&&O,g=e.giftMessage,h=void 0===g?M.default.Messages.PREMIUM_PAYMENT_IS_GIFT:g,R=e.hideBreadcrumbs,D=void 0!==R&&R,L=e.isLoading,k=void 0!==L&&L,w=e.purchaseError,B=e.purchaseErrorBlockRef,j=e.planError,F=e.onScroll,Y=e.scrollerClassName,U=e.hasCurrencies,G=void 0!==U&&U,W=null;null!=c&&null==(0,s.errorToStep)(c)?W=c:null!=w?W=w:null!=j&&(W=j);var x=N.MultiCurrencyExperiment.getCurrentConfig({}).enabled,H=null!=W?W.message:"";if(null!=W&&W instanceof i.BillingError){W.code===d.ErrorCodes.CARD_DECLINED&&G&&x&&(H+=" "+M.default.Messages.BILLING_ERROR_TRY_ANOTHER)
;W.code===d.ErrorCodes.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED&&(H=M.default.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT);W.code===S.AbortCodes.BILLING_NON_REFUNDABLE_PAYMENT_SOURCE&&(H=M.default.Messages.GIFT_CODE_PAYMENT_SOURCE_INVALID)}var $=(0,f.usePaymentContext)().stripe;k=k||null==$;var z=r.includes(s.Step.PAYMENT_TYPE)?s.Step.PAYMENT_TYPE:s.Step.ADD_PAYMENT_STEPS;return T(o.Elements,{options:S.StripeElementsOptions,stripe:$},void 0,p,T("div",{className:(0,a.default)("paymentModalContent",C.default.content)},void 0,I&&t!==s.Step.CONFIRM?T(u.default,{className:C.default.paymentNote,iconSize:u.default.Sizes.SMALL,icon:m.default,color:null==h?u.default.Colors.PRIMARY:u.default.Colors.SECONDARY},void 0,h):null,D?null:T("div",{className:C.default.breadcrumbsWrapper},void 0,T(E.default,{activeId:s.COLLAPSED_PAYMENT_BREADCRUMB_STEPS.has(t)?z:t,breadcrumbs:r.filter((function(e){return!s.COLLAPSED_PAYMENT_BREADCRUMB_STEPS.has(e)&&!A.has(e)})).map((function(e){return{id:e,label:(0,
s.getLabelForStep)(e)}}))})),T("div",{className:C.default.bodyWrapper},void 0,null==W?null:T("div",{className:C.default.errorBlockWrapper},void 0,l.createElement(y.default,{ref:B},H)),k?T(_.default,{className:C.default.loadingBlock}):T(v.default,{className:C.default.sequencer,staticClassName:C.default.sequencerStatic,animatedNodeClassName:C.default.sequencerAnimatedNode,fillParent:!0,step:t,steps:r,sideMargin:20},void 0,T(P.AdvancedScrollerThin,{onScroll:F,className:(0,a.default)(C.default.scroller,Y)},void 0,n)))),b)}I.displayName="PremiumPaymentModalContents";var g=T(c.default,{})}}]);
//# sourceMappingURL=170b6708aa38840d8afd.js.map