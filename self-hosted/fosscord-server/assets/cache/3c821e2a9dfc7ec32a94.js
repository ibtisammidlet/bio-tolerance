"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[41597],{304388:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=r?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(o,n,l):o[n]=e[n]}o.default=e;a&&a.set(e,o);return o}(a(667294)),n=b(a(294184)),l=b(a(939949)),u=a(825185),i=b(a(885986)),s=b(a(956117)),d=b(a(530250)),f=a(772575),c=a(645758),m=b(a(279950)),v=a(354479),p=a(688388),C=a(3400),y=b(a(308920)),A=a(642901),_=a(518802),g=a(770348),M=a(33989),h=b(a(247001)),N=b(a(446646));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function S(e,t,a,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=r;else if(l>1){for(var u=new Array(l),i=0;i<l;i++)u[i]=arguments[i+3];t.children=u}if(t&&n)for(var s in n)void 0===t[s]&&(t[s]=n[s]);else t||(t=n||{});return{$$typeof:o,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function I(e,t,a,o,r,n,l){try{var u=e[n](l),i=u.value}catch(e){a(e);return}u.done?t(i):Promise.resolve(i).then(o,r)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var o,r,n=[],l=!0,u=!1;try{for(a=a.call(e);!(l=(o=a.next()).done);l=!0){n.push(o.value);if(t&&n.length===t)break}}catch(e){u=!0;r=e}finally{try{l||null==a.return||a.return()}finally{if(u)throw r}}
return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function w(e){var t=e.email,a=e.setEmail,o=e.claimRequired,v=e.onSuccess,y=e.onClose,A=T(r.useState(),2),b=A[0],O=A[1],L=T(r.useState(""),2),w=L[0],R=L[1],E=T(r.useState(""),2),P=E[0],k=E[1],U=T(r.useState(!1),2),D=U[0],x=U[1];r.useEffect((function(){return i.default.flowStep(M.FlowType.ANY,M.ClaimAccountSteps.CLAIM_ACCOUNT)}),[]);var B=function(){
var e,a=(e=regeneratorRuntime.mark((function e(a){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault();x(!0);O("");k("");e.prev=4;e.next=7;return(0,u.saveAccountRequest)({email:t,password:w});case 7:x(!1);v();e.next=16;break;case 11:e.prev=11;e.t0=e.catch(4);(null===e.t0||void 0===e.t0||null===(o=e.t0.body)||void 0===o?void 0:o.email)&&O(e.t0.body.email);(null===e.t0||void 0===e.t0||null===(r=e.t0.body)||void 0===r?void 0:r.password)&&k(e.t0.body.password);x(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,a=arguments;return new Promise((function(o,r){var n=e.apply(t,a);function l(e){I(n,o,r,l,u,"next",e)}function u(e){I(n,o,r,l,u,"throw",e)}l(void 0)}))});return function(e){return a.apply(this,arguments)}}();return S("div",{className:(0,n.default)(N.default.modalLight,(0,_.getThemeClass)(g.ThemeTypes.LIGHT))},void 0,S(C.ModalHeader,{className:N.default.formHeader,
direction:d.default.Direction.VERTICAL,separator:!1},void 0,S("div",{className:N.default.formImage}),S(f.Heading,{className:N.default.formTitle,variant:"heading-xl/medium",level:3},void 0,h.default.Messages.FINISH_SIGNING_UP),S(c.Text,{className:N.default.formBody,variant:"text-md/normal",color:"header-secondary"},void 0,o?h.default.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:h.default.Messages.CLAIM_ACCOUNT_BODY_2),S(C.ModalCloseButton,{className:N.default.closeButton,onClick:y})),S(C.ModalContent,{},void 0,S("form",{className:N.default.formContent,onSubmit:B},void 0,S(p.FormItem,{title:h.default.Messages.FORM_LABEL_EMAIL,className:N.default.formItem},void 0,S(m.default,{value:t,error:b,onChange:function(e){return a(e)},autoFocus:!0})),S(p.FormItem,{title:h.default.Messages.FORM_LABEL_PASSWORD,className:N.default.formItem},void 0,S(m.default,{type:"password",value:w,error:P,onChange:function(e){return R(e)}})),S(s.default,{type:"submit",size:s.default.Sizes.LARGE,fullWidth:!0,submitting:D,
disabled:0===t.length||0===w.length},void 0,h.default.Messages.CLAIM_ACCOUNT),o&&S(s.default,{className:N.default.logoutButton,color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,size:s.default.Sizes.NONE,onClick:function(){l.default.logout();y()}},void 0,h.default.Messages.LOGOUT))))}w.displayName="ClaimForm";function R(e){var t=e.email,a=e.claimRequired,o=e.onClose,l=a?h.default.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:h.default.Messages.CLAIM_ACCOUNT_EMAIL_TO;r.useEffect((function(){return i.default.flowStep(M.FlowType.ANY,M.ClaimAccountSteps.CLAIM_ACCOUNT_SUCCESS)}),[]);function u(){window.open((0,A.getCurrentPlatformDownloadURL)(),"_blank");y.default.track(g.AnalyticEvents.DOWNLOAD_APP,{platform:(0,A.getPlatformReadableName)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal",qr_code:!1})}return S("div",{className:(0,n.default)(N.default.modalLight,(0,_.getThemeClass)(g.ThemeTypes.LIGHT))},void 0,S(C.ModalContent,{className:N.default.successContent
},void 0,!a&&S(C.ModalCloseButton,{className:N.default.closeButton,onClick:o}),S("div",{className:N.default.successImage}),S(c.Text,{className:N.default.successTitle,variant:"text-lg/normal"},void 0,l.format({email:t})),S(c.Text,{className:N.default.successPromotion,variant:"text-md/normal"},void 0,h.default.Messages.CLAIM_ACCOUNT_PROMOTE_APP_2021_04)),S(C.ModalFooter,{direction:d.default.Direction.VERTICAL},void 0,a?S(s.default,{size:s.default.Sizes.LARGE,onClick:o},void 0,h.default.Messages.OKAY):S(s.default,{color:s.default.Colors.BRAND,size:s.default.Sizes.LARGE,onClick:u},void 0,h.default.Messages.CLAIM_ACCOUNT_GET_APP)))}R.displayName="ClaimSuccess";function E(e){var t=e.onClose,a=e.transitionState,o=e.claimRequired,n=void 0!==o&&o,l=(0,v.useUID)(),u=T(r.useState(""),2),i=u[0],s=u[1],d=T(r.useState(!1),2),f=d[0],c=d[1];return S(C.ModalRoot,{transitionState:a,"aria-labelledby":l},void 0,f?S(R,{email:i,claimRequired:n,onClose:t}):S(w,{email:i,setEmail:s,claimRequired:n,
onSuccess:function(){return c(!0)},onClose:t}))}E.displayName="ClaimAccountModal"}}]);
//# sourceMappingURL=3c821e2a9dfc7ec32a94.js.map